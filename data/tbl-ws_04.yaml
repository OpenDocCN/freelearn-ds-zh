- en: '4\. Data Exploration: Comparison and Composition'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 4. 数据探索：比较和组合
- en: Overview
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 概述
- en: In this chapter, you will create your first chart in Tableau and work through
    some basic and intermediate charts, such as tree maps, bar-in-bar charts, and
    stacked area charts. You will learn how to choose the optimal chart for a given
    scenario, look at the best ways to create a trend report, and explore comparisons
    across measures (using bar-in-bar and bullet charts). Then, in this lesson's final
    activity, you will put all you've learned into practice by analyzing data from
    Singapore's vehicle population audits over the past decade. By the end of this
    chapter, you will be familiar with working with bar charts, area charts, and `Marks`
    cards, which are used to add contextual detail to charts and views.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，你将在Tableau中创建你的第一个图表，并处理一些基本和中级图表，例如树状图、嵌套条形图和堆叠面积图。你将学习如何为特定场景选择最佳的图表，查看创建趋势报告的最佳方式，并探索度量之间的比较（使用嵌套条形图和子弹图）。然后，在本课的最终活动中，你将通过分析过去十年新加坡车辆人口审计数据来将所学知识付诸实践。到本章结束时，你将熟悉使用条形图、面积图和`标记`卡片，这些卡片用于向图表和视图中添加上下文细节。
- en: Introduction
  id: totrans-3
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 简介
- en: 'Thus far, you have prepared, imported, and manipulated data for your visualizations.
    Considering that Tableau is a *business intelligence and visualization tool*,
    it is natural to now start creating your first charts. Before you can do this,
    however, (and certainly before you can create more advanced charts as you will
    in *Chapter 5, Data Exploration: Distribution and Relationships*), you must first
    learn the ins and out of creating charts.'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 到目前为止，你已经为你的可视化准备了、导入并操作了数据。考虑到Tableau是一个*商业智能和可视化工具*，现在开始创建你的第一个图表是很自然的。然而，在你能够这样做之前（当然，在你能够创建第5章“数据探索：分布和关系”中将要创建的更高级图表之前），你必须首先学会创建图表的方方面面。
- en: For this reason, you'll only be creating some basic charts initially, and then
    eventually work through some intermediate-level charts, such as tree maps and
    bar-in-bar charts. The goal for this chapter is to be able to answer questions
    such as "*How much profit was generated in sales by each sub-category in a specific
    year?*," which is basically asking "*How much of your total sales was generated
    by each sub-category?"* In doing so, this chapter also teaches you how to remove
    complex terminology and communicate about data effectively.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，你最初只会创建一些基本的图表，然后最终会处理一些中级图表，例如树状图和嵌套条形图。本章的目标是能够回答诸如“*在特定年份，每个子类别通过销售产生了多少利润？*”的问题，这基本上是在问“*你的总销售额中有多少是由每个子类别产生的？*”。通过这样做，本章还教你如何去除复杂的术语并有效地进行数据沟通。
- en: Tableau is an intuitive and flexible tool. You can consider Tableau the Photoshop
    of business intelligence. In Photoshop, there are multiple ways for you to achieve
    the same result with an image; similarly, in Tableau, there is often more than
    one way to create the same chart. Tableau's `Show Me` panel comes in pretty handy
    most of the time, though the goal of this book is also to show you methods for
    creating these charts without the `Show Me` panel. This chapter will try to simplify
    most charts by describing when they should be used, why a chart is useful, and
    for what data type they are useful.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: Tableau是一个直观且灵活的工具。你可以将Tableau视为商业智能的Photoshop。在Photoshop中，有多种方式可以以相同的结果处理图像；同样，在Tableau中，通常也有多种方式可以创建相同的图表。Tableau的`Show
    Me`面板在大多数时候都非常有用，尽管本书的目标也是向你展示不使用`Show Me`面板创建这些图表的方法。本章将尝试通过描述何时应该使用图表、为什么图表是有用的以及它们对哪些数据类型有用来简化大多数图表。
- en: The whole chapter is designed so that, as a reader, you can follow along with
    detailed steps for each exercise and activity, including creating both basic and
    intermediate-level charts. But that does not mean you need to memorize these steps;
    instead, try to understand the reasoning behind why we are doing what we are doing.
    Although each step in the exercise of this chapter includes as many details as
    possible, you are encouraged to ask yourself questions such as, "*Why is this
    step being done, and can I improve the method?*" You might find that you can indeed
    obtain a given visualization using different means and, similarly, that the charts
    will get better as you unleash your creativity.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 整章的设计是为了让读者能够跟随每个练习和活动的详细步骤，包括创建基本和中级图表。但这并不意味着你需要记住这些步骤；相反，尝试理解我们为什么这样做的原因。尽管本章的每个练习步骤都尽可能详细，但鼓励你提出问题，例如，“*为什么进行这一步，我能改进这种方法吗？*”你可能会发现，你可以用不同的方式获得给定的可视化，同样，随着你发挥创造力，图表会变得更好。
- en: Exploring Comparisons across Dimensional Items
  id: totrans-8
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 探索维度项之间的比较
- en: Before diving into chart making, it is important to differentiate between dimensions
    and measures.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 在深入图表制作之前，区分维度和度量非常重要。
- en: Every column that is present in some data has a data type associated with it,
    such as string, integer, or date. Also, every column that exists in some data
    is either a dimension or a measure. **Dimensions** are qualitative or categorical
    data, such as names, regions, dates, or geographical data, and the columns have
    categories of distinct values. Measures, on the other hand, are quantitative values
    that can be aggregated.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 每个存在于某些数据中的列都与一个数据类型相关联，例如字符串、整数或日期。此外，每个存在于某些数据中的列要么是维度，要么是度量。**维度**是定性或分类数据，例如名称、地区、日期或地理数据，并且这些列具有不同值的类别。另一方面，度量是可汇总的定量值。
- en: 'Consider the following: a `Country` column has country names such as Canada,
    India, and Spain. Can you sum the regions? Would a sum of Canada, India, and Spain
    make any sense? No, it wouldn''t, so a region is a dimension. Similarly, data
    to which you can apply mathematical functions, such as sum, average, min/max,
    and so on, are measures. Hence, the rule of thumb is as follows: columns to which
    you can apply a mathematical function are columns of measures, and data you cannot
    apply functions to are columns of dimensions.'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 考虑以下情况：一个`Country`列包含国家名称，如加拿大、印度和西班牙。你能对这些地区求和吗？加拿大、印度和西班牙的总和有意义吗？不，没有意义，所以地区是一个维度。同样，可以应用数学函数（如求和、平均值、最小/最大值等）的数据是度量。因此，一个经验法则是：可以应用数学函数的列是度量的列，而无法应用函数的数据是维度的列。
- en: In this book, whenever measures are mentioned, it means that the chart will
    contain numerical/quantitative data in the view, whereas whenever dimensions are
    mentioned, we will be using qualitative/categorical data in the view.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 在本书中，每当提到度量时，意味着图表将包含视图中的数值/定量数据，而每当提到维度时，我们将使用定性/分类数据在视图中。
- en: Bar Chart
  id: totrans-13
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 柱状图
- en: The bar chart is a versatile chart type that makes it easy to quickly understand
    data for spot checking or adding part of a total comparison for some categorical
    data. No other charts can beat the flexibility, ease of understanding, and usability
    of bar charts. The length of the bars in a bar chart represents the proportional
    aspect of the value for that categorical variable. The illustrative aspect of
    the bar chart makes it one of the most used charts; it gives accurate insights
    into our data. Bar charts in Tableau can use a combination of zero or more dimensions
    and one or more measures.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 柱状图是一种多功能的图表类型，它使得快速理解数据变得容易，适用于抽查或为某些分类数据添加部分总比较。没有其他图表能比得上柱状图的灵活性、易理解性和可用性。柱状图中柱子的长度代表该分类变量的比例方面。柱状图的直观性使其成为最常用的图表之一；它为我们提供了对数据的准确洞察。Tableau中的柱状图可以使用零个或多个维度和一或多个度量。
- en: Note
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: Exercises in this chapter will use the sample `Superstore` dataset, which comes
    pre-loaded into each Tableau Desktop installation. Our version of Tableau Desktop
    contains another `Sample – Superstore` dataset, which has data till 2019; Tableau
    recently updated the data file to also include 2020 data, which you will have
    if you are using the latest version of Tableau Desktop. So, if your metrics/charts
    are not exactly the same as ours, do not worry. Our goal is to teach you the skills
    to develop these charts, reports, and dashboards instead of having you replicate
    our exact charts.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 本章的练习将使用预装在每个Tableau Desktop安装中的示例`Superstore`数据集。我们版本的Tableau Desktop还包含另一个`Sample
    – Superstore`数据集，数据截止到2019年；Tableau最近更新了数据文件，也包含了2020年的数据，如果你使用的是Tableau Desktop的最新版本，你将拥有这些数据。所以，如果你的指标/图表与我们的不完全相同，请不要担心。我们的目标是教会你开发这些图表、报告和仪表板所需的技能，而不是让你复制我们的精确图表。
- en: 'Exercise 4.01: Creating Bar Charts'
  id: totrans-17
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 练习4.01：创建条形图
- en: As a business analyst for your organization, one of the stakeholders has asked
    you to create a report displaying the total sales and profits across categories
    and segments using bar charts. You will be using the `Sample – Superstore` dataset
    to visualize the data.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 作为你组织的商业分析师，一位利益相关者要求你创建一个报告，使用条形图显示各个类别和细分市场的总销售额和利润。你将使用`Sample – Superstore`数据集来可视化数据。
- en: 'Dataset: `Superstore`'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 数据集：`Superstore`
- en: 'Dataset download link: [https://packt.link/cX32T](https://packt.link/cX32T).'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 数据集下载链接：[https://packt.link/cX32T](https://packt.link/cX32T)。
- en: Note
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: In Tableau, **continuous** fields are **green**, and when they're **discrete**,
    they're **blue**.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 在Tableau中，**连续**字段是**绿色**的，当它们是**离散**时，它们是**蓝色**的。
- en: 'The following steps will help you complete this exercise:'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 以下步骤将帮助你完成这个练习：
- en: Load the `Orders` table from the sample `Superstore` dataset in your Tableau instance.
  id: totrans-24
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在你的Tableau实例中加载`Orders`表从示例`Superstore`数据集。
- en: Click on the `Show Me` panel in the top-right corner and hover over the bar
    chart. You will observe that it says `For horizontal bars try 0 or more Dimensions`
    | `1 or more Measures`.
  id: totrans-25
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击右上角的`Show Me`面板，并将鼠标悬停在条形图上。你会观察到它说`对于水平条形，尝试0个或更多维度` | `1个或更多度量值`。
- en: '![Figure 4.1:  Bar chart in the Show Me panel'
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: '![图4.1：Show Me面板中的条形图'
- en: '](img/B16342_04_01.jpg)'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_04_01.jpg)'
- en: 'Figure 4.1: Bar chart in the Show Me panel'
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 图4.1：Show Me面板中的条形图
- en: In this exercise, you will begin with no dimensions and only one measure, before
    moving on to adding dimensions to your view.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个练习中，你将从一个没有维度只有一个度量值开始，然后继续添加维度到你的视图中。
- en: Drag `Sales` to `Rows` (for a vertical bar chart) or `Columns` (for a horizontal
    bar chart).
  id: totrans-30
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将`Sales`拖到`Rows`（用于垂直条形图）或`Columns`（用于水平条形图）。
- en: '![Figure 4.2: Changing the aggregation'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: '![图4.2：更改聚合'
- en: '](img/B16342_04_02.jpg)'
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_04_02.jpg)'
- en: 'Figure 4.2: Changing the aggregation'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 图4.2：更改聚合
- en: When you drag Sales to the Columns/Rows shelf, the default aggregation changes
    to SUM(Sales).
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 当你将`Sales`拖到Columns/Rows架上时，默认聚合会更改到SUM(Sales)。
- en: Click on the `SUM(Sales)` capsule in the `Columns`/`Rows` shelf and change the
    aggregation from `SUM(Sales)` to any other aggregation average.
  id: totrans-35
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击`Columns`/`Rows`架上的`SUM(Sales)`胶囊，将聚合从`SUM(Sales)`更改为任何其他聚合平均。
- en: '![Figure 4.3: Bar chart for the sales figure'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: '![图4.3：销售数据的条形图'
- en: '](img/B16342_04_03.jpg)'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_04_03.jpg)'
- en: 'Figure 4.3: Bar chart for the sales figure'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 图4.3：销售数据的条形图
- en: In the preceding screenshot, note that the total sales figure is around `$2.3M`
    for the whole store, which is the least granular metric in our sample Superstore
    dataset. Next, you will change the granularity of your bar chart.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 在前面的屏幕截图中，请注意整个商店的总销售额约为$2.3M，这是我们在示例Superstore数据集中的最粗粒度指标。接下来，你将更改条形图的粒度。
- en: To do that, add a dimension to your view. Add a `Category` dimension to our
    `Columns` shelf. When you add the `Category` dimension to the view, you get three
    bars to represent each category. Thus, you've just changed your granularity from
    the sum of sales for all the data to the sum of sales for each category.
  id: totrans-40
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要做到这一点，请向你的视图中添加一个维度。将`Category`维度添加到我们的`Columns`架上。当你将`Category`维度添加到视图中时，你会得到三个条形来表示每个类别。因此，你刚刚将你的粒度从所有数据的销售总额更改为每个类别的销售总额。
- en: 'For better readability, also add `Sales` from the `Measures` data pane to the
    `Label Marks` card. As we can see, `SUM`(`Sales`) is now divided by category:'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 为了提高可读性，还可以将`Measures`数据面板中的`Sales`添加到`Label Marks`卡中。正如我们所看到的，`SUM`(`Sales`)现在按类别划分：
- en: '![Figure 4.4: Sales by category'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: '![图4.4：按类别销售'
- en: '](img/B16342_04_04.jpg)'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_04_04.jpg)'
- en: 'Figure 4.4: Sales by category'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 图4.4：按类别销售
- en: The preceding chart uses one dimension and one measure, so we can see that the
    total sales of Furniture, Office Supplies, and Technology are `$742,000`, `$719,000`,
    and `$836,000`, respectively. However, what if we want to study the total sales
    for each of these categories in more detail? We can make it more granular by adding
    more dimensions or measures. Let's explore our options in the next step.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 前面的图表使用了一个维度和一个度量，因此我们可以看到家具、办公用品和技术的总销售额分别为$742,000、$719,000和$836,000。然而，如果我们想更详细地研究这些类别的总销售额，该怎么办呢？我们可以通过添加更多的维度或度量使其更加细化。让我们在下一步探索我们的选项。
- en: Drag `Segment` to the `Columns` shelf.
  id: totrans-46
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将“细分市场”拖到“列”轴。
- en: 'You will notice that the sales by category are now divided into sales by segment
    and category. We just added another level of granularity to our view:'
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 你会注意到按类别划分的销售现在被细分为按细分市场和类别的销售。我们刚刚为我们的视图添加了另一个粒度级别：
- en: '![Figure 4.5: Sales by category and segment'
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: '![图4.5：按类别和细分市场的销售额'
- en: '](img/B16342_04_05.jpg)'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_04_05.jpg)'
- en: 'Figure 4.5: Sales by category and segment'
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 图4.5：按类别和细分市场的销售额
- en: In the preceding figure, you can see that even though `Technology` had the highest
    sales, the `Corporate` and `Home Office` segments of all three categories are
    not so performing well and will require attention. As the total sales of the categories
    are now bifurcated, it gives you more visibility as to how many sales you have
    in each of the segments (that is, `Consumer`, `Corporate`, and `Home Office`).
    Now that you know the sales values in greater detail, you can also find out the
    amount of profit gained in each of the categories and segments.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 在前面的图中，你可以看到尽管“技术”的销售额最高，但所有三个类别的“企业”和“家庭办公室”细分市场表现并不理想，需要引起注意。由于类别的总销售额现在被分割，这让你对每个细分市场（即“消费者”、“企业”和“家庭办公室”）的销售数量有了更多的了解。现在你了解了更详细的销售额，你还可以找出每个类别和细分市场获得的利润金额。
- en: 'Add another measure, `Profit`, to the `Rows` shelf. As soon as you drop the
    measure onto the `Columns` shelf, you can see that a new row was added for profits:'
  id: totrans-52
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将另一个度量“利润”添加到“行”轴。一旦将度量拖放到“列”轴，你就可以看到为利润添加了一个新行：
- en: '![Figure 4.6: Sales and profits by category and segment'
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: '![图4.6：按类别和细分市场的销售额和利润'
- en: '](img/B16342_04_06.jpg)'
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_04_06.jpg)'
- en: 'Figure 4.6: Sales and profits by category and segment'
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 图4.6：按类别和细分市场的销售额和利润
- en: As you can see, there is very little profit gained from `Furniture` and a huge
    amount of profit from `Technology`. This will help in making great business decisions
    as we now know that investing more in `Technology` and `Office Supplies` is more
    profitable.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 如你所见，从“家具”获得的利润非常少，而从“技术”获得的利润却非常多。这将有助于我们做出更好的商业决策，因为我们现在知道，在“技术”和“办公用品”上投入更多将更有利可图。
- en: When you create a bar chart one way, either horizontally or vertically, you
    will on occasion find that your dashboard design or storyboard design (a storyboard
    is where you use multiple visualizations/dashboards to convey a story) would be
    more aesthetically pleasing if the alignment was different—say, vertical instead
    of horizontal. There are multiple ways to change the alignment; the manual method
    is demonstrated in the next step.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 当你以某种方式创建条形图，无论是水平还是垂直，你有时会发现，如果你的仪表板设计或故事板设计（故事板是使用多个可视化/仪表板来传达故事的地方）的排列不同——比如说，垂直而不是水平，那么它将更加美观。有多种方法可以改变对齐方式；在下一步中，我们将展示手动方法。
- en: Drag both the `Columns` dimensions to the `Rows` shelf and vice versa. Alternatively,
    Tableau makes it easy to swap things around by giving us a `Swap` button in our
    tool menu.
  id: totrans-58
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将两个“列”维度拖到“行”轴，反之亦然。或者，Tableau通过在我们的工具菜单中提供一个“交换”按钮，使我们能够轻松地交换东西。
- en: 'The final output is as follows:'
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 最终输出如下：
- en: '![Figure 4.7: Horizontally aligned bars'
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: '![图4.7：水平对齐的条形'
- en: '](img/B16342_04_07.jpg)'
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_04_07.jpg)'
- en: 'Figure 4.7: Horizontally aligned bars'
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 图4.7：水平对齐的条形
- en: In this exercise, we explored how adding more granularity to our views can help
    add more context and data to our views without over cluttering.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个练习中，我们探讨了如何通过增加视图的粒度来添加更多上下文和数据，而不会过于杂乱。
- en: This wraps up this section on bar charts for one or more dimensional items.
    Next, we will explore comparisons over time by using bar charts and line charts.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 这部分关于单维或多维项目条形图的讨论就到这里。接下来，我们将通过条形图和折线图来探索时间上的比较。
- en: Exploring Comparisons over Time
  id: totrans-65
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 探索时间上的比较
- en: As an analyst, one of the most common requests that stakeholders will have is
    about comparing certain KPIs/metrics over time (for example, revenue quarter on
    quarter). In this section of the book, you will use date dimensions to create
    charts with which you can compare your KPIs over a certain time period. You will
    use date dimensions to compare metrics using a bar chart first and then move on
    to using line charts for KPI comparison.
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 作为分析师，利益相关者最常见的要求之一是关于比较某些 KPI/指标随时间的变化（例如，季度收入同比增长）。在本节中，您将使用日期维度创建图表，您可以使用这些图表比较一定时间段的
    KPI。您将首先使用柱状图比较指标，然后使用折线图进行比较 KPI。
- en: 'Exercise 4.02: Creating Bar Charts for Data over Time'
  id: totrans-67
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 练习 4.02：创建时间序列数据的柱状图
- en: Imagine you are a business analyst who is asked to provide a report about the
    total sales of your organization in different segments, namely, `Consumer`, `Corporate`,
    and `Home Office`, over a period of time. Use the sample `Superstore` dataset
    provided by Tableau to visualize the chart and display the output.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 想象您是一位被要求提供关于您组织在不同分段（即 `消费者`、`企业` 和 `家庭办公室`）不同时间段总销售的报告的商业分析师。使用 Tableau 提供的示例
    `Superstore` 数据集来可视化图表并显示输出。
- en: 'Perform the following steps to complete the exercise:'
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 执行以下步骤以完成练习：
- en: Load the the `Orders` table from the sample `Superstore` dataset in your Tableau
    instance.
  id: totrans-70
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在您的 Tableau 实例中加载示例 `Superstore` 数据集中的 `订单` 表。
- en: Drag `Sales` to your `Rows` shelf.
  id: totrans-71
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将 `销售` 拖动到 `行` 面板上。
- en: Add `Order Date` to the `Columns` shelf. Tableau will automatically create a
    line chart (which will be covered in detail in the next exercise).
  id: totrans-72
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将 `订单日期` 添加到 `列` 面板上。Tableau 将自动创建一个折线图（将在下一练习中详细介绍）。
- en: '![Figure 4.8: Bar chart over time as a line chart'
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 4.8：按时间序列的柱状图作为折线图'
- en: '](img/B16342_04_08.jpg)'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_04_08.jpg)'
- en: 'Figure 4.8: Bar chart over time as a line chart'
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 图 4.8：按时间序列的柱状图作为折线图
- en: The preceding figure shows the sales of the products on a yearly basis in the
    form of a line chart. To change the marks from line chart to bar chart, click
    first on the dropdown in the Marks shelf, then Bar as shown in the preceding figure.
    The view can be read as sales by year.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 前面的图显示了以线形图形式按年度展示的产品销售。要将标记从线形图更改为柱状图，首先点击 `标记` 面板上的下拉菜单，然后选择如图所示的 `柱状图`。视图可以读作按年销售。
- en: 'For readability, add `Label` to `Bars` by dragging `Sales` from the measures
    `Data` pane to the label in the `Marks` card:'
  id: totrans-77
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为了提高可读性，通过将 `销售` 从 `度量` 数据面板拖动到 `标记` 卡中的标签来向 `柱状图` 添加 `标签`：
- en: '![Figure 4.9: Sales by year (bar chart over time)'
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 4.9：按年份销售（时间序列柱状图）'
- en: '](img/B16342_04_09.jpg)'
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_04_08.jpg)'
- en: 'Figure 4.9: Sales by year (bar chart over time)'
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 图 4.9：按年份销售（时间序列柱状图）
- en: As you can see, by adding the labels, you have the exact sales values earned
    in the respective years. But you still don't know the value of sales earned over
    time for each of the segments. You will have to change the granularity of the
    view from sales by year to sales by year by segment.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 如您所见，通过添加标签，您可以得到各自年份的确切销售值。但您仍然不知道每个分段随时间获得的销售值。您将不得不将视图的粒度从按年销售更改为按分段按年销售。
- en: To achieve that, drag `Segment` to the `Columns` shelf.
  id: totrans-82
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要实现这一点，将 `分段` 拖动到 `列` 面板上。
- en: 'The view can change a lot depending on where you place your `Segment` on the
    `Columns` shelf. If you place `Segment` after `Order Date`, your view will read
    as sales by year by segment with the following view:'
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 视图会根据您在 `列` 面板上放置 `分段` 的位置而变化很大。如果您将 `分段` 放在 `订单日期` 之后，您的视图将显示为按年按分段销售，如下所示：
- en: '![Figure 4.10: Bar chart over time by segment'
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 4.10：按时间段分段的柱状图](img/B16342_04_09.jpg)'
- en: '](img/B16342_04_10.jpg)'
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_04_10.jpg)'
- en: 'Figure 4.10: Bar chart over time by segment'
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 图 4.10：按时间段分段的柱状图
- en: From the preceding figure, it is clear that there has been progressive growth
    over the years, and you can also see the exact sales values for the segments.
    Although you got the data that you wanted, it is also important to present it
    in a formulated way. It will be more useful and understandable if you have the
    data for `Consumer` over the years together and the data for `Corporate` and `Home
    Office` together.
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 从前面的图中可以看出，多年来一直呈渐进增长，您还可以看到各分段的精确销售值。尽管您得到了想要的数据，但以规范的方式呈现它也很重要。如果您将 `消费者`
    多年的数据放在一起，并将 `企业` 和 `家庭办公室` 的数据放在一起，这将更有用且易于理解。
- en: 'To do this, place `Segment` before `Order Date`. Your view will read as sales
    by segment by year with the following view:'
  id: totrans-88
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要做到这一点，请将 `分段` 放在 `订单日期` 之前。您的视图将显示为按分段按年销售，如下所示：
- en: '![Figure 4.11: Sales by year by segment'
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 4.11：按年份和细分市场销售'
- en: '](img/B16342_04_11.jpg)'
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_04_11.jpg)'
- en: 'Figure 4.11: Sales by year by segment'
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 图 4.11：按年份和细分市场销售
- en: In *Figure 4.10*, you had sales by year by segment, whereas in *Figure 4.11*,
    you have sales by segment by year. This allows any stakeholder to take a quick
    peek at the sales trend for each of your segments. As you can see, `Corporate`
    saw considerable growth from 2017 to 2018, which was not easily understandable
    from the previous screenshot.
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 在 *图 4.10* 中，您有按年份和细分市场的销售，而在 *图 4.11* 中，您有按细分市场和年份的销售。这允许任何利益相关者快速查看每个细分市场的销售趋势。如您所见，`企业`
    从 2017 年到 2018 年的增长相当可观，这在之前的屏幕截图中并不容易理解。
- en: In this exercise, you reviewed bar charts over time and practiced adding more
    granularity and dimensionality to your data. Next, you will review comparisons
    over time using line charts.
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个练习中，您回顾了随时间变化的条形图，并练习了为您的数据添加更多粒度和维度。接下来，您将使用折线图来回顾随时间的变化比较。
- en: Line Charts
  id: totrans-94
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 折线图
- en: Line charts are another set of charts that are versatile, easy on the eye, universally
    understood. These have been used since the 18th century when William Playfair
    created them. They represent multiple data points connected with each other through
    a single line, usually signifying the trend of the data. In Tableau, you require
    at least one date, one measure, and zero or more dimensions to create a line chart.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 折线图是另一组多才多艺、易于观看、普遍理解的图表。它们自 18 世纪威廉·普莱费尔创建以来一直被使用。它们通过一条线连接多个数据点，通常表示数据的趋势。在
    Tableau 中，您至少需要一个日期、一个度量值和零个或多个维度来创建折线图。
- en: Difference between Discrete Dates and Continuous Dates
  id: totrans-96
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 离散日期与连续日期的区别
- en: In the upcoming exercises, when you right-click the `Date` dimension in the
    view, you'll notice you have two options for selecting the quarter. The one at
    the top is the discrete date, where you will have discrete dates by year/quarter/month/day.
    If you observe the following screenshot, instead of 2016 Q2 to 2016 Q3 ….. 2019
    Q1 data points, you just have four data points—one for each discrete quarter.
    Essentially, discrete dates are unique dates in the view. So, when you select
    discrete quarters, the view will only contain unique quarters without considering
    the year as part of the date.
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 在接下来的练习中，当您在视图中右键单击 `日期` 维度时，您会注意到您有两个选项用于选择季度。顶部的是离散日期，您将按年份/季度/月/日拥有离散日期。如果您观察以下屏幕截图，您将只有四个数据点——每个离散季度一个，而不是从
    2016 年 Q2 到 2016 年 Q3……2019 年 Q1 的数据点。本质上，离散日期是视图中的唯一日期。因此，当您选择离散季度时，视图将只包含唯一的季度，不考虑年份作为日期的一部分。
- en: '![Figure 4.12: Discrete dates'
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 4.12：离散日期'
- en: '](img/B16342_04_12.jpg)'
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_04_12.jpg)'
- en: 'Figure 4.12: Discrete dates'
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 图 4.12：离散日期
- en: The main difference between continuous dates and discrete dates is that continuous
    dates will give you more granular dates. So, instead of just Q1, Q2, Q3, and Q4,
    continuous dates will also factor in the year that the quarter/month/day is associated
    with. In most cases, you will want to use continuous dates because stakeholders
    often want to look at their metrics by month/quarter across multiple years.
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 连续日期与离散日期的主要区别在于，连续日期会提供更细粒度的日期。因此，不仅仅是 Q1、Q2、Q3 和 Q4，连续日期还会考虑与季度/月/日关联的年份。在大多数情况下，您会希望使用连续日期，因为利益相关者通常希望按月/季度查看多年来的指标。
- en: '![Figure 4.13: Continuous dates'
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 4.13：连续日期'
- en: '](img/B16342_04_13.jpg)'
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_04_13.jpg)'
- en: 'Figure 4.13: Continuous dates'
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 图 4.13：连续日期
- en: 'Exercise 4.03: Creating Line Charts over Time'
  id: totrans-105
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 练习 4.03：创建随时间变化的折线图
- en: As an analyst, the category manager of your company would like you to create
    a chart so that they can look at the total profit across all the categories since
    2016\. They do not have a favorite chart type, but they do prefer a minimal look
    for their charts. In this exercise, you will tackle this stakeholder request as
    you go step by step in detail on how to make the best use of line charts and how
    adding color or changing the level of detail in the view adds incredible value
    to your charts.
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 作为一名分析师，您的公司品类经理希望您创建一个图表，以便他们可以查看自 2016 年以来所有品类的总利润。他们没有偏好的图表类型，但更喜欢图表的简约风格。在这个练习中，您将逐步详细地解决这个利益相关者的请求，了解如何最好地使用折线图，以及添加颜色或更改视图的详细程度如何为您的图表增添巨大价值。
- en: 'Perform the following steps to complete the exercise:'
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 执行以下步骤以完成练习：
- en: Load the `Orders` table from the sample `Superstore` dataset in your Tableau
    instance, if you haven't already.
  id: totrans-108
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果您还没有这样做，请从示例 `Superstore` 数据集中加载 `Orders` 表到您的 Tableau 实例中。
- en: Similar to the steps for the bar chart, drag one of the measures to the `Rows`
    shelf. In this exercise, drag `Profit` to the `Rows` shelf.
  id: totrans-109
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 与柱状图的步骤类似，将一个度量拖到`Rows`面板上。在本练习中，将`Profit`拖到`Rows`面板上。
- en: Next, add `Order Date` to the `Columns` shelf. As soon as you add the `Date
    Time` dimension to your view, Tableau automatically creates a line chart (which
    you also saw previously in your bar chart view).
  id: totrans-110
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，将`Order Date`添加到`Columns`面板。一旦您将`Date Time`维度添加到您的视图中，Tableau会自动创建一个折线图（您之前在柱状图视图中也看到了）。
- en: '![Figure 4.14: Simple line chart over time'
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 4.14：随时间变化的简单折线图]'
- en: '](img/B16342_04_14.jpg)'
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片 B16342_04_14.jpg]'
- en: 'Figure 4.14: Simple line chart over time'
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 图 4.14：随时间变化的简单折线图
- en: In the chart, you have plotted profit by year and connected those points using
    a line. The profit grew from `$50,000` in `2016` to almost `$100,000` in `2019`.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 在图表中，您已按年份绘制了利润，并使用线条连接了这些点。利润从2016年的$50,000增长到2019年近$100,000。
- en: That is a basic line chart for you, but as previously mentioned, the goal is
    to learn more than just the basics of Tableau. So, let's explore some of the options
    for more context or details for your line chart.
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 这只是一个基本的折线图，但如前所述，目标是学习不仅仅是Tableau的基础知识。因此，让我们探索一些为您的折线图提供更多上下文或细节的选项。
- en: Add a `Profit` label to your line chart by dragging `Profit` from the `data`
    pane to `Label` `Marks` card in your view.
  id: totrans-116
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过将`Profit`从`data`面板拖动到您的视图中的`Label``Marks`卡片，为您的折线图添加一个`Profit`标签。
- en: To have the line chart show your sales by quarter instead of by year so it is
    more granular and helps decision-making for your stakeholders, click on the `+`
    sign or click the arrow on the dimension in your `YEAR(Order Date)` dimension
    on the `Columns` shelf and change the granularity from `YEAR(Order Date)` to `QUARTER(Order
    Date)`.
  id: totrans-117
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为了使折线图显示按季度而不是按年销售，以便更细致，并帮助您的利益相关者做出决策，请点击`+`符号或点击`Columns`面板中`YEAR(Order Date)`维度上的箭头，并将粒度从`YEAR(Order
    Date)`更改为`QUARTER(Order Date)`。
- en: 'To make your view even more granular, add `Segment` to your `Color` or `Detail`
    `Marks` shelf. Your data will be split by segment with a corresponding color for
    each segment, as observed here:'
  id: totrans-118
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为了使您的视图更加细致，请将`Segment`添加到您的`Color`或`Detail``Marks`面板中。您的数据将按段分割，每个段对应一种颜色，正如这里所观察到的：
- en: '![Figure 4.15: Line chart by segment'
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 4.15：按段分的折线图]'
- en: '](img/B16342_04_15.jpg)'
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片 B16342_04_15.jpg]'
- en: 'Figure 4.15: Line chart by segment'
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 图 4.15：按段分的折线图
- en: In the preceding figure, you can see that the profit for the `Consumer` segment
    has grown at a higher rate when compared to other segments. The line chart clearly
    illustrates the trend by segment across multiple years.
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 在前面的图表中，您可以清楚地看到，与其它段相比，`Consumer`段的利润增长速度更快。折线图清楚地描绘了多个年份内按段的趋势。
- en: This wraps up our coverage of line charts. This section discussed line charts
    over time, the difference between discrete dates and continuous dates, and how
    you can add more color or contextual details to your line charts.
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 这就结束了我们对折线图的介绍。本节讨论了随时间变化的折线图、离散日期与连续日期之间的区别，以及如何为您的折线图添加更多颜色或上下文细节。
- en: Exploring Comparison across Measures
  id: totrans-124
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 探索跨度量比较
- en: Bullet charts are a type of bar chart that allow you to add target/goal comparisons
    to your charts/views. As much as bar charts are useful, more often than not when
    you are presenting data using bar charts, you will hear questions such as "*How
    does this compare to this KPI/metric?*" and "*So, what should we do with this
    data?*" because bar charts fail to add the additional context that stakeholders
    are looking for. This is where bullet charts shine as they add the required comparisons
    to goals/targets/thresholds. Think of bullet charts as bar charts with historical
    context or a baseline for comparison.
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 柱状图是一种允许您将目标/目标比较添加到您的图表/视图中的图表类型。尽管柱状图很有用，但您在用柱状图展示数据时，经常会听到诸如“*这与这个KPI/指标如何比较？*”和“*那么，我们应该如何处理这些数据？*”等问题，因为柱状图未能提供利益相关者所寻求的额外上下文。这正是子弹图表大放异彩的地方，因为它们添加了所需的比较，用于目标/目标/阈值。将子弹图表视为具有历史背景或比较基准的柱状图。
- en: 'Say you are working on a project for which you are presenting sales figures
    for your SaaS products as bar charts. The first question you receive from your
    stakeholders might be "*How does this compare to our previous quarter''s/year''s
    results? Did we do well or underperform?*" If you had shown the same data with
    bullet charts, you could have also added a point of comparison for the period
    you want to compare your sales figures to. Here is a sample bullet chart:'
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 假设您正在为一个项目工作，该项目要求您以条形图的形式展示您的 SaaS 产品的销售数据。您可能收到的第一个问题来自您的利益相关者：“*这与我们上一个季度/年份的结果相比如何？我们做得好还是表现不佳？*”如果您用子弹图表展示相同的数据，您还可以为想要比较的销售数据添加一个比较点。以下是一个示例子弹图表：
- en: '![Figure 4.16: Sample bullet chart'
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 4.16：示例子弹图表'
- en: '](img/B16342_04_16.jpg)'
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_04_17.jpg)'
- en: 'Figure 4.16: Sample bullet chart'
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 图 4.16：示例子弹图表
- en: In the following exercise, you will create a bullet chart that tackles that
    problem and learn about the impact that bullet charts can have on your reports/presentations.
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 在以下练习中，您将创建一个子弹图表来解决该问题，并了解子弹图表对您的报告/演示的影响。
- en: 'Exercise 4.04: Creating a Bullet Chart'
  id: totrans-131
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 练习 4.04：创建子弹图表
- en: 'You receive another request from the category manager: they now want to look
    at how each of the sub-categories trends toward the sales target for 2019\. As
    an analyst, your job is to create a view with actual sales for each sub-category
    for 2019 while showcasing the target sales (the black vertical lines in the following
    sample bullet chart) for 2019.'
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 您收到了来自品类经理的另一项请求：他们现在想查看每个子类别如何趋向于 2019 年的销售目标。作为分析师，您的任务是创建一个视图，展示每个子类别 2019
    年的实际销售额，同时展示 2019 年的目标销售（以下示例子弹图表中的黑色垂直线）。
- en: '![Figure 4.17: Sample bullet chart'
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 4.17：示例子弹图表](img/B16342_04_16.jpg)'
- en: '](img/B16342_04_17.jpg)'
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_04_18.jpg)'
- en: 'Figure 4.17: Sample bullet chart'
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 图 4.17：示例子弹图表
- en: Note
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: 'How to create a bullet chart using the `Show Me` panel could be studied here,
    but the book wouldn''t do you justice if it didn''t show you how to create a bullet
    chart using calculated fields, where you compare the sales of 2019 to the target
    sales of 2019 (which is a calculated field). We have not discussed calculated
    fields yet in the book, but we will be discussing them in depth in *Chapter 6*,
    *Exploration: Exploring Geographical Data*; for now, we will just try to explain
    each step of this exercise in as much detail as possible.'
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 如何使用 `Show Me` 面板创建子弹图表的相关内容可以在此处研究，但如果书中没有展示如何使用计算字段创建子弹图表（其中您比较 2019 年的销售与
    2019 年的目标销售，后者是一个计算字段），那么这本书就不能完全满足您的需求。我们尚未在书中讨论计算字段，但我们将深入讨论它们，在 *第 6 章*，*探索：探索地理数据*
    中；现在，我们将尽可能详细地解释此练习的每个步骤。
- en: 'Perform the following steps to complete this exercise:'
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 执行以下步骤以完成此练习：
- en: Load the `Orders` table from the sample `Superstore` dataset in your Tableau
    instance if you haven't already.
  id: totrans-139
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果您还没有这样做，请从示例 `Superstore` 数据集加载 `订单` 表到您的 Tableau 实例中。
- en: 'Think of calculated fields as formulas that you can use to manipulate a field,
    create a subset of data, or extract information from rows/columns. In the following
    calculated fields, you will be creating two fields: `Sales Target 2019` and `Actual
    Sales 2019`.'
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 将计算字段视为可以用来操纵字段、创建数据子集或从行/列中提取信息的公式。在以下计算字段中，您将创建两个字段：`Sales Target 2019` 和
    `Actual Sales 2019`。
- en: '`Sales Target 2019` field will be 125% of the 2018 sales figures. To create
    a calculated field using your `Sales` measures and `Order Date`, first, navigate
    to the `Order Date` dimension and right-click on it. Click on `Create` | `Calculated
    Field...`:'
  id: totrans-141
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`2019 年销售目标` 字段将是 2018 年销售数据的 125%。要使用您的 `销售` 度量和 `订单日期` 创建一个计算字段，首先，导航到 `订单日期`
    维度，右键单击它。点击 `创建` | `计算字段...`：'
- en: '![Figure 4.18 Creating a calculated field'
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 4.18 创建计算字段'
- en: '](img/B16342_04_18.jpg)'
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_04_19.jpg)'
- en: Figure 4.18 Creating a calculated field
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 图 4.18 创建计算字段
- en: 'Rename the field from "`Calculation1`" to "`Sales Target 2019`". In the calculated
    field window, type the following formula:'
  id: totrans-145
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将字段从 "`Calculation1`" 重命名为 "`Sales Target 2019`"。在计算字段窗口中，输入以下公式：
- en: '[PRE0]'
  id: totrans-146
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'The formula is read as follows: if the year of order date is `2019`, make the
    target sales `125%` of the `2019` sales figures.'
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 公式如下读取：如果订单日期的年份是 `2019`，则将目标销售额设为 `2019` 销售数据的 `125%`。
- en: '![Figure 4.19: Creating a Sales Target 2019 field'
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 4.19：创建 2019 年销售目标字段'
- en: '](img/B16342_04_19.jpg)'
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_04_19.jpg)'
- en: 'Figure 4.19: Creating a Sales Target 2019 field'
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 图 4.19：创建 2019 年销售目标字段
- en: 'Repeat the same steps for the `Actual Sales in 2019` calculated field with
    the following formula:'
  id: totrans-151
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对`2019年实际销售`计算字段重复相同的步骤，使用以下公式：
- en: '[PRE1]'
  id: totrans-152
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE1]'
- en: '![Figure 4.20: Creating an Actual Sales Target 2019 field'
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: '![图4.20：创建2019年实际销售目标字段'
- en: '](img/B16342_04_20.jpg)'
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_04_20.jpg)'
- en: 'Figure 4.20: Creating an Actual Sales Target 2019 field'
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 图4.20：创建2019年实际销售目标字段
- en: Drag `Sub-category` to the `Rows` shelf.
  id: totrans-156
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将`子类别`拖到`行`架上。
- en: The next steps will demonstrate both the `Show Me` and `non-Show Me` methods.
    You'll start with the `Show Me` panel method.
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 下一步将演示`Show Me`和`非Show Me`方法。你将从`Show Me`面板方法开始。
- en: 'Drag the `Actual Sales in 2019` and `Sales Target in 2019` calculated fields
    to the `Column` shelf:'
  id: totrans-158
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将`2019年实际销售`和`2019年销售目标`计算字段拖到`列`架上：
- en: '![Figure 4.21: Side-by-side bar charts for actual versus target sales'
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: '![图4.21：实际销售与目标销售并排柱状图'
- en: '](img/B16342_04_21.jpg)'
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_04_21.jpg)'
- en: 'Figure 4.21: Side-by-side bar charts for actual versus target sales'
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: 图4.21：实际销售与目标销售并排柱状图
- en: 'In the previous figure, you have two charts: `Actual Sales` in `2019` and `Sales
    Target` in `2019` by sub-category. If you observe closely, you can see that Actual
    Sales 2019 for `Accessories` is `60,000` whereas `Sales Target 2019` is `75,000`,
    which is `125%` of `Actual Sales 2019`. In the next step, you will convert these
    two bar charts into a bullet chart.'
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 在前面的图中，你有两个图表：`2019年实际销售`和按子类别划分的`2019年销售目标`。如果你仔细观察，你可以看到`配件`的实际销售2019年为`60,000`，而`销售目标2019`为`75,000`，这是实际销售2019年的`125%`。在下一步中，你将把这两个条形图转换为子弹图。
- en: Navigate to the `Show Me` panel and click on `Bullet Chart`.
  id: totrans-163
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 导航到`Show Me`面板，然后单击`子弹图`。
- en: 'As soon as you click on `Bullet Chart`, you will notice multiple bars with
    a black reference line that has been added to each bar. The reference line is
    the target/goal line that adds the additional context:'
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦你点击`子弹图`，你会注意到每个条形都添加了一个黑色参考线。参考线是目标/目标线，它提供了额外的上下文：
- en: '![Figure 4.22: Bullet chart'
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: '![图4.22：子弹图'
- en: '](img/B16342_04_22.jpg)'
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_04_22.jpg)'
- en: 'Figure 4.22: Bullet chart'
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: 图4.22：子弹图
- en: You just created a bullet chart where the bars represent the sales targets in
    2019 and the reference lines are the actual sales. But ideally, you want your
    sales targets in 2019 to be reference lines because that is the target that you
    want your sub-categories to aim for. You'll make those changes next.
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 你刚刚创建了一个子弹图，其中条形代表2019年的销售目标，参考线是实际销售。但理想情况下，你希望你的2019年销售目标是参考线，因为那是你希望你的子类别努力达到的目标。你将在下一步进行这些更改。
- en: 'If your bullet chart has `Sales Target in 2019` as bars instead of the target
    line, you can right-click on the `x` axis and click on `Swap Reference Lines`
    (this may be `Swap Reference Line Fields` in later Tableau versions) to change
    your reference lines to target sales instead of actual sales:'
  id: totrans-169
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果你的子弹图将`2019年销售目标`作为条形而不是目标线，你可以右键单击`x`轴，然后单击`交换参考线`（在后来的Tableau版本中可能是`交换参考线字段`）以将参考线更改为目标销售而不是实际销售：
- en: '![Figure 4.23: Swapping the reference lines'
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: '![图4.23：交换参考线'
- en: '](img/B16342_04_23.jpg)'
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_04_23.jpg)'
- en: 'Figure 4.23: Swapping the reference lines'
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: 图4.23：交换参考线
- en: For the other method where the `Show Me` panel is not used, create a new sheet
    and drag `Sub-Category` to `Columns`, `Actual Sales 2019` to `Columns`, and `Sales
    Target in 2019` to the `Details` `Marks` card.
  id: totrans-173
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对于不使用`Show Me`面板的其他方法，创建一个新的工作表，将`子类别`拖到`列`，将`2019年实际销售`拖到`列`，将`2019年销售目标`拖到`细节`
    `标记`卡。
- en: Right-click on the `x` axis and click `Add Reference Lines`. In the `Line` tab,
    click on the `Per Cell` radio button. In the `Value` dropdown, select `SUM(Sales
    Target in 2019)` and aggregate it as `SUM` in the dropdown right next to the `Value`
    dropdown. Change the `Label` dropdown from `Computation` to `None`.
  id: totrans-174
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 右键单击`x`轴，然后单击`添加参考线`。在`线`选项卡中，单击`每单元格`单选按钮。在`值`下拉菜单中，选择`SUM(2019年销售目标)`，并在`值`下拉菜单右侧的下拉菜单中将它聚合为`SUM`。将`标签`下拉菜单从`计算`更改为`无`。
- en: '![Figure 4.24: Editing the reference lines'
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: '![图4.24：编辑参考线'
- en: '](img/B16342_04_24.jpg)'
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_04_24.jpg)'
- en: 'Figure 4.24: Editing the reference lines'
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: 图4.24：编辑参考线
- en: 'After making the preceding changes, the final output of the bullet chart will
    be as follows:'
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: 在进行上述更改后，子弹图的最终输出将如下所示：
- en: '![Figure 4.25: Bullet chart'
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: '![图4.25：子弹图'
- en: '](img/B16342_04_25.jpg)'
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_04_25.jpg)'
- en: 'Figure 4.25: Bullet chart'
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: 图4.25：子弹图
- en: In the preceding screenshot, the reference lines are now the sales targets for
    2019, as opposed to the initial bullet chart where they were `Actual Sales 2019`,
    which was actually confusing. You want your stakeholders to understand how far
    off the target each of the sub-categories is.
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: 在前面的屏幕截图中，参考线现在是2019年的销售目标，而不是最初子弹图表中的“2019年实际销售”，这实际上很令人困惑。你希望你的利益相关者了解每个子类别离目标有多远。
- en: 'In this exercise, you were able to create bullet charts using the `Show Me`
    panel as well as by manually adding reference lines to your view. We also briefly
    touched on calculated fields, which we will cover further in *Chapter 7: Data
    Analysis: Creating and Using Calculations* and *Chapter 8: Data Analysis: Creating
    and Using Table Calculations.*'
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个练习中，您能够使用`Show Me`面板以及手动添加参考线到您的视图中创建子弹图表。我们还简要介绍了计算字段，我们将在*第7章：数据分析：创建和使用计算*和*第8章：数据分析：创建和使用表计算*中进一步介绍。
- en: Bar-in-Bar Charts
  id: totrans-184
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 条形图
- en: Similar to bullet charts, this type of chart is used when you want to compare
    two measures or two values in the same row/column. Essentially, it adds the comparison/goal/target
    context that every stakeholder is looking for in your report. It works pretty
    much like a bullet chart, the main difference being that instead of reference
    lines as comparison points, you will have another secondary bar embedded within
    your primary bar.
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: 与子弹图表类似，此类图表用于您想要比较同一行/列中的两个度量或两个值时。本质上，它添加了每个利益相关者都在您的报告中寻找的比较/目标/目标上下文。它几乎与子弹图表一样工作，主要区别在于，您将使用另一个嵌入在主条中的次要条作为比较点，而不是参考线。
- en: Think of a scenario similar to that of the bullet chart (for example, the US
    presidential election of 2019). As the electoral college votes were being counted,
    the Democrat and Republican vote counts were racing toward the target seat amount
    of 269\. As the hours passed and more votes were counted, the actual number was
    updated and grew even closer to the target number of 269\. That is a good example
    of where a bar-in-bar chart, such as the following, can be used.
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: 想象一个与子弹图表类似的场景（例如，2019年美国总统选举）。随着选举人团的投票正在计数，民主党人和共和党人的选票正在向目标席位数269冲刺。随着时间的推移和更多选票的计数，实际数字被更新并越来越接近目标数字269。这是一个很好的例子，说明可以使用如下所示的条形图中的条形图。
- en: '![Figure 4.26: Sample bar-in-bar chart'
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: '![图4.26：示例条形图'
- en: '](img/B16342_04_26.jpg)'
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片](img/B16342_04_26.jpg)'
- en: 'Figure 4.26: Sample bar-in-bar chart'
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
  zh: 图4.26：示例条形图
- en: 'Exercise 4.05: Creating a Bar-in-Bar Chart'
  id: totrans-190
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 练习4.05：创建条形图
- en: The previous view that you created for tracking actual sales versus target sales
    had a reference point in the view that, without additional helpful text and explanation,
    would have been confusing for stakeholders. The category manager has asked you
    to make the actuals versus targets comparison simpler. As an analyst, after researching
    potential chart ideas, you identify the bar-in-bar chart as a great chart for
    a simpler view. You will be re-creating the bullet chart view with same dimensions
    and measures but will be utilizing a bar-in-bar chart. You will be using the same
    `Superstore` dataset for the analysis.
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: 你之前创建的用于跟踪实际销售与目标销售的视图有一个参考点，在没有额外有用文本和解释的情况下，对于利益相关者来说可能会很困惑。品类经理要求你使实际与目标比较更简单。作为一名分析师，在研究了潜在的图表想法后，你确定条形图是一个很好的简单视图。你将使用相同的维度和度量重新创建子弹图表视图，但将使用条形图。你将使用相同的`Superstore`数据集进行分析。
- en: 'Perform the following steps to complete the exercise:'
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: 执行以下步骤以完成练习：
- en: Load the `Orders` table from the sample `Superstore` dataset if it's not already
    open in your Tableau instance.
  id: totrans-193
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果`Orders`表尚未在您的Tableau实例中打开，请加载样本`Superstore`数据集中的`Orders`表。
- en: Drag `Sub-category` to the `Rows` shelf and `Sales Target 2019` to the `Columns`
    shelf.
  id: totrans-194
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将`子类别`拖动到`行`架，将`2019年销售目标`拖动到`列`架。
- en: 'Drag `Actual Sales 2019` to the view and hover over the `Sales Target 2019`
    axis until you get two green stack bars highlighted in the axis, and then drop
    `Actual Sales 2019` on the `Sales Target 2019` axis as shown here:'
  id: totrans-195
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将`Actual Sales 2019`拖动到视图中，并将鼠标悬停在`Sales Target 2019`轴上，直到您在轴上获得两个绿色堆叠条形突出显示，然后按照以下方式将`Actual
    Sales 2019`拖放到`Sales Target 2019`轴上：
- en: '![Figure 4.27: Sales by sub-category bar chart'
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: '![图4.27：按子类别划分的销售条形图'
- en: '](img/B16342_04_27.jpg)'
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片](img/B16342_04_27.jpg)'
- en: 'Figure 4.27: Sales by sub-category bar chart'
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: 图4.27：按子类别划分的销售条形图
- en: In the preceding screenshot, you just plotted sales by sub-category, and in
    the next step, you will color-split these bars into actual versus target so that
    you can achieve your desired bar-in-bar result.
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: 在前面的截图中，你刚刚绘制了按子类别划分的销售图表，在下一步中，你将将这些柱状图按实际与目标进行颜色分割，以便实现所需的嵌套柱状图结果。
- en: 'Drag `Measure Names` from the `Rows` shelf to the `Color` `Marks` card on the
    left. As soon as you do that, the two measures will be distinguished by different
    colors and will be stacked on top of each other:'
  id: totrans-200
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将`度量名称`从`行`货架拖动到左侧的`颜色`的`标记`卡片上。一旦这样做，这两个度量值将通过不同的颜色区分开来，并将堆叠在一起：
- en: '![Figure 4.28: Sales by actual versus target 2019'
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 4.28：2019 年实际销售额与目标销售额对比'
- en: '](img/B16342_04_28.jpg)'
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_04_28.jpg)'
- en: 'Figure 4.28: Sales by actual versus target 2019'
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: 图 4.28：2019 年实际销售额与目标销售额对比
- en: By adding `Measure Values` to `Columns` and adding `Actual Sales 2019` and `Sales
    Target 2019` to the `Measure Values` `Marks` card, you will see you were able
    to stack two bars on top of each other, with the orange bar being `Sales Target
    2019` and the blue bar being `Actual Sales 2019`.
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
  zh: 通过将`度量值`添加到`列`，并将`2019 年实际销售额`和`2019 年销售额目标`添加到`度量值`的`标记`卡片中，你会看到你能够在每个柱状图上堆叠两个柱状图，其中橙色柱状图是`2019
    年销售额目标`，蓝色柱状图是`2019 年实际销售额`。
- en: You'll also notice that both the measures are stacked on top of each other rather
    than starting at zero. Essentially, the `Actual Sales 2019` bar starts where `Sales
    Target 2019` ends, which is not how you want your data to be presented. To change
    that, navigate to `Analysis` in the menu, select `Stack Marks`, then choose `Off`.
  id: totrans-205
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你还会注意到，这两个度量值都是堆叠在一起的，而不是从零开始。本质上，`2019 年实际销售额`柱状图从`2019 年销售额目标`结束的地方开始，这不是你想要的数据展示方式。要改变这一点，导航到菜单中的`分析`，选择`堆叠标记`，然后选择`关闭`。
- en: '![Figure 4.29: Turning off Stack Marks'
  id: totrans-206
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 4.29：关闭堆叠标记'
- en: '](img/B16342_04_29.jpg)'
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_04_29.jpg)'
- en: 'Figure 4.29: Turning off Stack Marks'
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: 图 4.29：关闭堆叠标记
- en: 'As much as the current view looks good, you also want to differentiate `Actual
    Sales 2019` and `Sales Target 2019` by size too. Do this by dragging `Measure
    Names` from the `Dimensions` data pane and dropping it on the `Size` `Marks` card,
    as shown here:'
  id: totrans-209
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 尽管当前视图看起来很好，但你还想通过大小来区分`2019 年实际销售额`和`2019 年销售额目标`。通过将`度量名称`从`维度`数据面板拖动到`大小`的`标记`卡片，如这里所示来完成此操作：
- en: '![Figure 4.30: Un-stacked bar chart'
  id: totrans-210
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 4.30：未堆叠的柱状图'
- en: '](img/B16342_04_30.jpg)'
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_04_30.jpg)'
- en: 'Figure 4.30: Un-stacked bar chart'
  id: totrans-212
  prefs: []
  type: TYPE_NORMAL
  zh: 图 4.30：未堆叠的柱状图
- en: The preceding screenshot shows that `Measure Names` was added from the dimension
    pane to the `Size` `Marks` card.
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: 前面的截图显示，`度量名称`已从维度面板添加到`大小`的`标记`卡片中。
- en: 'If you want, you can swap the measure that is in the foreground. The current
    view is good as `Actual Sales 2019` is in the foreground and is racing toward
    `Sales Target 2019`, but if you want to change this, just swap the measures in
    the `Measure Values` card and play with the size, color, or width of the bar:'
  id: totrans-214
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果你想，你可以交换前景中的度量值。当前视图很好，因为`2019 年实际销售额`在前景中，并且正朝着`2019 年销售额目标`前进，但如果你想改变这个，只需在`度量值`卡片中交换度量值，并调整柱状图的大小、颜色或宽度：
- en: '![Figure 4.31: Bar-in-bar chart'
  id: totrans-215
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 4.31：嵌套柱状图'
- en: '](img/B16342_04_31.jpg)'
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_04_31.jpg)'
- en: 'Figure 4.31: Bar-in-bar chart'
  id: totrans-217
  prefs: []
  type: TYPE_NORMAL
  zh: 图 4.31：嵌套柱状图
- en: In the preceding figure, the blue bar is `Actual Sales 2019`, which is racing
    toward `Target Sales 2019`, which is the orange bar. For example, the `Bookcases`
    sub-category has actual sales of `30,000` in `2019` and is racing toward the sales
    target of approximately `33,000`.
  id: totrans-218
  prefs: []
  type: TYPE_NORMAL
  zh: 在前面的图中，蓝色柱状图是`2019 年实际销售额`，它正朝着`目标销售额 2019`（橙色柱状图）前进。例如，`书架`子类别在`2019`年的实际销售额为`30,000`，正朝着大约`33,000`的销售目标前进。
- en: You could have also achieved the same bar-in-bar chart using dual axis, but
    we will be covering that in the next chapter. Here, we went with a standard approach
    and learned how to utilize `Measure Names` and `Measure Values`, which play an
    important role in Tableau report/dashboard building.
  id: totrans-219
  prefs: []
  type: TYPE_NORMAL
  zh: 你也可以使用双轴实现相同的嵌套柱状图，但我们将在这下一章中介绍。在这里，我们采用了标准方法，并学习了如何利用`度量名称`和`度量值`，这在 Tableau
    报告/仪表板构建中起着重要作用。
- en: Exploring Composition Snapshots – Stacked Bar Charts
  id: totrans-220
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 探索组合快照 - 堆叠柱状图
- en: 'A stacked bar chart is nothing but a bar chart with an extra level of detail
    embedded in the bars, where each bar represents distinct dimensions/values. Stacked
    bar charts come in handy when you want to compare the whole to a segment of the
    dimensions/value, which are essentially smaller segments of the same bar. Think
    of the revenue generated by a car company: as an analyst, you want to show the
    revenue split by car/product type in a single bar graph without using too much
    space. By color-coding the bar chart with the car type, you can create a single
    graph with lots of contextual detail.'
  id: totrans-221
  prefs: []
  type: TYPE_NORMAL
  zh: 堆叠条形图实际上是一个条形图，其中包含嵌入在条形中的额外详细级别，其中每个条形代表不同的维度/值。当您想要比较整个维度/值的整体与该维度/值的某个部分时，堆叠条形图非常有用，这些部分实际上是同一条形的不同小部分。想象一下汽车公司产生的收入：作为一个分析师，您希望在一个条形图中展示按汽车/产品类型划分的收入，而不占用太多空间。通过用汽车类型对条形图进行着色编码，您可以创建一个包含大量上下文细节的单个图表。
- en: 'Think of stacked bar charts as showing **totals against parts**:'
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
  zh: 将堆叠条形图视为显示 **总计与部分**：
- en: '![Figure 4.32: Sample stacked bar chart'
  id: totrans-223
  prefs: []
  type: TYPE_NORMAL
  zh: '![Figure 4.32: Sample stacked bar chart'
- en: '](img/B16342_04_32.jpg)'
  id: totrans-224
  prefs: []
  type: TYPE_NORMAL
  zh: '![img/B16342_04_32.jpg](img/B16342_04_32.jpg)'
- en: 'Figure 4.32: Sample stacked bar chart'
  id: totrans-225
  prefs: []
  type: TYPE_NORMAL
  zh: 'Figure 4.32: Sample stacked bar chart'
- en: Try your hand at creating a stacked bar chart with the next exercise.
  id: totrans-226
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一个练习中尝试创建堆叠条形图。
- en: 'Exercise 4.06: Creating a Stacked Bar Chart'
  id: totrans-227
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 练习 4.06：创建堆叠条形图
- en: In this new request from your direct manager, they want to look at sales by
    sub-category in bar chart format, where the sales sub-categories are segments
    by color. Essentially, the manager expects a stacked bar for each sub-category,
    split into segments. You will continue to utilize the `Superstore` dataset for
    this exercise.
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
  zh: 在您直接经理的新要求中，他们希望以条形图格式查看按子类别划分的销售，其中销售子类别按颜色划分细分市场。本质上，经理期望每个子类别都有一个堆叠条形图，并按细分市场分割。您将继续使用
    `Superstore` 数据集来完成此练习。
- en: 'Follow these steps to complete this exercise:'
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
  zh: 按以下步骤完成此练习：
- en: Load the `Orders` table from the sample `Superstore` dataset if it's not already
    open in your Tableau instance.
  id: totrans-230
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果 `Orders` 表还没有在您的 Tableau 实例中打开，请从示例 `Superstore` 数据集中加载它。
- en: Drag one of the measures to the `Rows` shelf. This exercise uses `Sales`, but
    you can use any of the measures in your own projects.
  id: totrans-231
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将一个度量拖动到 `行` 面板。此练习使用 `Sales`，但您可以使用自己项目中的任何度量。
- en: 'Drag `Sub-Category` to the `Columns` shelf, and now you shall have a simple
    bar chart for sales by sub-category:'
  id: totrans-232
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将 `Sub-Category` 拖动到 `列` 面板，现在您将有一个按子类别划分的销售简单条形图：
- en: '![Figure 4.33: Stacked bar chart – sales by sub-category bar chart'
  id: totrans-233
  prefs: []
  type: TYPE_NORMAL
  zh: '![Figure 4.33: Stacked bar chart – sales by sub-category bar chart'
- en: '](img/B16342_04_33.jpg)'
  id: totrans-234
  prefs: []
  type: TYPE_NORMAL
  zh: '![img/B16342_04_33.jpg](img/B16342_04_33.jpg)'
- en: 'Figure 4.33: Stacked bar chart – sales by sub-category bar chart'
  id: totrans-235
  prefs: []
  type: TYPE_NORMAL
  zh: 'Figure 4.33: Stacked bar chart – sales by sub-category bar chart'
- en: 'To convert this bar chart into a stacked bar chart, select one of the dimensions
    (either `YEAR[Order Date]` or `Segment`) and drag it to the `Color` `Marks` card
    as shown here:'
  id: totrans-236
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要将此条形图转换为堆叠条形图，选择一个维度（无论是 `YEAR[Order Date]` 还是 `Segment`），并将其拖动到如图所示的 `颜色`
    `标记` 卡：
- en: '![Figure 4.34: Stacked bar – sales by sub-category and segment'
  id: totrans-237
  prefs: []
  type: TYPE_NORMAL
  zh: '![Figure 4.34: Stacked bar – sales by sub-category and segment'
- en: '](img/B16342_04_34.jpg)'
  id: totrans-238
  prefs: []
  type: TYPE_NORMAL
  zh: '![img/B16342_04_34.jpg](img/B16342_04_34.jpg)'
- en: 'Figure 4.34: Stacked bar – sales by sub-category and segment'
  id: totrans-239
  prefs: []
  type: TYPE_NORMAL
  zh: 图 4.34：按子类别和细分市场的堆叠条形图
- en: You have now essentially converted your simple bar chart into a stacked bar
    chart as you have color-coded or stacked multiple bars on top of each other by
    segment. `Chairs` and `Phones` were the highest-grossing sub-categories, but it
    is not clear which of those segments contributed more; so, next, you will add
    more elements to your stacked bar chart for readability.
  id: totrans-240
  prefs: []
  type: TYPE_NORMAL
  zh: 您现在已经将简单的条形图基本转换为堆叠条形图，因为您已经通过细分市场对多个条形进行了着色或堆叠。`椅子` 和 `电话` 是收入最高的子类别，但不清哪个细分市场贡献更多；因此，接下来，您将在堆叠条形图中添加更多元素以提高可读性。
- en: 'Add `SUM(Sales)` as a label for your bars. Drag `Sales` from the `Measures`
    data pane to the `Label` `Marks` card:'
  id: totrans-241
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将 `SUM(Sales)` 添加为条形图的标签。将 `Sales` 从 `度量` 数据面板拖动到 `标签` `标记` 卡：
- en: '![Figure 4.35: Stacked bar – sales by sub-category and segment'
  id: totrans-242
  prefs: []
  type: TYPE_NORMAL
  zh: '![Figure 4.35: Stacked bar – sales by sub-category and segment'
- en: '](img/B16342_04_35.jpg)'
  id: totrans-243
  prefs: []
  type: TYPE_NORMAL
  zh: '![img/B16342_04_35.jpg](img/B16342_04_35.jpg)'
- en: 'Figure 4.35: Stacked bar – sales by sub-category and segment'
  id: totrans-244
  prefs: []
  type: TYPE_NORMAL
  zh: 图 4.35：按子类别和细分市场的堆叠条形图
- en: You might notice that the `Sales` label is taking a lot of space in our bars.
    The reason it is taking so much space is that the unit of `Sales` is tens, but
    considering that most of your sales are greater than 1,000, you can change the
    unit from tens to thousands so it is easier to read and saves you some real estate.
  id: totrans-245
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您可能会注意到`销售`标签在我们的柱状图中占据了大量的空间。它占用这么多空间的原因是`销售`的单位是十，但考虑到您的大部分销售都大于 1,000，您可以将单位从十更改为千，这样更容易阅读并节省一些空间。
- en: To change the unit for the `Sales` figures, navigate to `SUM(Sales)` in the
    `Marks` card. Right-click and select `Format`.
  id: totrans-246
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要更改`销售`数字的单位，导航到`标记卡`中的`SUM(Sales)`。右键单击并选择`格式化`。
- en: '![Figure 4.36: Formatting Sales'
  id: totrans-247
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 4.36：格式化销售'
- en: '](img/B16342_04_36.jpg)'
  id: totrans-248
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片](img/B16342_04_36.jpg)'
- en: 'Figure 4.36: Formatting Sales'
  id: totrans-249
  prefs: []
  type: TYPE_NORMAL
  zh: 图 4.36：格式化销售
- en: 'In the default section of the dialog box, click on the `Numbers` dropdown,
    select `Numbers(Custom)`, and change `Display Units` from `None` to `Thousands(K)`:'
  id: totrans-250
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在对话框的默认部分，点击`数字`下拉菜单，选择`数字（自定义）`，将`显示单位`从`无`更改为`千(K)`：
- en: '![Figure 4.37: Formatting Sales'
  id: totrans-251
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 4.37：格式化销售'
- en: '](img/B16342_04_37.jpg)'
  id: totrans-252
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片](img/B16342_04_37.jpg)'
- en: 'Figure 4.37: Formatting Sales'
  id: totrans-253
  prefs: []
  type: TYPE_NORMAL
  zh: 图 4.37：格式化销售
- en: 'The stacked bar chart will now look as follows:'
  id: totrans-254
  prefs: []
  type: TYPE_NORMAL
  zh: 堆叠柱状图现在将如下所示：
- en: '![Figure 4.38: Final stacked bar chart'
  id: totrans-255
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 4.38：最终的堆叠柱状图'
- en: '](img/B16342_04_38.jpg)'
  id: totrans-256
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片](img/B16342_04_38.jpg)'
- en: 'Figure 4.38: Final stacked bar chart'
  id: totrans-257
  prefs: []
  type: TYPE_NORMAL
  zh: 图 4.38：最终的堆叠柱状图
- en: Note
  id: totrans-258
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: In the preceding figures, you might notice that the smaller bars have no information
    embedded inside them. This is a limitation of Tableau. When you hover over the
    smaller bars, Tableau will display the information you need.
  id: totrans-259
  prefs: []
  type: TYPE_NORMAL
  zh: 在前面的图中，您可能会注意到较短的柱状图内部没有嵌入信息。这是 Tableau 的一个限制。当您将鼠标悬停在较短的柱状图上时，Tableau 将显示您所需的信息。
- en: In this exercise, you looked at how to create a stacked bar graph. This is probably
    one of the easiest charts to build in Tableau, but it is an incredibly useful
    choice when you want to answer questions about parts against the total.
  id: totrans-260
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个练习中，您学习了如何创建堆叠柱状图。这可能是 Tableau 中构建最简单的图表之一，但当你想要回答关于部分与总量的相关问题时的一个非常有用的选择。
- en: Exploring Composition Snapshots – Pie Charts
  id: totrans-261
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 探索组合快照 - 饼图
- en: 'Although pie charts are quite often used, in the author''s personal experience
    and the opinion of industry leaders in the field of data visualization, they are
    best avoided in reports/dashboards because it gets difficult to draw insights
    accurately from them. Pie charts often confuse even the best in the business.
    Notice how it is easy to trick people with the following pie chart (tricking people
    is not what we as data analysts/visualizers are supposed to do):'
  id: totrans-262
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管饼图经常被使用，但在作者的个人经验和数据可视化领域的行业领导者看来，最好在报告/仪表板中避免使用饼图，因为从它们中准确提取见解变得困难。饼图甚至经常让业务中最优秀的人感到困惑。注意以下饼图如何容易地欺骗人们（欺骗人们不是我们作为数据分析师/可视化人员应该做的事情）：
- en: '![Figure 4.39: Sample pie chart'
  id: totrans-263
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 4.39：示例饼图'
- en: '](img/B16342_04_39.jpg)'
  id: totrans-264
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片](img/B16342_04_39.jpg)'
- en: 'Figure 4.39: Sample pie chart'
  id: totrans-265
  prefs: []
  type: TYPE_NORMAL
  zh: 图 4.39：示例饼图
- en: 'The goal of the pie chart is to display market penetration levels for brands
    A, B, and C. A simple visual inspection may cause one to believe that Brand A
    and C have equal market penetration, but in reality the difference between them
    could be several millions of dollars due to a couple of percentage points'' difference.
    Therefore, it is recommended not to use pie charts. That said, if there is no
    way to avoid using them, keep in mind the following rule of thumb: if your pie
    chart has more than six labels, you are better off creating either a bar chart
    or a stacked bar chart.'
  id: totrans-266
  prefs: []
  type: TYPE_NORMAL
  zh: 饼图的目标是显示品牌 A、B 和 C 的市场渗透率水平。简单的视觉检查可能会让人相信品牌 A 和 C 的市场渗透率相等，但事实上，由于几个百分点的差异，它们之间的差异可能是几百万美元。因此，建议不要使用饼图。尽管如此，如果无法避免使用它们，请记住以下经验法则：如果您的饼图有超过六个标签，您最好创建一个柱状图或堆叠柱状图。
- en: 'Exercise 4.07: Creating a Pie Chart'
  id: totrans-267
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 练习 4.07：创建饼图
- en: The VP of the company is going to be presenting in a board meeting today, and
    they are looking for your help to create a simple pie chart showing sales by segment.
    In this exercise, you will create your first pie chart and fulfill the requirement
    as requested by the VP. You will continue to use the `Superstore` dataset.
  id: totrans-268
  prefs: []
  type: TYPE_NORMAL
  zh: 公司的副总裁今天将在董事会会议上进行演示，他们正在寻求您的帮助，创建一个简单的饼图，显示按部门划分的销售情况。在这个练习中，您将创建您的第一个饼图，并按照副总裁的要求完成要求。您将继续使用`Superstore`数据集。
- en: 'The following steps will help you complete this exercise:'
  id: totrans-269
  prefs: []
  type: TYPE_NORMAL
  zh: 以下步骤将帮助您完成此练习：
- en: Load the `Orders` table from the sample `Superstore` dataset if it's not already
    open in your Tableau instance.
  id: totrans-270
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果样本`Superstore`数据集中的`Orders`表尚未在您的Tableau实例中打开，请加载它。
- en: 'Drag `Sales` to the `Rows` shelf and `Segment` to the `Columns` shelf, which
    creates your standard bar chart:'
  id: totrans-271
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将`Sales`拖到“行”架上，将`Segment`拖到“列”架上，这将创建你的标准柱状图：
- en: '![Figure 4.40: Pie chart – step 1'
  id: totrans-272
  prefs: []
  type: TYPE_NORMAL
  zh: '![图4.40：饼图 – 步骤1'
- en: '](img/B16342_04_40.jpg)'
  id: totrans-273
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_04_40.jpg)'
- en: 'Figure 4.40: Pie chart – step 1'
  id: totrans-274
  prefs: []
  type: TYPE_NORMAL
  zh: 图4.40：饼图 – 步骤1
- en: 'To convert the bar chart to a pie chart, open the `Show Me` panel and click
    on the pie chart icon:'
  id: totrans-275
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要将柱状图转换为饼图，打开“显示我”面板并点击饼图图标：
- en: '![Figure 4.41: Adding a pie chart using the Show Me panel'
  id: totrans-276
  prefs: []
  type: TYPE_NORMAL
  zh: '![图4.41：使用显示我面板添加饼图'
- en: '](img/B16342_04_41.jpg)'
  id: totrans-277
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_04_41.jpg)'
- en: 'Figure 4.41: Adding a pie chart using the Show Me panel'
  id: totrans-278
  prefs: []
  type: TYPE_NORMAL
  zh: 图4.41：使用显示我面板添加饼图
- en: When you convert the bar chart to a pie chart, the pie chart might be too small
    to read.
  id: totrans-279
  prefs: []
  type: TYPE_NORMAL
  zh: 当你将柱状图转换为饼图时，饼图可能太小而无法阅读。
- en: 'To increase the size of the pie, on a Mac, you can press *Command* + *Shift*
    + *B* to increase or *Command* + *B* to decrease the size of the chart. On Windows,
    press *Ctrl* + *Shift* + *B* to increase the size of the chart and *Ctrl* + *B*
    to decrease the size of the chart. Another way to increase or decrease the size
    of the chart is by using the `Size` tab in our `Marks` card:'
  id: totrans-280
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为了增加饼图的尺寸，在Mac上，你可以按*Command* + *Shift* + *B*来增加尺寸，或者按*Command* + *B*来减小尺寸。在Windows上，按*Ctrl*
    + *Shift* + *B*来增加饼图的尺寸，按*Ctrl* + *B*来减小饼图的尺寸。另一种增加或减小饼图尺寸的方法是使用我们“标记”卡中的“尺寸”选项卡：
- en: '![Figure 4.42: Increasing the size of the pie'
  id: totrans-281
  prefs: []
  type: TYPE_NORMAL
  zh: '![图4.42：增加饼图的尺寸'
- en: '](img/B16342_04_42.jpg)'
  id: totrans-282
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_04_42.jpg)'
- en: 'Figure 4.42: Increasing the size of the pie'
  id: totrans-283
  prefs: []
  type: TYPE_NORMAL
  zh: 图4.42：增加饼图的尺寸
- en: 'To add labels to the chart, drag `Segment` as well as `Sales` to your `Label`
    `Marks` card. Increase the size of our label to 15 or higher. You can also change
    the units of the `SUM(Sales)` figure to thousands or millions as discussed in
    the previous exercise:'
  id: totrans-284
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要向图表添加标签，将`Segment`以及`Sales`拖到你的“标签”`标记`卡中。将我们的标签大小增加到15或更高。你还可以将`SUM(Sales)`的数值单位更改为千或百万，如前一个练习中讨论的那样：
- en: '![Figure 4.43: Adding the $ prefix'
  id: totrans-285
  prefs: []
  type: TYPE_NORMAL
  zh: '![图4.43：添加$前缀'
- en: '](img/B16342_04_43.jpg)'
  id: totrans-286
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_04_43.jpg)'
- en: 'Figure 4.43: Adding the $ prefix'
  id: totrans-287
  prefs: []
  type: TYPE_NORMAL
  zh: 图4.43：添加$前缀
- en: 'The final output after making the changes will be as follows:'
  id: totrans-288
  prefs: []
  type: TYPE_NORMAL
  zh: 进行更改后的最终输出将如下所示：
- en: '![Figure 4.44: Final pie chart'
  id: totrans-289
  prefs: []
  type: TYPE_NORMAL
  zh: '![图4.44：最终饼图'
- en: '](img/B16342_04_44.jpg)'
  id: totrans-290
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_04_44.jpg)'
- en: 'Figure 4.44: Final pie chart'
  id: totrans-291
  prefs: []
  type: TYPE_NORMAL
  zh: 图4.44：最终饼图
- en: In the preceding screenshot, you were able to show sales by segment in a pie
    chart. Although they have their drawbacks, pie charts can be really useful when
    the number of labels does not exceed 5-7 and the useable space on the screen is
    very limited.
  id: totrans-292
  prefs: []
  type: TYPE_NORMAL
  zh: 在前面的屏幕截图中，你能够以饼图的形式展示按段落的销售额。尽管饼图有其缺点，但当标签数量不超过5-7个且屏幕上的可用空间非常有限时，饼图可以非常实用。
- en: Treemaps
  id: totrans-293
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 树状图
- en: Like pie charts and stacked bar charts, treemaps help you answer parts-of-the-whole
    types of questions, but the main difference is that treemaps and bar-in-bar charts
    show hierarchical relationships using rectangles. Using `Marks` card elements
    such as `Color` and `Size`, you can better analyze the data. When a rectangle
    is bigger or has a more concentrated color, it represents the highest value of
    the dimension in the view. Treemaps allow you to quickly measure contributions
    to the whole. Like pie charts, treemaps are not always the best choice, but depending
    on the analysis needed, treemaps can use contextual labels for better readability;
    they are also one of those chart types where you can plot hundreds of data points
    in a view.
  id: totrans-294
  prefs: []
  type: TYPE_NORMAL
  zh: 与饼图和堆叠柱状图一样，树状图帮助你回答部分与整体类型的问题，但主要区别在于树状图和嵌套柱状图使用矩形来显示层次关系。使用“标记”卡元素如“颜色”和“大小”，你可以更好地分析数据。当一个矩形更大或颜色更集中时，它代表视图中的维度最高值。树状图允许你快速衡量对整体的贡献。与饼图一样，树状图并不总是最佳选择，但根据所需的分析，树状图可以使用上下文标签以提高可读性；它们也是那些可以在视图中绘制数百个数据点的图表类型之一。
- en: 'Think of a case where the VP of delivery operations has requested a presentation
    on the total deliveries to each state as well as whether deliveries in those states
    were on time or not. Using treemaps, you can compare the delivery activity for
    each of the states, where the number of deliveries is communicated by the size
    of the rectangle for each state and the proportion of deliveries that were delayed
    is shown by color:'
  id: totrans-295
  prefs: []
  type: TYPE_NORMAL
  zh: 想象一个场景，交付运营副总裁要求展示每个州的总体交付情况以及这些州的交付是否准时。使用树状图，你可以比较每个州的交付活动，其中每个州的交付数量通过该州矩形的大小来传达，而延迟交付的比例通过颜色来显示：
- en: '![Figure 4.45: Sample treemap'
  id: totrans-296
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 4.45：示例树状图'
- en: '](img/B16342_04_45.jpg)'
  id: totrans-297
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片 B16342_04_45.jpg](img/B16342_04_45.jpg)'
- en: 'Figure 4.45: Sample treemap'
  id: totrans-298
  prefs: []
  type: TYPE_NORMAL
  zh: 图 4.45：示例树状图
- en: 'Exercise 4.08: Creating Treemaps'
  id: totrans-299
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 练习 4.08：创建树状图
- en: As an analyst, you want to create a view of profitable versus non-profitable
    states by category without using a cross-table in your view. For this exercise,
    you will use the `Superstore` dataset. You are required to color-code the states
    based on their profitability and sort the states in descending order based on
    total sales. The reason you are using treemaps for this is that you can use both
    size and color to convey information without sacrificing anything.
  id: totrans-300
  prefs: []
  type: TYPE_NORMAL
  zh: 作为一名分析师，你希望在视图中创建一个有利润和无利润州按类别划分的视图，而不使用交叉表。为此练习，你将使用 `Superstore` 数据集。你需要根据各州的盈利能力对州进行着色，并按总销售额降序排序。你使用树状图的原因是你可以同时使用大小和颜色来传达信息，而不会牺牲任何东西。
- en: 'Perform the following steps to complete the exercise:'
  id: totrans-301
  prefs: []
  type: TYPE_NORMAL
  zh: 执行以下步骤以完成练习：
- en: Open the sample `Superstore` dataset if it's not already open in your Tableau instance.
  id: totrans-302
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果你的 Tableau 实例中尚未打开，请打开示例 `Superstore` 数据集。
- en: 'For this exercise, you have two measures: `Sales` and `Profit Ratio`. You will
    use `Sales` for sizing and `Profit Ratio` for coloring the treemap. Drag the primary
    measure (in this case, `Sales`) to the `Size` `Marks` card and the secondary metric,
    `Profit Ratio`, to the `Color` `Marks` card:'
  id: totrans-303
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在这个练习中，你有两个度量：`Sales` 和 `Profit Ratio`。你将使用 `Sales` 来确定大小，`Profit Ratio` 来着色树状图。将主要度量（在这种情况下，`Sales`）拖动到
    `Size` `Marks` 卡片，将次要指标 `Profit Ratio` 拖动到 `Color` `Marks` 卡片：
- en: '![Figure 4.46: Adding Sales to the treemap'
  id: totrans-304
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 4.46：将销售添加到树状图中'
- en: '](img/B16342_04_46.jpg)'
  id: totrans-305
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片 B16342_04_46.jpg](img/B16342_04_46.jpg)'
- en: 'Figure 4.46: Adding Sales to the treemap'
  id: totrans-306
  prefs: []
  type: TYPE_NORMAL
  zh: 图 4.46：将销售添加到树状图中
- en: Note
  id: totrans-307
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: If you are using a version of Tableau later than 2020.1, you may need to choose
    `Profit` rather than `Profit Ratio` for this step.
  id: totrans-308
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你使用的是 Tableau 2020.1 之后的版本，你可能需要在这一步选择 `Profit` 而不是 `Profit Ratio`。
- en: Drag `State` to your `Detail` `Marks` card as it will make your data more granular
    and represent the states with sizes and colors.
  id: totrans-309
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将 `State` 拖动到你的 `Detail` `Marks` 卡片中，这将使你的数据更加细化，并以大小和颜色表示各个州。
- en: 'When you add `State` to the `Detail` `Marks` card (in Tableau version 2020.1),
    you will see that `Country`/`Region` is automatically added as `State` is part
    of the hierarchy. Remove `Country`/`Region` from the `Detail` `Marks` card because
    it is not adding any value or detail to your view. While you are at it, drag `State`
    as a label:'
  id: totrans-310
  prefs: []
  type: TYPE_NORMAL
  zh: 当你在 Tableau 2020.1 版本中将 `State` 添加到 `Detail` `Marks` 卡片时，你会看到 `Country`/`Region`
    会自动添加，因为 `State` 是层次结构的一部分。由于 `Country`/`Region` 并没有为你的视图增加任何价值或细节，所以请从 `Detail`
    `Marks` 卡片中移除 `Country`/`Region`。在此过程中，将 `State` 拖动作为标签：
- en: '![Figure 4.47: Color coding by profit ratio'
  id: totrans-311
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 4.47：按利润率着色'
- en: '](img/B16342_04_47.jpg)'
  id: totrans-312
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片 B16342_04_47.jpg](img/B16342_04_47.jpg)'
- en: 'Figure 4.47: Color coding by profit ratio'
  id: totrans-313
  prefs: []
  type: TYPE_NORMAL
  zh: 图 4.47：按利润率着色
- en: In the preceding figure, you have represented sales and profit ratios by states.
    California and New York have the largest number of sales (larger rectangles means
    more sales), but states such as Michigan have higher profit ratios (darker blue
    means higher profits).
  id: totrans-314
  prefs: []
  type: TYPE_NORMAL
  zh: 在前面的图中，你已按州表示了销售额和利润率。加利福尼亚州和纽约州的销售额最多（更大的矩形意味着更多的销售额），但像密歇根州这样的州的利润率更高（更深的蓝色意味着更高的利润）。
- en: 'You could potentially stop the analysis/charting here, and this would be your
    treemap representing sales by each state and their profit ratios. However, in
    this case, you''ll add another layer of detail to your view. Drag `Category` to
    the `Rows` shelf, and in the toolbar, change the view from `Standard` to `Entire
    View`, as shown in the following screenshot:'
  id: totrans-315
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你可以在这里停止分析/绘图，这将是你表示每个州及其利润率的树状图。然而，在这种情况下，你将在视图中添加另一层细节。将 `Category` 拖动到 `Rows`
    档，并在工具栏中，将视图从 `Standard` 更改为 `Entire View`，如图中所示：
- en: '![Figure 4.48: Treemap by category'
  id: totrans-316
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 4.48：按类别划分的树状图'
- en: '](img/B16342_04_48.jpg)'
  id: totrans-317
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片 B16342_04_48.jpg](img/B16342_04_48.jpg)'
- en: 'Figure 4.48: Treemap by category'
  id: totrans-318
  prefs: []
  type: TYPE_NORMAL
  zh: 图 4.48：按类别划分的树状图
- en: You are just about finished, but the color range that you have used in the chart
    is a bit confusing because the stakeholders just want to know whether a state
    was profitable or not. They neither need nor want to know the exact profit or
    loss ratio for each of the states. You can add those exact `Profit ratio` details
    in a tooltip later.
  id: totrans-319
  prefs: []
  type: TYPE_NORMAL
  zh: 你差不多完成了，但你用于图表中的颜色范围有点令人困惑，因为利益相关者只想知道一个州是否盈利。他们既不需要也不想知道每个州的精确盈亏比率。你可以在稍后添加那些精确的“利润率”细节到工具提示中。
- en: Navigate to the `Marks` card and click on the `Color` tab. Check the `Stepped
    color` checkbox and enter its value as `2` steps.
  id: totrans-320
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 导航到“标记”卡，并点击“颜色”选项卡。勾选“阶梯颜色”复选框，并将值设置为`2`步。
- en: Note
  id: totrans-321
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意
- en: If you are using a version of Tableau later than 2020.1, you will need to select
    `Edit Colors` to find the `Stepped color` option.
  id: totrans-322
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果你使用的是2020.1之后的Tableau版本，你需要选择“编辑颜色”来找到“阶梯颜色”选项。
- en: 'Next, select the palette you want and click on `<< Advanced`. Check the `Center`
    checkbox and enter its value as `0` (green represents a profitable state):'
  id: totrans-323
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，选择你想要的调色板，并点击“<< 高级”。勾选“中心”复选框，并将其值设置为`0`（绿色代表盈利州）：
- en: '![Figure 4.49: Treemap by category and state with red/green color coding'
  id: totrans-324
  prefs: []
  type: TYPE_NORMAL
  zh: '![图4.49：按类别和州划分的树状图，使用红/绿颜色编码'
- en: '](img/B16342_04_49.jpg)'
  id: totrans-325
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_04_49.jpg)'
- en: 'Figure 4.49: Treemap by category and state with red/green color coding'
  id: totrans-326
  prefs: []
  type: TYPE_NORMAL
  zh: 图4.49：按类别和州划分的树状图，使用红/绿颜色编码
- en: 'The final output is as follows:'
  id: totrans-327
  prefs: []
  type: TYPE_NORMAL
  zh: 最终输出如下：
- en: '![Figure 4.50: Treemap by category and state with red/green color coding'
  id: totrans-328
  prefs: []
  type: TYPE_NORMAL
  zh: '![图4.50：按类别和州划分的树状图，使用红/绿颜色编码'
- en: '](img/B16342_04_50.jpg)'
  id: totrans-329
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_04_50.jpg)'
- en: 'Figure 4.50: Treemap by category and state with red/green color coding'
  id: totrans-330
  prefs: []
  type: TYPE_NORMAL
  zh: 图4.50：按类别和州划分的树状图，使用红/绿颜色编码
- en: The main difference between this view of the treemap (*Figure 4.50*) and the
    default treemap you created in the previous step (*Figure 4.48*) is that in the
    latest treemap, instead of color-coding your profit ratio with gradient colors,
    you color-coded loss as red and profit as green, so it's easier for stakeholders
    to quickly view the most profitable and least profitable states.
  id: totrans-331
  prefs: []
  type: TYPE_NORMAL
  zh: 这种树状图视图（*图4.50*）与你在上一步中创建的默认树状图（*图4.48*）的主要区别在于，在最新的树状图中，你不再使用渐变色来对利润率进行颜色编码，而是将亏损用红色表示，将盈利用绿色表示，这样利益相关者可以更快地查看最盈利和最不盈利的州。
- en: If you look, you can see that California is the highest-selling state across
    all categories, and if you want to know the profit ratio of the state, all you
    have to do is hover over any of the states.
  id: totrans-332
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你仔细观察，你会发现加利福尼亚州是所有类别中销量最高的州，如果你想了解该州的利润率，你只需将鼠标悬停在任何一个州上即可。
- en: Exploring Compositions for Trended Data
  id: totrans-333
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 探索趋势数据的组成
- en: Area Charts
  id: totrans-334
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 面积图
- en: Area charts are among the most visually pleasing charts available and are used
    pretty frequently for reporting cadence. Area charts are essentially combinations
    of line charts and bar charts in that they show the relationships between the
    proportions of the total.
  id: totrans-335
  prefs: []
  type: TYPE_NORMAL
  zh: 面积图是可用的最令人视觉愉悦的图表之一，并且经常用于报告节奏。面积图本质上是由线图和柱状图组合而成的，因为它们显示了总量的比例之间的关系。
- en: Think of a use-case wherein the branch manager of an electronics company wants
    to look at the total quantity sold in each television category by the series that
    they belong to. You can fulfill this requirement by using a stacked bar chart,
    but with an area chart, you can also add time trends, which is what you will explore
    in this exercise here.
  id: totrans-336
  prefs: []
  type: TYPE_NORMAL
  zh: 想象一个用例，其中一家电子公司的分支机构经理想要查看他们所属系列在各个电视类别中的总销量。你可以通过使用堆积柱状图来满足这一需求，但使用面积图，你还可以添加时间趋势，这正是你将在下面的练习中探索的内容。
- en: '![Figure 4.51: Sample Area Charts'
  id: totrans-337
  prefs: []
  type: TYPE_NORMAL
  zh: '![图4.51：示例面积图'
- en: '](img/B16342_04_51.jpg)'
  id: totrans-338
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_04_51.jpg)'
- en: 'Figure 4.51: Sample Area Charts'
  id: totrans-339
  prefs: []
  type: TYPE_NORMAL
  zh: 图4.51：示例面积图
- en: 'Note: Word of caution for area charts'
  id: totrans-340
  prefs: []
  type: TYPE_NORMAL
  zh: 注意：关于面积图的注意事项
- en: When you use an area chart as a stacked area chart, it can easily be misinterpreted—especially
    if you use stacked area charts for percentages. For example, say you are creating
    an email marketing report where you have conversion rates for different campaigns.
    Campaign 1 had a click-through rate (CTR) of 3%, campaign 2 had a 7% CTR, and
    campaign 3 had a 6% CTR for a particular month. The true CTR for that month was
    5.3%, but using a stacked area chart, the CTR for all campaigns may show up as
    16%, which is factually incorrect. Just be aware of the caveats here.
  id: totrans-341
  prefs: []
  type: TYPE_NORMAL
  zh: 当你使用面积图作为堆叠面积图时，它很容易被误解——特别是如果你使用堆叠面积图表示百分比。例如，假设你正在创建一个电子邮件营销报告，其中包含不同活动的转化率。活动
    1 的点击通过率（CTR）为 3%，活动 2 的 CTR 为 7%，活动 3 在特定月份的 CTR 为 6%。该月的真实 CTR 为 5.3%，但使用堆叠面积图，所有活动的
    CTR 可能显示为 16%，这是事实上的错误。只是要注意这里的注意事项。
- en: 'Exercise 4.09: Creating an Area Chart'
  id: totrans-342
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 练习 4.09：创建面积图
- en: The director of financial operations reaches out to you, looking to understand
    how the sales for each sub-category trends across each month. The director wants
    to know whether they sell more in July or August. As an analyst, your job is to
    create a color-coded area chart showing sales by month of the year and how sales
    trend across the year. You will continue to utilize the `Superstore` dataset for
    this exercise. You will also explore continuous as well as discrete area charts
    in this exercise, utilizing `Order Date`, `Sub-Category`, and `Sales`.
  id: totrans-343
  prefs: []
  type: TYPE_NORMAL
  zh: 财务运营总监向你寻求帮助，希望了解每个子类别在每个月的销售趋势。总监想知道他们在 7 月还是 8 月销售得更多。作为分析师，你的任务是创建一个按月和按年销售趋势的颜色编码面积图。你将继续使用
    `Superstore` 数据集来完成此练习。你还将在此练习中探索连续和离散面积图，使用 `订单日期`、`子类别` 和 `销售额`。
- en: 'Perform the following steps:'
  id: totrans-344
  prefs: []
  type: TYPE_NORMAL
  zh: 执行以下步骤：
- en: Open the sample `Superstore` dataset if it's not already open in your Tableau instance.
  id: totrans-345
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果你的 Tableau 实例中尚未打开，请打开示例 `Superstore` 数据集。
- en: Drag `Order Date` to the `Columns` shelf and change the granularity from year
    to month by clicking the arrow on the `Order Date` capsule and selecting continuous
    `Month` (you will first create a continuous stacked area chart).
  id: totrans-346
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将 `订单日期` 拖动到 `列` 桶中，并通过点击 `订单日期` 瓶盖上的箭头并选择连续的 `月份`（你将首先创建一个连续堆叠面积图）来将粒度从年更改为月。
- en: '![Figure 4.52: Continuous month selection'
  id: totrans-347
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 4.52：连续月份选择](img/B16342_04_52.jpg)'
- en: '](img/B16342_04_52.jpg)'
  id: totrans-348
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_04_52.jpg)'
- en: 'Figure 4.52: Continuous month selection'
  id: totrans-349
  prefs: []
  type: TYPE_NORMAL
  zh: 图 4.52：连续月份选择
- en: Drag `Sales` to the `Rows` shelf. As soon as you drop it onto the `Rows` shelf,
    a line chart is created.
  id: totrans-350
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将 `销售额` 拖动到 `行` 桶中。一旦你将其拖放到 `行` 桶中，就会创建一个折线图。
- en: 'Drag `Sub-Category` from data pane onto `Color Marks` card to and then change
    the `Marks` type from `Automatic` to `Area` using the dropdown:'
  id: totrans-351
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将 `子类别` 从数据面板拖动到 `颜色标记` 卡上，然后使用下拉菜单将 `标记` 类型从 `自动` 更改为 `面积`：
- en: '![Figure 4.53: Area chart'
  id: totrans-352
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 4.53：面积图](img/B16342_04_54.jpg)'
- en: '](img/B16342_04_53.jpg)'
  id: totrans-353
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_04_54.jpg)'
- en: 'Figure 4.53: Area chart'
  id: totrans-354
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 4.53：面积图](img/B16342_04_53.jpg)'
- en: The preceding chart represents the continuous stacked area chart. If you don't
    want the areas to be stacked on top of each other, you can turn off stacking.
  id: totrans-355
  prefs: []
  type: TYPE_NORMAL
  zh: 前面的图表表示连续堆叠面积图。如果你不想区域堆叠在一起，你可以关闭堆叠。
- en: 'Navigate to `Analysis` in the menu and click on `Stack Marks` | `Off.` Similarly,
    you follow the same steps to turn the stack marks back on:'
  id: totrans-356
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在菜单中导航到 `分析` 并点击 `堆叠标记` | `关闭`。同样，你可以按照相同的步骤将堆叠标记重新打开：
- en: '![Figure 4.54: Turn Stack Marks off'
  id: totrans-357
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 4.54：关闭堆叠标记](img/B16342_04_54.jpg)'
- en: '](img/B16342_04_54.jpg)'
  id: totrans-358
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_04_53.jpg)'
- en: 'Figure 4.54: Turn Stack Marks off'
  id: totrans-359
  prefs: []
  type: TYPE_NORMAL
  zh: 图 4.54：关闭堆叠标记
- en: 'The only reason that someone would want to turn off `Stack Marks` in an area
    chart is if they want to look at individual trends for the dimension in question
    (in this case, Sub-Category). The limitation of an unstacked area chart is that
    it carries a risk of hidden data points because what the background area represents
    is not clear:'
  id: totrans-360
  prefs: []
  type: TYPE_NORMAL
  zh: 某人想要在面积图中关闭 `堆叠标记` 的唯一原因可能是他们想查看特定维度（在本例中为子类别）的个别趋势。未堆叠面积图的限制在于它存在隐藏数据点的风险，因为背景区域所代表的内容并不清晰：
- en: '![Figure 4.55: Area chart'
  id: totrans-361
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 4.55：面积图](img/B16342_04_55.jpg)'
- en: '](img/B16342_04_55.jpg)'
  id: totrans-362
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_04_55.jpg)'
- en: 'Figure 4.55: Area chart'
  id: totrans-363
  prefs: []
  type: TYPE_NORMAL
  zh: 图 4.55：面积图
- en: 'To change the area chart to be discrete, change the type of `Order Date` from
    `Continuous` to `Discrete`:'
  id: totrans-364
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要将面积图更改为离散图，将 `订单日期` 的类型从 `连续` 更改为 `离散`：
- en: '![Figure 4.56: Discrete dates selection'
  id: totrans-365
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 4.56：离散日期选择](img/B16342_04_56.jpg)'
- en: '](img/B16342_04_56.jpg)'
  id: totrans-366
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_04_56.jpg)'
- en: 'Figure 4.56: Discrete dates selection'
  id: totrans-367
  prefs: []
  type: TYPE_NORMAL
  zh: 图 4.56：离散日期选择
- en: With discrete charts, instead of `Month` for each year, now you only show discrete
    months without considering the year in the view. The view is a less granular view
    compared to that of the continuous stacked area chart. You will change the axis
    tick marks from $50,000 to $25,000 increments.
  id: totrans-368
  prefs: []
  type: TYPE_NORMAL
  zh: 使用离散图表时，对于每年的“月份”，现在你只显示不考虑年份的离散月份。与连续堆叠面积图相比，这是一个更细粒度的视图。你将更改轴刻度线，从$50,000增加到$25,000的增量。
- en: To change the axis tick marks, right-click on the `Sales` axis and click on
    `Edit Axis…`.
  id: totrans-369
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要更改轴刻度线，右键单击“销售额”轴并单击“编辑轴…”。
- en: '![Figure 4.57: Editing the axis'
  id: totrans-370
  prefs: []
  type: TYPE_NORMAL
  zh: '![图4.57：编辑坐标轴'
- en: '](img/B16342_04_57.jpg)'
  id: totrans-371
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片](img/B16342_04_57.jpg)'
- en: 'Figure 4.57: Editing the axis'
  id: totrans-372
  prefs: []
  type: TYPE_NORMAL
  zh: 图4.57：编辑坐标轴
- en: 'In `Edit Axis [Sales]`, click on `Tick Marks` (this may be `Major Tick Marks`
    in later versions) and select `Fixed`, then set `Tick interval` to `25000`, as
    shown here:'
  id: totrans-373
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在“编辑坐标轴[销售额]”中，点击“刻度线”（在后续版本中可能为“主要刻度线”）并选择“固定”，然后将“刻度间隔”设置为“25000”，如图所示：
- en: '![Figure 4.58: Setting Major Tick Marks'
  id: totrans-374
  prefs: []
  type: TYPE_NORMAL
  zh: '![图4.58：设置主要刻度线'
- en: '](img/B16342_04_58.jpg)'
  id: totrans-375
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片](img/B16342_04_58.jpg)'
- en: 'Figure 4.58: Setting Major Tick Marks'
  id: totrans-376
  prefs: []
  type: TYPE_NORMAL
  zh: 图4.58：设置主要刻度线
- en: 'The final output is as follows:'
  id: totrans-377
  prefs: []
  type: TYPE_NORMAL
  zh: 最终输出如下：
- en: '![Figure 4.59: Final stacked area chart'
  id: totrans-378
  prefs: []
  type: TYPE_NORMAL
  zh: '![图4.59：最终的堆叠面积图'
- en: '](img/B16342_04_59.jpg)'
  id: totrans-379
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片](img/B16342_04_59.jpg)'
- en: 'Figure 4.59: Final stacked area chart'
  id: totrans-380
  prefs: []
  type: TYPE_NORMAL
  zh: 图4.59：最终的堆叠面积图
- en: In the preceding screenshot, each of the sub-categories is stacked on top of
    each other, while the sales trends are shown across months. From the given chart,
    you can easily make out that November is the highest-grossing month for the `Superstore` dataset.
  id: totrans-381
  prefs: []
  type: TYPE_NORMAL
  zh: 在前面的屏幕截图中，每个子类别都堆叠在一起，而销售趋势则按月份显示。从给定的图表中，你可以轻松地看出11月是“Superstore”数据集收入最高的月份。
- en: In this exercise, you learned when and when not to use area charts, looked at
    stacked versus non-stacked area charts, and studied the best use cases for continuous
    and discrete area charts.
  id: totrans-382
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个练习中，你学习了何时以及何时不使用面积图，比较了堆叠与非堆叠面积图，并研究了连续和离散面积图的最佳使用案例。
- en: 'Activity 4.01: Visualizing the Growth of Passenger Cars in Singapore'
  id: totrans-383
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 活动四.01：可视化新加坡乘用车的增长
- en: Recently, the Singapore government appointed a new head of vehicle inspection.
    This newly created department will analyze vehicle sales over the past few decades,
    study growth/trends, and create policies and rules to further help the government
    reduce emissions. As part of the initial onboarding, the head of vehicle inspection
    has asked to look at sales trends for each vehicle category, including buses,
    taxis, cars, and goods vehicles. They expect an analyst to create a single view
    showcasing the trends for sales of these vehicle categories. As an analyst, considering
    that the head of vehicle inspection expects to see trends across multiple categories
    and years, you decide to use an area chart with color coding for easier readability.
  id: totrans-384
  prefs: []
  type: TYPE_NORMAL
  zh: 最近，新加坡政府任命了一位新的车辆检查部门负责人。这个新成立的部门将分析过去几十年的车辆销售情况，研究增长/趋势，并制定政策和规则，以进一步帮助政府减少排放。作为入职初期的一部分，车辆检查部门负责人要求查看每个车辆类别的销售趋势，包括公交车、出租车、汽车和货车。他们期望分析师创建一个单一视图，展示这些车辆类别的销售趋势。作为一个分析师，考虑到车辆检查部门负责人期望看到多个类别和年份的趋势，你决定使用带有颜色编码的面积图，以便更容易阅读。
- en: In this activity, you will be showcasing the skills that you have learned in
    this chapter by creating multiple charts. You will be using the `SG_Annual_Vehicle_Population`
    data, which can be downloaded from [https://packt.link/wLR2x](https://packt.link/wLR2x).
  id: totrans-385
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个活动中，你将通过创建多个图表来展示你在本章中学到的技能。你将使用“SG_Annual_Vehicle_Population”数据，可以从[https://packt.link/wLR2x](https://packt.link/wLR2x)下载。
- en: 'Perform the following steps to complete this activity:'
  id: totrans-386
  prefs: []
  type: TYPE_NORMAL
  zh: 执行以下步骤以完成此活动：
- en: Import and open the data that was downloaded.
  id: totrans-387
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 导入并打开下载的数据。
- en: Drag `Category` to the `Columns` shelf and `Number` to the `Rows` shelf.
  id: totrans-388
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将“类别”拖放到“列”板和“数量”拖放到“行”板。
- en: Drag `Year` to the `Columns` shelf.
  id: totrans-389
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将“年份”拖放到“列”板。
- en: Drag and drop `Category` to the `Color` `Marks` card.
  id: totrans-390
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将“类别”拖放到“颜色”标记卡中。
- en: Drag and drop `Year` to the `Label` `Marks` card.
  id: totrans-391
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将“年份”拖放到“标签”标记卡中。
- en: Change the `Axis` title to just `Year of Audit`.
  id: totrans-392
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将“轴”标题更改为仅“审计年份”。
- en: Edit the axis to change `Major Tick Marks` to `Fixed` and set the intervals
    to `1`.
  id: totrans-393
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 编辑坐标轴，将“主要刻度线”更改为“固定”并设置间隔为“1”。
- en: Change the title of the worksheet to `Activity 4.1`.
  id: totrans-394
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将工作表标题更改为“活动4.1”。
- en: 'The expected output is as follows:'
  id: totrans-395
  prefs: []
  type: TYPE_NORMAL
  zh: 预期输出如下：
- en: '![Figure 4.60: Activity 4.01 expected output'
  id: totrans-396
  prefs: []
  type: TYPE_NORMAL
  zh: '![图4.60：活动4.01预期输出'
- en: '](img/B16342_04_60.jpg)'
  id: totrans-397
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片](img/B16342_04_60.jpg)'
- en: 'Figure 4.60: Activity 4.01 expected output'
  id: totrans-398
  prefs: []
  type: TYPE_NORMAL
  zh: 图4.60：活动4.01预期输出
- en: Note
  id: totrans-399
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: 'The solution to this activity can be found here: [https://packt.link/CTCxk](https://packt.link/CTCxk).'
  id: totrans-400
  prefs: []
  type: TYPE_NORMAL
  zh: 这个活动的解决方案可以在以下链接找到：[https://packt.link/CTCxk](https://packt.link/CTCxk)。
- en: Summary
  id: totrans-401
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: That wraps up this chapter. In this lesson, you created your first charts in
    Tableau, starting with bar charts, which are used for comparisons across dimensions,
    followed by line charts to show comparisons over time. You also looked at how
    bullet charts and bar-in-bar charts differ and the best use cases for them when
    exploring comparisons across measures.
  id: totrans-402
  prefs: []
  type: TYPE_NORMAL
  zh: 这就结束了本章。在本课中，你创建了Tableau中的第一个图表，从条形图开始，用于跨维度的比较，然后是折线图来展示时间上的比较。你还了解了子弹图和条形图之间的区别，以及探索度量比较时的最佳用例。
- en: 'You further composed snapshots, working through three major chart types: stacked
    bar charts, pie charts, and treemaps. When exploring treemaps, instead of using
    a standard treemap, you added an extra layer by utilizing multiple measures where
    the primary measure, `Sales`, was used for the size of the rectangle and a secondary
    measure, `Profit ratio`, was used for profit/loss using two different colors.
    The different colors made it easier for stakeholders to identify profit-making
    states across superstore categories.'
  id: totrans-403
  prefs: []
  type: TYPE_NORMAL
  zh: 你进一步组合了快照，通过处理三种主要的图表类型：堆叠条形图、饼图和树状图。在探索树状图时，你不仅仅使用了一个标准的树状图，而是通过利用多个度量添加了一个额外的层次，其中主要度量`Sales`用于矩形的尺寸，次要度量`Profit
    ratio`用于利润/亏损，使用了两种不同的颜色。不同的颜色使得利益相关者更容易识别超市类别中的盈利状态。
- en: Although we did discuss line charts for time series data, we also decided to
    work through an area chart problem and study the issues with stacked (*cannot
    aggregate percentages*) versus non-stacked (*risk of hidden data*) area charts.
    We briefly touched on continuous versus discrete stacked area charts. We wrapped
    up the chapter by working through a new dataset on Singapore's annual vehicle
    population audit and created an area chart for understanding the different trends
    of vehicle growth over the past 15 years in Singapore.
  id: totrans-404
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然我们确实讨论了时间序列数据的折线图，但我们还决定通过一个面积图问题来工作，并研究堆叠（*无法聚合百分比*）与非堆叠（*隐藏数据风险*）面积图的问题。我们简要地提到了连续堆叠面积图与离散堆叠面积图的区别。我们通过处理新加坡年度车辆人口审计的新数据集来结束本章，并创建了一个面积图来理解过去15年来新加坡车辆增长的不同趋势。
- en: In the next chapter, we will take a step forward and work through dual axis,
    histograms, box and whisker plots, and scatter plots, as well as discussing some
    statistics related to reference lines and when to use different reference line
    models. Consider the next chapter as covering advanced charting in Tableau.
  id: totrans-405
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一章中，我们将进一步前进，处理双轴图、直方图、箱线图和散点图，以及讨论一些与参考线相关的统计信息以及何时使用不同的参考线模型。将下一章视为Tableau的高级图表制作。
