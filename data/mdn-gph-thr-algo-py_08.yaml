- en: '5'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '5'
- en: Ecological Data
  id: totrans-1
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 生态数据
- en: In this chapter, we’ll introduce some methods commonly used in ecological data
    collection and then explore graph-theoretic clustering methods that can parse
    out animal populations across monitored geographic areas. This is a very common
    problem within ecological research, as populations of animals migrate and overlap
    with other populations of animals. In addition, parsing out healthy and unhealthy
    ecosystems is a common survey task for conservation and urban planning. We’ll
    analyze two types of ecological data with **spectral clustering** to find groups
    within snake capture count and ecological survey text data.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 本章中，我们将介绍一些在生态数据收集中常用的方法，然后探讨可以解析出监测地理区域内动物群体的图论聚类方法。这在生态研究中是一个非常普遍的问题，因为动物群体会迁徙并与其他动物群体重叠。此外，解析出健康和不健康的生态系统是保护和城市规划中常见的调查任务。我们将使用**谱聚类**分析两种类型的生态数据，以在蛇捕获计数和生态调查文本数据中找到群体。
- en: By the end of this chapter, you’ll understand how to apply spectral clustering
    to find groups on networks. You’ll also see how different implementations of spectral
    clustering can be formulated, with some algorithms scaling better to large networks
    than other algorithms.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 到本章结束时，你将了解如何将谱聚类应用于网络中的群体查找。你还将看到不同的谱聚类实现如何被公式化，一些算法在处理大型网络时比其他算法更有效。
- en: 'Specifically, we will cover the following topics:'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 具体来说，我们将涵盖以下主题：
- en: Introduction to ecological data
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 生态数据简介
- en: Spectral graph tools
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 谱图工具
- en: Let’s get started with some background on ecological problems.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们从生态问题的背景知识开始。
- en: Technical requirements
  id: totrans-8
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 技术要求
- en: You will require Jupyter Notebook to run the practical examples in this chapter.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 运行本章中的实践示例需要 Jupyter Notebook。
- en: 'The code for this chapter is available here: [https://github.com/PacktPublishing/Modern-Graph-Theory-Algorithms-with-Python](https://github.com/PacktPublishing/Modern-Graph-Theory-Algorithms-with-Python)'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 本章的代码可在以下链接找到：[https://github.com/PacktPublishing/Modern-Graph-Theory-Algorithms-with-Python](https://github.com/PacktPublishing/Modern-Graph-Theory-Algorithms-with-Python)
- en: Introduction to ecological data
  id: totrans-11
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 生态数据简介
- en: Environmental research plays a large role in conservation strategy, climate
    change monitoring, and farming practices. Data collected might include data on
    plant type distributions and densities, animal migration patterns, or extent of
    disease. For instance, farmers may wish to track crop disease across large farms
    to monitor potential threats to their annual yield from various crops. Conservationists
    may wish to track endangered animal populations as they migrate through a national
    park to deploy anti-poaching resources to areas with large native or migratory
    populations. Let’s first explore some data collection methods.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 环境研究在保护战略、气候变化监测和农业实践中发挥着重要作用。收集的数据可能包括植物类型分布和密度、动物迁徙模式或疾病范围的数据。例如，农民可能希望跟踪大型农场上的作物疾病，以监测各种作物对年度产量的潜在威胁。保护主义者可能希望跟踪濒危动物群体在穿越国家公园时的迁徙，以便将反偷猎资源部署到拥有大量本地或迁徙群体的地区。让我们首先探讨一些数据收集方法。
- en: Exploring methods to track animal populations across geographies
  id: totrans-13
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 探索跟踪地理区域内动物群体的方法
- en: 'Animal populations are frequently mobile, with seasonal changes, weather events,
    and human interactions driving the movement of animals from one geographic location
    to another. One of the largest mass migrations of animals occurs in the grasslands
    of East Africa, where millions of herd animals (such as wildebeests and zebras)
    trek from the Serengeti to Masai Mara back to the Serengeti each year as rains
    come and go (*Figure 5**.1*). Poaching not only harms animal populations but often
    fuels other illegal activities, creating problems locally and internationally;
    understanding migration patterns on the borders of protected areas can position
    resources to stem poaching:'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 动物群体通常具有高度的流动性，季节变化、天气事件和人类互动驱使动物从一个地理位置移动到另一个地理位置。最大的动物迁徙之一发生在东非的草原上，每年随着雨季的来临和结束，数百万的兽群（如斑马和角马）从塞伦盖蒂迁徙到马赛马拉，然后再返回塞伦盖蒂（*图
    5.1*）。偷猎不仅危害动物群体，而且往往助长其他非法活动，造成当地和国际问题；了解保护区边界的迁徙模式可以将资源定位以遏制偷猎：
- en: "![Figure 5.1 – \uFEFFAn illustration of a zebra herd as the rainy season begins](img/B21087_05_01.jpg)"
  id: totrans-15
  prefs: []
  type: TYPE_IMG
  zh: '![图 5.1 – 雨季开始时斑马群的画面](img/B21087_05_01.jpg)'
- en: Figure 5.1 – An illustration of a zebra herd as the rainy season begins
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5.1 – 雨季开始时斑马群的画面
- en: There are many ways to monitor a population’s movement across geographies. One
    way involves tagging animals with satellite tracking tags that upload location
    data for each tagged animal. This allows researchers to construct paths for each
    animal and aggregate results across tagged populations (which might include only
    one species or several species of interest). For instance, in the zebra herd,
    perhaps a conservation team has tagged 10 of the zebras prior to the rainy season
    with tags that will track the zebras’ location each hour for a period of several
    weeks. While we would expect all 10 animals to follow the same general path from
    one park to the next, individuals may migrate at different paces, take slightly
    different routes, or stop for food and water in different locations. This data
    allows researchers to identify subpopulations within the herd whose behavior deviates
    from the herd’s majority.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 监测一个种群在地理上的移动有多种方式。一种方法是在动物身上贴上卫星追踪标签，这些标签会上传每个标记动物的定位数据。这使得研究人员可以为每个动物构建路径，并汇总标记种群（可能只包括一个物种或几个感兴趣的物种）的结果。例如，在斑马群中，也许在雨季之前，一个保护团队已经用标签标记了10只斑马，这些标签将每小时追踪斑马的位置，持续几周。虽然我们预计这10只动物将遵循从一座公园到另一座公园的相同的一般路径，但个体可能以不同的速度迁徙，走稍微不同的路线，或者在不同的地点停下来寻找食物和水。这些数据允许研究人员识别出群内行为偏离群体大多数的亚种群。
- en: Another common method to track animal populations across geographies is to use
    trap cameras hidden in locations that are likely to be frequented by species of
    interest (such as watering holes, clearings in forests, or healthy coral reefs).
    For instance, suppose public health officials have noticed an increase in king
    cobra bites in villages near the Atrai River in Bangladesh (*Figure 5**.2*) and
    would like to understand the local king cobra population to enact policies to
    prevent humans and cobras from interacting.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 另一种在地理上追踪动物种群的方法是使用隐藏在可能被感兴趣物种频繁出没的地点（如水坑、森林中的空地或健康的珊瑚礁）的陷阱相机。例如，假设公共卫生官员已经注意到孟加拉国阿特拉伊河附近村庄的眼镜王蛇咬伤事件有所增加（*图5**.2*），并希望了解当地的眼镜王蛇种群，以便制定防止人类与眼镜王蛇互动的政策。
- en: Perhaps work hours can be adjusted to keep agricultural workers from areas frequented
    by king cobras at certain times of day or seasons. Officials can set the trap
    cameras in areas where bites have become more common to capture images of cobras
    throughout the lifetime of the film used in the trap camera. Several cameras are
    set throughout the area of interest according to bite densities, and species of
    venomous snakes, including king cobras, are tracked by time of day, species, and
    number of individual snakes identified by each camera. Data then informs policies
    regarding population movement and snake control strategies to mitigate the threat
    to public safety.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 或许可以调整工作时间，以防止在特定时间或季节里，农业工人进入被眼镜王蛇频繁出没的地区。官员可以在咬伤事件更为常见的地区设置陷阱相机，以捕捉使用在陷阱相机中的胶片整个生命周期内的眼镜王蛇图像。根据咬伤密度，在感兴趣的区域设置多个相机，并通过每个相机追踪包括眼镜王蛇在内的有毒蛇类的种类、每天的时间、种类以及每个相机识别的个体蛇的数量。然后，这些数据将指导有关人口流动和蛇类控制策略的政策，以减轻对公共安全的威胁。
- en: "![Figure 5.2 – \uFEFFAn illustration of king cobra in rural Bangladesh](img/B21087_05_02.jpg)"
  id: totrans-20
  prefs: []
  type: TYPE_IMG
  zh: '![图5.2 – 孟加拉国乡村眼镜王蛇的插图](img/B21087_05_02.jpg)'
- en: Figure 5.2 – An illustration of king cobra in rural Bangladesh
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 图5.2 – 孟加拉国乡村眼镜王蛇的插图
- en: Exploring methods to capture plant distributions and diseases
  id: totrans-22
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 探索捕捉植物分布和疾病的方法
- en: Data capture on plant distributions and diseases involves a different sort of
    approach, as plants generally are not moving across geographies. Manual data collection
    requires human discernment of plant species and diseases, which may be unreliable
    and will take long periods of time to capture meaningful data. However, autonomous
    vehicles and drones offer a way to capture images and videos of plants across
    wide geographic areas, which can be processed with **convolutional neural networks**
    (**CNNs**) trained on plant image data of species native to the study area. For
    instance, Colombian farmers may want to identify instances of coffee rust early
    to avoid crop loss by running a coffee rust classifier CNN on drone or rover data
    captured weekly across their regional farms (example shown in *Figure 5**.3*).
    Images showing potential coffee rust could trigger a system alert that provides
    a geographic location on the farm or plant identification number to farmers.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 植物分布和疾病的数据捕获涉及一种不同的方法，因为植物通常不会跨越地理区域移动。手动数据收集需要人类对植物物种和疾病的识别，这可能是不可靠的，并且需要很长时间才能收集到有意义的数据。然而，自动驾驶车辆和无人机提供了一种在广阔地理区域内捕获植物图像和视频的方法，这些图像和视频可以用在研究区域本土植物图像数据上训练的**卷积神经网络**（**CNNs**）进行处理。例如，哥伦比亚的农民可能希望通过在每周捕获的区域农场无人机或漫游车数据上运行咖啡锈分类器
    CNN 来早期识别咖啡锈的实例，以避免作物损失（*图 5.3* 中的示例）。显示潜在咖啡锈的图像可能会触发一个系统警报，为农民提供农场上的地理位置或植物识别编号。
- en: "![Figure 5.3 – \uFEFFAn illustration of a coffee plant image to scan for coffee\
    \ rust on a Colombian farm](img/B21087_05_03.jpg)"
  id: totrans-24
  prefs: []
  type: TYPE_IMG
  zh: '![图 5.3 – 一张用于扫描哥伦比亚咖啡农场上咖啡锈的咖啡树图像](img/B21087_05_03.jpg)'
- en: Figure 5.3 – An illustration of a coffee plant image to scan for coffee rust
    on a Colombian farm
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5.3 – 一张用于扫描哥伦比亚咖啡农场上咖啡锈的咖啡树图像
- en: However, the manual documentation of plants can be a useful tool in studies
    of areas with potentially new plant species to identify through fieldwork. Much
    of the Congo and Amazon basins are relatively unexplored, and identifying potential
    new plant species may yield insights into an important part of the ecosystem,
    possible medications to treat human diseases, or the identification of threats
    from an invasive species.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，对植物的现场记录文档在研究可能存在新植物物种的地区可以是一个有用的工具。刚果盆地和亚马逊盆地的大部分地区相对未开发，识别潜在的新植物物种可能有助于了解生态系统的重要部分，可能的用于治疗人类疾病的药物，或识别外来物种的威胁。
- en: Invasive plants may threaten an ecosystem. New species may herald discoveries
    of new chemical compounds. Let’s consider a botanist doing fieldwork in the Amazon
    who comes across a new type of mushroom that she hasn’t seen before (*Figure 5**.4*).
    To confirm that this is a new mushroom species, our botanist would take photographs,
    collect a sample for genetic analysis, and log the ecosystem in which she encountered
    the mushroom.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 侵入性植物可能威胁到生态系统。新物种可能预示着新化学物质的发现。让我们考虑一位在亚马逊进行实地考察的植物学家，她遇到了一种以前从未见过的蘑菇类型（*图
    5.4*）。为了确认这是一种新的蘑菇物种，我们的植物学家会拍照，收集样本进行基因分析，并记录她遇到蘑菇的生态系统。
- en: "![Figure 5.4 – \uFEFFAn illustration of a potentially new species of mushroom](img/B21087_05_04.jpg)"
  id: totrans-28
  prefs: []
  type: TYPE_IMG
  zh: '![图 5.4 – 一种可能的新蘑菇物种的插图](img/B21087_05_04.jpg)'
- en: Figure 5.4 – An illustration of a potentially new species of mushroom
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5.4 – 一种可能的新蘑菇物种的插图
- en: All of these data collection methods create spatial data, where some areas may
    or may not be physically located next to each other. Species found in groups of
    geographic areas that are far from each other likely correspond to distinct populations
    that will be impacted by different human and environmental factors. Treating this
    data as spatial data and applying a few tools from graph theory can help parse
    out subpopulations of interest within ecological data analytics.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 所有这些数据收集方法都创建了空间数据，其中一些区域可能或可能不在物理上相邻。在地理位置上相隔甚远的地理区域发现的物种可能对应于不同的种群，这些种群将受到不同的人类和环境因素的影响。将此数据视为空间数据并应用一些图论工具可以帮助在生态数据分析中解析出感兴趣的亚种群。
- en: In many cases, collecting biological samples of plants or placing tracking tags
    on animals is not feasible. However, drones and other autonomous vehicles can
    snap pictures of flora and fauna in a region (*Figure 5**.5*), allowing researchers
    to identify species from the images through a special type of deep learning algorithm
    and build a network from the deep learning results.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 在许多情况下，收集植物生物样本或给动物放置追踪标签是不切实际的。然而，无人机和其他自主车辆可以拍摄该地区的植物和动物的照片（*图5.5*），使研究人员能够通过一种特殊的深度学习算法从图像中识别物种，并从深度学习结果中构建网络。
- en: "![Figure 5.5 – \uFEFFAn illustration of a forest stream, from which flora can\
    \ be identified through deep-learning algorithms](img/B21087_05_05.jpg)"
  id: totrans-32
  prefs: []
  type: TYPE_IMG
  zh: '![图5.5 – 一幅森林溪流的插图，通过深度学习算法可以从中识别出植物](img/B21087_05_05.jpg)'
- en: Figure 5.5 – An illustration of a forest stream, from which flora can be identified
    through deep-learning algorithms
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 图5.5 – 一幅森林溪流的插图，通过深度学习算法可以从中识别出植物
- en: Now that we know how to collect ecological data, let’s explore a few tools from
    graph theory that will help us analyze ecological data that has been collected
    across different geographical regions.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们已经知道了如何收集生态数据，让我们探索一些来自图论的工具，这些工具将帮助我们分析来自不同地理区域的收集到的生态数据。
- en: Spectral graph tools
  id: totrans-35
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 谱图工具
- en: The **adjacency matrix** and **degree of vertices** in the adjacency matrix
    contain information about the connectivity of vertices within the network. For
    an undirected network, the **Laplacian matrix** of the network is found by subtracting
    the adjacency matrix from the degree matrix (i.e., *L = D - A*, where *D* is the
    degree matrix and *A* is the adjacency matrix). This matrix contains information
    about many important properties of the network, including the number of connected
    components, the sparsest cut that can separate the network into separate components,
    and the strength of connection within the network overall.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: '**邻接矩阵**和邻接矩阵中的**顶点度**包含了关于网络中顶点连通性的信息。对于一个无向网络，网络的**拉普拉斯矩阵**是通过从度矩阵中减去邻接矩阵得到的（即
    *L = D - A*，其中 *D* 是度矩阵，*A* 是邻接矩阵）。这个矩阵包含了关于网络许多重要属性的信息，包括连通分量的数量、可以将网络分离成单独组件的最稀疏割，以及网络中连接的整体强度。'
- en: '**Connectivity** is an important concept in graph theory. A **connected network**
    is one in which there is a path between all pairs of vertices; a **disconnected
    network** is one in which some vertices do not have paths to all other vertices.
    Connected networks can be separated by cutting edges; the **minimum cut set**
    is the set of the fewest edges that need to be removed to separate a network into
    two pieces to disconnect a connected network. Not only do these values connect
    to theoretical results in graph theory related to spreading processes and other
    differential equations defined on the network, but this information also tells
    us about how to separate groups on the network.'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: '**连通性**是图论中的一个重要概念。一个**连通网络**是指所有顶点之间都存在路径的网络；一个**不连通网络**是指某些顶点没有到达其他所有顶点的路径。连通网络可以通过切割边来分离；**最小割集**是需要移除的最少边，将网络分割成两部分以断开连通网络。这些值不仅与图论中与传播过程和其他定义在网络上微分方程相关的理论结果相联系，而且这些信息还告诉我们如何分离网络上的群体。'
- en: To obtain this information, we need to perform a decomposition on the Laplacian
    matrix to obtain eigenvectors and eigenvalues (the network spectrum). Sometimes,
    we normalize the Laplacian matrix first; in spectral clustering, this is less
    of a necessity than when computing specific graph theoretic values from the spectrum.
    Then, we find the Laplacian matrix’s eigenvalues and eigenvectors. In practice,
    this is done through an algorithm rather than through linear algebra operations
    directly.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 为了获得这些信息，我们需要对拉普拉斯矩阵进行分解以获得特征向量和特征值（网络频谱）。有时，我们首先对拉普拉斯矩阵进行归一化；在谱聚类中，这不如从频谱计算特定的图论值那样必要。然后，我们找到拉普拉斯矩阵的特征值和特征向量。在实践中，这是通过算法而不是通过直接的线性代数运算来完成的。
- en: The second eigenvalue obtained from this process corresponds to the **Fiedler
    value** (also termed **algebraic connectivity**); this value calculates how many
    connected components exist in the network and relates to the robustness of the
    network. The corresponding eigenvector partitions the network into separate networks,
    thus providing a two-cluster solution to partitioning groups on the network. In
    spectral clustering, this process of partitioning a network into two separate
    networks can be repeated until a predefined stopping point is reached (such as
    a total number of clusters).
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 从此过程中获得的第二个特征值对应于**菲德勒值**（也称为**代数连通性**）；此值计算网络中存在多少个连通分量，并关系到网络的鲁棒性。相应的特征向量将网络划分为不同的网络，从而为网络上的分组划分提供两个聚类的解决方案。在谱聚类中，将网络划分为两个单独网络的过程可以重复进行，直到达到预定义的停止点（例如，总聚类数）。
- en: Spectral clustering on spatial networks constructed from ecological data allows
    researchers to partition out areas in which animals migrate, distinguish populations
    that might be isolated, and catalog differences in vegetation type or crop disease.
    Let’s set up a simple example and explore different ways to compute spectral clustering.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 从生态数据构建的空间网络上的谱聚类允许研究人员划分出动物迁徙的区域，区分可能孤立的种群，以及记录植被类型或农作物病害的差异。让我们设置一个简单的例子，并探索计算谱聚类的不同方法。
- en: Clustering ecological populations using spectral graph tools
  id: totrans-41
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用谱图工具聚类生态种群
- en: Consider a researcher in Gabon hoping to understand the interconnectivity of
    Gaboon viper populations in a protected area of Loango National Park (*Figure
    5**.6*). Snakes are tagged in seven regions of the park (represented by a vertex),
    and their tags record their location for the next month. Snakes often will move
    between regions if their habitat overlaps with multiple regions. It’s possible
    that multiple populations of snakes exist, giving different territories for different
    populations of snakes. If the two regions share a regional population, then the
    two vertices corresponding to these regions will have an edge. If no snakes migrate
    between regions, two vertices will not share an edge and likely represent different
    populations. Isolated populations tend to be more vulnerable to climate change,
    poaching, and habitat loss; understanding species and individual population ranges
    is critical to conservation efforts.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 考虑一位在加蓬的研究者，他希望了解洛昂戈国家公园保护区内加蓬蝰蛇种群之间的相互连通性（*图5**.6*）。蛇在公园的七个区域（由顶点表示）被标记，它们的标签记录了它们下一个月的位置。如果蛇的栖息地与多个区域重叠，它们通常会在这几个区域之间移动。可能存在多个蛇种群，为不同的蛇种群提供不同的领地。如果两个区域共享一个区域种群，那么对应这两个区域的两个顶点将有一条边。如果没有蛇在这几个区域之间迁徙，两个顶点将不会共享边，可能代表不同的种群。孤立的种群往往更容易受到气候变化、偷猎和栖息地丧失的影响；了解物种和个体种群范围对于保护工作至关重要。
- en: "![Figure 5.6 – \uFEFFAn illustration of a \uFEFFGaboon viper on the forest\
    \ floor](img/B21087_05_06.jpg)"
  id: totrans-43
  prefs: []
  type: TYPE_IMG
  zh: '![图5.6 – 丛林地面上加蓬蝰蛇的插图](img/B21087_05_06.jpg)'
- en: Figure 5.6 – An illustration of a Gaboon viper on the forest floor
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 图5.6 – 丛林地面上加蓬蝰蛇的插图
- en: 'Let’s create some data on our snake population movements with `Script 5.1`:'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们使用`Script 5.1`创建一些关于蛇种群移动的数据：
- en: '[PRE0]'
  id: totrans-46
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'In practice, geographic regions rarely share borders with all other regions
    in a dataset. `Script 5.1` spatial weighting component (weights total) to our
    adjacency matrix of snake overlap (`adj_mat`) to derive a weighted adjacency matrix
    (`adj_mat_w`):'
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 在实践中，地理区域很少与数据集中所有其他区域共享边界。使用`Script 5.1`空间加权组件（权重总和）对我们的蛇重叠邻接矩阵（`adj_mat`）进行加权，以推导出加权邻接矩阵（`adj_mat_w`）：
- en: '[PRE1]'
  id: totrans-48
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'We can create and explore our degree matrix, as well as our Laplacian matrix
    (subtracting the adjacency matrix from the degree matrix). Let’s add this information
    to `Script 5.1`:'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以创建并探索我们的度矩阵，以及我们的拉普拉斯矩阵（从度矩阵中减去邻接矩阵）。让我们将此信息添加到`Script 5.1`中：
- en: '[PRE2]'
  id: totrans-50
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'The degree matrix encodes the number of vertices connected to a given vertex
    and serves as a basic measure of centrality. Hubs have high degree scores, while
    more isolated regions might have a degree of zero or one. Our network of snake
    population overlap has similar degree centrality measures across the entire network:'
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 度矩阵编码了连接到给定顶点的顶点数量，并作为中心性的基本度量。中心节点具有高度分数，而更孤立的区域可能具有零或一度。我们关于蛇种群重叠的网络在整个网络中具有类似的度中心性度量：
- en: '[PRE3]'
  id: totrans-52
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'Let’s now look at the Laplacian matrix, which encodes the connectivity information
    we’ll use in our spectral decomposition and clustering:'
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们来看拉普拉斯矩阵，它编码了我们将在谱分解和聚类中使用的连接信息：
- en: '[PRE4]'
  id: totrans-54
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'There are multiple ways we can compute the Fielder vector to get our spectral
    clustering results. We’ll go through two ways to compute this with Python. You
    may need to replace `nx.from_numpy_matrix` with `nx.from_numpy_array`, depending
    on your version of NetworkX. Depending on the size of the problem, it may be easier
    to use a linear algebra solver similar to the one we added to Script 5.1:'
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 我们有多种方法可以计算 Fielder 矢量以获得我们的谱聚类结果。我们将通过两种方法使用 Python 来计算。根据你的 NetworkX 版本，你可能需要将
    `nx.from_numpy_matrix` 替换为 `nx.from_numpy_array`。根据问题的规模，使用类似于我们在 Script 5.1 中添加的线性代数求解器可能更容易：
- en: '[PRE5]'
  id: totrans-56
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'This shows two distinct snake populations that converge to the sixth region
    of our Loango National Park sampling area (along with snakes staying in the exact
    same area, noted by loops), as shown in *Figure 5**.7*:'
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 这显示了两个不同的蛇群汇聚到我们洛昂戈国家公园采样区的第六个区域（以及留在确切相同区域的蛇，用环表示），如图 *图 5**.7* 所示：
- en: '![Figure 5.7 – Spectral clustering of snake populations](img/B21087_05_07.jpg)'
  id: totrans-58
  prefs: []
  type: TYPE_IMG
  zh: '![图 5.7 – 蛇群谱聚类](img/B21087_05_07.jpg)'
- en: Figure 5.7 – Spectral clustering of snake populations
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5.7 – 蛇群谱聚类
- en: 'Scikit-learn provides a spectral clustering package, which we provide as an
    alternative calculation method by adding to `Script 5.1`. If you encounter a warning
    message on Windows, don’t be alarmed; it is not an error. Let’s add to `Script`
    `5.1` now:'
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: Scikit-learn 提供了一个谱聚类包，我们通过将其添加到 `Script 5.1` 中提供了一个替代的计算方法。如果在 Windows 上遇到警告信息，请不要惊慌；这不是错误。现在让我们将内容添加到
    `Script` `5.1` 中：
- en: '[PRE6]'
  id: totrans-61
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: 'As expected, the scikit-learn package produces the same partitioning of the
    network (*Figure 5**.8*) as our linear algebra approach:'
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 如预期，scikit-learn 包产生了与我们的线性代数方法相同的网络划分 (*图 5**.8*)：
- en: '![Figure 5.8 – Scikit-learn spectral clustering of snake populations](img/B21087_05_08.jpg)'
  id: totrans-63
  prefs: []
  type: TYPE_IMG
  zh: '![图 5.8 – Scikit-learn 蛇群谱聚类](img/B21087_05_08.jpg)'
- en: Figure 5.8 – Scikit-learn spectral clustering of snake populations
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5.8 – Scikit-learn 蛇群谱聚类
- en: Spectral clustering is not limited to network data or ecological data. Any numeric
    dataset can be clustered using spectral clustering. In image and text analytics,
    we often don’t have many instances of pre-labeled data, and manually annotating
    data is time consuming and can miss important classes in the dataset if they don’t
    happen to be in a small sample for someone to score manually. Spectral clustering
    allows us to embed data through tools in these fields, create a network based
    on nearest neighbors, and apply spectral clustering to obtain labels for a dataset
    that can then be used to train a classification algorithm. This process is termed
    **semi-supervised learning**, and real-world data science in natural language
    processing and image analytics often relies on this methodology to build classification
    models from datasets. Let’s see this in action by considering a text-based ecological
    dataset.
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 谱聚类不仅限于网络数据或生态数据。任何数值数据集都可以使用谱聚类进行聚类。在图像和文本分析中，我们通常没有很多预标记数据的实例，手动标注数据既耗时又可能错过数据集中的一些重要类别，如果这些类别没有出现在某人手动评分的小样本中。谱聚类使我们能够通过这些领域的工具嵌入数据，基于最近邻创建网络，并应用谱聚类为数据集获取标签，然后可以使用这些标签来训练分类算法。这个过程被称为
    **半监督学习**，自然语言处理和图像分析中的现实世界数据科学通常依赖于这种方法从数据集中构建分类模型。让我们通过考虑一个基于文本的生态数据集来观察这一过程。
- en: Spectral clustering on text notes
  id: totrans-66
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 文本上的谱聚类
- en: 'Let’s consider a dataset of ecological notes, including five healthy and five
    unhealthy local parks. While these notes are not as extensive as a full ecological
    survey, they should demonstrate how to create a semi-supervised learning pipeline
    to classify ecosystem health. Here is one example of a healthy ecosystem in the
    notes:'
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们考虑一个生态笔记数据集，包括五个健康和五个不健康的本地公园。虽然这些笔记不如完整的生态调查那么详尽，但它们应该展示如何创建一个半监督学习流程来分类生态系统健康。以下是笔记中一个健康生态系统的例子：
- en: '[PRE7]'
  id: totrans-68
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'Here is an example of an unhealthy ecosystem in the dataset:'
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 数据集中一个不健康生态系统的例子如下：
- en: '[PRE8]'
  id: totrans-70
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: 'While we could annotate these notes ourselves, we’ll use spectral clustering
    to see how semi-supervised learning can be used to generate training data labels
    for much larger datasets where annotation might be unfeasible or unreliable. First,
    we’ll import our data with `Script 5.2`:'
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然我们可以自己标注这些笔记，但我们将使用光谱聚类来了解半监督学习如何用于为可能无法实现或不可靠的更大数据集生成训练数据标签。首先，我们将使用`Script
    5.2`导入我们的数据：
- en: '[PRE9]'
  id: totrans-72
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: 'To embed our data, we’ll use a `Script 5.2`:'
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 为了嵌入我们的数据，我们将使用`Script 5.2`：
- en: '[PRE10]'
  id: totrans-74
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: 'Now that we have embedded our data, we can create our nearest neighbors graph.
    Since we have such a small sample size, we’ll consider a point’s three nearest
    neighbors by adding to `Script 5.2`:'
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们已经嵌入我们的数据，我们可以创建我们的最近邻图。由于我们的样本量很小，我们将通过向`Script 5.2`添加内容来考虑一个点的三个最近邻：
- en: '[PRE11]'
  id: totrans-76
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: 'Now we’re ready to run our spectral clustering and examine how our data clusters
    in this algorithm. Let’s add to `Script 5.2` to see this in action:'
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们已经准备好运行我们的光谱聚类并检查我们的数据在这个算法中的聚类情况。让我们向`Script 5.2`添加内容以观察其效果：
- en: '[PRE12]'
  id: totrans-78
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: 'From our printed labels, we can see that ecosystems `3`, `7`, `8`, and `10`
    form one cluster, while ecosystems `1`, `2`, `4`, `5`, `6`, `7`, and `9` form
    the other. Let’s look at our sample of notes to see how well this method found
    differences in tone or theme by adding to `Script 5.2`:'
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 从我们打印的标签中，我们可以看到生态系统`3`、`7`、`8`和`10`形成一个簇，而生态系统`1`、`2`、`4`、`5`、`6`、`7`和`9`形成另一个簇。让我们通过向`Script
    5.2`添加内容来查看我们的笔记样本，看看这种方法通过添加内容到`Script 5.2`如何找到音调或主题上的差异：
- en: '[PRE13]'
  id: totrans-80
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: 'We can see that notes `3`, `4`, `7`, `8`, and `10` are unhealthy ecosystems
    compared to the rest of our sample. Spectral clustering doesn’t seem to find all
    of these differences, but it’s possible that another type of text embedding would
    distinguish tone better than the one we selected. It’s also possible that fewer
    neighbors or a larger sample size would provide better results. However, we do
    find four of our five unhealthy ecosystems through our spectral clustering algorithm.
    A human reviewing results would not have to switch many labels (20%) to generate
    correct training labels for this data to be used to train a classification model.
    The second column of our dataset includes correct tone classification labels.
    Let’s convert our BERT embeddings to a DataFrame by adding to `Script 5.2`:'
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以看到笔记`3`、`4`、`7`、`8`和`10`与我们的样本中的其他部分相比是不健康的生态系统。光谱聚类似乎没有发现所有这些差异，但可能另一种类型的文本嵌入会比我们选择的更好地区分音调。也可能更少的邻居或更大的样本量会提供更好的结果。然而，通过我们的光谱聚类算法，我们确实找到了五个不健康生态系统中的四个。如果有人审查结果，就不需要切换很多标签（20%）来生成用于训练分类模型的正确训练标签。我们的数据集的第二列包括正确的音调分类标签。让我们通过向`Script
    5.2`添加内容将我们的BERT嵌入转换为DataFrame：
- en: '[PRE14]'
  id: totrans-82
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: 'Now, let’s split our data into training and test sets (80% and 20% splits,
    respectively), create a *k*-nearest neighbors classifier (which classifies points
    according to the labels of their two nearest neighbors with *k* = 2), and measure
    the test set error by adding to `Script 5.2`:'
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，让我们将我们的数据分为训练集和测试集（分别占80%和20%），创建一个*k*最近邻分类器（根据其两个最近邻的标签对点进行分类，其中*k* = 2），并通过向`Script
    5.2`添加内容来衡量测试集的错误率：
- en: '[PRE15]'
  id: totrans-84
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: Our split yields an accuracy of 100%, suggesting no misclassification of ecosystem
    types. Yours may vary given seeds and random number generators on your machine.
    However, this approach seems to work well for this dataset. Our pipeline of processing
    text data via embeddings, deriving a good start to label creation via spectral
    clustering, and then creating a classifier model yielded a high-accuracy classification
    system for our dataset.
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 我们的数据分割得到100%的准确率，这表明没有生态系统类型的误分类。根据您机器上的种子和随机数生成器，您的结果可能会有所不同。然而，这种方法似乎适用于这个数据集。我们通过嵌入处理文本数据、通过光谱聚类获得良好的标签创建起点，然后创建分类模型，为我们的数据集产生了一个高准确率的分类系统。
- en: Summary
  id: totrans-86
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: In this chapter, we learned how to collect ecological data for a variety of
    data science problems. After a brief introduction to the theory of spectral clustering,
    we showed how spectral clustering could parse out different animal populations
    through our Gaboon viper distribution example. Finally, we explored spectral clustering
    of nearest neighbor networks that can be used in semi-supervised learning pipelines
    through an ecosystem note data example. In [*Chapter 6*](B21087_06.xhtml#_idTextAnchor078),
    we'll introduce centrality measurements and use them to find tipping points in
    stock pricing.
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们学习了如何为各种数据科学问题收集生态数据。在简要介绍了光谱聚类理论之后，我们通过我们关于加蓬蝰蛇分布的例子展示了如何通过光谱聚类解析出不同的动物种群。最后，我们通过生态系统笔记数据示例探讨了可用于半监督学习管道的最近邻网络光谱聚类。在[*第6章*](B21087_06.xhtml#_idTextAnchor078)中，我们将介绍中心性度量，并使用它们来寻找股票定价的临界点。
- en: References
  id: totrans-88
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 参考文献
- en: Angelici, F. M., Effah, C., Inyang, M. A., & Luiselli, L. (2000). *A preliminary
    radiotracking study of movements, activity patterns and habitat use of free-ranging
    Gaboon vipers, Bitis gabonica*. *Revue d’Ecologie, Terre et Vie*, *55*(1), 45-55.
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: Angelici, F. M., Effah, C., Inyang, M. A., & Luiselli, L. (2000). *自由游荡加蓬蝰蛇（Bitis
    gabonica）的移动、活动模式和栖息地使用初步放射性追踪研究*。*生态学、陆地与生命杂志*，*55*(1)，45-55。
- en: 'Corrales, D. C., Figueroa, A., Ledezma, A., & Corrales, J. C. (2015). *An empirical
    multi-classifier for coffee rust detection in Colombian crops*. In *Computational
    Science and Its Applications--ICCSA 2015: 15th International Conference, Banff,
    AB, Canada, June 22-25, 2015, Proceedings, Part I 15* (pp. 60-74). Springer International
    Publishing.'
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: Corrales, D. C., Figueroa, A., Ledezma, A., & Corrales, J. C. (2015). *用于哥伦比亚咖啡锈病检测的经验多分类器*。见*计算科学及其应用—ICCSA
    2015：第15届国际会议，加拿大班夫，AB，2015年6月22-25日，第I部分15*（第60-74页）。Springer国际出版社。
- en: Froese, G. Z., Ebang Mbélé, A., Beirne, C., Atsame, L., Bayossa, C., Bazza,
    B., ... & Poulsen, J. R. (2022). *Coupling paraecology and hunter GPS self*‐*follows
    to quantify village bushmeat hunting dynamics across the landscape scale*. *African
    Journal of Ecology*, *60* (2), 229-249.
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: Froese, G. Z., Ebang Mbélé, A., Beirne, C., Atsame, L., Bayossa, C., Bazza,
    B., ... & Poulsen, J. R. (2022). *耦合生态学狩猎者GPS自我跟踪以量化景观尺度上的村庄野味狩猎动态*。*非洲生态学杂志*，*60*
    (2)，229-249。
- en: Mutombo, F. K. (2012). *Long-range interactions in* *complex networks*.
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: Mutombo, F. K. (2012). *复杂网络中的长距离相互作用*。
- en: 'Ng, A., Jordan, M., & Weiss, Y. (2001). *On spectral clustering: Analysis and
    an algorithm*. *Advances in neural information processing* *systems*, *14*.'
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: Ng, A., Jordan, M., & Weiss, Y. (2001). *关于光谱聚类：分析和算法*。*神经信息处理系统进展*，*14*。
- en: 'Nunez‐Mir, G. C., Iannone III, B. V., Pijanowski, B. C., Kong, N., & Fei, S.
    (2016). *Automated content analysis: addressing the big literature challenge in
    ecology and evolution*. *Methods in Ecology and Evolution*, *7* (11), 1262-1272.'
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: Nunez-Mir, G. C., Iannone III, B. V., Pijanowski, B. C., Kong, N., & Fei, S.
    (2016). *自动内容分析：解决生态学和进化中的大量文献挑战*。*生态与进化方法*，*7* (11)，1262-1272。
- en: 'Qi, X., Fuller, E., Wu, Q., Wu, Y., & Zhang, C. Q. (2012). *Laplacian centrality:
    A new centrality measure for weighted networks*. *Information Sciences*, *194*,
    240-253.'
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: Qi, X., Fuller, E., Wu, Q., Wu, Y., & Zhang, C. Q. (2012). *拉普拉斯中心性：加权网络的新中心性度量*。*信息科学*，*194*，240-253。
- en: 'Reimers, N., & Gurevych, I. (2019). *Sentence-bert: Sentence embeddings using
    siamese bert-networks*. *arXiv* *preprint arXiv:1908.10084*.'
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: Reimers, N., & Gurevych, I. (2019). *Sentence-bert：使用Siamese BERT网络的句子嵌入*。*arXiv*
    预印本 arXiv:1908.10084。
- en: White, S., & Smyth, P. (2005, April). *A spectral clustering approach to finding
    communities in graphs*. In *Proceedings of the 2005 SIAM international conference
    on data mining* (pp. 274-285). Society for industrial and applied Mathematics.
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: White, S., & Smyth, P. (2005, April). *图中的社区发现光谱聚类方法*。见*2005年SIAM国际数据挖掘会议论文集*（第274-285页）。工业与应用数学学会。
