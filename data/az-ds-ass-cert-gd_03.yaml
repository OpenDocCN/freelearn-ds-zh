- en: '*Chapter 2*: Deploying Azure Machine Learning Workspace Resources'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '*第二章*：部署 Azure 机器学习工作区资源'
- en: In this chapter, you will learn how to deploy an **Azure Machine Learning**
    (**Azure ML**) workspace through the Azure portal and the **Command-Line Interface**
    (**CLI**). You will also gain an understanding of the deployment parameters that
    you need to select while deploying the workspace. In the end, you will have a
    fully functional Azure ML workspace, and you will be able to navigate to all of
    the deployed Azure resources.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，你将学习如何通过 Azure 门户和 **命令行界面**（**CLI**）部署 **Azure 机器学习**（**Azure ML**）工作区。你还将了解在部署工作区时需要选择的部署参数。最后，你将拥有一个完全功能的
    Azure ML 工作区，并能够访问所有已部署的 Azure 资源。
- en: 'In this chapter, we''re going to cover the following main topics:'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将涵盖以下主要内容：
- en: Deploying Azure ML through the portal
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过门户部署 Azure ML
- en: Deploying Azure ML via the CLI
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过 CLI 部署 Azure ML
- en: Alternative ways to deploy an Azure ML workspace
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 部署 Azure ML 工作区的替代方式
- en: Exploring the deployed Azure resources
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 探索已部署的 Azure 资源
- en: Technical requirements
  id: totrans-7
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 技术要求
- en: 'To provision an Azure ML workspace, you will need an Azure subscription. You
    can get a free trial by visiting [https://azure.microsoft.com/free/](https://azure.microsoft.com/free/).
    If you want to use an existing subscription, you will need to request the owner
    of the subscription to provide you with the following **Resource Group** items:'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 要创建 Azure ML 工作区，你需要一个 Azure 订阅。你可以通过访问 [https://azure.microsoft.com/free/](https://azure.microsoft.com/free/)
    获得免费试用。如果你想使用现有的订阅，你需要请求订阅所有者提供以下 **资源组** 项目：
- en: '`packt-azureml-rg`'
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`packt-azureml-rg`'
- en: '`packt-azureml-cli-rg`'
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`packt-azureml-cli-rg`'
- en: 'This book assumes that you have either a `Contributor` role or an `Owner` role
    on these resource groups. You are going to deploy an Azure ML workspace in both
    of those resource groups: one through the Azure portal and one through the Azure
    CLI.'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 本书假设你在这些资源组中拥有 `Contributor` 角色或 `Owner` 角色。你将通过 Azure 门户和 Azure CLI 在这两个资源组中各部署一个
    Azure ML 工作区。
- en: '**Azure ML** requires the following providers to be registered in the Azure
    subscription that hosts the resource groups you are planning to use:'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: '**Azure ML** 需要在托管资源组的 Azure 订阅中注册以下提供程序：'
- en: '`Microsoft.MachineLearningServices`'
  id: totrans-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Microsoft.MachineLearningServices`'
- en: '`Microsoft.KeyVault`'
  id: totrans-14
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Microsoft.KeyVault`'
- en: '`Microsoft.Storage`'
  id: totrans-15
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Microsoft.Storage`'
- en: '`Microsoft.insights`'
  id: totrans-16
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Microsoft.insights`'
- en: '`Microsoft.ContainerRegistry`'
  id: totrans-17
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Microsoft.ContainerRegistry`'
- en: '`Microsoft.Notebooks`'
  id: totrans-18
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Microsoft.Notebooks`'
- en: If you are the `Owner` of the subscription, Azure will automatically register
    the providers for you when you deploy the resources. Otherwise, you will need
    to request that the subscription owner registers these providers for you by following
    the instructions at [https://docs.microsoft.com/azure/azure-resource-manager/templates/error-register-resource-provider#solution-3---azure-portal](https://docs.microsoft.com/azure/azure-resource-manager/templates/error-register-resource-provider#solution-3---azure-portal).
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你是订阅的 `Owner`，Azure 会在你部署资源时自动为你注册提供程序。否则，你需要按照 [https://docs.microsoft.com/azure/azure-resource-manager/templates/error-register-resource-provider#solution-3---azure-portal](https://docs.microsoft.com/azure/azure-resource-manager/templates/error-register-resource-provider#solution-3---azure-portal)
    上的说明请求订阅所有者为你注册这些提供程序。
- en: You will require a modern browser that has **JavaScript** enabled. This is required
    to access the Azure portal.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 你需要一个启用了 **JavaScript** 的现代浏览器。访问 Azure 门户时需要此功能。
- en: Optionally, you can download and install the Azure CLI from the official Microsoft
    documentation page at [https://docs.microsoft.com/cli/azure/install-azure-cli](https://docs.microsoft.com/cli/azure/install-azure-cli).
    In this book, you will learn how to use the online version of this tool that is
    embedded within the Azure portal.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 可选地，你可以从微软官方文档页面 [https://docs.microsoft.com/cli/azure/install-azure-cli](https://docs.microsoft.com/cli/azure/install-azure-cli)
    下载并安装 Azure CLI。本书将教你如何使用嵌入在 Azure 门户中的在线版本。
- en: You can find all of the commands and code snippets of this chapter on GitHub
    at [http://bit.ly/dp100-ch02](http://bit.ly/dp100-ch02).
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以在 GitHub 上找到本章的所有命令和代码片段：[http://bit.ly/dp100-ch02](http://bit.ly/dp100-ch02)。
- en: Deploying Azure ML through the portal
  id: totrans-23
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 通过门户部署 Azure ML
- en: In this section, you are going to deploy an Azure ML workspace through the Azure
    portal wizard. First, navigate to the Azure portal at [https://portal.azure.com](https://portal.azure.com).
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，你将通过 Azure 门户向导部署一个 Azure ML 工作区。首先，导航到 Azure 门户 [https://portal.azure.com](https://portal.azure.com)。
- en: 'There are a couple of ways in which you can initiate the creation of an Azure
    ML workspace wizard. The following are the three most popular ones:'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 有几种方法可以启动 Azure ML 工作区向导的创建。以下是三种最常见的方法：
- en: 'From the home page of the Azure portal, you can select **Create a resource**
    from either the top of the page underneath the **Azure services** label or the
    **Azure portal menu** in the upper-left corner:'
  id: totrans-26
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从 Azure 门户的主页，您可以从页面顶部的 **Azure 服务** 标签下或左上角的 **Azure 门户菜单** 中选择 **创建资源**：
- en: '![Figure 2.1 – Creating a resource in the Azure portal'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 2.1 – 在 Azure 门户中创建资源'
- en: '](img/B16777_02_001.jpg)'
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16777_02_001.jpg)'
- en: Figure 2.1 – Creating a resource in the Azure portal
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 图 2.1 – 在 Azure 门户中创建资源
- en: 'This approach is the most generic one and will ask you to search for the service
    you want to create. Search for `machine learning` and select the first option
    from the **Marketplace** search results that are provided by Microsoft:'
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 这种方法是最通用的，会要求您搜索要创建的服务。搜索 `machine learning` 并选择 Microsoft 提供的 **Marketplace**
    搜索结果中的第一个选项：
- en: '![ Figure 2.2 – ML search results in Azure Marketplace'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 2.2 – Azure Marketplace 中的 ML 搜索结果'
- en: '](img/B16777_02_002.jpg)'
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16777_02_002.jpg)'
- en: Figure 2.2 – ML search results in Azure Marketplace
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 图 2.2 – Azure Marketplace 中的 ML 搜索结果
- en: You can review the service information. Then, when you are done, click on the
    **Create** button to start the wizard.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以查看服务信息。完成后，点击 **创建** 按钮启动向导。
- en: 'Alternatively, you can search for `machine learning` in the top search bar
    of the Azure portal and select the **Machine Learning** option that appears under
    **Services**:'
  id: totrans-35
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 或者，您可以在 Azure 门户的顶部搜索栏中搜索 `machine learning`，并选择 **Machine Learning** 选项，该选项出现在
    **服务** 下：
- en: '![Figure 2.3 – The ML service showing in the Azure portal search results'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 2.3 – 在 Azure 门户中显示的 ML 服务搜索结果'
- en: '](img/B16777_02_003.jpg)'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16777_02_003.jpg)'
- en: Figure 2.3 – The ML service showing in the Azure portal search results
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 图 2.3 – 在 Azure 门户中显示的 ML 服务搜索结果
- en: 'This will navigate you to a list of already deployed ML workspaces that you
    have access to. If this is a new subscription, it will be empty; you can click
    on the **Add** button on the toolbar:'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 这将引导您进入您可以访问的已经部署的 ML 工作区列表。如果这是一个新的订阅，则该列表为空；您可以点击工具栏中的 **添加** 按钮：
- en: '![Figure 2.4 – The create buttons available in an empty service list'
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 2.4 – 空服务列表中可用的创建按钮'
- en: '](img/B16777_02_004.jpg)'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16777_02_004.jpg)'
- en: Figure 2.4 – The create buttons available in an empty service list
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 图 2.4 – 空服务列表中可用的创建按钮
- en: 'The final popular approach is to navigate to the resource group where you want
    to deploy the Azure ML workspace and select **Add** from the toolbar:'
  id: totrans-43
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 最常见的方法是导航到您希望部署 Azure ML 工作区的资源组，并从工具栏中选择 **添加**：
- en: '![Figure 2.5 – The Add option within the resource group'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 2.5 – 资源组中的添加选项'
- en: '](img/B16777_02_005.jpg)'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16777_02_005.jpg)'
- en: Figure 2.5 – The Add option within the resource group
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 图 2.5 – 资源组中的添加选项
- en: Search for `machine learning` and select the first option in the Marketplace
    search result that is provided by Microsoft. Click on the **Create** button to
    start the wizard. This approach will prepopulate the resource group option of
    the wizard.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 搜索 `machine learning`，并选择 Microsoft 提供的 Marketplace 搜索结果中的第一个选项。点击 **创建** 按钮以启动向导。此方法将自动填充向导中的资源组选项。
- en: 'All three of these approaches will lead you to the deployment wizard:'
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 这三种方法都将引导您进入部署向导：
- en: '![Figure 2.6 – The ML workspace creation wizard'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 2.6 – ML 工作区创建向导'
- en: '](img/B16777_02_006.jpg)'
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16777_02_006.jpg)'
- en: Figure 2.6 – The ML workspace creation wizard
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 图 2.6 – ML 工作区创建向导
- en: In the next section, you will learn how to use the wizard to deploy the Azure
    ML workspace.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一部分，您将学习如何使用向导来部署 Azure ML 工作区。
- en: Using the deployment wizard
  id: totrans-53
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 使用部署向导
- en: 'The wizard consists of five steps or tabs:'
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 向导包括五个步骤或选项卡：
- en: '**Basics**: This is basic information regarding the workspace you are about
    to deploy.'
  id: totrans-55
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**基础信息**：这是关于您即将部署的工作区的基本信息。'
- en: '**Networking**: This refers to the advanced networking options you might want
    to configure.'
  id: totrans-56
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**网络设置**：这是指您可能希望配置的高级网络选项。'
- en: '**Advanced**: This includes the advanced identity and data security workspace
    options'
  id: totrans-57
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**高级设置**：这包括高级身份验证和数据安全工作区选项'
- en: '**Tags**: This includes the associate tags within the workspace'
  id: totrans-58
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**标签**：这包括工作区中的相关标签'
- en: '**Review + create**: This is the last step of the wizard; after a short validation
    process, you can provision the workspace.'
  id: totrans-59
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**审核 + 创建**：这是向导的最后一步；经过简短的验证过程后，您可以部署工作区。'
- en: In the next sections, we'll review all of the options available in the wizard
    along with the considerations you need to make before selecting them.
  id: totrans-60
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在接下来的章节中，我们将回顾向导中所有可用的选项，并讨论在选择它们之前需要考虑的事项。
- en: Important note
  id: totrans-61
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 重要提示
- en: If you see the warning **The selected subscription doesn't have permissions
    to register the resource provider** in the **Basics** step of the wizard, please
    make sure you ask the owner of the Azure subscription to register the resource
    providers mentioned in the *Technical requirements* section of this chapter if
    the providers are missing. Failing to have those providers registered will cause
    a validation error in the **Review + create** step of the wizard.
  id: totrans-62
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果你在向导的**基本**步骤中看到警告**选定的订阅没有权限注册资源提供者**，请确保向Azure订阅的所有者请求注册本章*技术要求*部分提到的资源提供者（如果缺少提供者）。如果这些提供者没有注册，将导致在向导的**审查
    + 创建**步骤中出现验证错误。
- en: Basics
  id: totrans-63
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 基本信息
- en: 'The wizard starts at the **Basics** step:'
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 向导从**基本**步骤开始：
- en: The first thing you need to specify is the `Contributor` access role at the
    subscription level. If you have started the wizard from the `packt-azureml-rg`.
  id: totrans-65
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你需要首先指定的是`Contributor`访问角色，位于订阅级别。如果你是从`packt-azureml-rg`启动向导的。
- en: Type in a `packt-learning-mlw`, which is a name inspired by the **Azure Cloud
    Adoption Framework** (**Azure CAF**) naming conventions.
  id: totrans-66
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 输入`packt-learning-mlw`，这是一个受**Azure Cloud Adoption Framework**（**Azure CAF**）命名规范启发的名称。
- en: You will need to select a **Region** to deploy the Azure ML workspace. The region
    is the Azure data center where you are going to deploy all of the resources required
    by the Azure ML workspace. The list is already filtered to include only the data
    centers that have the product available.
  id: totrans-67
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你需要选择一个**区域**来部署Azure ML工作区。该区域是你将要部署Azure ML工作区所需资源的Azure数据中心。列表已经筛选，仅包含具有该产品可用的所有数据中心。
- en: There are three things you need to consider when selecting the Azure region
    to deploy your resources in. They include compliance and data residency requirements,
    service availability, and pricing. One example of such a requirement might be
    that you need to use some specialized **virtual machine** size that has a specific
    **Graphics Processing Unit** (**GPU**) such as the NV-series, which has the Tesla
    M60 – a virtual machine size that is not available in any Canada-based Azure region.
    For this book, you should select the region that is closest to you.
  id: totrans-68
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在选择Azure区域部署资源时，有三件事需要考虑。它们包括合规性和数据驻留要求、服务可用性以及定价。一个例子可能是你需要使用某些具有特定**图形处理单元**（**GPU**）的专用**虚拟机**大小，例如NV系列，它配备了Tesla
    M60——这种虚拟机大小在任何加拿大Azure区域都不可用。对于本书，你应该选择离你最近的区域。
- en: Optionally, you can modify the names of the `hyphen (-)` in the storage account
    or the container registry names. Moreover, the names of the storage account, key
    vault, and container registry must be unique. You will learn more about those
    resource in this chapter's *Exploring the deployed Azure resources* section. If
    another resource exists with the same name, an error message will prompt you to
    change the name. *Figure 2.7* shows how the basics wizard page looks like when
    it is filled in.
  id: totrans-69
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 可选地，你可以修改存储帐户或容器注册表名称中的`hyphen (-)`名称。此外，存储帐户、密钥库和容器注册表的名称必须是唯一的。你将在本章的*探索已部署的Azure资源*部分中了解更多关于这些资源的内容。如果已存在同名资源，系统会提示你更改名称。*图2.7*展示了填写后的基本向导页面。
- en: '![Figure 2.7 – Information selected in the Basics step of the wizard'
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: '![图2.7 – 向导基本步骤中选择的信息'
- en: '](img/B16777_02_007.jpg)'
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16777_02_007.jpg)'
- en: Figure 2.7 – Information selected in the Basics step of the wizard
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.7 – 向导基本步骤中选择的信息
- en: 'With all of the basic information filled in, you can now click on the **Review
    + create** button and skip all of the intermediate steps. This implies that you
    automatically accept the default options for the rest of the wizard''s steps.
    However, for the purpose of learning, you should click on the **Next: Networking**
    button to navigate to the next wizard page.'
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 填写完所有基本信息后，你可以点击**审查 + 创建**按钮，并跳过所有中间步骤。这意味着你自动接受其余向导步骤的默认选项。然而，为了学习目的，你应该点击**下一步：网络**按钮，导航到下一个向导页面。
- en: Important note
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: Up until September 2020, the first page of these wizards asked for the `Basic`
    edition and an `Enterprise` edition. The `Enterprise` edition was the one that
    provided the designer, and the Auto ML features you will see later on in the book.
    Since October 2020, all features are available in the `Basic` edition. The original
    certification had questions related to which feature belongs to what edition –
    something that you shouldn't encounter in your exam.
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 直到 2020 年 9 月，这些向导的第一页要求选择`Basic`版本和`Enterprise`版本。`Enterprise`版本提供了设计器和你将在本书中看到的自动化
    ML 功能。从 2020 年 10 月起，所有功能都可以在`Basic`版本中使用。原始认证中有关于哪个功能属于哪个版本的问题——这种情况在你的考试中应该不会遇到。
- en: Networking
  id: totrans-76
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 网络
- en: 'On this wizard page, you will need to decide how you are planning to connect
    to the data plane of the Azure ML workspace. The data plane consists of all data-centric
    operations within your workspace such as using the Azure ML studio web interface,
    triggering an ML pipeline, and making API calls through the **Software Development
    Kit** (**SDK**). There are two options, as follows:'
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 在此向导页面，你需要决定如何计划连接到 Azure ML 工作区的数据平面。数据平面包含你工作区内所有以数据为中心的操作，例如使用 Azure ML Studio
    Web 界面、触发 ML 管道以及通过**软件开发工具包**（**SDK**）进行 API 调用。共有两种选择，如下所示：
- en: '**Public endpoint (all networks)**: This is the default option that allows
    you to access the workspace from a publicly accessible endpoint.'
  id: totrans-78
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**公共端点（所有网络）**：这是默认选项，允许你从一个公开可访问的端点访问工作区。'
- en: '**Private endpoint**: A private endpoint reduces the risk of data exfiltration
    by reducing the attack surface to the Azure ML workspace. Once you decide to provide
    a workspace with **Private endpoint** connectivity, you will need to have a virtual
    machine or a **Virtual Private Network** (**VPN**) connection in order to access
    the private endpoint you will expose:'
  id: totrans-79
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**私有端点**：私有端点通过减少 Azure ML 工作区的攻击面来降低数据外泄的风险。一旦你决定为工作区提供**私有端点**连接，你将需要有一个虚拟机或**虚拟专用网络**（**VPN**）连接，以便访问你将暴露的私有端点：'
- en: '![Figure 2.8 – The private endpoint secures access to the Azure ML workspace'
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 2.8 – 私有端点保障对 Azure ML 工作区的访问'
- en: '](img/B16777_02_008.jpg)'
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16777_02_008.jpg)'
- en: Figure 2.8 – The private endpoint secures access to the Azure ML workspace
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 图 2.8 – 私有端点保障对 Azure ML 工作区的访问
- en: 'For the purpose of this book, you will select **Public endpoint (all networks)**:'
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 对于本书的目的，你将选择**公共端点（所有网络）**：
- en: '![Figure 2.9 – Networking options in the creation wizard'
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 2.9 – 创建向导中的网络选项'
- en: '](img/B16777_02_009.jpg)'
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16777_02_009.jpg)'
- en: Figure 2.9 – Networking options in the creation wizard
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 图 2.9 – 创建向导中的网络选项
- en: On the next page, you are going to select the advanced options.
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一页，你将选择高级选项。
- en: Advanced
  id: totrans-88
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 高级
- en: On this wizard page, you can configure a few options regarding the security
    of the workspace and the metadata and metrics data privacy.
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 在此向导页面，你可以配置一些关于工作区安全性、元数据和指标数据隐私的选项。
- en: You can configure the **Managed identity** used by the AzureML workspace to
    authenticate and access other cloud resources. You can use either a **System assigned
    identity** or a **User assigned identity**. The system assigned ones will be automatically
    created when you deploy the AzureML resource. Instead, you can create a **User
    Assigned Managed Identity** resource within the Azure portal and use that during
    the deployment of the AzureML workspace. Using the user assigned option allows
    you to create the identity beforehand, configure access to various systems and
    data sources and then assign it to the workspace. You can even use the same identity
    in other services, like an Azure Automation account. You can read more about managed
    identities in this chapter's *Further reading* section. For this book, you will
    use the default option, which is the **System assigned identity**.
  id: totrans-90
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你可以配置 AzureML 工作区使用的**托管身份**来进行身份验证并访问其他云资源。你可以选择**系统分配的身份**或**用户分配的身份**。系统分配的身份将在你部署
    AzureML 资源时自动创建。相反，你可以在 Azure 门户中创建一个**用户分配的托管身份**资源，并在部署 AzureML 工作区时使用它。使用用户分配的选项允许你事先创建身份，配置对各种系统和数据源的访问权限，然后将其分配给工作区。你甚至可以在其他服务中使用相同的身份，例如
    Azure 自动化帐户。你可以在本章的*进一步阅读*部分了解更多关于托管身份的信息。在本书中，你将使用默认选项，即**系统分配的身份**。
- en: You can define how the AzureML workspace will be accessing the data stored in
    the default storage account. **Credential-based access** uses the storage account
    access key to read data. You can think of this approach as having a single password
    used by everyone who has access to the AzureML workspace to access the data within
    that storage account. In some organizations, the use of storage account access
    keys is forbidden for security reasons. In those cases, **Identity-based access**
    should be used. When you choose that option, AzureML uses its **Managed identity**
    to access the storage account data and write artifacts, like the trained models.
    Moreover, when the data scientists access datasets stored in the default storage
    account, their identity is passed through to the storage account to authenticate
    them and provide them with the data. You will use **Credential-based access**
    for the purposes of this book.
  id: totrans-91
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您可以定义 AzureML 工作区如何访问存储在默认存储帐户中的数据。**基于凭据的访问**使用存储帐户访问密钥来读取数据。您可以将此方法视为使用一个由所有有权访问
    AzureML 工作区的人共享的密码来访问该存储帐户中的数据。在某些组织中，出于安全原因，禁止使用存储帐户访问密钥。在这种情况下，应该使用**基于身份的访问**。当您选择该选项时，AzureML
    使用其**托管身份**来访问存储帐户中的数据并写入工件，如训练后的模型。此外，当数据科学家访问存储在默认存储帐户中的数据集时，他们的身份将传递到存储帐户中，以进行身份验证并提供数据。为了本书的目的，您将使用**基于凭据的访问**。
- en: By default, Azure Machine Learning services store metrics and metadata in a
    Microsoft managed store using encryption keys managed by Microsoft. You can specify
    your own key to be used to encrypt the metrics and metadata. To do so, you will
    need to select a key stored within an existing **Key Vault**. This action will
    provision a couple of additional Azure resources, including a Cosmos DB, in a
    new resource group named based on the pattern <your-azure-ml-workspace-resource-name>_<GUID>,
    for example, packt-learning-mlw_ab07ab07-ab07-ab07-ab07-ab07ab07ab07\. You do
    not have any control over those resources. Their lifecycle management is handled
    by the Azure Machine Learning workspace, meaning that they will be automatically
    deleted when you delete the workspace.
  id: totrans-92
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 默认情况下，Azure 机器学习服务使用 Microsoft 管理的存储，并通过 Microsoft 管理的加密密钥存储度量和元数据。您可以指定自己的密钥来加密度量和元数据。为此，您需要选择存储在现有**密钥保管库**中的密钥。此操作将为您在一个新的资源组中提供一些额外的
    Azure 资源，其中包括一个 Cosmos DB，资源组的名称将基于模式<your-azure-ml-workspace-resource-name>_<GUID>，例如
    packt-learning-mlw_ab07ab07-ab07-ab07-ab07-ab07ab07ab07。您对这些资源没有任何控制权。它们的生命周期管理由
    Azure 机器学习工作区处理，这意味着当您删除工作区时，这些资源将自动删除。
- en: 'The last option of the wizard''s step allows you to limit the amount of telemetry
    and metric data collected on your workspace. You can do that by selecting the
    `Environment`: Typically, you have multiple environments for your code base such
    as a development environment, a quality assurance testing environment, and a production
    environment. For the purposes of this book, you should specify the `Development`
    value.'
  id: totrans-93
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 向导步骤中的最后一个选项允许您限制在工作区收集的遥测和度量数据的数量。您可以通过选择`Environment`来实现：通常，您会为代码库设置多个环境，例如开发环境、质量保证测试环境和生产环境。为了本书的目的，您应该指定`Development`值。
- en: 'You can add additional metadata tags if you want. The number can be up to 50,
    which is the current limit of tags per resource:'
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 如果需要，您可以添加额外的元数据标签。标签的数量最多为 50，这是每个资源当前支持的标签数量上限：
- en: '![Figure 2.11 – The tags step in the creation wizard'
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 2.11 – 创建向导中的标签步骤'
- en: '](img/B16777_02_011.jpg)'
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16777_02_011.jpg)'
- en: Figure 2.11 – The tags step in the creation wizard
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 图 2.11 – 创建向导中的标签步骤
- en: 'When you are done, click on **Next: Review + create** to move to the last wizard
    step.'
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 完成后，点击**下一步：审查 + 创建**以进入向导的最后一步。
- en: Review + create
  id: totrans-99
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 审查 + 创建
- en: 'This is the last step of the wizard. If you have forgotten to complete something
    or made an invalid selection in a previous step, you will get an error message
    and a red dot will indicate the step where the error is:'
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 这是向导的最后一步。如果您忘记完成某些操作或在先前的步骤中做出了无效选择，您将收到错误消息，红点将指示出错的步骤：
- en: '![Figure 2.12 – An error validation indicating something is wrong in the Basics
    step'
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 2.12 – 基本步骤中出现错误验证，指示存在问题'
- en: '](img/B16777_02_012.jpg)'
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16777_02_012.jpg)'
- en: Figure 2.12 – An error validation indicating something is wrong in the Basics
    step
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 图 2.12 – 基本步骤中出现错误验证，指示存在问题
- en: If everything is fine, a `keyVaultName`, `storageAccountName`, and `applicationInsightsName`
    JSON values. This template can be deployed instantly from that view, or you can
    download it and use it to provision these resources in a different subscription.
    For example, imagine that you want to provision the production environment with
    the same resource structure. You can use this autogenerated ARM template, change
    the target **Resource Group**, the corresponding resource names and tag value,
    and deploy it in the production environment. Please note that the resource names
    you specify need to be unique, and you might need to experiment until you find
    a name that is available.
  id: totrans-104
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果一切正常，将会看到 `keyVaultName`、`storageAccountName` 和 `applicationInsightsName`
    的 JSON 值。这个模板可以从该视图立即部署，或者你可以下载它，并将其用于在不同的订阅中配置这些资源。例如，假设你希望使用相同的资源结构来配置生产环境。你可以使用这个自动生成的
    ARM 模板，修改目标 **资源组**、相应的资源名称和标签值，并将其部署到生产环境中。请注意，你指定的资源名称需要是唯一的，可能需要进行一些尝试，直到找到一个可用的名称。
- en: Click on the **Create** button to provision your Azure ML workspace resources.
    The resources will start deploying. This process could take a couple of minutes
    to complete.
  id: totrans-105
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击 **创建** 按钮以配置你的 Azure ML 工作区资源。资源将开始部署。这个过程可能需要几分钟才能完成。
- en: 'Finally, you should see a button called **Go to resource**, which you can use
    to navigate to the newly provisioned Azure ML workspace:'
  id: totrans-106
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 最后，你应该会看到一个名为 **转到资源** 的按钮，可以通过它导航到新配置的 Azure ML 工作区：
- en: '![ Figure 2.14 – The Go to resource button indicating the success of the Azure
    ML workspace deployment'
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: '![ 图 2.14 – “转到资源”按钮，表示 Azure ML 工作区部署成功'
- en: '](img/B16777_02_014.jpg)'
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16777_02_014.jpg)'
- en: Figure 2.14 – The Go to resource button indicating the success of the Azure
    ML workspace deployment
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 图 2.14 – “转到资源”按钮，表示 Azure ML 工作区部署成功
- en: In the next section, you will learn how to deploy the same Azure ML workspace
    using the Azure CLI, which is one of the most popular ways to deploy things in
    Azure.
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 在接下来的章节中，你将学习如何使用 Azure CLI 部署相同的 Azure ML 工作区，Azure CLI 是在 Azure 中部署资源的最流行方式之一。
- en: Deploying Azure ML via the CLI
  id: totrans-111
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 通过 CLI 部署 Azure ML
- en: In this section, you are going to deploy an Azure ML workspace through the Azure
    CLI. You are going to use the `packt-azureml-cli-rg` resource group to deploy
    resources; you are going to use the Bash version of the **Azure Cloud Shell**
    that is built in the Azure portal – something that will require no installation
    on your machine. If you want, you can install the Azure CLI locally by following
    the installation instructions at [https://docs.microsoft.com/cli/azure/install-azure-cli](https://docs.microsoft.com/cli/azure/install-azure-cli),
    and skip the provision of the Azure Cloud Shell.
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 在这一节中，你将通过 Azure CLI 部署一个 Azure ML 工作区。你将使用 `packt-azureml-cli-rg` 资源组来部署资源；你将使用
    Azure 门户中内置的 Bash 版本的 **Azure Cloud Shell**，这不需要在你的机器上进行任何安装。如果你愿意，你可以按照 [https://docs.microsoft.com/cli/azure/install-azure-cli](https://docs.microsoft.com/cli/azure/install-azure-cli)
    中的安装说明在本地安装 Azure CLI，跳过 Azure Cloud Shell 的配置。
- en: Important note
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: You are going to use the Azure CLI in the next sections to manage various aspects
    of the Azure ML workspace. Although the book is going to assume you selected the
    Azure Cloud Shell, the syntax you will see is applicable for both the Azure Cloud
    Shell and the Azure CLI running within your local machine.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 在接下来的章节中，你将使用 Azure CLI 管理 Azure ML 工作区的各个方面。尽管本书假设你选择了 Azure Cloud Shell，但你将看到的语法适用于
    Azure Cloud Shell 和在本地机器上运行的 Azure CLI。
- en: Deploying Azure Cloud Shell
  id: totrans-115
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 部署 Azure Cloud Shell
- en: 'Azure Cloud Shell is a browser-based shell that allows you to manage Azure.
    You can access it either by visiting the dedicated page at [https://shell.azure.com](https://shell.azure.com)
    or from within the Azure portal by clicking on the Cloud Shell icon in the top
    bar:'
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: Azure Cloud Shell 是一个基于浏览器的 Shell，允许你管理 Azure。你可以通过访问 [https://shell.azure.com](https://shell.azure.com)
    专用页面或通过点击 Azure 门户顶部栏中的 Cloud Shell 图标来访问它：
- en: '![ Figure 2.15 – The Cloud Shell icon in the top bar of the Azure portal'
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: '![ 图 2.15 – Azure 门户顶部栏中的 Cloud Shell 图标'
- en: '](img/B16777_02_015.jpg)'
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16777_02_015.jpg)'
- en: Figure 2.15 – The Cloud Shell icon in the top bar of the Azure portal
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 图 2.15 – Azure 门户顶部栏中的 Cloud Shell 图标
- en: Let's begin!
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们开始吧！
- en: The first time you invoke the Cloud Shell, you will see the welcome wizard.
    Select `Bash` to continue:![Figure 2.16 – The Azure Cloud Shell welcome wizard
  id: totrans-121
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当你第一次调用 Cloud Shell 时，你将看到欢迎向导。选择 `Bash` 继续：![图 2.16 – Azure Cloud Shell 欢迎向导
- en: '](img/B16777_02_016.jpg)'
  id: totrans-122
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/B16777_02_016.jpg)'
- en: Figure 2.16 – The Azure Cloud Shell welcome wizard
  id: totrans-123
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 2.16 – Azure Cloud Shell 欢迎向导
- en: Azure Cloud Shell requires a file share to save files. In this next step of
    the wizard, you can select a subscription; the portal will automatically deploy
    a storage account for you. Depending on your permissions at the subscription level,
    the wizard will either create a new resource group or use one where you have a
    `Contributor` role.
  id: totrans-124
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Azure Cloud Shell 需要一个文件共享来保存文件。在向导的下一步中，您可以选择一个订阅；门户将自动为您部署一个存储账户。根据您在订阅级别的权限，向导将会创建一个新的资源组，或者使用一个您拥有
    `Contributor` 角色的资源组。
- en: 'If you want to fine-tune the process, you can select the **Show advanced settings**
    option and manually create new resource groups or define the name of the storage
    account and the file share name that is going to be used by your Cloud Shell:'
  id: totrans-125
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果您想微调此过程，您可以选择 **显示高级设置** 选项，并手动创建新的资源组，或定义将被 Cloud Shell 使用的存储账户名称和文件共享名称：
- en: '![Figure 2.17 – Advanced settings while provisioning Cloud Shell'
  id: totrans-126
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图 2.17 – 配置 Cloud Shell 时的高级设置'
- en: '](img/B16777_02_017.jpg)'
  id: totrans-127
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/B16777_02_017.jpg)'
- en: Figure 2.17 – Advanced settings while provisioning Cloud Shell
  id: totrans-128
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 2.17 – 配置 Cloud Shell 时的高级设置
- en: For the purposes of this book, you should allow the wizard to automatically
    provision a storage account for you by selecting the **Subscription** you have,
    then clicking on the **Create storage** button without configuring the advanced
    settings:![Figure 2.18 – Creating a storage account wizard page while provisioning
    Cloud Shell
  id: totrans-129
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对于本书的目的，您应允许向导自动为您创建一个存储账户，通过选择您拥有的 **订阅**，然后点击 **创建存储** 按钮而无需配置高级设置：![图 2.18
    – 创建存储账户向导页面，正在配置 Cloud Shell
- en: '](img/B16777_02_018.jpg)'
  id: totrans-130
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/B16777_02_018.jpg)'
- en: Figure 2.18 – Creating a storage account wizard page while provisioning Cloud
    Shell
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 图 2.18 – 创建存储账户向导页面，正在配置 Cloud Shell
- en: 'After a while, a storage account will be provisioned, and your Cloud Shell
    Bash prompt should appear:'
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 稍等片刻，一个存储账户将会被创建，您的 Cloud Shell Bash 提示符应当出现：
- en: '![Figure 2.19 – The Bash prompt in Azure Cloud Shell'
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 2.19 – Azure Cloud Shell 中的 Bash 提示符'
- en: '](img/B16777_02_019.jpg)'
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16777_02_019.jpg)'
- en: Figure 2.19 – The Bash prompt in Azure Cloud Shell
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 图 2.19 – Azure Cloud Shell 中的 Bash 提示符
- en: Now that you have a Cloud Shell, you can use the Azure CLI to manage your Azure
    resources; this is something that you will learn how to do in the next section.
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 现在您已经拥有了一个 Cloud Shell，您可以使用 Azure CLI 来管理您的 Azure 资源；这将在下一部分中教您如何操作。
- en: Using the Azure CLI
  id: totrans-137
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 使用 Azure CLI
- en: 'The Azure CLI is a management command-line tool that you can invoke by typing
    in the `az` command. Through this tool, you can provision and manage your Azure
    resources. The easiest way to learn the Azure CLI is by using the `--help` argument
    at the end of any command. For example, you can start with `az --help`. This will
    list all of the available commands, such as the `login` commands, the `find` commands,
    and the subgroups, including the `storage` one:'
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: Azure CLI 是一个管理命令行工具，您可以通过输入 `az` 命令来调用它。通过这个工具，您可以配置和管理您的 Azure 资源。学习 Azure
    CLI 最简单的方式是使用任何命令末尾的 `--help` 参数。例如，您可以从 `az --help` 开始。这将列出所有可用的命令，如 `login`
    命令、`find` 命令以及子组，包括 `storage` 子组：
- en: '![Figure 2.20 – The az command''s subgroups and commands'
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 2.20 – az 命令的子组和命令'
- en: '](img/B16777_02_020.jpg)'
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16777_02_020.jpg)'
- en: Figure 2.20 – The az command's subgroups and commands
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 图 2.20 – az 命令的子组和命令
- en: 'You can keep exploring the various subgroups and commands by appending them
    to the `az` command. For example, let''s explore the `group` subgroup, by typing
    in `az group --help`. Then, we will investigate the `list` command, where you
    can discover all of the available options by typing in `az group list --help`:'
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以通过将不同的子组和命令附加到 `az` 命令来继续探索。例如，我们可以通过输入 `az group --help` 来探索 `group` 子组。接着，我们将研究
    `list` 命令，通过输入 `az group list --help` 来发现所有可用的选项：
- en: '![Figure 2.21 – The az group list command help page'
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 2.21 – az group list 命令帮助页面'
- en: '](img/B16777_02_021.jpg)'
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16777_02_021.jpg)'
- en: Figure 2.21 – The az group list command help page
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: 图 2.21 – az group list 命令帮助页面
- en: 'Another useful feature of Azure CLI is the `az find` command, which searches
    the Azure documentation for relevant information:'
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: Azure CLI 的另一个有用功能是 `az find` 命令，它可以在 Azure 文档中搜索相关信息：
- en: '![Figure 2.22 – Using az find to discover Azure CLI commands'
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 2.22 – 使用 az find 查找 Azure CLI 命令'
- en: '](img/B16777_02_022.jpg)'
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16777_02_022.jpg)'
- en: Figure 2.22 – Using az find to discover Azure CLI commands
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: 图 2.22 – 使用 az find 查找 Azure CLI 命令
- en: 'You can list all of the resource groups you have access to by issuing the `az
    group list -o table` command, where we have specified that we want to format the
    output as a table:'
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以通过运行`az group list -o table`命令列出所有您有权限访问的资源组，其中我们已指定输出格式为表格：
- en: '![Figure 2.23 – Listing all of the resource groups you have access to through
    the Azure CLI'
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 2.23 – 通过 Azure CLI 列出您有访问权限的所有资源组'
- en: '](img/B16777_02_023.jpg)'
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16777_02_023.jpg)'
- en: Figure 2.23 – Listing all of the resource groups you have access to through
    the Azure CLI
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 图 2.23 – 通过 Azure CLI 列出您有访问权限的所有资源组
- en: Tip
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: 提示
- en: If you ever find yourself not understanding why the Azure CLI command you are
    typing doesn't work as expected, you can use the `--verbose` flag. If you need
    even more information, then you can combine that with the `--debug` flag.
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您发现自己无法理解为什么输入的 Azure CLI 命令没有按预期工作，可以使用`--verbose`标志。如果您需要更多的信息，可以将其与`--debug`标志结合使用。
- en: In the next section, you will explore the most common actions that you can perform
    from the Azure CLI.
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: 在接下来的部分中，您将探索可以通过 Azure CLI 执行的最常见操作。
- en: Authenticating in Azure CLI
  id: totrans-157
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 在 Azure CLI 中进行身份验证
- en: If you get the error message `az login` command, which will prompt you to open
    a page and enter a code. This process is referred to as **interactive device authentication**.
    You will learn more about this process in section Authenticating from your device
    in [*Chapter 7*](B16777_07_Final_VK_ePub.xhtml#_idTextAnchor102), *The AzureML
    Python SDK*.
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您收到错误信息，提示您使用`az login`命令，这将提示您打开一个页面并输入代码。此过程称为**交互式设备身份验证**。您将在[*第7章*](B16777_07_Final_VK_ePub.xhtml#_idTextAnchor102)中了解更多关于此过程的信息，*The
    AzureML Python SDK*部分。
- en: After visiting the web page and typing in the code, you will need to log in
    with the account that has access to the Azure subscription you want to control
    through the Azure CLI. Doing that will authorize the Azure CLI to act on your
    behalf. You can always log out from an Azure CLI by typing in `az logout`.
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: 访问网页并输入代码后，您需要使用具有访问权限的帐户登录 Azure 订阅，才能通过 Azure CLI 控制该订阅。这样做将授权 Azure CLI 代表您执行操作。您随时可以通过输入`az
    logout`退出 Azure CLI。
- en: Selecting the active Azure subscription
  id: totrans-160
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 选择活动的 Azure 订阅
- en: If you have access to multiple Azure subscriptions, you will need to specify
    which one is the active one. To list your subscriptions, type in `az account list
    -o table`; you can activate a subscription by typing in `az account set --subscription
    "Subscription name or ID"` and passing either the name or the ID of the subscription
    you want to control from the Azure CLI.
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您可以访问多个 Azure 订阅，则需要指定哪个订阅是活动订阅。要列出您的订阅，请输入`az account list -o table`；您可以通过输入`az
    account set --subscription "订阅名称或 ID"`来激活某个订阅，并传入要通过 Azure CLI 控制的订阅名称或 ID。
- en: Creating a resource group from the Azure CLI
  id: totrans-162
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 从 Azure CLI 创建资源组
- en: 'One of the most well-documented Azure CLI commands on the internet is the one
    to create a resource group, which is a virtual folder where you can deploy Azure
    resources. The following command will create a resource group, called `packt-azureml-cli-rg`,
    and the record of this new resource group will be kept in the Western Europe Azure
    data center:'
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: 互联网上最常见的 Azure CLI 命令之一就是创建资源组命令，它是一个虚拟文件夹，您可以在其中部署 Azure 资源。以下命令将创建一个名为`packt-azureml-cli-rg`的资源组，并将该新资源组的记录保存在西欧的
    Azure 数据中心中：
- en: '[PRE0]'
  id: totrans-164
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'A shortcut to the `--name` parameter is `-n`. Similarly, `-l` is a shortcut
    for `--location`. The preceding command can now be written as follows:'
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: '`--name`参数的快捷方式是`-n`。类似地，`-l`是`--location`的快捷方式。前面的命令现在可以写成如下：'
- en: '[PRE1]'
  id: totrans-166
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: The `-n` and `-l` shortcuts are common across many Azure CLI commands.
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: '`-n`和`-l`快捷方式在许多 Azure CLI 命令中都很常见。'
- en: Important note
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: You will need a `Contributor` role at the subscription level to be able to create
    a resource group. To be more precise, you will need a role that allows you to
    perform the `Microsoft.Resources/subscriptions/resourceGroups/write` operation,
    which you will read more about in the *Understanding Role-Based Access Control
    (RBAC)* section that appears later in this chapter.
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: 您需要在订阅级别拥有`Contributor`角色，才能创建资源组。更准确地说，您需要一个允许执行`Microsoft.Resources/subscriptions/resourceGroups/write`操作的角色，您将在本章后面出现的*理解基于角色的访问控制（RBAC）*部分中了解更多相关信息。
- en: 'In the next section, you will learn how to install an extension within the
    Azure CLI: the one that manages Azure ML workspaces.'
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: 在接下来的部分中，您将学习如何在 Azure CLI 中安装扩展：一个用于管理 Azure ML 工作区的扩展。
- en: Installing the Azure ML CLI extension
  id: totrans-171
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 安装 Azure ML CLI 扩展
- en: To manage Azure ML workspaces from the Azure CLI, you will need to install the
    `az extension add -n azure-cli-ml`.
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: 要通过Azure CLI管理Azure ML工作区，你需要安装`az extension add -n azure-cli-ml`。
- en: 'To view the currently installed extensions and their versions, type in `az
    extension list -o table`:'
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: 要查看当前已安装的扩展及其版本，输入`az extension list -o table`：
- en: '![Figure 2.24 – A list of all of the installed extensions including azure-cli-ml'
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 2.24 – 包括azure-cli-ml在内的所有已安装扩展的列表'
- en: '](img/B16777_02_024.jpg)'
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16777_02_024.jpg)'
- en: Figure 2.24 – A list of all of the installed extensions including azure-cli-ml
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: 图 2.24 – 包括azure-cli-ml在内的所有已安装扩展的列表
- en: To update the installed extension to the latest version, type in `az extension
    update -n azure-cli-ml`.
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: 要将已安装的扩展更新到最新版本，请输入`az extension update -n azure-cli-ml`。
- en: The extension you just installed has added the `ml` command subgroup to your
    Azure CLI. You can inspect the subgroups and the commands it contains by using
    the `az ml --help` command. In the next section, you will use these new commands
    to deploy an Azure ML workspace.
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: 你刚刚安装的扩展已将`ml`命令子组添加到Azure CLI中。你可以通过使用`az ml --help`命令来检查该子组及其包含的命令。在下一节中，你将使用这些新命令来部署Azure
    ML工作区。
- en: Deploying Azure ML using the az ml command
  id: totrans-179
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 使用az ml命令部署Azure ML
- en: The goal of this section is to deploy an Azure ML workspace, named `packt-learning-cli-mlw`,
    in the resource group named `packt-azureml-cli-rg` and attach the `Environment`
    tag with the `Development` value.
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: 本节的目标是在名为`packt-azureml-cli-rg`的资源组中部署名为`packt-learning-cli-mlw`的Azure ML工作区，并附加`Environment`标签，值为`Development`。
- en: To provision a new Azure ML workspace, you will need to use the `az ml workspace
    create` command.
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: 要配置一个新的Azure ML工作区，你需要使用`az ml workspace create`命令。
- en: The only required option is `--workspace-name` or `-w`, which is the workspace
    name. This will create a new resource group within your Azure subscription and
    deploy the new workspace there. This requires you to have at least a `Contributor`
    role at the subscription level; otherwise, you will get an authorization error.
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: 唯一需要的选项是`--workspace-name`或`-w`，即工作区名称。这样会在你的Azure订阅中创建一个新的资源组并在其中部署新的工作区。这要求你至少在订阅级别具有`Contributor`角色，否则会收到授权错误。
- en: In order to specify the target resource group where you want the new workspace
    to be deployed, you will need to either pass the `--resource-group` option or
    the `-g` option.
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: 为了指定你希望部署新工作区的目标资源组，你需要传递`--resource-group`选项或`-g`选项。
- en: Important note
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: 'There are some common `az ml` parameters: the `-g` and `-w` parameters are
    common in all Azure ML CLI commands, and you will use them again later in this
    book.'
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: 一些常见的`az ml`参数：`-g`和`-w`参数在所有Azure ML CLI命令中都是常见的，你将在本书的后续部分再次使用它们。
- en: To attach tags to the newly created resource, you can use the `--tags` parameter
    or the `-t` parameter, which uses the *key=value* syntax.
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: 要将标签附加到新创建的资源，可以使用`--tags`参数或`-t`参数，后者使用*key=value*语法。
- en: 'Type in the following command to deploy the requested Azure ML workspace:'
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: 输入以下命令以部署请求的Azure ML工作区：
- en: '[PRE2]'
  id: totrans-188
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'The result is displayed in the following screenshot:'
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
  zh: 结果如下图所示：
- en: '![Figure 2.25 – Deploying the Azure ML workspace through the CLI extension'
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 2.25 – 通过CLI扩展部署Azure ML工作区'
- en: '](img/B16777_02_025.jpg)'
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16777_02_025.jpg)'
- en: Figure 2.25 – Deploying the Azure ML workspace through the CLI extension
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: 图 2.25 – 通过CLI扩展部署Azure ML工作区
- en: In this section, you learned how to deploy an Azure ML workspace using the Azure
    CLI. For this book, you will only need the one you provisioned through the user
    interface, and you will delete the one you just provisioned in the next section.
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，你学习了如何使用Azure CLI部署Azure ML工作区。对于本书，你只需要通过用户界面配置的那个，下一节中你将删除刚刚配置的那个。
- en: Cleaning up the CLI resource group
  id: totrans-194
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 清理CLI资源组
- en: 'For the purposes of this book, you are going to need a single Azure ML workspace.
    You are going to use the one you deployed through the Azure portal in the `packt-azureml-rg`
    resource group. If you want, you can delete the newly provisioned Azure ML workspace
    by issuing the following command:'
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: 本书的目的，你需要一个Azure ML工作区。你将使用通过Azure门户在`packt-azureml-rg`资源组中部署的工作区。如果你愿意，可以通过执行以下命令删除新配置的Azure
    ML工作区：
- en: '[PRE3]'
  id: totrans-196
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: This will delete the Azure ML workspace and all of the related resources that
    were provisioned in the preceding steps.
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: 这将删除Azure ML工作区以及前面步骤中配置的所有相关资源。
- en: So far, you have explored the most common ways to provision the Azure ML workspace,
    that is, through the portal and the Azure CLI. In the next section, you will learn
    about a few additional ways, including the ARM way, which is preferred by DevOps
    engineers.
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: 到目前为止，您已经探索了通过门户和 Azure CLI 部署 Azure ML 工作区的最常见方式。在下一节中，您将学习几种额外的方法，包括 DevOps
    工程师首选的 ARM 方法。
- en: Alternative ways to deploy an Azure ML workspace
  id: totrans-199
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 部署 Azure ML 工作区的替代方法
- en: 'There are additional ways in which you can deploy an Azure ML workspace:'
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: 还有其他方式可以部署 Azure ML 工作区：
- en: Create an ARM template. This is the Azure-native way of describing resources
    that you want to deploy in the form of a JSON file. An example of an ARM template
    for the Azure ML workspace can be found at [https://bit.ly/dp100-azureml-arm](https://bit.ly/dp100-azureml-arm).
  id: totrans-201
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 创建 ARM 模板。这是 Azure 原生的资源描述方式，您可以通过 JSON 文件描述要部署的资源。有关 Azure ML 工作区的 ARM 模板示例，您可以访问
    [https://bit.ly/dp100-azureml-arm](https://bit.ly/dp100-azureml-arm)。
- en: 'The command to deploy such a template from the Azure CLI is as follows:'
  id: totrans-202
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 从 Azure CLI 部署此模板的命令如下所示：
- en: '[PRE4]'
  id: totrans-203
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE4]'
- en: You can also find an ARM template if you select the **Download a template for
    automation** link that appears on the left-hand side of the **Create** button
    in the last step of the Azure portal resource creation wizard.
  id: totrans-204
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 您还可以通过选择在 Azure 门户资源创建向导最后一步的 **创建** 按钮左侧显示的 **下载自动化模板** 链接来找到 ARM 模板。
- en: Through the Azure ML Python SDK, which you will learn about in [*Chapter 7*](B16777_07_Final_VK_ePub.xhtml#_idTextAnchor102),
    *The Azure ML Python*.
  id: totrans-205
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过 Azure ML Python SDK，您将在 [*第七章*](B16777_07_Final_VK_ePub.xhtml#_idTextAnchor102)
    中了解 *Azure ML Python*。
- en: Through the Azure management REST API as described in [https://docs.microsoft.com/azure/machine-learning/how-to-manage-rest#create-a-workspace-using-rest](https://docs.microsoft.com/azure/machine-learning/how-to-manage-rest#create-a-workspace-using-rest).
  id: totrans-206
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过 Azure 管理 REST API，如在 [https://docs.microsoft.com/azure/machine-learning/how-to-manage-rest#create-a-workspace-using-rest](https://docs.microsoft.com/azure/machine-learning/how-to-manage-rest#create-a-workspace-using-rest)
    中所述。
- en: In the next section, you will explore the Azure resources that have been deployed
    to the target resource group, and you will learn how to give workspace access
    to your colleagues.
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一节中，您将探索已部署到目标资源组的 Azure 资源，并学习如何为同事提供工作区访问权限。
- en: Exploring the deployed Azure resources
  id: totrans-208
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 探索已部署的 Azure 资源
- en: 'Open the Azure portal and search for resource groups. Select the icon to navigate
    to the list of the resource groups you have access to, as shown in the following
    screenshot:'
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: 打开 Azure 门户并搜索资源组。选择图标以导航到您有权限访问的资源组列表，如下图所示：
- en: '![Figure 2.26 – Navigating to the list of resource groups'
  id: totrans-210
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 2.26 – 导航到资源组列表'
- en: '](img/B16777_02_026.jpg)'
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16777_02_026.jpg)'
- en: Figure 2.26 – Navigating to the list of resource groups
  id: totrans-212
  prefs: []
  type: TYPE_NORMAL
  zh: 图 2.26 – 导航到资源组列表
- en: 'Select the **packt-azureml-rg** option and observe the resources that are deployed
    within this resource group:'
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: 选择 **packt-azureml-rg** 选项并观察在该资源组内部署的资源：
- en: The ML workspace resource is named **packt-learning-mlw**. This is the main
    resource that you deployed. Through this resource, you can manage various aspects
    of the workspace.
  id: totrans-214
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ML 工作区资源命名为 **packt-learning-mlw**。这是您部署的主要资源。通过该资源，您可以管理工作区的各个方面。
- en: An Azure key-vault service named **packtlearningm<random_number>**. This key
    vault is used to securely store credentials and access keys that you will be using
    within the Azure ML workspace.
  id: totrans-215
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一个名为 **packtlearningm<random_number>** 的 Azure 密钥保管库服务。此密钥保管库用于安全存储您将在 Azure
    ML 工作区中使用的凭据和访问密钥。
- en: A storage account with the name of **packtlearningm<random_number>**. This storage
    account was autogenerated during the provisioning process and is used to store
    files from the workspace, including experimental datasets and models.
  id: totrans-216
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一个名为 **packtlearningm<random_number>** 的存储帐户。此存储帐户在配置过程中自动生成，用于存储来自工作区的文件，包括实验数据集和模型。
- en: An application insight account named **packtlearningm<random_number>**. This
    is the monitoring service for all predictive endpoints that you will publish from
    within the Azure ML workspace.
  id: totrans-217
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一个名为 **packtlearningm<random_number>** 的应用洞察帐户。这是您将在 Azure ML 工作区中发布的所有预测端点的监视服务。
- en: 'These are the out-of-the-box components that get deployed within the Azure
    ML workspace:'
  id: totrans-218
  prefs: []
  type: TYPE_NORMAL
  zh: 这些是自动部署到 Azure ML 工作区的开箱即用组件：
- en: '![Figure 2.27 – The list of resources in the packt-azureml-rg resource group'
  id: totrans-219
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 2.27 – packt-azureml-rg 资源组中的资源列表'
- en: '](img/B16777_02_027.jpg)'
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16777_02_027.jpg)'
- en: Figure 2.27 – The list of resources in the packt-azureml-rg resource group
  id: totrans-221
  prefs: []
  type: TYPE_NORMAL
  zh: 图 2.27 – packt-azureml-rg 资源组中的资源列表
- en: 'There is actually one more resource that is going to be provisioned automatically
    when you run your first experiment: an **Azure Container Registry** (**ACR**).
    This will host various **Docker** container images, including the ones that are
    going to be exposing a web server that will make inferences with the **Artificial
    Intelligence** (**AI**) models you are going to train.'
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
  zh: 其实还有一个资源会在你运行第一个实验时自动配置：一个**Azure 容器注册表**（**ACR**）。这个注册表将托管各种**Docker**容器镜像，包括将要暴露一个网页服务器，该服务器会基于你训练的**人工智能**（**AI**）模型进行推理。
- en: When you want to deploy a real-time endpoint for a model, you can deploy it
    in an **Azure Container Instance** (**ACI**) or **Azure Kubernetes Service** (**AKS**)
    from within the Azure ML studio. You will deploy an ACI for the first time in
    [*Chapter 5*](B16777_05_Final_VK_ePub.xhtml#_idTextAnchor072), *Letting Machines
    Do the Model Training*, of this book, and you will notice that an ACI resource
    will appear within this resource group next to the existing resources.
  id: totrans-223
  prefs: []
  type: TYPE_NORMAL
  zh: 当你想为模型部署实时端点时，你可以在**Azure 容器实例**（**ACI**）或**Azure Kubernetes 服务**（**AKS**）中进行部署，这一操作可以在
    Azure ML Studio 中完成。你将在本书的[*第 5 章*](B16777_05_Final_VK_ePub.xhtml#_idTextAnchor072)《让机器进行模型训练》中首次部署
    ACI，你会注意到一个 ACI 资源会出现在该资源组中，旁边是现有的资源。
- en: Understanding Role-Based Access Control (RBAC)
  id: totrans-224
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 理解基于角色的访问控制（RBAC）
- en: 'Azure provides RBAC, which allows you to define the operations each role can
    perform on specific resources. Each role is assigned according to a specific scope,
    for example, if you are assigned the **Contributor** role in a resource group,
    you will be able to provision resources only within that resource group and not
    at the subscription level. Out of the box, Azure provides three well-known roles:'
  id: totrans-225
  prefs: []
  type: TYPE_NORMAL
  zh: Azure 提供了 RBAC，允许你定义每个角色在特定资源上可以执行的操作。每个角色会根据特定的范围分配，例如，如果你在某个资源组中被分配了**贡献者**角色，你只能在该资源组内配置资源，而无法在订阅级别进行操作。Azure
    默认提供了三种常见的角色：
- en: '**Reader**: This allows you to browse through Azure resources, but you cannot
    modify or activate anything.'
  id: totrans-226
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**读取者**：这个角色允许你浏览 Azure 资源，但无法修改或激活任何内容。'
- en: '**Contributor**: This builds on top of the **Reader** role and allows you to
    edit resources or create new resources within the scope of the role. This role
    doesn''t allow you to modify the permissions that are attached to the resources.
    This means you cannot grant another user permission to the resources you might
    have provisioned.'
  id: totrans-227
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**贡献者**：这个角色基于**读取者**角色，并允许你编辑资源或在角色的范围内创建新资源。这个角色不允许修改附加到资源的权限。这意味着你不能授予其他用户对你可能配置的资源的权限。'
- en: '**Owner**: This role can do everything that the **Contributor** role does and
    can also assign and modify roles within the context that this role applies to.'
  id: totrans-228
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**所有者**：这个角色可以执行**贡献者**角色所做的所有操作，还可以在此角色适用的范围内分配和修改角色。'
- en: 'Let''s examine the roles that are assigned in the resource group where you
    deployed the Azure ML workspace. Click on the **Access control (IAM)** tab of
    the resource group and then select **Role assignments**. On this page, you will
    see a list of role assignments to the resource group level. Notice that your account
    has been assigned, at the very least, the **Contributor** role in this resource
    group to provision resources. If you don''t see your account in the list, you
    are most likely an administrator, so take a look under the **Classic administrators**
    tab:'
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们来查看在你部署 Azure ML 工作区的资源组中分配的角色。点击资源组的**访问控制（IAM）**标签，然后选择**角色分配**。在这个页面上，你将看到在资源组级别的角色分配列表。注意，你的账户至少已经在该资源组中被分配了**贡献者**角色，以便配置资源。如果你在列表中没有看到自己的账户，可能是因为你是管理员，试着查看**经典管理员**标签下的内容：
- en: '![Figure 2.28 – Role assignments on the Access control (IAM) page'
  id: totrans-230
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 2.28 – 访问控制（IAM）页面上的角色分配'
- en: of the packt-azureml-rg resource group
  id: totrans-231
  prefs: []
  type: TYPE_NORMAL
  zh: 来自 packt-azureml-rg 资源组
- en: '](img/B16777_02_028.jpg)'
  id: totrans-232
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16777_02_028.jpg)'
- en: Figure 2.28 – Role assignments on the Access control (IAM) page of the packt-azureml-rg
    resource group
  id: totrans-233
  prefs: []
  type: TYPE_NORMAL
  zh: 图 2.28 – packt-azureml-rg 资源组的访问控制（IAM）页面上的角色分配
- en: When you provisioned the workspace, a new system-assigned managed identity was
    created with the name of the Azure ML workspace you provisioned. This was automatically
    assigned as a **Contributor** role for the resource group. This allows the ML
    workspace to deploy ACI resources within that resource group and access compute
    targets and data stores. Note that this identity is used by the platform itself
    and should not be used to assign access to external resources and so on.
  id: totrans-234
  prefs: []
  type: TYPE_NORMAL
  zh: 当您配置工作区时，会创建一个新的系统分配的托管身份，名称与您配置的 Azure ML 工作区相同。这个身份自动被分配为资源组的**贡献者**角色。这允许
    ML 工作区在该资源组内部署 ACI 资源并访问计算目标和数据存储。请注意，此身份由平台本身使用，不应被用于分配对外部资源的访问权限等。
- en: Next, you will learn how this role assignment flows down to the resources.
  id: totrans-235
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，您将了解该角色分配如何流向资源。
- en: RBAC inheritance
  id: totrans-236
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: RBAC 继承
- en: Open the **packt-learning-mlw** resource and click on the **Access control (IAM)**
    tab. Then, select **Role assignments**.
  id: totrans-237
  prefs: []
  type: TYPE_NORMAL
  zh: 打开**packt-learning-mlw**资源，点击**访问控制（IAM）**选项卡，然后选择**角色分配**。
- en: 'Notice that the roles that existed in the resource group are inherited down
    to the Azure ML workspace resource:'
  id: totrans-238
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意，资源组中存在的角色会继承到 Azure ML 工作区资源：
- en: '![Figure 2.29 – RBAC inheritance in packt-learning-mlw from the resource group'
  id: totrans-239
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 2.29 – 来自资源组的 packt-learning-mlw 中的 RBAC 继承'
- en: '](img/B16777_02_029.jpg)'
  id: totrans-240
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16777_02_029.jpg)'
- en: Figure 2.29 – RBAC inheritance in packt-learning-mlw from the resource group
  id: totrans-241
  prefs: []
  type: TYPE_NORMAL
  zh: 图 2.29 – 来自资源组的 packt-learning-mlw 中的 RBAC 继承
- en: 'The role assignments inherit from the subscription to the resource groups and
    from there to the resources. On top of the subscriptions, there is another grouping
    layer, called **Management Groups**, which allows you to build hierarchies that
    contain other management groups and or subscriptions. An example of the overall
    RBAC inheritance model is depicted in the following schema:'
  id: totrans-242
  prefs: []
  type: TYPE_NORMAL
  zh: 角色分配从订阅继承到资源组，然后从资源组继承到资源。在订阅之上，还有一个分组层，称为**管理组**，它允许您构建包含其他管理组或订阅的层次结构。以下是整体
    RBAC 继承模型的示意图：
- en: '![Figure 2.30 – The RBAC inheritance model'
  id: totrans-243
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 2.30 – RBAC 继承模型'
- en: '](img/B16777_02_030.jpg)'
  id: totrans-244
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16777_02_030.jpg)'
- en: Figure 2.30 – The RBAC inheritance model
  id: totrans-245
  prefs: []
  type: TYPE_NORMAL
  zh: 图 2.30 – RBAC 继承模型
- en: Now that you know how to assign out-of-the-box roles and have understood how
    inheritance works, in the next section, you will learn how to create custom roles
    for your Azure ML workspace.
  id: totrans-246
  prefs: []
  type: TYPE_NORMAL
  zh: 现在您已经知道如何分配现成的角色并理解继承是如何工作的，在下一节中，您将学习如何为您的 Azure ML 工作区创建自定义角色。
- en: Creating custom roles
  id: totrans-247
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 创建自定义角色
- en: 'Azure allows you to create custom RBAC roles where you can fine-tune what operations
    are allowed and what actions are not allowed; this is similar to an allow list
    and a block list. The portal provides a graphical experience that allows you to
    create custom roles at the resource group level or higher. The result of this
    experience is a JSON file, such as the following example:'
  id: totrans-248
  prefs: []
  type: TYPE_NORMAL
  zh: Azure 允许您创建自定义 RBAC 角色，您可以精细调整哪些操作被允许，哪些操作不被允许；这类似于允许列表和阻止列表。门户提供了一种图形化体验，允许您在资源组级别或更高的级别创建自定义角色。此体验的结果是一个
    JSON 文件，如下所示的示例：
- en: '[PRE5]'
  id: totrans-249
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: This is a very simple custom role, named `ACI model deployer role`, which provides
    write access to the ACI service of the workspaces – an operation that is encoded
    in the literal `Microsoft.MachineLearningServices/workspaces/services/aci/write`.
  id: totrans-250
  prefs: []
  type: TYPE_NORMAL
  zh: 这是一个非常简单的自定义角色，名为`ACI 模型部署者角色`，它为工作区的 ACI 服务提供写入访问权限——这是通过字面值`Microsoft.MachineLearningServices/workspaces/services/aci/write`来编码的操作。
- en: 'A more complex example of a custom role is as follows:'
  id: totrans-251
  prefs: []
  type: TYPE_NORMAL
  zh: 一个更复杂的自定义角色示例如下：
- en: '[PRE6]'
  id: totrans-252
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: Notice that in contrast to the previous role, which was explicitly allowing
    a single action, this role has a wildcard (`*`) in the allowed actions, meaning
    that it can do all available actions. To limit that effect, we use the `NotActions`
    sections, which indicate which operations are explicitly denied. In this example,
    we are explicitly disallowing the ability to delete compute resources (`Microsoft.MachineLearningServices/workspaces/computes/delete`)
    and cannot update any authorization aspect of this workspace (`Microsoft.Authorization/*/write`).
    Note that the wildcard can be used to match partial actions like in the `Microsoft.Authorization`
    action, where the wildcard matches action groups such as `lock`, `roleAssignments`,
    and `roleDefinitions`. In our case, we want the user who will have this role to
    not be able to add new users to the workspace, so we want to disallow the `Microsoft.Authorization/roleAssignments/write`
    action, which is covered by the wildcard expression we used.
  id: totrans-253
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意，与之前的角色显式允许单个操作不同，此角色在允许的操作中使用了通配符（`*`），这意味着它可以执行所有可用操作。为了限制这种效果，我们使用了 `NotActions`
    部分，它指示哪些操作被明确拒绝。在此示例中，我们明确禁止删除计算资源的操作（`Microsoft.MachineLearningServices/workspaces/computes/delete`），并且不能更新该工作区的任何授权方面（`Microsoft.Authorization/*/write`）。注意，通配符可以用于匹配部分操作，例如在
    `Microsoft.Authorization` 操作中，通配符匹配操作组，如 `lock`、`roleAssignments` 和 `roleDefinitions`。在我们的案例中，我们希望拥有此角色的用户不能向工作区添加新用户，因此我们希望拒绝
    `Microsoft.Authorization/roleAssignments/write` 操作，而该操作已被我们使用的通配符表达式所覆盖。
- en: Finally, `AssignableScopes` allows you to specify the scope of this role. This
    is a mandatory field. In the first example, you are limiting the scope of this
    role to the Azure subscription with an ID of `<subscription_id>`. In this case,
    you can assign this custom role to any resource group or resource that belongs
    to the subscription with ID `<subscription_id>`. In the second example, you are
    limiting the scope of this custom role to the Azure ML workspace, named `<workspace_name>`,
    that is deployed in the resource group named `<resource_group_name>`, which belongs
    to the `<subscription_id>` subscription. This means you cannot assign this custom
    role anywhere else as it has a very targeted assignable scope.
  id: totrans-254
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，`AssignableScopes` 允许你指定此角色的作用范围。这是一个必填字段。在第一个示例中，你将此角色的作用范围限制在 ID 为 `<subscription_id>`
    的 Azure 订阅中。在这种情况下，你可以将此自定义角色分配给属于该订阅 ID `<subscription_id>` 的任何资源组或资源。在第二个示例中，你将此自定义角色的作用范围限制在名为
    `<workspace_name>` 的 Azure ML 工作区中，该工作区部署在名为 `<resource_group_name>` 的资源组中，并且属于
    `<subscription_id>` 订阅。这意味着你不能将此自定义角色分配到其他地方，因为它具有非常特定的可分配作用范围。
- en: 'If you want to deploy a custom role in Azure through the Azure CLI, you can
    use the following command:'
  id: totrans-255
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你希望通过 Azure CLI 在 Azure 中部署自定义角色，可以使用以下命令：
- en: '[PRE7]'
  id: totrans-256
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: Here, `custom_role.json` is a file containing the JSON role definition of the
    custom role that you want to deploy in Azure.
  id: totrans-257
  prefs: []
  type: TYPE_NORMAL
  zh: 这里，`custom_role.json` 是包含你要在 Azure 中部署的自定义角色的 JSON 角色定义文件。
- en: Once the role is deployed to Azure, you can assign that specific role to a user.
  id: totrans-258
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦角色部署到 Azure，你可以将该特定角色分配给某个用户。
- en: Assigning roles in the Azure ML workspace
  id: totrans-259
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 在 Azure ML 工作区中分配角色
- en: Assigning a role to a user is a privileged operation that means you are modifying
    the permissions of a resource. To do so, you will need to have the `Owner` permission
    of the resource that you want to modify. To be more accurate, you will need a
    role that allows you to use the `Microsoft.Authorization/roleAssignments/write`
    operation – something that the built-in `Owner` role has.
  id: totrans-260
  prefs: []
  type: TYPE_NORMAL
  zh: 将角色分配给用户是一项特权操作，意味着你正在修改资源的权限。为此，你需要拥有你想要修改的资源的 `Owner` 权限。更准确地说，你需要一个允许你使用
    `Microsoft.Authorization/roleAssignments/write` 操作的角色——这是内置的 `Owner` 角色所具备的权限。
- en: 'If you do have the `Owner` permission, you can assign the **ACI model deployer
    role** that you created in the previous section to a user. You can do so in the
    following three ways:'
  id: totrans-261
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你拥有 `Owner` 权限，你可以将你在前一部分中创建的 **ACI 模型部署角色** 分配给某个用户。你可以通过以下三种方式进行操作：
- en: In the Azure portal, you can visit the Azure ML workspace you want and assign
    the role to the user through the **Access control (IAM)** tab that you saw in
    the *Understanding Role-Based Access Control (RBAC)* section.
  id: totrans-262
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 Azure 门户中，你可以访问你想要的 Azure ML 工作区，并通过 *理解基于角色的访问控制（RBAC）* 部分中看到的 **访问控制（IAM）**
    选项卡将角色分配给用户。
- en: 'Through the Azure CLI by issuing the following command:'
  id: totrans-263
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过 Azure CLI 执行以下命令：
- en: '[PRE8]'
  id: totrans-264
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE8]'
- en: az ad user list --query "[?mail=='username@organization.org'].objectId" --output
    tsv
  id: totrans-265
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: az ad user list --query "[?mail=='username@organization.org'].objectId" --output
    tsv
- en: '[PRE9]'
  id: totrans-266
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE9]'
- en: 'Through the Azure ML CLI extension by using the following command:'
  id: totrans-267
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过使用以下命令的 Azure ML CLI 扩展：
- en: '[PRE10]'
  id: totrans-268
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE10]'
- en: With these steps, you can share the workspace with your colleagues by creating
    custom roles that fine-tune the allowed permissions.
  id: totrans-269
  prefs: []
  type: TYPE_NORMAL
  zh: 通过这些步骤，你可以通过创建自定义角色来与同事共享工作区，从而细化允许的权限。
- en: Summary
  id: totrans-270
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 总结
- en: In this chapter, you learned about the prerequisites for deploying Azure ML.
    You can work with either a trial subscription or you can request a resource group
    in your company's subscription, where you, at the very least, have contributor
    rights to the resource group. You also discovered, in depth, the two most common
    ways of deploying the Azure ML workspace in a development environment, and you
    also gained an understanding of the parameters that you need to specify. You also
    learned about the alternative ways you can deploy the workspace, including ARM
    templates, which are the more DevOps-friendly way of deploying in production environments.
    In the final section, you looked at the resources that are part of Azure ML workspace
    deployment, and you learned how RBAC works in Azure. Additionally, you learned
    how to use built-in or custom roles to give access to the Azure ML workspace you
    deployed.
  id: totrans-271
  prefs: []
  type: TYPE_NORMAL
  zh: 在这一章中，你了解了部署 Azure ML 的前提条件。你可以使用试用订阅，也可以在你公司订阅中请求一个资源组，在那里你至少具有该资源组的贡献者权限。你还深入了解了在开发环境中部署
    Azure ML 工作区的两种最常见方式，并且你掌握了需要指定的参数。你还了解了部署工作区的其他方式，包括 ARM 模板，这是一种更适合 DevOps 的生产环境部署方式。在最后一部分，你了解了部署
    Azure ML 工作区所涉及的资源，并学习了 RBAC 在 Azure 中的工作原理。此外，你还学习了如何使用内置角色或自定义角色来授予对已部署 Azure
    ML 工作区的访问权限。
- en: In the next chapter, you will learn about the **Azure ML Studio** experience,
    which is a web environment that enables you to manage the end-to-end ML life cycle.
  id: totrans-272
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一章，你将学习 **Azure ML Studio** 的使用体验，它是一个支持管理端到端 ML 生命周期的 Web 环境。
- en: Questions
  id: totrans-273
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 问题
- en: 'In each chapter, you should find a couple of questions that will allow you
    to perform a knowledge check on the topics discussed in this chapter:'
  id: totrans-274
  prefs: []
  type: TYPE_NORMAL
  zh: 在每一章中，你应该会找到几个问题，帮助你对本章讨论的主题进行知识检查：
- en: Which of the following are applicable ways of deploying the Azure ML workspace?
  id: totrans-275
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 以下哪些是适用于部署 Azure ML 工作区的方式？
- en: a. Azure CLI through the azure-cli-ml extension
  id: totrans-276
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: a. 通过 azure-cli-ml 扩展的 Azure CLI
- en: b. The Azure portal
  id: totrans-277
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: b. Azure 门户
- en: c. The deployment of an ARM template
  id: totrans-278
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: c. 部署 ARM 模板
- en: d. Azure ML Python SDK
  id: totrans-279
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: d. Azure ML Python SDK
- en: You are creating a custom role and you want to deny the ability to delete a
    workspace. Where do you need to add the `Actions` section of the JSON definition
  id: totrans-280
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你正在创建一个自定义角色，并希望拒绝删除工作区的权限。你需要在 JSON 定义的哪个部分添加 `Actions` 部分？
- en: b. To the `NotActions` section of the JSON definition
  id: totrans-281
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: b. 添加到 JSON 定义的 `NotActions` 部分
- en: c. To the `AssignableScopes` section of the JSON definition
  id: totrans-282
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: c. 添加到 JSON 定义的 `AssignableScopes` 部分
- en: What do you have to install in the Azure CLI before you can deploy an Azure
    ML workspace?
  id: totrans-283
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 Azure CLI 中，你需要安装什么才能部署 Azure ML 工作区？
- en: Further reading
  id: totrans-284
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 进一步阅读
- en: 'This section offers a list of useful web resources that will help you to augment
    your knowledge and understanding of Azure:'
  id: totrans-285
  prefs: []
  type: TYPE_NORMAL
  zh: 本节提供了一些有用的网络资源，可以帮助你拓展对 Azure 的知识和理解：
- en: If this is the first time you are navigating to the Azure portal, you might
    want to read an overview of it at [https://docs.microsoft.com/azure/azure-portal/azure-portal-overview](https://docs.microsoft.com/azure/azure-portal/azure-portal-overview).
    If you want to learn more about the features of Cloud Shell, you can visit [https://docs.microsoft.com/azure/cloud-shell/overview](https://docs.microsoft.com/azure/cloud-shell/overview).
  id: totrans-286
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果这是你第一次访问 Azure 门户，你可能希望先阅读有关它的概述，地址为[https://docs.microsoft.com/azure/azure-portal/azure-portal-overview](https://docs.microsoft.com/azure/azure-portal/azure-portal-overview)。如果你想了解更多关于
    Cloud Shell 的功能，可以访问[https://docs.microsoft.com/azure/cloud-shell/overview](https://docs.microsoft.com/azure/cloud-shell/overview)。
- en: You can learn more about selecting the proper region for your resources at [https://azure.microsoft.com/global-infrastructure/geographies/#choose-your-region](https://azure.microsoft.com/global-infrastructure/geographies/#choose-your-region).
  id: totrans-287
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 你可以在[https://azure.microsoft.com/global-infrastructure/geographies/#choose-your-region](https://azure.microsoft.com/global-infrastructure/geographies/#choose-your-region)了解更多关于选择资源区域的信息。
- en: If you are interested in learning how to create and deploy ARM templates by
    using the Azure portal, you can read the documentation at [https://docs.microsoft.com/azure/azure-resource-manager/templates/quickstart-create-templates-use-the-portal](https://docs.microsoft.com/azure/azure-resource-manager/templates/quickstart-create-templates-use-the-portal).
  id: totrans-288
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果你有兴趣学习如何使用Azure门户创建和部署ARM模板，你可以阅读文档：[https://docs.microsoft.com/azure/azure-resource-manager/templates/quickstart-create-templates-use-the-portal](https://docs.microsoft.com/azure/azure-resource-manager/templates/quickstart-create-templates-use-the-portal)。
- en: For a complete list of data centers that have an Azure ML service available,
    please visit [https://azure.microsoft.com/global-infrastructure/services/?regions=all&products=machine-learning-service](https://azure.microsoft.com/global-infrastructure/services/?regions=all&products=machine-learning-service).
  id: totrans-289
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 要查看支持Azure ML服务的数据中心完整列表，请访问[https://azure.microsoft.com/global-infrastructure/services/?regions=all&products=machine-learning-service](https://azure.microsoft.com/global-infrastructure/services/?regions=all&products=machine-learning-service)。
- en: You can learn more about the Azure resource name rules at [https://docs.microsoft.com/azure/azure-resource-manager/management/resource-name-rules#microsoftmachinelearningservices](https://docs.microsoft.com/azure/azure-resource-manager/management/resource-name-rules#microsoftmachinelearningservices).
  id: totrans-290
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 你可以在[https://docs.microsoft.com/azure/azure-resource-manager/management/resource-name-rules#microsoftmachinelearningservices](https://docs.microsoft.com/azure/azure-resource-manager/management/resource-name-rules#microsoftmachinelearningservices)了解更多关于Azure资源名称规则的内容。
- en: You can read more about the best practices for naming at [https://docs.microsoft.com/azure/cloud-adoption-framework/ready/azure-best-practices/naming-and-tagging](https://docs.microsoft.com/azure/cloud-adoption-framework/ready/azure-best-practices/naming-and-tagging).
  id: totrans-291
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 你可以在[https://docs.microsoft.com/azure/cloud-adoption-framework/ready/azure-best-practices/naming-and-tagging](https://docs.microsoft.com/azure/cloud-adoption-framework/ready/azure-best-practices/naming-and-tagging)阅读更多关于命名最佳实践的信息。
- en: You can also read more about how to use resource tags at [https://docs.microsoft.com/azure/azure-resource-manager/management/tag-resources](https://docs.microsoft.com/azure/azure-resource-manager/management/tag-resources).
    The Microsoft Cloud Adoption Framework has a list of best practices related to
    metadata tags, which you can read at [https://docs.microsoft.com/azure/cloud-adoption-framework/ready/azure-best-practices/naming-and-tagging#metadata-tags](https://docs.microsoft.com/azure/cloud-adoption-framework/ready/azure-best-practices/naming-and-tagging#metadata-tags).
  id: totrans-292
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 你还可以阅读更多关于如何使用资源标签的信息，链接：[https://docs.microsoft.com/azure/azure-resource-manager/management/tag-resources](https://docs.microsoft.com/azure/azure-resource-manager/management/tag-resources)。微软云采用框架中有一份与元数据标签相关的最佳实践列表，你可以在[https://docs.microsoft.com/azure/cloud-adoption-framework/ready/azure-best-practices/naming-and-tagging#metadata-tags](https://docs.microsoft.com/azure/cloud-adoption-framework/ready/azure-best-practices/naming-and-tagging#metadata-tags)阅读。
- en: For more information about the Azure ML private link feature, please refer to
    [https://docs.microsoft.com/azure/machine-learning/how-to-configure-private-link](https://docs.microsoft.com/azure/machine-learning/how-to-configure-private-link).
  id: totrans-293
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如需了解更多关于Azure ML私有链接功能的信息，请参考[https://docs.microsoft.com/azure/machine-learning/how-to-configure-private-link](https://docs.microsoft.com/azure/machine-learning/how-to-configure-private-link)。
- en: You can learn more about this system-managed identity concept that is infused
    in the Azure ML workspace at [https://docs.microsoft.com/azure/machine-learning/concept-enterprise-security#securing-compute-targets-and-data](https://docs.microsoft.com/azure/machine-learning/concept-enterprise-security#securing-compute-targets-and-data).
  id: totrans-294
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 你可以在[https://docs.microsoft.com/azure/machine-learning/concept-enterprise-security#securing-compute-targets-and-data](https://docs.microsoft.com/azure/machine-learning/concept-enterprise-security#securing-compute-targets-and-data)了解更多关于该系统托管身份概念的信息，该概念被融入到Azure
    ML工作区中。
- en: You can learn more about the default Azure roles (such as `Owner`, `Contributor`,
    and `Reader`) and how to create custom roles for the Azure ML workspace at [https://docs.microsoft.com/azure/machine-learning/how-to-assign-roles](https://docs.microsoft.com/azure/machine-learning/how-to-assign-roles).
  id: totrans-295
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 你可以在[https://docs.microsoft.com/azure/machine-learning/how-to-assign-roles](https://docs.microsoft.com/azure/machine-learning/how-to-assign-roles)了解更多关于默认Azure角色（如`Owner`、`Contributor`和`Reader`）以及如何为Azure
    ML工作区创建自定义角色的内容。
- en: 'Learn more about Managed Identities: [https://docs.microsoft.com/azure/active-directory/managed-identities-azure-resources/overview](https://docs.microsoft.com/azure/active-directory/managed-identities-azure-resources/overview)'
  id: totrans-296
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 了解更多关于托管身份的信息：[https://docs.microsoft.com/azure/active-directory/managed-identities-azure-resources/overview](https://docs.microsoft.com/azure/active-directory/managed-identities-azure-resources/overview)
- en: 'AzureML identity based data access: [https://docs.microsoft.com/azure/machine-learning/how-to-identity-based-data-access](https://docs.microsoft.com/azure/machine-learning/how-to-identity-based-data-access)'
  id: totrans-297
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'AzureML 基于身份的数据访问: [https://docs.microsoft.com/azure/machine-learning/how-to-identity-based-data-access](https://docs.microsoft.com/azure/machine-learning/how-to-identity-based-data-access)'
