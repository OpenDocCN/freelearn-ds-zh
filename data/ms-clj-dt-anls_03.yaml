- en: Chapter 3. Topic Modeling – Changing Concerns in the State of the Union Addresses
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第3章. 主题建模 – 总统国情咨文中的关注点变化
- en: A huge source of data right now is the volumes of unstructured, natural-language
    data that's everywhere on the Internet. Think of all the news articles, blog posts,
    Twitter posts, and YouTube comments as well as the thousands of other ways that
    people can create and share textual content online. What they're saying may be
    important to you, and being able to track what subjects they are talking about
    is incredibly useful to become aware of the trends and conversations.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 目前，数据的一个巨大来源是互联网上无处不在的大量非结构化、自然语言数据。想想所有新闻文章、博客帖子、推文和YouTube评论，以及人们在线创建和分享文本内容的成千上万种方式。他们所说的话可能对你很重要，能够追踪他们讨论的主题对于了解趋势和对话非常有用。
- en: A tool to explore the information a group of text documents discusses is called
    **topic modeling**. This is a technique to identify the "topics" discussed in
    a collection of documents, although as we'll see, "topics" is defined a little
    differently here than it is in informal conversation. The strength of these models
    is that they don't assume that each document talks only about one thing. Instead,
    they model documents as collections of topics. This is incredibly powerful in
    that it allows more complex conceptions of what a document is as well as more
    complex patterns between documents.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 一种探索一组文本文档讨论的信息的工具被称为**主题建模**。这是一种识别文档集中讨论的“主题”的技术，尽管正如我们将看到的，“主题”在这里的定义与日常对话中的定义略有不同。这些模型的优势在于它们不假设每篇文档只讨论一件事。相反，它们将文档建模为主题的集合。这在允许对文档有更复杂的概念以及文档之间更复杂的模式方面非常强大。
- en: 'In this chapter, we will cover the following topics:'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将涵盖以下主题：
- en: Understanding data in State of the Union addresses
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 理解总统国情咨文中的数据
- en: Understanding topic modeling
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 理解主题建模
- en: Preparing for visualizations
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 准备可视化
- en: Setting up the project
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 设置项目
- en: Getting the data
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 获取数据
- en: Visualizing data with D3 and ClojureScript
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用D3和ClojureScript可视化数据
- en: Exploring the topics
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 探索主题
- en: Understanding data in the State of Union addresses
  id: totrans-11
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 理解总统国情咨文中的数据
- en: In this chapter, we'll apply topic modeling to the (**SOTU**) **State of the
    Union** addresses presented by the presidents of the United States of America.
    Each January or February, the President addresses the US Senate and the House
    of Representatives either in person or in writing, and talks about how the country
    is doing as well as outlining his agenda for the coming year. The speeches can
    be fairly short, but the written reports can be much longer. George Washington's
    first State of the Union address from 1790 had less than 500 words. Barack Obama's
    latest SOTU (at the time of this writing in 2013) had over 3,000 words. Jimmy
    Carter had the longest SOTU address, which he delivered in writing in 1981\. It
    is almost 14,000 words long.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将应用主题建模于美国总统所发表的（**SOTU**）**国情咨文**。每年的一月或二月，总统亲自或以书面形式向美国参议院和众议院发表讲话，讨论国家的情况，并概述下一年度的议程。演讲可能相当简短，但书面报告可能要长得多。乔治·华盛顿1790年的第一次国情咨文不到500个单词。巴拉克·奥巴马在2013年（撰写本文时）的最新国情咨文有超过3000个单词。吉米·卡特有最长的国情咨文，他在1981年以书面形式发表，长达近14000个单词。
- en: 'The gradual increase in the length of the SOTU address, which climaxed around
    1910, was because starting from Thomas Jefferson''s 1801 address up until William
    H. Taft''s 1912 address, the SOTU address was a written report delivered before
    Congress. The following graph represents the increase in the word counts of SOTU
    addresses:'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 国情咨文长度的逐渐增加，在1910年达到顶峰，这是因为从托马斯·杰斐逊1801年的国情咨文到威廉·H·塔夫脱1912年的国情咨文，国情咨文是一份在国会之前提交的书面报告。以下图表表示国情咨文单词数的增加：
- en: '![Understanding data in the State of Union addresses](img/4139OS_03_01.jpg)'
  id: totrans-14
  prefs: []
  type: TYPE_IMG
  zh: '![理解总统国情咨文中的数据](img/4139OS_03_01.jpg)'
- en: 'Of course, as the situation has changed both domestically and internationally,
    so have the topics that the President discusses in the SOTU addresses. You wouldn''t
    expect John Adams'' 1800 address to talk about the same things as Bill Clinton''s
    2000 address. This immediately raises the question: what topics have the Presidents
    talked about in their SOTU addresses and how have those topics changed over time?'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 当然，随着国内外形势的变化，总统在国情咨文演讲中讨论的主题也发生了变化。你不会期望约翰·亚当斯1800年的演讲与比尔·克林顿2000年的演讲谈论相同的事情。这立即引发了一个问题：总统们在国情咨文演讲中都讨论了哪些主题，这些主题是如何随时间变化的？
- en: 'This isn''t a new question, even for topic modeling. Xuerui Wang and Andrew
    McCallum covered it as one of several examples in their 2006 paper, *Topics over
    time: A non-Markov continuous-time model of topical trends (2006)* ([http://citeseer.ist.psu.edu/viewdoc/summary?doi=10.1.1.152.2460](http://citeseer.ist.psu.edu/viewdoc/summary?doi=10.1.1.152.2460)).
    In this paper, they present a way of analyzing a series of time-stamped documents
    in order to get an improved understanding of how the topics interact over time.
    In fact, this is an area of considerable further research, and there are a number
    of other extensions to topic modeling that take time into account.'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 这不是一个新问题，即使是对于主题模型来说也是如此。Xuerui Wang和Andrew McCallum在2006年的论文《随时间变化的主题：非马尔可夫连续时间主题趋势模型》（2006）中将其作为几个例子之一进行了探讨，[论文链接](http://citeseer.ist.psu.edu/viewdoc/summary?doi=10.1.1.152.2460)。在这篇论文中，他们提出了一种分析一系列带有时戳的文档的方法，以便更好地理解主题随时间如何相互作用。实际上，这是一个值得进一步研究的领域，并且还有许多其他考虑时间的主题模型扩展。
- en: 'In this chapter, we''re only going to cover the most widely used topic modeling
    algorithm today: **LDA** (**Latent Dirichlet Allocation**). With an understanding
    of this procedure and the underlying thought behind it, you can understand Wang''s
    and McCallum''s Topics over Time algorithm without too much difficulty.'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们只将介绍目前最广泛使用的主题模型算法：**LDA（潜在狄利克雷分配**）。通过理解这个程序及其背后的思想，你可以不太困难地理解Wang和McCallum的“随时间变化的主题”算法。
- en: Understanding topic modeling
  id: totrans-18
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 理解主题模型
- en: A topic model is a statistical model of the topics in a document. The assumption
    is that if 10 percent of a document talks about the military and 40 percent of
    it talks about the economy (and 50 percent talks about other things), then there
    should be roughly four times as many words about economics as about the military.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 主题模型是文档中主题的统计模型。假设如果一个文档中有10%的内容是关于军事的，40%的内容是关于经济的（还有50%的内容是关于其他事物），那么关于经济的词汇数量应该是关于军事词汇数量的四倍左右。
- en: 'An early form of topic modeling was described by Christos Papadimitriou and
    others in their 1998 paper, *Latent Semantic Indexing: A probabilistic analysis*
    ([http://www.cs.berkeley.edu/~christos/ir.ps](http://www.cs.berkeley.edu/~christos/ir.ps)).
    This was refined by Thomas Hofmann in 1999 with *Probabilistic Latent Semantic
    Indexing* ([http://www.cs.brown.edu/~th/papers/Hofmann-SIGIR99.pdf](http://www.cs.brown.edu/~th/papers/Hofmann-SIGIR99.pdf)).'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 主题模型的早期形式由Christos Papadimitriou和其他人在1998年的论文《潜在语义索引：概率分析》中描述，[论文链接](http://www.cs.berkeley.edu/~christos/ir.ps)。这项工作在1999年由Thomas
    Hofmann通过《概率潜在语义索引》进一步精炼，[论文链接](http://www.cs.brown.edu/~th/papers/Hofmann-SIGIR99.pdf)。
- en: In 2003, David Blei, Andrew Ng, and Michael I. Jordan published their paper,
    *Latent Dirichlet Allocation* ([http://jmlr.csail.mit.edu/papers/v3/blei03a.html](http://jmlr.csail.mit.edu/papers/v3/blei03a.html)).
    Currently, this is the most common type of topic modeling. It's simple, easy to
    get started, and widely available. Most work in the field since then has been
    developing extensions to the original LDA topic modeling method. This is the procedure
    that we'll learn about and use in this chapter.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 在2003年，David Blei、Andrew Ng和Michael I. Jordan发表了他们的论文《潜在狄利克雷分配》，[论文链接](http://jmlr.csail.mit.edu/papers/v3/blei03a.html)。目前，这是最常见的主题模型类型。它简单、易于上手，且广泛可用。从那时起，该领域的大部分工作都是对原始LDA主题模型方法的扩展。这是我们将在本章中学习和使用的程序。
- en: 'In LDA, each document is modeled as a bag of words, each word drawn from a
    number of topics. So each word in the document is the result of one of those topics.
    The model takes the following steps to create each document:'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 在LDA中，每个文档被建模为一个词袋，每个词来自多个主题。因此，文档中的每个词都是这些主题之一的结果。该模型采取以下步骤来创建每个文档：
- en: Select a distribution for the topic in the document.
  id: totrans-23
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在文档中选择一个主题的分布。
- en: Select a distribution for the words from the topic.
  id: totrans-24
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从主题中选择一个单词的分布。
- en: Select a topic and then a word from that topic from those distributions for
    each word in the document.
  id: totrans-25
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从每个单词的分布中选择一个主题，然后从该主题中选择一个单词。
- en: The distributions for the topics and words use a Dirichlet distribution for
    their prior probability, which is the assumed uncertainty about the distribution
    of topics and words before considering any evidence or documents. However, as
    they are trained on a set of input documents, these distributions more accurately
    reflect the data they've seen so far, and so they are able to more accurately
    categorize future documents.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 主题和单词的分布使用Dirichlet分布作为它们的先验概率，这是在考虑任何证据或文档之前对主题和单词分布的假设不确定性。然而，由于它们是在一组输入文档上训练的，这些分布更准确地反映了它们迄今为止看到的数据，因此它们能够更准确地分类未来的文档。
- en: 'A short example may be helpful. Initially the distributions are picked randomly.
    Afterwards, we''ll train on one document. Say we have a document with the following
    words: budget, spending, army, navy, plane, soldier, and dollars. The model knows
    from previous training that the words *budget, spending*, and *dollars* all relate
    to a topic on finance, while army, navy, plane, and soldier relate to a topic
    on the military, and plane relates to one on travel. This may suggest that the
    document is 35 percent about finance, 50 percent about the military, and 10 percent
    about travel. Military would be the dominant topic, but other topics would be
    represented as well.'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 一个简短的例子可能会有所帮助。最初，分布是随机选择的。之后，我们将基于一个文档进行训练。比如说我们有一个包含以下单词的文档：预算、支出、军队、海军、飞机、士兵和美元。模型知道从之前的训练中，单词“预算”、“支出”和“美元”都与金融主题相关，而军队、海军、飞机和士兵与军事主题相关，飞机与旅行主题相关。这可能表明该文档有35%关于金融，50%关于军事，10%关于旅行。军事将是主导主题，但其他主题也会有所体现。
- en: If the LDA is in its training phase, then the presence of those words would
    slightly strengthen the association between all of the words listed, between those
    words and the other words in the document, and between those words and the topics
    that represent the relationship between them.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 如果LDA处于训练阶段，那么这些词的存在会略微加强所有列出单词之间的关联，以及这些单词与文档中其他单词、以及代表它们之间关系的主题之间的关联。
- en: One twist to this is that the topics aren't named. In the previous example,
    I said that there were topics about finance, the military, and travel. However,
    LDA would see those as topics 1, 2, and 3\. The labels are interpretations I would
    give based on the terms in those topics and the documents that scored high in
    them. One of the tasks when using LDA is investigating and interpreting the topics.
    We'll see several examples of this at the end of the chapter when we explore the
    results of our analysis.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 这其中有一个转折是，主题没有命名。在先前的例子中，我说过有关于金融、军事和旅行的主题。然而，LDA会将这些视为主题1、2和3。标签是基于那些主题中的术语以及在这些主题中得分较高的文档的解释。在使用LDA时，一项任务是调查和解释主题。我们将在本章末尾探索分析结果时看到几个这样的例子。
- en: Preparing for visualizations
  id: totrans-30
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 准备可视化
- en: One of the basic tools of data analysis is visualization. Good, flexible visualizations
    make it easier to explore and understand the data, and this is useful at all stages
    of the data analysis process. At the beginning, visualizations make it easier
    to find errors and inconsistencies and to get to know your data and developing
    an intuition for it. It continues to drive insights throughout the process. In
    the end, visualizations make great supporting evidence and explanations in reports
    and presentations.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 数据分析的基本工具之一是可视化。良好的、灵活的可视化使得探索和理解数据更加容易，这在数据分析过程的各个阶段都非常有用。在开始阶段，可视化有助于发现错误和不一致性，并帮助你了解数据以及对其形成直觉。在整个过程中，可视化持续推动洞察力的产生。最后，在报告和演示文稿中，可视化可以作为出色的辅助证据和解释。
- en: 'Visualizations will be an important part of this chapter and in understanding
    the results of topic modeling. To create and interact with the graphs, we''re
    going to use some software that''s recently become an important part of many data
    scientists'' toolkits: the Web browser.'
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 可视化将是本章的一个重要部分，也是理解主题建模结果的关键。为了创建和交互这些图表，我们将使用一些最近成为许多数据科学家工具包重要部分的软件：网页浏览器。
- en: As we did in [Chapter 1](ch01.html "Chapter 1. Network Analysis – The Six Degrees
    of Kevin Bacon"), *Network Analysis – The Six Degrees of Kevin Bacon*, we'll use
    D3 ([http://d3js.org/](http://d3js.org/)) and ClojureScript ([https://github.com/clojure/clojurescript/](https://github.com/clojure/clojurescript/)).
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 正如我们在[第1章](ch01.html "第1章。网络分析 – 凯文·贝肯的六度分隔")中做的那样，*网络分析 – 凯文·贝肯的六度分隔*，我们将使用D3([http://d3js.org/](http://d3js.org/))和ClojureScript([https://github.com/clojure/clojurescript/](https://github.com/clojure/clojurescript/))。
- en: The graph of the word counts earlier in this chapter as well as the ones that
    will come later are examples of this system. They're part of a static website.
    That is, the resources that load in the browser are read from the filesystem,
    not generated dynamically by a server-side web application. The data is read from
    **CSV** (**comma-separated values**) files that we'll create from the topic model
    data. Finally, the ClojureScript is compiled into a JavaScript file that's loaded
    by the browser.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 本章前面以及后面将要展示的单词计数图是这个系统的例子。它们是静态网站的一部分。也就是说，浏览器中加载的资源是从文件系统中读取的，而不是由服务器端Web应用程序动态生成的。数据是从我们由主题模型数据创建的**CSV**（**逗号分隔值**）文件中读取的。最后，ClojureScript被编译成一个由浏览器加载的JavaScript文件。
- en: We'll see later how to set up this site with ClojureScript as well as how to
    create the graphs. As usual, for the full code, refer to the source code download
    from the Packt Publishing website.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将在稍后看到如何使用ClojureScript设置此网站以及如何创建图表。像往常一样，对于完整代码，请参考Packt Publishing网站上的源代码下载。
- en: Setting up the project
  id: totrans-36
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 设置项目
- en: 'Before we dive in further, however, we''ll need to set up our project for this
    chapter. So with all of that in mind, let''s tackle the solution. The first thing
    we''ll need is the following Leiningen 2 `project.clj` file:'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，在我们进一步深入之前，我们需要为此章节设置我们的项目。所以考虑到所有这些，让我们来解决问题。我们首先需要的是以下Leiningen 2 `project.clj`文件：
- en: '[PRE0]'
  id: totrans-38
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'We use a couple of dependencies for this: Enlive to download the text of the
    SOTU addresses and MALLET for topic modeling. We''ll talk more about both of these
    in the forthcoming sections.'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 我们为此使用了几个依赖项：Enlive用于下载SOTU演讲的文本，以及MALLET用于主题建模。我们将在接下来的章节中详细介绍这两个。
- en: Getting the data
  id: totrans-40
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 获取数据
- en: To get a copy of the SOTU addresses, we'll visit the website for the American
    Presidency Project at the University of California, Santa Barbara ([http://www.presidency.ucsb.edu/](http://www.presidency.ucsb.edu/)).
    This site has the text for the SOTU addresses as well as an archive of many messages,
    letters, public papers, and other documents for various presidents. It's a great
    resource for looking at political rhetoric.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 要获取SOTU演讲的副本，我们将访问加州大学圣巴巴拉分校的美国总统项目网站([http://www.presidency.ucsb.edu/](http://www.presidency.ucsb.edu/))。该网站提供了SOTU演讲的文本以及许多总统的许多信息、信件、公开文件和其他文件的存档。这是一个查看政治演说的极好资源。
- en: In this case, we'll write some code to visit the index page for the SOTU addresses.
    From there, we'll visit each of the pages that contain an address; remove the
    menus, headers, and footers; and strip out the HTML. We'll save this in a file
    in the `data` directory.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个例子中，我们将编写一些代码来访问SOTU演讲的索引页面。从那里，我们将访问包含演讲的每个页面；移除菜单、页眉和页脚；并剥离HTML。我们将把这个文件保存在`data`目录下。
- en: We won't see all of the code for this. To see the rest, look at the `download.clj`
    file in the `src/tm_sotu/` directory in the downloaded code.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 我们不会看到所有代码。要查看其余部分，请查看下载代码中`src/tm_sotu/`目录下的`download.clj`文件。
- en: To handle downloading and parsing the files, we'll use the Enlive library ([https://github.com/cgrand/enlive/wiki](https://github.com/cgrand/enlive/wiki)).
    This library provides a DSL to navigate and pull data from HTML pages. The syntax
    and concepts are similar to CSS selectors, so if you're familiar with those, using
    Enlive will seem very natural.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 为了处理下载和解析文件，我们将使用Enlive库([https://github.com/cgrand/enlive/wiki](https://github.com/cgrand/enlive/wiki))。这个库提供了一个用于导航和从HTML页面中提取数据的领域特定语言（DSL）。语法和概念与CSS选择器类似，所以如果你熟悉这些，使用Enlive将会感觉非常自然。
- en: 'We''ll tackle this problem piece by piece. First, we need to set up the namespace
    and imports for this module with the following code:'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将逐步解决这个问题。首先，我们需要使用以下代码为此模块设置命名空间和导入：
- en: '[PRE1]'
  id: totrans-46
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'Now, we can define a function that downloads the index page for the SOTU addresses
    as shown in the following code ([http://www.presidency.ucsb.edu/sou.php](http://www.presidency.ucsb.edu/sou.php)).
    It will take this URL as a parameter, download the resource, pull out the list
    of links, and remove any text that isn''t a year:'
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，我们可以定义一个函数来下载 SOTU 地址的索引页面，如下面的代码所示（[http://www.presidency.ucsb.edu/sou.php](http://www.presidency.ucsb.edu/sou.php)）。它将接受这个
    URL 作为参数，下载资源，提取链接列表，并移除任何非年份的文本：
- en: '[PRE2]'
  id: totrans-48
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'Let''s walk through these lines step by step:'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们一步一步地走过这些行：
- en: First, `index-url` is just the URL of the index page that needs to be downloaded.
    This line just kicks off the processing pipeline.
  id: totrans-50
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 首先，`index-url` 只是需要下载的索引页面的 URL。这一行只是启动处理管道。
- en: The `enlive/html-resource` function downloads and parses the web page. Most
    processing that uses Enlive will start with this function.
  id: totrans-51
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`enlive/html-resource` 函数下载并解析网页。大多数使用 Enlive 的处理都会从这个函数开始。'
- en: Now, `(enlive/select [:.doclist :a])` only pulls out certain anchor tags. The
    vector that specifies the tags to return is similar to a CSS selector. In this
    case, it would be equivalent to the `.doclist :a` selector. I found which classes
    and tags to look for by examining the source code for the HTML file and experimenting
    with it for a few minutes.
  id: totrans-52
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，`(enlive/select [:.doclist :a])` 只提取特定的锚标签。指定要返回的标签的向量类似于 CSS 选择器。在这种情况下，它等同于
    `.doclist :a` 选择器。我通过检查 HTML 文件的源代码并对其进行几分钟的实验，找到了要查找的类和标签。
- en: Finally, I called `filter-year-content?` on the sequence of tags. This looks
    at the text within the anchor tag and throws out any text that is not a four-digit
    year.
  id: totrans-53
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 最后，我在标签序列上调用 `filter-year-content?`。这会查看锚标签内的文本，并丢弃任何不是四位数的年份的文本。
- en: The `get-index-links` function returns a sequence of anchor tags that need to
    be downloaded. Between the tag's `href` attribute and its content, we have the
    URL for the address and the year it was delivered, and we'll use both of them.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: '`get-index-links` 函数返回需要下载的锚标签序列。在标签的 `href` 属性和内容之间，我们有地址的 URL 和交付年份，我们将使用这两个信息。'
- en: 'The next step of the process is the `process-speech-page` function. It takes
    an output directory and a tag, and it downloads the page the tag points to, gets
    the text of the address, strips out the HTML tags from it, and saves the plain
    text to a file, as shown in the following code:'
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 过程的下一步是 `process-speech-page` 函数。它接受一个输出目录和一个标签，并下载标签指向的页面，获取地址的文本，从中移除 HTML
    标签，并将纯文本保存到文件中，如下面的代码所示：
- en: '[PRE3]'
  id: totrans-56
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: This strings together a number of functions. We'll walk through these a little
    more quickly, and then dive into one of the functions this calls in more detail.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 这将多个函数串联起来。我们将快速浏览这些函数，然后更详细地研究它调用的一个函数。
- en: First, the sequence of keywords `:attrs` and `:href` gets the URL from the anchor
    tag. We pass this to `enlive/html-resource` to download and parse the web page.
    Finally, we identify the text (`get-text-tags`), strip out the HTML (`extract-text`),
    and save it (`save-text-seq`). Most of these operations are fairly straightforward,
    but let's dig into `extract-text`.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，关键字序列 `:attrs` 和 `:href` 从锚标签中获取 URL。我们将其传递给 `enlive/html-resource` 以下载和解析网页。最后，我们识别文本（`get-text-tags`），移除
    HTML（`extract-text`），并保存它（`save-text-seq`）。大多数这些操作相当直接，但让我们深入探讨 `extract-text`。
- en: 'This procedure is actually the sole method from a protocol of types that we
    can pull text from, stripping out HTML tags in the process. The following code
    gives the definition of this protocol. It''s also defined over all the data structures
    that Enlive uses to return data: Strings for text blocks, hash maps for tags,
    lazy sequences for lists of content, and `nil` to handle all the possible input
    values, as shown in the following code:'
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 这个过程实际上是从一个协议类型中提取文本的唯一方法，我们在其中会移除 HTML 标签。以下代码给出了这个协议的定义。它也定义了 Enlive 使用的数据结构，以返回数据：文本块使用字符串，标签使用哈希表，内容列表使用懒序列，以及
    `nil` 来处理所有可能的输入值，如下面的代码所示：
- en: '[PRE4]'
  id: totrans-60
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: The preceding code allows us to find the parent elements for each address, pass
    those elements to this protocol, and get the HTML tags stripped out. Of all of
    these methods, the most interesting implementation is hash map's, which is highlighted
    in the preceding code.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 上述代码允许我们找到每个地址的父元素，将这些元素传递给此协议，并获取移除 HTML 标签后的结果。在这些方法中，最有趣的实现是哈希表，这在上述代码中被突出显示。
- en: First, it recursively calls the `extract-text` method to process the tag's content.
    Then, if the tag is `p` or `span`, the method adds a couple of new lines to format
    the tag as a paragraph. Having a `span` tag trigger a new paragraph is a bit odd,
    but the introduction to the address is in a `span` tag. Like any screen-scraping
    task, this is very specialized to the SOTU. Getting data from other sites will
    require a different set of rules and functions to get the data back out.
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，它递归调用`extract-text`方法来处理标签的内容。然后，如果标签是`p`或`span`，该方法会添加几行新内容来格式化标签作为段落。使用`span`标签触发新段落有点奇怪，但地址的介绍就在一个`span`标签中。像任何屏幕抓取任务一样，这非常特定于SOTU。从其他网站获取数据将需要不同的规则和函数来获取数据。
- en: 'I''ve tied this process together in a function that first downloads the index
    page and then processes the address links one by one as shown in the following
    code:'
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 我已经将这个过程整合到一个函数中，该函数首先下载索引页面，然后逐个处理地址链接，如下面的代码所示：
- en: '[PRE5]'
  id: totrans-64
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: After this function executes, there will be a `data/` directory that contains
    one text file for each SOTU address. Now we just need to see how to run LDA topic
    modeling on them.
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 此函数执行后，将有一个`data/`目录，其中包含每个SOTU地址的一个文本文件。现在我们只需要看看如何运行LDA主题模型。
- en: Loading the data into MALLET
  id: totrans-66
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 将数据加载到MALLET中
- en: To actually perform topic modeling, we'll use the MALLET Java library ([http://mallet.cs.umass.edu/](http://mallet.cs.umass.edu/)).
    **MALLET** (**MAchine Learning for LanguagE Toolkit**) contains a number of algorithms
    for various statistical and machine learning algorithms for natural-language processing,
    including document classification, sequence tagging, and numerical optimization.
    However, it's commonly also used for topic modeling, and its support for that
    is very robust and flexible. We'll interact with it using Clojure's Java `interop`
    functions.
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 为了实际执行主题建模，我们将使用MALLET Java库([http://mallet.cs.umass.edu/](http://mallet.cs.umass.edu/))。**MALLET**（**MAchine
    Learning for LanguagE Toolkit**）包含了一系列用于自然语言处理的统计和机器学习算法，包括文档分类、序列标记和数值优化。然而，它通常也用于主题建模，并且其对主题建模的支持非常稳健和灵活。我们将通过Clojure的Java
    `interop`函数与之交互。
- en: Each document is stored in a MALLET `cc.mallet.types.Instance` class. So to
    begin with, we'll need to create a processing pipeline that reads the files from
    disk and processes them and loads them into MALLET.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 每个文档都存储在`cc.mallet.types.Instance`类中。因此，首先我们需要创建一个处理管道，从磁盘读取文件，处理它们，并将它们加载到MALLET中。
- en: 'The next group of code will go into the `src/tm_sotu/topic_model.clj` file.
    The following code is the namespace declaration with the list of dependencies
    for this module. Be patient; the following list isn''t short:'
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 下一个代码块将放入`src/tm_sotu/topic_model.clj`文件中。下面的代码是该模块的命名空间声明及其依赖项列表。请耐心等待；下面的列表并不短：
- en: '[PRE6]'
  id: totrans-70
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: 'Now we can write a function that creates the processing pipeline and the list
    of instances based on it, as shown in the following code:'
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，我们可以编写一个函数来创建处理管道及其基于它的实例列表，如下面的代码所示：
- en: '[PRE7]'
  id: totrans-72
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: This function creates a pipeline of classes that process the input. Each stage
    in the process makes a small, select modification to its input, and then it passes
    the data down the pipeline.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 此函数创建了一个处理输入的类管道。处理过程中的每个阶段对其输入进行小的、选择性的修改，然后将数据传递到管道中。
- en: The first step takes the input file's name and reads it as a sequence of characters.
    It tokenizes the character sequence using the regular expression given, which
    matches the sequence of letters with embedded punctuation.
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 第一步是获取输入文件的名称，并将其作为字符序列读取。它使用给定的正则表达式对字符序列进行标记化，该正则表达式匹配带有嵌入标点的字母序列。
- en: Next, it normalizes the case of the tokens and removes stop words. Stop words
    are very common words. Most of these function grammatically in the sentence, but
    do not really add to the semantics (that is, to the content) of the sentence.
    Examples of stop words in English are *the*, *of*, *and*, and *are*.
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，它将标记的案例进行归一化，并移除停用词。停用词是非常常见的单词。这些单词在句子中大多数情况下都有语法功能，但并不真正增加句子的语义（即内容）。英语中停用词的例子有*the*、*of*、*and*和*are*。
- en: Finally, it converts the token sequence to a sequence of features. A feature
    is a word, a token, or some metadata from a document that you want to include
    in the training. For example, the presence or absence of the word *president*
    might be a feature in this corpus. Features are often assembled into vectors;
    one vector for each document. The position of each feature in the vectors must
    be consistent. For example, the feature *president* must always be found at the
    seventh position in all documents' feature vectors.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，它将标记序列转换为特征序列。特征是文档中你想要包含在训练中的单词、标记或一些元数据。例如，单词*president*的存在或不存在可能是这个语料库中的一个特征。特征通常组装成向量；每个文档一个向量。每个特征在向量中的位置必须一致。例如，特征*president*必须始终在所有文档特征向量的第七个位置。
- en: Feature sequences are sequences of numbers along with mappings from words to
    indices, so the rest of the algorithm will deal with numbers instead of words.
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 特征序列是由数字组成的序列，同时包含从单词到索引的映射，因此算法的其余部分将处理数字而不是单词。
- en: 'For instance, the first SOTU address by George Washington (1790) begins with,
    "I embrace with great satisfaction the opportunity which now presents itself."
    The following are some of the steps that the processing pipeline would take for
    this input:'
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，乔治·华盛顿（1790年）的第一次SOTU演讲开始于，“我怀着极大的满足感接受现在呈现在面前的机会。”以下是一些处理管道将采取的步骤：
- en: '`CharSequence2TokenSequence`: After tokenization, it would be a sequence of
    individual strings such as *I*, *embrace*, *with*, *great*, and *satisfaction*.'
  id: totrans-79
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`CharSequence2TokenSequence`：在分词之后，它将是一个包含单个字符串的序列，例如*I*、*embrace*、*with*、*great*和*satisfaction*。'
- en: '`TokenSequenceLowercase`: Normalizing the case would convert the first word
    to *i*.'
  id: totrans-80
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`TokenSequenceLowercase`：规范化大小写将第一个单词转换为*i*。'
- en: '`TokenSequenceRemoveStopwords`: Removing stop words would leave just content
    words: *embrace*, *great*, *satisfaction*, *opportunity*, *now*, *presents*, and
    *itself*.'
  id: totrans-81
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`TokenSequenceRemoveStopwords`：移除停用词将仅留下内容词：*embrace*、*great*、*satisfaction*、*opportunity*、*now*、*presents*和*itself*。'
- en: '`TokenSequence2FeatureSequence`: This changes input into a sequence of numbers.
    Internally, it also maintains a mapping between the indexes and the words, so
    0 would be associated with *embrace*. The next time it finds a word that it has
    encountered before, it will reuse the feature index, so from here on, *now* will
    always be replaced by 4.'
  id: totrans-82
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`TokenSequence2FeatureSequence`：这个函数将输入转换为数字序列。内部，它还维护着索引和单词之间的映射，因此0将与*embrace*相关联。下次它遇到之前遇到过的单词时，将重用特征索引，因此从现在开始，*now*将始终被替换为4。'
- en: 'We can also visually represent this process as shown in the following chart:'
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 我们也可以将这个过程以以下图表的形式直观表示：
- en: '![Loading the data into MALLET](img/4139OS_03_02.jpg)'
  id: totrans-84
  prefs: []
  type: TYPE_IMG
  zh: '![将数据加载到MALLET](img/4139OS_03_02.jpg)'
- en: 'We still haven''t specified which files to process or connected them to the
    processing pipeline. We do that using the instance list''s `addThruPipe` method.
    To make this step easier, we''ll define a function that takes a list of files
    and plugs them into the pipeline as shown in the following code:'
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 我们还没有指定要处理的文件或将它们连接到处理管道。我们使用实例列表的`addThruPipe`方法来完成此操作。为了使这一步更容易，我们将定义一个函数，该函数接受一个文件列表并将它们插入到管道中，如下面的代码所示：
- en: '[PRE8]'
  id: totrans-86
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: The `FileListIterator` function wraps the array of files. It can also filter
    the array, which is more than we need. The regular expression, `#"/([^/]*).txt$"`,
    is used to separate the filename from the directory. This will be used to identify
    the instance for the rest of the processing.
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: '`FileListIterator`函数包装文件数组。它还可以过滤数组，这比我们需要的要多。正则表达式`#"/([^/]*).txt$"`用于将文件名与目录分开。这将用于识别后续处理中的实例。'
- en: 'That''s it. Now we''re ready to write a function to train the model. This process
    has a number of options, including how many threads to use, how many iterations
    to perform, how many topics to find, and a couple of hyper parameters to the algorithm
    itself: the *α* sum and *β*. The *α* parameter is the sum over the topics and
    *β* is the parameter for one dimension of the Dirichlet prior distributions that
    are behind topic modeling. In the following code, I''ve hardcoded them to `1.0`
    and `0.01`, and I''ve provided defaults for the number of topics (`100`), threads
    (`4`), and iterations (`50`):'
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 就这些了。现在我们准备好编写一个训练模型的函数了。这个过程有许多选项，包括使用多少线程、执行多少次迭代、找到多少主题，以及算法本身的几个超参数：*α*总和和*β*。*α*参数是主题的总和，*β*是Dirichlet先验分布的一个维度的参数，这些分布是主题建模背后的。在下面的代码中，我将它们硬编码为`1.0`和`0.01`，并为主题数量（`100`）、线程（`4`）和迭代次数（`50`）提供了默认值：
- en: '[PRE9]'
  id: totrans-89
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: Finding the right number of topics is a bit of an art. The value is an interaction
    between the size of your collection, the type of documents it contains, and how
    finely grained you wish the topics to be. The number could range from the tens
    to the hundreds.
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 找到合适的主题数量有点像一门艺术。这个值是您收藏的大小、包含的文档类型以及您希望主题有多精细之间的相互作用。数量可以从几十到几百不等。
- en: One way to get a grasp on this is to see how many instances have a given topic
    with the top weighting. In other words, if there are a lot of topics with only
    one or two documents strongly associated with them, then maybe those topics are
    too specific, and we can run the training again with fewer documents. If none
    do, or only a few do, then maybe we need to use fewer topics.
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 了解这一点的一种方法是通过查看有多少实例具有给定主题的最高权重。换句话说，如果有很多主题只与一到两份文档强烈相关，那么这些主题可能过于具体，我们可以用更少的文档再次运行训练。如果没有，或者只有少数几个，那么可能我们需要使用更少的主题。
- en: However, ultimately, the number of topics depends on how fine-grained and precise
    you want the topic categories to be, and that will depend upon exactly what questions
    you're attempting to answer. If you need to find topics that are only important
    for a year or two, then you'll want more topics; however, if you're looking for
    broader, more general trends and movements, then fewer topics will be more helpful.
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，最终，主题的数量取决于您希望主题类别有多精细和精确，这将取决于您试图回答的确切问题。如果您需要找到只对一两年重要的主题，那么您将需要更多的主题；然而，如果您正在寻找更广泛、更一般的趋势和运动，那么更少的主题将更有帮助。
- en: 'For example, the following graph shows the weightings for each topic in each
    SOTU address when ten topics are used:'
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，以下图表显示了使用十个主题时，每个SOTU演讲中每个主题的权重：
- en: '![Loading the data into MALLET](img/4139OS_03_03.jpg)'
  id: totrans-94
  prefs: []
  type: TYPE_IMG
  zh: '![将数据加载到MALLET](img/4139OS_03_03.jpg)'
- en: We can see that the lines describe large arcs. Some lines begin strong and then
    taper off. Others have a hump in the middle and fall away to both sides. Others
    aren't mentioned much at the beginning but finish strong at the end of the graph.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以看到这些线条描述了大的弧线。有些线条开始时很强，然后逐渐减弱。其他线条中间有一个凸起，然后向两边下降。还有一些在图表开始时没有太多提及，但在图表的末尾表现强劲。
- en: 'One line that peaks around 1890 is a good example of one of these trends. Its
    top ten keywords are *year*, *government*, *states*, *congress*, *united*, *secretary*,
    *report*, *department*, *people*, and *fiscal*. Initially, it''s difficult to
    say what this topic would be about. In fact, it is less about the addresses''
    subject matter per se, and more about the way that the Presidents went into the
    details of the topics, reporting amounts for taxation, mining, and agriculture.
    They tended to use a lot of phrases, such as "fiscal year". The following paragraph
    on sugar production from Grover Cleveland''s 1894 address is typical:'
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 大约在1890年达到顶峰的一条线是这些趋势的一个很好的例子。其前十个关键词是*年份*、*政府*、*各州*、*国会*、*联合*、*部长*、*报告*、*部门*、*人民*和*财政*。最初，很难说这个主题会是什么。事实上，它与其说是关于演讲的主题内容本身，不如说是关于总统如何深入探讨主题的方式，报告税收、采矿和农业的金额。他们倾向于使用很多短语，例如“财政年度”。以下是从格罗弗·克利夫兰1894年演讲中关于糖生产的段落是典型的：
- en: '*The total bounty paid upon the production of sugar in the United States for
    the fiscal year was $12,100,208.89, being an increase of $2,725,078.01 over the
    payments made during the preceding year. The amount of bounty paid from July 1,
    1894, to August 28, 1894, the time when further payments ceased by operation of
    law, was $966,185.84\. The total expenses incurred in the payment of the bounty
    upon sugar during the fiscal year was $130,140.85.*'
  id: totrans-97
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '*在美国，根据财政年度生产的糖，总共支付的奖金为12,100,208.89美元，比前一年支付的金额增加了2,725,078.01美元。从1894年7月1日到1894年8月28日，即法律规定的进一步支付停止的时间，支付的奖金总额为966,185.84美元。在财政年度支付糖奖金的总费用为130,140.85美元。*'
- en: Exciting stuff.
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 真是令人兴奋的事情。
- en: This also illustrates how topics aren't always about the documents' subject
    matter, but also about rhetoric, ways of talking, and clusters of vocabulary that
    tend to be used together for a variety of reasons.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 这也说明了主题并不总是关于文档的主题内容，还涉及到修辞、说话方式和由于各种原因而倾向于一起使用的词汇群。
- en: 'The topics represented in the following graph clearly describe large trends
    in the concerns that SOTU addresses dealt with. However, if we increase the number
    of topics to 200, the graph is very different, and not just because it has more
    lines on it:'
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 以下图表中代表的主题清楚地描述了SOTU（美国国会年度国情咨文）所关注的大趋势。然而，如果我们增加到200个主题，图表将非常不同，而不仅仅是因为它上面有更多的线条：
- en: '![Loading the data into MALLET](img/4139OS_03_04.jpg)'
  id: totrans-101
  prefs: []
  type: TYPE_IMG
  zh: '![将数据加载到MALLET中](img/4139OS_03_04.jpg)'
- en: 'Once you start looking at the topics in more detail, in general, the topics
    are only relevant for a smaller period of time, like for a twenty- or forty-year
    period, and most of the time, the documents'' weightings for a given topic aren''t
    as high. There are exceptions to this of course; however, most of the topics are
    more narrowly relevant and narrowly defined. For example, the third topic is largely
    focused on events related to the Civil War, especially those that occurred around
    1862\. The top ten keywords for that topic are *emancipation*, *insurgents*, *kentucky*,
    *laborers*, *adopted*, *north*, *hired*, *maryland*, *disloyal*, and *buy*. The
    following graph represents the topic of the Civil War:'
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦你开始更详细地研究这些主题，通常情况下，这些主题只与较短的时间段相关，比如二十或四十年的时间段，而且大多数情况下，给定主题的文档权重并不高。当然，也有一些例外；然而，大多数主题都更加狭窄且定义明确。例如，第三个主题主要关注与内战相关的事件，特别是那些发生在1862年左右的事件。该主题的前十个关键词是*解放*、*叛军*、*肯塔基*、*劳工*、*收养*、*北方*、*雇佣*、*马里兰*、*不忠诚*和*购买*。以下图表表示内战的主题：
- en: '![Loading the data into MALLET](img/4139OS_03_05.jpg)'
  id: totrans-103
  prefs: []
  type: TYPE_IMG
  zh: '![将数据加载到MALLET中](img/4139OS_03_05.jpg)'
- en: The previous three graphs illustrate the role that the number of topics plays
    in our topic modeling. However, for the rest of this chapter, we're going to look
    at a run with 75 models. This graph provides a more balanced set of topics than
    either of the last two examples. In general, the subjects are neither too broad
    nor too narrow.
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 前三个图表说明了主题数量在我们主题建模中的作用。然而，在本章的其余部分，我们将查看75个模型的运行。这个图表提供了比前两个例子更平衡的主题集。一般来说，主题既不太宽泛，也不太狭窄。
- en: Visualizing with D3 and ClojureScript
  id: totrans-105
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 使用D3和ClojureScript进行可视化
- en: Before we look at D3 or ClojureScript, we should take some time to examine how
    the visualizations are put together since they're such an integral part of our
    work. The graphs will be on a static web page, meaning that there will be no need
    to for any server-side component to help create them. All changes on the graph
    will be created through JavaScript.
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们查看D3或ClojureScript之前，我们应该花些时间来检查可视化是如何组合的，因为它们是我们工作的一个重要组成部分。图表将位于静态网页上，这意味着不需要任何服务器端组件来帮助创建它们。图表上的所有更改都将通过JavaScript创建。
- en: 'The first component of this will be a standard web page that has a couple of
    pieces (the entire site is in the code download in the `www/` directory). It needs
    a `div` tag for the JavaScript to hang the visualization on the static web page,
    as shown in the following code:'
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 这个组件的第一个部分将是一个标准的网页，它包含几个部分（整个网站都在`www/`目录下的代码下载中）。它需要一个`div`标签来让JavaScript将可视化挂载到静态网页上，如下面的代码所示：
- en: '[PRE10]'
  id: totrans-108
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: 'Then, it needs a few JavaScript libraries. We''ll load jQuery ([https://jquery.org/](https://jquery.org/))
    from Google''s **content distribution network** (**CDN**). We''ll load D3 ([http://d3js.org/](http://d3js.org/))
    from its website, as they suggest and then we''ll load our own script. Then, we''ll
    call an entrance function in it as shown in the following code:'
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，它需要几个JavaScript库。我们将从谷歌的内容分发网络（**CDN**）加载jQuery（[https://jquery.org/](https://jquery.org/)）。我们将从其网站加载D3（[http://d3js.org/](http://d3js.org/)），正如他们建议的那样，然后加载我们的脚本。然后，我们将调用其中的入口函数，如下面的代码所示：
- en: '[PRE11]'
  id: totrans-110
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: 'The `js/main.js` file will be the output of the compiled ClojureScript. We''ve
    already set up the configuration for this in the `project.clj` file, but let''s
    look at that again in the following code:'
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: '`js/main.js`文件将是编译后的ClojureScript的输出。我们已经在`project.clj`文件中设置了此配置，但让我们再次查看以下代码：'
- en: '[PRE12]'
  id: totrans-112
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: The preceding code specifies that ClojureScript will compile anything in the
    `src-cljs/` directory into the `www/js/main.js` file. We'll need to create the
    source directory and the directories for the namespace structure.
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 上述代码指定ClojureScript将`src-cljs/`目录中的所有内容编译成`www/js/main.js`文件。我们需要创建源目录和命名空间结构的目录。
- en: In ClojureScript, the files look almost exactly like regular Clojure scripts.
    There are slight wrinkles in importing and using macros from other libraries,
    but we won't need to do that today. There is also a `js` namespace always available.
    This is used to reference a name directly from JavaScript without requiring it
    to be declared.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 在ClojureScript中，文件看起来几乎与常规Clojure脚本完全一样。在导入和使用其他库的宏方面有一些小问题，但今天我们不需要这样做。还有一个始终可用的`js`命名空间。这是用来直接从JavaScript引用名称，而无需声明它。
- en: 'Speaking of which, the following is the namespace declaration we''ll use for
    the graph. You can find the `tm-sotu.utils` file along with the code that I haven''t
    listed here in the source code for the chapter:'
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 说到这里，以下是我们将为图形使用的命名空间声明。你可以在章节的源代码中找到`tm-sotu.utils`文件以及我没有在这里列出的代码：
- en: '[PRE13]'
  id: totrans-116
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: 'Another difference with regular JavaScript is that some functions must be exported
    using metadata on the function''s name. This allows them to be called from regular
    JavaScript. The entrance function `plot-topics` is an example of this and is described
    in the following code:'
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 与常规JavaScript相比，有些函数必须使用函数名称上的元数据导出。这使得它们可以从常规JavaScript中调用。入口函数`plot-topics`就是这样一个例子，以下代码对其进行了描述：
- en: '[PRE14]'
  id: totrans-118
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: Most of this function is concerned with calling some functions from the `tm-sotu.utils`
    namespace that set up boilerplate for the graphic. It's all standard D3, if you're
    familiar with that. The more interesting part—actually dealing with the data—we'll
    look at in more detail.
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 这个函数的大部分内容是调用`tm-sotu.utils`命名空间中的某些函数，为图形设置样板。如果你熟悉D3，这些都是标准的。更有趣的部分——实际上处理数据——我们将在更详细地查看。
- en: 'Before we move on, though, I''d like to pay a little more attention to the
    highlighted line in the previous code. This is an example of calling JavaScript
    directly and it illustrates a couple of things to be aware of, as follows:'
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们继续之前，我想稍微多关注一下之前代码中高亮的那一行。这是一个直接调用JavaScript的例子，它说明了需要注意的几个问题，如下所示：
- en: As we saw in [Chapter 1](ch01.html "Chapter 1. Network Analysis – The Six Degrees
    of Kevin Bacon"), *Network Analysis – The Six Degrees of Kevin Bacon*, we can
    access JavaScript's global scope with the `js/` prefix, that is, `js/d3`.
  id: totrans-121
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 正如我们在[第1章](ch01.html "第1章。网络分析 – 凯文·贝克的六度分隔")中看到的，“网络分析 – 凯文·贝克的六度分隔”，我们可以使用`js/`前缀访问JavaScript的全局作用域，即`js/d3`。
- en: 'Also, we distinguish JavaScript parameters by prefixing the name with a hyphen:
    `(.-scale js/d3)`.'
  id: totrans-122
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 此外，我们通过在名称前加连字符来区分JavaScript参数：（`.-scale js/d3`）。
- en: 'Finally, we also see a call to a JavaScript function that takes no parameters.
    We''ve also used Clojure''s standard `..` macro to make the series of calls easier
    to type and clearer to read: `(.. js/d3 -scale category20)`.'
  id: totrans-123
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 最后，我们还看到了一个调用不带参数的JavaScript函数的例子。我们还使用了Clojure的标准`..`宏来简化一系列调用并使其更易于阅读：（`..
    js/d3 -scale category20`）。
- en: 'The last line in the preceding code is a call to another D3 function—`d3.csv`
    or `(.csv js/d3 …)`—as it is expressed in ClojureScript. This function makes an
    AJAX call back to the server for the data file `"topic-dists.csv"`. The result,
    along with several other pieces of data from this function, is passed to `load-topic-weights`.
    You may have caught that I said "back to the server." This system doesn''t need
    any code running on the server, but it does require a web server running in order
    to handle the AJAX calls that load the data. If you have Python installed on your
    system, it comes packaged with a zero-configuration web server that is simple
    to use. From the command line, just change into the directory that contains the
    website and execute the following command:'
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 上述代码的最后一行是调用另一个D3函数——`d3.csv`或`(.csv js/d3 …)`——在ClojureScript中的表示。这个函数向服务器发起一个AJAX调用以获取数据文件`"topic-dists.csv"`。结果，以及该函数的其他一些数据，被传递给`load-topic-weights`。你可能已经注意到我说了“回服务器”。这个系统不需要在服务器上运行任何代码，但它确实需要一个运行的Web服务器来处理加载数据的AJAX调用。如果你在系统上安装了Python，它附带了一个零配置的Web服务器，使用起来很简单。从命令行，只需切换到包含网站的目录，并执行以下命令：
- en: '[PRE15]'
  id: totrans-125
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: 'At this point, we''ve set the stage for the chart and loaded the data. Now
    we need to figure out what to do with it. The `load-topic-dists` function takes
    the pieces of the chart that we''ve created and the data, and populates the chart,
    as follows:'
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 到目前为止，我们已经为图表设置了舞台并加载了数据。现在我们需要弄清楚如何处理它。`load-topic-dists`函数接受我们创建的图表片段和数据，并填充图表，如下所示：
- en: '[PRE16]'
  id: totrans-127
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: 'The lines in the preceding function fall into three broad categories:'
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 前面的函数中的行可以分为三大类：
- en: Transforming and filtering the data
  id: totrans-129
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 转换和过滤数据
- en: Setting the domains for the *x* axis, the *y* axis, and the color scheme
  id: totrans-130
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 设置*x*轴、*y*轴和色彩方案的范围
- en: Adding the transformed data to the chart
  id: totrans-131
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将转换后的数据添加到图表中
- en: 'The transformation and filtering of data is handled in a number of different
    places. Let''s see what they all are. I''ve highlighted them in the previous code;
    let''s break them apart in more detail as follows:'
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 数据的转换和过滤在多个地方进行处理。让我们看看它们都是什么。我在之前的代码中突出显示了它们；让我们更详细地分解如下：
- en: The `(into-array (map parse-datum data))` form converts the data into its JavaScript-native
    types. The call to `d3.csv` returns an array of JavaScript objects, and all of
    the values are strings. This parses the instance string (for example, "1790-0"
    or "1984-1") into a decimal (1790.0 or 1984.5). This allows the years with more
    than one SOTU address to be sorted and displayed more naturally.
  id: totrans-133
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`(into-array (map parse-datum data))`形式将数据转换为JavaScript原生类型。`d3.csv`的调用返回一个JavaScript对象数组，所有值都是字符串。这解析实例字符串（例如，“1790-0”或“1984-1”）为十进制（1790.0或1984.5）。这使得具有多个SOTU地址的年份可以按自然顺序排序和显示。'
- en: 'The `(map #(make-topic data %) (.domain color))` form creates a record with
    a topic number and the instances for that color.'
  id: totrans-134
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`(map #(make-topic data %) (.domain color))`形式创建了一个包含主题编号和该颜色实例的记录。'
- en: Finally, the `(map get-weighting data)` form pulls all the weightings from the
    data. This is used to set the domain for the *y* axis.
  id: totrans-135
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 最后，`(map get-weighting data)`形式从数据中提取所有权重。这用于设置*y*轴的范围。
- en: This data is used to set the domains for both axes and for the color scale.
    All of these tasks happen in the three calls to the `domain` method.
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 这些数据用于设置两个轴和色彩范围的范围。所有这些任务都在`domain`方法的三个调用中发生。
- en: 'Finally, in the following code, we insert the data into the chart and create
    the SVG elements from it. This takes place in three other functions. The first,
    `make-topic-svg`, selects the elements with the `topic` class and inserts data
    into them. It then creates a `g` element for each datum:'
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，在以下代码中，我们将数据插入图表并从中创建SVG元素。这发生在三个其他函数中。第一个函数`make-topic-svg`选择具有`topic`类的元素并将数据插入其中。然后为每个数据项创建一个`g`元素：
- en: '[PRE17]'
  id: totrans-138
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: 'The next function appends path elements for each line and populates it with
    attributes for the points on the line and for the color, as shown in the following
    code:'
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 下一个函数为每条线追加路径元素，并为其上的点和颜色填充属性，如下所示：
- en: '[PRE18]'
  id: totrans-140
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: 'Finally, the last function in the following code adds a label for the line
    to the right-hand side of the graph. The label just displays the topic number
    for that line. Most of these topics get layered on top of each other and are illegible,
    but a few of the lines that are labelled at a higher level are distinguishable,
    and it''s useful to be able to see them:'
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，以下代码中的最后一个函数为图表右侧的线条添加了标签。标签仅显示该线条的主题编号。大多数这些主题相互叠加，难以辨认，但少数在较高级别标记的线条是可区分的，能够看到它们是有用的：
- en: '[PRE19]'
  id: totrans-142
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: Put together, these functions create the graphs we've seen so far. With a few
    added bells and whistles (refer to the source code), they'll also create the graphs
    that we'll see in the rest of this chapter.
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 总的来说，这些函数创建了迄今为止我们所看到的图表。通过添加一些额外的功能（参考源代码），它们还将创建本章其余部分中我们将看到的图表。
- en: Now, let's use these graphs to explore the topics that the LDA identified.
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，让我们使用这些图表来探索LDA识别的主题。
- en: Exploring the topics
  id: totrans-145
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 探索主题
- en: 'The following is a complete set of topic weightings that we''ll dig into in
    this chapter. This is from a run of 75 topics. This should provide a relatively
    focused set of topics, but not so narrow that it will not apply to more than one
    year:'
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是在本章中我们将深入探讨的完整主题权重集合。这来自75个主题的一次运行。这应该提供一组相对集中的主题，但不会过于狭窄，以至于不适用于超过一年：
- en: '![Exploring the topics](img/4139OS_03_06.jpg)'
  id: totrans-147
  prefs: []
  type: TYPE_IMG
  zh: '![探索主题](img/4139OS_03_06.jpg)'
- en: 'The MALLET library makes it easy to get a lot of information about each topic.
    This includes the words that are associated with each topic, ranked by how important
    each word is to that topic. The following table lists some of the topics from
    this run along with the top five words for each:'
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: MALLET库使得获取每个主题的大量信息变得容易。这包括与每个主题相关联的单词，按每个单词对该主题的重要性进行排序。以下表格列出了这次运行中的一些主题及其前五个单词：
- en: '| Topic number | Top words |'
  id: totrans-149
  prefs: []
  type: TYPE_TB
  zh: '| 主题编号 | 顶级单词 |'
- en: '| --- | --- |'
  id: totrans-150
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| 0 | states government subject united citizens good |'
  id: totrans-151
  prefs: []
  type: TYPE_TB
  zh: '| 0 | states government subject united citizens good |'
- en: '| 1 | world free nations united democracy life |'
  id: totrans-152
  prefs: []
  type: TYPE_TB
  zh: '| 1 | 世界自由民族联合民主生活 |'
- en: '| 2 | people work tonight Americans year jobs |'
  id: totrans-153
  prefs: []
  type: TYPE_TB
  zh: '| 2 | 人们今晚美国人年工作 |'
- en: '| 3 | years national support education rights water |'
  id: totrans-154
  prefs: []
  type: TYPE_TB
  zh: '| 3 | 年国家支持教育权利水 |'
- en: '| 4 | congress government made country report united |'
  id: totrans-155
  prefs: []
  type: TYPE_TB
  zh: '| 4 | 国会政府制定国家报告联合 |'
- en: '| 5 | present national tax great cent country |'
  id: totrans-156
  prefs: []
  type: TYPE_TB
  zh: '| 5 | 当前的国家税收大量国家 |'
- en: '| 6 | government congress made American foreign conditions |'
  id: totrans-157
  prefs: []
  type: TYPE_TB
  zh: '| 6 | 政府国会制定美国外交条件 |'
- en: '| 7 | America great nation freedom free hope |'
  id: totrans-158
  prefs: []
  type: TYPE_TB
  zh: '| 7 | 美国伟大国家自由自由希望 |'
- en: '| 8 | congress president years today future ago |'
  id: totrans-159
  prefs: []
  type: TYPE_TB
  zh: '| 8 | 国会总统年今天未来以前 |'
- en: '| 9 | congress employment executive people measures relief |'
  id: totrans-160
  prefs: []
  type: TYPE_TB
  zh: '| 9 | 国会就业行政人员措施救济 |'
- en: The word lists help us get an understanding of the topics and what they contain.
    For instance, the seventh topic seems clearly about American freedom rhetoric.
    However, there are still a lot of questions left unanswered. The eighth and ninth
    topics both have *congress* as their most important word, and some of the words
    listed for many topics don't have a clear relationship among each other. We'll
    need to dig deeper.
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: 单词列表帮助我们了解主题及其包含的内容。例如，第七个主题显然是关于美国自由修辞的。然而，仍然有很多问题没有解答。第八和第九个主题都将*国会*作为最重要的单词，而且许多主题列出的单词之间没有明显的关联。我们需要进一步挖掘。
- en: A better graph would help. It could make each topic's dynamics and changes through
    time more clear, and it would make evident the trace of each topic's relation
    to history, wars, expansions, and economics.
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 一个更好的图表会有帮助。它可以更清楚地显示每个主题随时间的变化和动态，并且会明显地显示每个主题与历史、战争、扩张和经济的关联痕迹。
- en: Unfortunately, as presented here, the graph is pretty confusing and difficult
    to read. To make it easier to pull out the weightings for a single topic, I added
    a feature to the graph so I could select one topic and make the others fade into
    the background. We'll use the graph to look at a few topics. However, we'll still
    need to go further and look at some of the addresses for which these topics play
    an important part.
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: 不幸的是，正如这里所展示的，图表相当混乱且难以阅读。为了更容易地提取单个主题的权重，我添加了一个功能，以便我可以选择一个主题，让其他主题淡入背景。我们将使用这个图表来查看几个主题。然而，我们仍然需要进一步查看这些主题在其中的重要部分的一些演讲。
- en: Exploring topic 43
  id: totrans-164
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 探索主题43
- en: 'The first topic that we''ll look at in more depth is number 43\. The following
    are the top ten words for this topic and their corresponding weightings:'
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将深入探讨的第一个主题是第43号。以下是这个主题的前十个关键词及其相应的权重：
- en: '| Word | Weighting |'
  id: totrans-166
  prefs: []
  type: TYPE_TB
  zh: '| 单词 | 权重 |'
- en: '| --- | --- |'
  id: totrans-167
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| Great | 243 |'
  id: totrans-168
  prefs: []
  type: TYPE_TB
  zh: '| 大 | 243 |'
- en: '| War | 165 |'
  id: totrans-169
  prefs: []
  type: TYPE_TB
  zh: '| 战争 | 165 |'
- en: '| Commerce | 143 |'
  id: totrans-170
  prefs: []
  type: TYPE_TB
  zh: '| 商业 | 143 |'
- en: '| Powers | 123 |'
  id: totrans-171
  prefs: []
  type: TYPE_TB
  zh: '| 权力 | 123 |'
- en: '| National | 115 |'
  id: totrans-172
  prefs: []
  type: TYPE_TB
  zh: '| 国家 | 115 |'
- en: '| Made | 113 |'
  id: totrans-173
  prefs: []
  type: TYPE_TB
  zh: '| 制造 | 113 |'
- en: '| British | 103 |'
  id: totrans-174
  prefs: []
  type: TYPE_TB
  zh: '| 英国 | 103 |'
- en: '| Militia | 80 |'
  id: totrans-175
  prefs: []
  type: TYPE_TB
  zh: '| 民兵 | 80 |'
- en: '| Part | 74 |'
  id: totrans-176
  prefs: []
  type: TYPE_TB
  zh: '| 部分 | 74 |'
- en: '| Effect | 73 |'
  id: totrans-177
  prefs: []
  type: TYPE_TB
  zh: '| 影响 | 73 |'
- en: 'The following graph for topic 43 shows that this topic was primarily a concern
    between 1800 and 1825:'
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: 以下43号主题的图表显示，这个主题主要在1800年至1825年之间是一个关注点：
- en: '![Exploring topic 43](img/4139OS_03_07.jpg)'
  id: totrans-179
  prefs: []
  type: TYPE_IMG
  zh: '![探索主题43](img/4139OS_03_07.jpg)'
- en: 'The dominant theme of this topic is foreign policy and setting up the military,
    with a particular emphasis on the War of 1812 and Great Britain. To get an idea
    of the arc of this topic, we''ll take a look at several SOTU addresses: one from
    before that War, one from the time of the War, and one from after the War.'
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: 这个主题的主导主题是外交政策和建立军事，特别强调1812年战争和英国。为了了解这个主题的弧线，我们将查看几个国情咨文演讲：一场在战争之前，一场在战争期间，一场在战争之后。
- en: 'The first address we''ll look at in more depth is James Madison''s 1810 address.
    The topic model gave the probability for this topic in the document as 11 percent.
    One of its concerns is trade relations with other countries and how other countries''
    warships are disrupting them. The following is a quote where Madison rather verbosely
    talks about the ongoing talks with Britain and France over blockades that were
    impeding the new republic''s trade (I''ve highlighted the words in the quote that
    are most applicable to the topic):'
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将深入探讨的第一个演讲是詹姆斯·麦迪逊1810年的演讲。主题模型给出了文档中这个主题的概率为11%。其中之一的问题是与其他国家的贸易关系以及其他国家的战舰如何干扰它们。以下是一段麦迪逊较为冗长地谈论与英国和法国就阻碍新共和国贸易的封锁进行的持续谈判的引述（我已突出显示与主题最相关的单词）：
- en: '*From the **British** Government, no communication on the subject of the act
    has been received. To a communication from our minister at London of a revocation
    by the French Government of its Berlin and Milan decrees it was answered that
    the **British** system would be relinquished as soon as the repeal of the French
    decrees should have actually taken effect and the **commerce** of neutral nations
    have been restored to the condition in which it stood previously to the promulgation
    of those decrees.*'
  id: totrans-182
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '*从**英国**政府那里，我们没有收到关于该法案的任何通信。对于我们从伦敦的大使那里收到的关于法国政府撤销其柏林和米兰法令的通信，我们回答说，一旦法国法令的撤销实际上生效，中立国家的**商业**恢复到颁布那些法令之前的状态，**英国**体系就会放弃。*'
- en: ''
  id: totrans-183
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '*This pledge, although it does not necessarily import, does not exclude the
    intention of relinquishing, along with the others in council, the practice of
    those novel blockades which have a like **effect** of interrupting our neutral
    **commerce**, and this further justice to the United States is the rather to be
    looked for, in as much as the blockades in question, being not more contrary to
    the established law of nations than inconsistent with the rules of blockade formally
    recognized by **Great** Britain herself, could have no alleged basis other than
    the plea of retaliation alleged as the basis of the orders in council.*'
  id: totrans-184
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '*这个誓言，尽管它并不一定具有必要性，但也不排除与其他参议人员一起放弃那些新颖的封锁措施，这些措施具有类似中断我们中立**商业**的**效果**。这种对美国的进一步公正应当是值得期待的，因为所讨论的封锁措施并不比国家既定法律更相悖，也不违反**英国**自己正式认可的封锁规则，除了作为枢密院命令基础的报复诉求之外，没有其他所谓的依据。*'
- en: 'Later, as part of a larger discussion about enabling the state militias, Madison
    talks about the requirements for establishing schools of military science, even
    during peacetime, in the following part of the address:'
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: '*稍后，作为关于赋予州民兵权力的大讨论的一部分，麦迪逊在演讲的以下部分讨论了建立军事科学学校的要求，即使在和平时期：*'
- en: '*Even among nations whose large standing armies and frequent **wars** afford
    every other opportunity of instruction these establishments are found to be indispensable
    for the due attainment of the branches of military science which require a regular
    course of study and experiment. In a government happily without the other opportunities
    seminaries where the elementary principles of the art of **war** can be taught
    without actual **war**, and without the expense of extensive and standing armies,
    have the precious advantage of uniting an essential preparation against external
    danger with a scrupulous regard to internal safety. In no other way, probably,
    can a provision of equal efficacy for the public defense be **made** at so little
    expense or more consistently with the public liberty.*'
  id: totrans-186
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '*即使在那些拥有庞大常备军和频繁**战争**的国家，这些机构也被发现对于军事科学各个分支的适当掌握是不可或缺的，这些分支需要系统的学习和实验。在一个幸运地没有其他机会的政府中，那些能够教授战争艺术基本原理的学院，在没有实际**战争**和不需要庞大常备军费用的前提下，具有将对外危险的基本准备与对内部安全的严格关注结合起来的宝贵优势。可能没有其他方式能够在如此小的费用或与公共自由更一致的方式下，为公共防御提供同等有效的措施。*'
- en: Next, we'll look at Madison's 1813 address. The probability of topic 43 in this
    address was almost 21 percent. The War of 1812 had been going on for a year at
    that point, and his concerns reflect that. In the following address, Madison is
    concerned with the role of prisoners of war and Native Americans in the war (they
    sided with the British); however, there's only one mention of *commerce*, which
    had almost ceased because of interference by the war.
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: '*接下来，我们将探讨麦迪逊1813年的演讲。这次演讲的主题43的概率几乎是21%。到那时，1812年的战争已经持续了一年，他的担忧反映了这一点。在接下来的演讲中，麦迪逊关注的是战争中的战俘和美洲原住民的角色（他们站在英国一边）；然而，只有一次提到*商业*，由于战争的干扰，商业几乎已经停止。*'
- en: 'The following is a sample paragraph where Madison complains about the British
    trying some political prisoners in court:'
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: '*以下是一个麦迪逊抱怨英国在法庭上审判一些政治犯的样本段落：*'
- en: '*The **British** commander in that Province, nevertheless, with the sanction,
    as appears, of his Government, thought proper to select from American prisoners
    of **war** and send to **Great** Britain for trial as criminals a # of individuals
    who had emigrated from the **British** dominions long prior to the state of **war**
    between the two nations, who had incorporated themselves into our political society
    in the modes recognized by the law and the practice of **Great** Britain, and
    who were made prisoners of **war** under the banners of their adopted country,
    fighting for its rights and its safety.*'
  id: totrans-189
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '*然而，在那个省的**英国**指挥官，在似乎得到其政府的许可的情况下，认为从美国战俘中挑选一些个体，并将他们作为罪犯送往**大不列颠**受审是合适的。这些人早在两国战争状态之前就从**英国**领土移民过来，他们以法律和实践所认可的方式融入了我们的政治社会，并且在他们所选择的国家的旗帜下成为战俘，为它的权利和安全而战。*'
- en: Finally, for topic 43, we'll take a look at James Monroe's 1820 SOTU address.
    The probability of topic 43 in this address was 20 percent. In this case, Monroe's
    looking at the United States' trade relations with the European powers. He goes
    through each of the major trading partners and talks about the latest happenings
    with them and discusses the country's military preparedness on a number of fronts.
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，对于第43个主题，我们将看看詹姆斯·门罗1820年的国情咨文。在这个国情咨文中，第43个主题的概率是20%。在这种情况下，门罗正在考虑美国与欧洲列强的贸易关系。他逐一讨论了每个主要贸易伙伴的最新情况，并讨论了国家在多个方面的军事准备情况。
- en: 'The following is the paragraph where he talks about the trading relationship
    with Great Britain; he doesn''t appear entirely satisfied:'
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是他谈论与**大不列颠**贸易关系的段落；他似乎并不完全满意：
- en: '*The commercial relations between the United States and the **British** colonies
    in the West Indies and on this continent have undergone no change, the **British**
    Government still preferring to leave that **commerce** under the restriction heretofore
    imposed on it on each side. It is satisfactory to recollect that the restraints
    resorted to by the United States were defensive only, intended to prevent a monopoly
    under **British** regulations in favor of **Great** Britain, as it likewise is
    to know that the experiment is advancing in a spirit of amity between the parties.*'
  id: totrans-192
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '*美国与西印度群岛和这个大陆上的**英国**殖民地之间的商业关系没有发生变化，**英国**政府仍然倾向于将这种**贸易**置于之前对每一边所施加的限制之下。令人满意的是回忆起，美国所采取的限制措施仅是防御性的，旨在防止在**英国**法规下对**大不列颠**的垄断，正如了解这一实验是在双方之间友好的精神中推进的也同样令人满意。*'
- en: In this topic, there's a clear trend of conversations around a series of events.
    In this case, topic modeling has pointed out an interesting dynamic in the US
    government's early years.
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个主题中，围绕一系列事件的对话趋势非常明显。在这种情况下，主题建模指出了美国早期政府的一个有趣动态。
- en: Exploring topic 26
  id: totrans-194
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 探索第26个主题
- en: 'We''ll look at a very different type of topic next. This one focuses on one
    event: the Japanese bombing of Pearl Harbor, which brought the United States actively
    and openly into World War II.'
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将探讨一种非常不同类型的主题。这个主题关注一个事件：日本对珍珠港的轰炸，这使美国积极且公开地介入了第二次世界大战。
- en: 'The following are the top ten words that contributed to this topic along with
    their weightings; as it is more narrowly focused, the subject of this topic is
    clear:'
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是与这一主题相关的最常出现的前十个单词及其权重；由于主题更加集中，这一主题的主题也就更加明确：
- en: '| Word | Weighting |'
  id: totrans-197
  prefs: []
  type: TYPE_TB
  zh: '| 单词 | 加权 |'
- en: '| --- | --- |'
  id: totrans-198
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| Production | 66 |'
  id: totrans-199
  prefs: []
  type: TYPE_TB
  zh: '| 生产 | 66 |'
- en: '| Victory | 48 |'
  id: totrans-200
  prefs: []
  type: TYPE_TB
  zh: '| 胜利 | 48 |'
- en: '| Japanese | 44 |'
  id: totrans-201
  prefs: []
  type: TYPE_TB
  zh: '| 日本 | 44 |'
- en: '| Enemy | 41 |'
  id: totrans-202
  prefs: []
  type: TYPE_TB
  zh: '| 敌人 | 41 |'
- en: '| United | 39 |'
  id: totrans-203
  prefs: []
  type: TYPE_TB
  zh: '| 联合 | 39 |'
- en: '| Fighting | 37 |'
  id: totrans-204
  prefs: []
  type: TYPE_TB
  zh: '| 战斗 | 37 |'
- en: '| Attack | 37 |'
  id: totrans-205
  prefs: []
  type: TYPE_TB
  zh: '| 攻击 | 37 |'
- en: '| Japan | 31 |'
  id: totrans-206
  prefs: []
  type: TYPE_TB
  zh: '| 日本 | 31 |'
- en: '| Pacific | 28 |'
  id: totrans-207
  prefs: []
  type: TYPE_TB
  zh: '| 太平洋 | 28 |'
- en: '| Day | 27 |'
  id: totrans-208
  prefs: []
  type: TYPE_TB
  zh: '| 天 | 27 |'
- en: 'The narrow focus of the topic is evident in the graph as well. The spike at
    1942 and 1943 in the following graph—the two years after the bombing of Pearl
    Harbor—lends weight to the evidence that this topic is about this particular event:'
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: 以下图表中1942年和1943年的峰值——珍珠港轰炸后的两年——为这一主题是关于这一特定事件的证据提供了支持：
- en: '![Exploring topic 26](img/4139OS_03_08.jpg)'
  id: totrans-210
  prefs: []
  type: TYPE_IMG
  zh: '![探索第26个主题](img/4139OS_03_08.jpg)'
- en: For the first SOTU address that we'll examine, we'll look at the one immediately
    after the Pearl Harbor bombing, presented by Franklin D. Roosevelt on January
    6, 1942\. This topic's probability of application is 22.7 percent. This was less
    than one month after the attack, so its memory was still pretty raw in the minds
    of American citizens, and this emotion is evident in the speech.
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: 对于我们将要考察的第一个国情咨文演讲，我们将关注珍珠港轰炸后的那次，由富兰克林·D·罗斯福于1942年1月6日发表的演讲。这个主题的应用概率是22.7%。这次攻击发生不到一个月后，所以在美国公民的脑海中，记忆仍然相当新鲜，这种情感在演讲中表现得非常明显。
- en: 'The text of the speech itself is predictable, especially given the words listed
    earlier. To paraphrase: *After the attack*; *they''re our enemy*; *bent on world
    conquest*; *along with the* *Nazis*; *we must have victory to maintain the cause
    of freedom and democracy*. Beyond this, he''s also making the point that we need
    to enter the European theater to fight alongside the British and other ally partners,
    and furthermore, to do that effectively, the U.S. must increase production of
    military weapons, vehicles, boats, airplanes, and supplies across the board.'
  id: totrans-212
  prefs: []
  type: TYPE_NORMAL
  zh: 演讲文本本身是可以预见的，尤其是考虑到之前列出的词语。概括来说：*在攻击之后*；*他们是我们的敌人*；*致力于世界征服*；*与纳粹一起*；*我们必须取得胜利以维护自由和民主的事业*。除此之外，他还指出，我们需要进入欧洲战场与英国和其他盟国并肩作战，而且为了有效地做到这一点，美国必须全面增加军事武器、车辆、船只、飞机和供应的生产。
- en: 'The following is a short paragraph in which Roosevelt outlines the steps that
    are already underway to work with the allied powers:'
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: 下面的段落中，罗斯福概述了已经开始与盟国合作的步骤：
- en: '*Plans have been laid here and in the other capitals for coordinated and cooperative
    action by all the **United** Nations—military action and economic action. Already
    we have established, as you know, unified command of land, sea, and air forces
    in the southwestern **Pacific** theater of war. There will be a continuation of
    conferences and consultations among military staffs, so that the plans and operations
    of each will fit into the general strategy designed to crush the **enemy**. We
    shall not fight isolated wars—each Nation going its own way. These 26 Nations
    are **united**—not in spirit and determination alone, but in the broad conduct
    of the war in all its phases.*'
  id: totrans-214
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '*在这里和其他首都已经制定了所有**联合国**协调和合作行动的计划——军事行动和经济行动。正如你所知，我们已经建立了在西南**太平洋**战区的陆、海、空三军统一指挥。军事参谋人员之间的会议和协商将继续进行，以便每个计划的行动都能融入旨在摧毁**敌人**的总体战略。我们不会打孤立的战争——每个国家都走自己的路。这26个国家是**团结**的——不仅是在精神和决心上，而且在战争的所有阶段中广泛的行动上。*'
- en: Although this particular SOTU address clearly dominates this topic, there are
    other addresses that have some small probability of applying. It might be interesting
    to see what else was categorized in this topic, even the words with a low probability
    percentage. One such address is James Madison's 1814 address, which has a probability
    of 3.7 percent for this topic.
  id: totrans-215
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然这次国情咨文演讲显然主导了这个主题，但还有其他一些演讲有一定的应用概率。看看这个主题下还分类了哪些内容可能会很有趣，即使是那些低概率百分比的词语。其中一个这样的演讲是詹姆斯·麦迪逊1814年的演讲，这个主题的概率为3.7%。
- en: 'In the following part of the address, Madison spends a lot of time talking
    about "the enemy," who in this case, is Great Britain. This short paragraph is
    typical:'
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
  zh: 在演讲的后续部分，麦迪逊花了很多时间谈论“敌人”，在这个案例中，指的是大不列颠。这个简短的段落是典型的：
- en: '*In another recent **attack** by a powerful force on our troops at Plattsburg,
    of which regulars made a part only, the **enemy**, after a perseverance for many
    hours, was finally compelled to seek safety in a hasty retreat, with our gallant
    bands pressing upon them.*'
  id: totrans-217
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '*在普拉茨堡的另一次由强大力量对我们军队的攻击中，其中正规军只占一部分，敌人经过数小时的坚持，最终被迫匆忙撤退以寻求安全，而我们英勇的队伍紧追不舍。*'
- en: This address has a number of other short descriptions of battles like this one.
  id: totrans-218
  prefs: []
  type: TYPE_NORMAL
  zh: 这个演讲还有许多关于此类战斗的简短描述。
- en: 'Finally, a more recent SOTU address also had a relatively high probability
    for this topic (2 percent): George W. Bush''s 2003 address. In this address, most
    of the mentions of words that apply to this topic are spread out and there are
    few quotable clusters. He spends some time referring to the United Nations, which
    helps this document rate more highly for this topic. He also talks quite a bit
    about war as he is trying to build a case for invading Iraq, which he did less
    than two months later.'
  id: totrans-219
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，一个更近期的SOTU演讲也为此主题有相对较高的概率（2%）：乔治·W·布什2003年的演讲。在这篇演讲中，大多数适用于此主题的词汇提及都分散开来，并且几乎没有可引用的集群。他花了一些时间提到联合国，这有助于这篇文档在此主题上的评分更高。他还相当详细地讨论了战争，因为他正在为入侵伊拉克构建案例，而这发生在不到两个月后。
- en: This document is clearly weaker than the other two on this topic. However, it
    does contain some shared vocabulary and some discourse, so its relationship to
    the topic, albeit weak, is clear. It's also interesting that in both of these
    cases, the President is trying to make a case for war.
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
  zh: 这篇文档在这方面的内容明显不如其他两篇，然而，它确实包含了一些共享的词汇和一些话语，所以它与这个主题的关系，尽管较弱，是清晰的。而且，有趣的是，在这两种情况下，总统都在试图为战争辩护。
- en: Exploring topic 42
  id: totrans-221
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 探索主题42
- en: 'Finally, we''ll look at a more domestically oriented topic. The words in the
    following table suggest that this topic will be about childcare, schools, and
    healthcare:'
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，我们将探讨一个更具国内导向的主题。以下表格中的词汇表明，这个主题将涉及儿童保育、学校和医疗保健：
- en: '| Word | Weighting |'
  id: totrans-223
  prefs: []
  type: TYPE_TB
  zh: '| 单词 | 权重 |'
- en: '| --- | --- |'
  id: totrans-224
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| Children | 270 |'
  id: totrans-225
  prefs: []
  type: TYPE_TB
  zh: '| 儿童 | 270 |'
- en: '| Health | 203 |'
  id: totrans-226
  prefs: []
  type: TYPE_TB
  zh: '| 健康 | 203 |'
- en: '| Care | 182 |'
  id: totrans-227
  prefs: []
  type: TYPE_TB
  zh: '| 关心 | 182 |'
- en: '| Support | 164 |'
  id: totrans-228
  prefs: []
  type: TYPE_TB
  zh: '| 支持 | 164 |'
- en: '| Schools | 159 |'
  id: totrans-229
  prefs: []
  type: TYPE_TB
  zh: '| 学校 | 159 |'
- en: '| School | 139 |'
  id: totrans-230
  prefs: []
  type: TYPE_TB
  zh: '| 学校 | 139 |'
- en: '| Community | 131 |'
  id: totrans-231
  prefs: []
  type: TYPE_TB
  zh: '| 社区 | 131 |'
- en: '| Century | 130 |'
  id: totrans-232
  prefs: []
  type: TYPE_TB
  zh: '| 世纪 | 130 |'
- en: '| Parents | 124 |'
  id: totrans-233
  prefs: []
  type: TYPE_TB
  zh: '| 父母 | 124 |'
- en: '| Make | 121 |'
  id: totrans-234
  prefs: []
  type: TYPE_TB
  zh: '| 制作 | 121 |'
- en: 'Looking at the following graph on this topic, it''s clearly a late twentieth-century
    subject, and it really doesn''t take off until after 1980\. Somewhat predictably,
    this topic sees its zenith in the Clinton administration. We''ll look at one of
    Clinton''s speeches on this topic later in this section:'
  id: totrans-235
  prefs: []
  type: TYPE_NORMAL
  zh: 观察以下关于这个主题的图表，很明显这是一个20世纪末的主题，并且它直到1980年之后才真正兴起。有些预料之中，这个主题在克林顿政府时期达到了顶峰。我们将在本节稍后看看克林顿关于这个主题的一次演讲：
- en: '![Exploring topic 42](img/4139OS_03_09.jpg)'
  id: totrans-236
  prefs: []
  type: TYPE_IMG
  zh: '![探索主题42](img/4139OS_03_09.jpg)'
- en: Let's first look at one of the SOTU addresses from the first, smaller cluster
    of addresses that prove this topic. For that, we'll pick Lyndon B. Johnson's 1964
    SOTU address, which shows a probability of 4.4 percent for this topic.
  id: totrans-237
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们先看看证明这个主题的第一个、较小的演讲集群中的一个SOTU演讲。为此，我们将选择林登·B·约翰逊1964年的SOTU演讲，该演讲为此主题的概率为4.4%。
- en: In this speech, Johnson lays out a proposal that includes what would become
    the Civil Rights Act of 1964, which outlawed major forms of racial, ethnic, religious,
    and gender discrimination as well as the medicare and medicaid programs, which
    would be created in 1965\. He's obviously laying the groundwork for the "Great
    Society" program he would announce in May of that year at Ohio University in Athens,
    Ohio.
  id: totrans-238
  prefs: []
  type: TYPE_NORMAL
  zh: 在这次演讲中，约翰逊提出了一项包括将成为1964年民权法案的内容的建议，该法案禁止了主要形式的种族、民族、宗教和性别歧视，以及将在1965年创建的医疗保险和医疗补助计划。他显然是在为他在那年5月在俄亥俄州雅典的俄亥俄大学宣布的“伟大社会”计划打下基础。
- en: 'His main topic in this is combating poverty—after all, this is the speech that
    gave us the phrase "war on poverty"—but he saw education and healthcare as being
    a big part of that:'
  id: totrans-239
  prefs: []
  type: TYPE_NORMAL
  zh: 在这次演讲中，他的主要主题是反对贫困——毕竟，这是给我们带来“反贫困战争”这个短语的那个演讲——但他认为教育和医疗保健是其中的重要部分：
- en: '*Our chief weapons in a more pinpointed attack will be better **schools**,
    and better **health**, and better homes, and better training, and better job opportunities
    to help more Americans, especially young Americans, escape from squalor and misery
    and unemployment rolls where other citizens help to carry them.*'
  id: totrans-240
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '*我们更精确攻击的主要武器将是更好的**学校**，更好的**健康**，更好的家庭，更好的培训，更好的就业机会，以帮助更多的美国人，特别是年轻美国人，摆脱贫困和苦难，以及失业名单，在那里其他公民帮助他们承担这些负担。*'
- en: 'He also saw education and healthcare as being integral to the goals of the
    program and the American dream itself:'
  id: totrans-241
  prefs: []
  type: TYPE_NORMAL
  zh: 他还认为教育和医疗保健是该项目和美国梦本身的目标的重要组成部分：
- en: '*This budget, and this year''s legislative program, are designed to help each
    and every American citizen fulfill his basic hopes—his hopes for a fair chance
    to **make** good; his hopes for fair play from the law; his hopes for a full-time
    job on full-time pay; his hopes for a decent home for his family in a decent **community**;
    his hopes for a good **school** for his **children** with good teachers; and his
    hopes for security when faced with sickness or unemployment or old age.*'
  id: totrans-242
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '*这个预算和今年的立法计划旨在帮助每一位美国公民实现他们的基本愿望——他们希望有一个公平的机会**实现**成功；他们希望法律给予公平的待遇；他们希望得到全职工作并获得全职工资；他们希望为他们的家庭在体面的**社区**中找到一个体面的家；他们希望他们的**孩子**能在有良好教师的**学校**里接受良好的教育；以及他们希望在面临疾病、失业或老年时得到保障。*'
- en: So although this particular speech has only a low probability for this topic,
    it clearly raises issues that will be more directly addressed later.
  id: totrans-243
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，尽管这次演讲在这个主题上的可能性很低，但它显然提出了将在以后更直接地解决的问题。
- en: One of the SOTU addresses with the highest probability for this topic is Bill
    Clinton's 2000 address, which had a probability of 22.1 percent. This is his last
    SOTU address before leaving office, and although he still had one year left in
    his term, realistically, not much was going to happen in it.
  id: totrans-244
  prefs: []
  type: TYPE_NORMAL
  zh: 在所有关于这个主题的SOTU演讲中，克林顿2000年的演讲可能性最高，达到了22.1%。这是他离任前的最后一次SOTU演讲，尽管他还有一年的任期，但现实情况下，其中不会有太多事情发生。
- en: 'Additionally, because it was his last chance, Clinton spends a lot of time
    looking back at what he''s accomplished. Children, education, and healthcare were
    major focuses of his administration, whatever actually was passed through Congress,
    and this was reflected in his retrospective:'
  id: totrans-245
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，因为这是他最后一次机会，克林顿花了很多时间回顾他所取得的成就。儿童、教育和医疗保健是他政府的主要关注点，无论实际上国会通过了什么，这在他的回顾中也有所体现：
- en: '*We ended welfare as we knew it, requiring work while protecting **health care**
    and nutrition for **children** and investing more in child **care**, transportation,
    and housing to help their **parents** go to work. We''ve helped parents to succeed
    at home and at work with family leave, which 20 million Americans have now used
    to **care** for a newborn child or a sick loved one. We''ve engaged 150,000 young
    Americans in citizen service through AmeriCorps, while helping them earn money
    for college.*'
  id: totrans-246
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '*我们结束了我们所知的社会福利制度，要求人们工作同时保护**医疗保健**和**儿童**的营养，并增加对**儿童护理**、交通和住房的投资，以帮助他们的**父母**去工作。我们通过家庭休假帮助父母在家和工作中取得成功，现在已有2000万美国人利用这一政策来**照顾**新生儿或生病的亲人。我们通过美国公民服务团（AmeriCorps）让15万名年轻美国人参与公民服务，同时帮助他们为大学赚取学费。*'
- en: 'Clinton also spent time laying out what he saw as the major tasks ahead of
    the nation, and education and healthcare played a big part of them as well:'
  id: totrans-247
  prefs: []
  type: TYPE_NORMAL
  zh: 克林顿还花时间阐述了他认为国家面前的主要任务，教育和医疗保健在其中也占据了很大一部分：
- en: '*To 21st **century** America, let us pledge these things: Every child will
    begin **school** ready to learn and graduate ready to succeed. Every family will
    be able to succeed at home and at work, and no child will be raised in poverty.
    We will meet the challenge of the aging of America. We will assure quality, affordable
    **health care**, at last, for all Americans. We will **make** America the safest
    big country on Earth. We will pay off our national debt for the first time since
    1835\. We will bring prosperity to every American **community**. We will reverse
    the course of climate change and leave a safer, cleaner planet. America will lead
    the world toward shared peace and prosperity and the far frontiers of science
    and technology. And we will become at last what our Founders pledged us to be
    so long ago: One Nation, under God, indivisible, with liberty and justice for
    all.*'
  id: totrans-248
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '*向21世纪的美国承诺这些事情：每个孩子都将准备好学习并毕业时能够成功。每个家庭都将能够在家庭和工作中取得成功，并且没有孩子会在贫困中长大。我们将应对美国人口老龄化的挑战。我们将确保所有美国人都能获得高质量、负担得起的**医疗保健**。我们将使美国成为地球上最安全的大国。我们将首次偿还自1835年以来的国家债务。我们将为每个美国**社区**带来繁荣。我们将扭转气候变化的方向，留下一个更安全、更清洁的星球。美国将引领世界走向共享的和平与繁荣，以及科学和技术的遥远前沿。我们最终将实现我们的创始人很久以前向我们承诺的那样：一个国家，上帝之下，不可分割，所有人享有自由与正义。*'
- en: In fact, even beyond these broad strokes, Clinton spends a lot of time talking
    specifically about education, what needs to be done to improve schools, and what
    works to make better schools. All of this contributes to this address's high probability
    for topic 42.
  id: totrans-249
  prefs: []
  type: TYPE_NORMAL
  zh: 事实上，即使在这些广泛的概述之外，克林顿还花了很多时间具体谈论教育，改善学校需要做什么，以及什么措施能创造更好的学校。所有这些都增加了这次演讲成为主题42的高概率。
- en: 'He also spent more time talking about healthcare, what he''s done on that front,
    and what is still left to accomplish:'
  id: totrans-250
  prefs: []
  type: TYPE_NORMAL
  zh: 他还花了更多的时间谈论医疗保健，他在这一领域所做的工作，以及仍需完成的事情：
- en: '*We also need a 21st **century** revolution to reward work and strengthen families
    by giving every parent the tools to succeed at work and at the most important
    work of all, raising **children**. That means making sure every family has **health
    care** and the **support** to **care** for aging **parents**, the tools to bring
    their **children** up right, and that no child grows up in poverty.*'
  id: totrans-251
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '*我们还需要一场21世纪的革命，通过为每位父母提供成功工作和抚养孩子的工具，来奖励工作和加强家庭。这意味着确保每个家庭都有**医疗保健**和**支持**来照顾年迈的父母，以及抚养孩子的工具，确保没有孩子生活在贫困中*。'
- en: So looking at these addresses, we may wish that there was a separate topic for
    education and healthcare. However, it is interesting to note the ways in which
    the two topics are related. Not only are they often discussed together and simultaneously
    in two parts of a President's agenda for a year, but also have related rhetoric.
    Children are directly related to education, but they are also often invoked while
    talking about healthcare, and many laws about health insurance and healthcare
    try to ensure that children are still insured, even if their parents are not.
  id: totrans-252
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，当我们审视这些演讲时，我们可能希望有一个单独的主题用于教育和医疗保健。然而，值得注意的是这两个主题之间是如何相互关联的。它们不仅经常在总统一年议程的两个部分中同时讨论，而且还有相关的言辞。孩子与教育直接相关，但在谈论医疗保健时也经常被提及，许多关于医疗保险和医疗保健的法律试图确保即使父母没有保险，孩子也能得到保险。
- en: Summary
  id: totrans-253
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: This has been an interesting dive into natural-language processing and topic
    modeling, and hopefully we've learned a little US history at the same time. I
    know I have.
  id: totrans-254
  prefs: []
  type: TYPE_NORMAL
  zh: 这是一次对自然语言处理和主题建模的有趣探索，同时希望我们也在学习一点美国历史。我知道我确实学到了。
- en: 'However, it seems that the larger takeaway is something that we all know, but
    likely forget: Freeform, unstructured, text data is messy, messy, messy. In fact,
    what we have been working with here is exceptionally clean, as these things go.
    Topics don''t often stand out clearly, and the relationships between subjects
    as opposed to the topics identified by LDA are often complex and difficult to
    tease apart.'
  id: totrans-255
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，似乎更大的启示是我们都知道但可能忘记的东西：自由形式的、非结构化的文本数据是混乱的，混乱的，混乱的。事实上，我们在这里处理的是异常干净的，就这些事情而言。主题通常不会明显突出，与LDA识别的主题相比，主题之间的关系通常是复杂且难以理清的。
- en: However, we've also seen some interesting technologies and algorithms to help
    us deal with the messiness. Topic modeling doesn't—and possibly shouldn't—completely
    sweep the ambiguities and messiness of texts under the rug, but it does help us
    get a handle on what's inside large collections of documents.
  id: totrans-256
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，我们也看到了一些有趣的技术和算法来帮助我们处理混乱。主题建模并不——可能也不应该——完全掩盖文本的模糊性和混乱，但它确实帮助我们掌握大量文档中的内容。
- en: In the next chapter, we'll head in a different direction and apply Bayesian
    classification to reports of UFO sightings.
  id: totrans-257
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一章中，我们将转向不同的方向，并将贝叶斯分类应用于不明飞行物目击报告。
