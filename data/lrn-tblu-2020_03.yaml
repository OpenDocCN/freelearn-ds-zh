- en: '3'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '3'
- en: Moving Beyond Basic Visualizations
  id: totrans-1
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 超越基础可视化
- en: You are now ready to set out on your adventure of creating more advanced visualizations!
    *Advanced* does not necessarily mean *difficult* since Tableau makes many visualizations
    easy to create. *Advanced* also does not necessarily mean *complex*. The goal
    is to communicate the data, not to obscure it in needless complexity.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，你已经准备好开始创建更高级的可视化了！*高级*不一定意味着*困难*，因为 Tableau 使得许多可视化容易创建。*高级*也不一定意味着*复杂*。目标是传达数据，而不是用不必要的复杂性来掩盖它。
- en: Instead, these visualizations are advanced in the sense that you will need to
    understand when they should be used, why they are useful, and how to leverage
    the capabilities of Tableau to create them. Additionally, many of the examples
    we will look at will introduce some advanced techniques, such as calculations,
    to extend the usefulness of foundational visualizations. Many of these techniques
    will be developed fully in future chapters, so don't worry about trying to absorb
    every detail right now.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 相反，这些可视化之所以是高级的，是因为你需要理解它们何时使用，为什么它们有用，以及如何利用 Tableau 的功能来创建它们。此外，我们将要查看的许多示例会介绍一些高级技巧，例如计算，以扩展基础可视化的实用性。许多这些技巧将在未来的章节中得到充分发展，所以现在不必担心试图吸收每个细节。
- en: Most of the examples in this chapter are designed so that you can follow along.
    However, don't simply memorize a set of instructions. Instead, take the time to
    understand how the combinations of different field types you place on different
    shelves change the way headers, axes, and marks are rendered. Experiment and even deviate
    from the instructions from time to time, just to see what else is possible. You
    can always use Tableau's back button to follow the example again!
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 本章中的大多数示例都是设计成你可以跟随操作的。然而，别只是死记一套操作步骤。相反，花时间理解将不同类型的字段放到不同的架子上时，如何改变标题、轴和标记的呈现方式。尝试并偶尔偏离操作说明，看看还能实现什么其他的效果。你总是可以使用
    Tableau 的返回按钮，再次查看示例！
- en: 'In this chapter, visualizations will fall under the following major categories:'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，可视化将分为以下几个主要类别：
- en: Comparison
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 比较
- en: Dates and times
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 日期和时间
- en: Relating parts of the data to the whole
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将数据的部分与整体相关联
- en: Distributions
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 分布
- en: Multiple axes
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 多轴
- en: You may have noticed the lack of a spatial location or geographic category in
    the preceding list. Mapping was introduced in *Chapter 1*, *Taking Off with Tableau*,
    and we'll get to some advanced geographic capabilities in *Chapter 12*, *Exploring
    Mapping and Advanced Geospatial Features*.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 你可能已经注意到前面列表中缺少空间位置或地理类别。地图功能在*第1章*，*使用 Tableau 起步*中介绍，我们将在*第12章*，*探索地图和高级地理空间功能*中讨论一些高级的地理功能。
- en: You may recreate the examples that are found in this chapter by using the `Chapter
    03 Starter.twbx` workbook, or even start from scratch by using a blank workbook
    and connecting to the `Hospital Visits.csv` file that's located in the `Learning
    Tableau/Chapter 03` folder. The completed examples may be found in the `Chapter
    03 Complete.twbx` workbook.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以通过使用 `Chapter 03 Starter.twbx` 工作簿来重建本章中的示例，或者从头开始，使用空白工作簿并连接位于 `Learning
    Tableau/Chapter 03` 文件夹中的 `Hospital Visits.csv` 文件。完成的示例可以在 `Chapter 03 Complete.twbx`
    工作簿中找到。
- en: We will begin by assessing which types of visualizations are effective for quantitative
    comparisons.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将从评估哪些类型的可视化适用于定量比较开始。
- en: Comparing values
  id: totrans-14
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 比较数值
- en: 'Often, you will want to compare the differences between measured values across
    different categories. You might find yourself asking the following questions:'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 通常，你会想要比较不同类别中测量值之间的差异。你可能会问以下问题：
- en: How many customers did each store serve?
  id: totrans-16
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 每个商店服务了多少客户？
- en: How much energy did each wind farm produce?
  id: totrans-17
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 每个风电场生产了多少能量？
- en: How many patients did each doctor see?
  id: totrans-18
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 每个医生看了多少病人？
- en: In each case, you are looking to make a comparison (among stores, wind farms,
    or doctors) in terms of some quantitative measurement (number of customers, megawatts
    of electricity, and patients).
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 在每个案例中，你都在尝试进行比较（无论是在商店、风电场还是医生之间），比较某些定量测量（客户数量、兆瓦电力、病人数量）。
- en: Let's take a look at some examples of visualizations that help answer these
    types of questions.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们来看看一些可视化示例，这些示例有助于回答这类问题。
- en: Bar charts
  id: totrans-21
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 条形图
- en: 'Here is a simple bar chart, similar to the one we built in *Chapter 1*, *Taking
    Off with Tableau*:'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 这是一个简单的条形图，类似于我们在*第1章*，*使用 Tableau 起步*中创建的图表：
- en: '![](img/B16021_03_01.png)'
  id: totrans-23
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B16021_03_01.png)'
- en: 'Figure 3.1: A bar chart showing the number of patient visits by department'
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 图 3.1：显示按部门患者就诊次数的条形图
- en: This bar chart makes it easy to compare the number of patient visits between
    various departments in the hospital. As a dimension, **Department** slices the
    data according to each distinct value, such as **ER**, **ICU**, or **Cardiology**.
    It creates a header for these values because it is discrete (blue). As a measure**,
    Number of Patient Visits** gives the sum of patient visits for each department.
    Because it is a continuous (green) field, it defines an axis, and bars are rendered
    to visualize the value.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 这个条形图使得在医院各个部门之间比较患者就诊次数变得容易。作为一个维度，**部门**根据每个不同数值（如**急诊**、**重症监护室**或**心脏科**）对数据进行切片。它为这些数值创建了一个标题，因为它是离散的（蓝色）。作为一个度量，**患者就诊次数**给出了每个部门的患者就诊总数。因为它是一个连续的（绿色）字段，它定义了一个轴，条形被渲染以可视化数值。
- en: Notice that the bar chart is sorted by the department having the highest sum
    of patient visits at the top and the lowest at the bottom. Sorting a bar chart
    often adds a lot of value to the analysis because it makes it easier to make comparisons
    and see rank order. For example, it is easy to see that the **Microbiology** department
    has had more patient visits than the **Nutrition** department. If the chart wasn't
    sorted, this may not have been as obvious.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意，条形图按照患者就诊次数总和最高的部门在顶部，最低的在底部进行排序。对条形图进行排序通常会为分析增加很多价值，因为它使得比较和查看排名顺序变得更容易。例如，很容易看出**微生物学**部门比**营养学**部门有更多的患者就诊次数。如果图表没有排序，这可能不会那么明显。
- en: 'You can sort a view in multiple ways, as follows:'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以按以下方式对视图进行排序：
- en: 'Click one of the sort icons on the toolbar: This results in an automatic sort
    of the dimension based on the measure that defined the axis. Changes in data or
    filtering that result in a new order will be reflected in the view:![](img/B16021_03_02.png)'
  id: totrans-28
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 单击工具栏上的排序图标之一：这将导致根据定义轴的度量自动排序。导致新顺序的数据或筛选的更改将反映在视图中：![](img/B16021_03_02.png)
- en: 'Figure 3.2: Toolbar sort icons'
  id: totrans-29
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 3.2：工具栏排序图标
- en: 'Click the sort icon on the axis: The option icon will become visible when you
    hover over the axis and will then remain in place when you enable the sort. This
    will also result in automatic sorting:![](img/B16021_03_03.png)'
  id: totrans-30
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 单击轴上的排序图标：当您悬停在轴上时，选项图标将变得可见，并在启用排序时保持在原位。这也将导致自动排序：![](img/B16021_03_03.png)
- en: 'Figure 3.3: Axis sort icon'
  id: totrans-31
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 3.3：轴排序图标
- en: Use the drop-down on the active dimension field and select **Sort** to view
    and edit the sorting options. You can also select **Clear Sort** to remove any
    sorting:![](img/B16021_03_04.png)
  id: totrans-32
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用活动维度字段上的下拉菜单，选择**排序**以查看和编辑排序选项。您还可以选择**清除排序**以删除任何排序：![](img/B16021_03_04.png)
- en: 'Figure 3.4: Sorting using the drop-down menu'
  id: totrans-33
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 3.4：使用下拉菜单进行排序
- en: Use the drop-down on the field label for rows and select the desired sorting
    option:![](img/B16021_03_05.png)
  id: totrans-34
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用行的字段标签上的下拉菜单，选择所需的排序选项：![](img/B16021_03_05.png)
- en: 'Figure 3.5: Sorting by field label'
  id: totrans-35
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 3.5：按字段标签排序
- en: Drag and drop row headers to manually rearrange them. This results in a manual
    sort that does not get updated with data refreshes.
  id: totrans-36
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 拖放行标题以手动重新排列它们。这将导致一个不会随数据刷新而更新的手动排序。
- en: All of these sorting methods are specific to the view and will override any
    default sort you defined in the metadata.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 所有这些排序方法都是特定于视图的，并将覆盖您在元数据中定义的任何默认排序。
- en: Bar chart variations
  id: totrans-38
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 条形图变体
- en: 'A basic bar chart can be extended in many ways to accomplish various objectives.
    Consider the following variations:'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 一个基本的条形图可以通过多种方式扩展以实现各种目标。考虑以下变体：
- en: Bullet chart to show progress towards a goal, target, or threshold
  id: totrans-40
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用子弹图表显示朝向目标、指标或阈值的进展
- en: Bar-in-bar chart to show progress toward a target or compare two specific values
    within a category
  id: totrans-41
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 条中条图表以显示朝向目标的进展或比较类别内两个特定值
- en: Highlighting categories of interest
  id: totrans-42
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 突出显示感兴趣的类别
- en: Bullet chart
  id: totrans-43
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 子弹图表
- en: 'A **bullet graph** (sometimes also called a **bullet chart**) is a great way
    to visually compare a measure with a goal, target, or threshold. The bar indicates
    the measure value, while the line indicates the target. Tableau also defaults
    to shading to indicate **60%** and **80%** of the distance to the goal or threshold.
    The line and the shading are reference lines that can be adjusted (we''ll explore
    how in detail in future chapters):'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: '**子弹图**（有时也称为**子弹图表**）是一种非常好的方式，可以直观地将一个度量值与目标、标准或阈值进行比较。条形表示度量值，而线表示目标。Tableau还默认使用阴影表示到目标或阈值的**60%**和**80%**距离。该线和阴影是参考线，可以进行调整（我们将在未来的章节中详细探讨如何调整）。'
- en: '![](img/B16021_03_06.png)'
  id: totrans-45
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B16021_03_06.png)'
- en: 'Figure 3.6: Parts of a bullet graph'
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 图 3.6：子弹图的各个部分
- en: 'In this scenario, we''ll consider how the hospital operated with respect to
    revenue goals. Hospital administration set the following revenue goals for 2019
    and now wants to understand how each department actually performed:'
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个场景中，我们将考虑医院在收入目标方面的运营情况。医院管理部门为2019年设定了以下收入目标，现在希望了解每个部门的实际表现：
- en: '![](img/B16021_03_07.png)'
  id: totrans-48
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B16021_03_07.png)'
- en: 'Figure 3.7: Department Goals are stored in a spreadsheet as shown here'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 图 3.7：部门目标以电子表格形式存储，如下所示
- en: The patient visit and revenue data is contained in `Hospital Visits.csv` and
    the revenue goals are in `Hospital Goals.csv`. These two data connections are
    related together in a **Data Model** in both the `Starter` and `Complete` workbooks.
    We'll look more at the data model in *Chapter 13*, *Understanding the Tableau
    Data Model, Joins, and Blends.* For now, simply use the `Hospital Visits & Revenue`
    data source to complete the examples in this chapter.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 患者访问和收入数据包含在`Hospital Visits.csv`中，收入目标则在`Hospital Goals.csv`中。这两个数据连接在**Data
    Model**中相关联，在`Starter`和`Complete`工作簿中都有。我们将在*第13章*，*理解Tableau数据模型、连接和混合*中深入探讨数据模型。目前，只需使用`Hospital
    Visits & Revenue`数据源来完成本章中的示例。
- en: 'We''ll build a bullet graph using the `Chapter 3` workbook, which contains
    the `Hospital Visits` and the `Hospital Goals` spreadsheet data sources. We''ll
    use these two data sources to visualize the relationship between actual and target
    minutes to service as you follow these steps:'
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将使用`Chapter 3`工作簿来构建子弹图，其中包含`Hospital Visits`和`Hospital Goals`电子表格数据源。我们将利用这两个数据源来可视化实际与目标服务分钟数之间的关系，按照以下步骤进行：
- en: Navigate to the **Average Minutes to Service (Bullet Chart)** sheet.
  id: totrans-52
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 转到**Average Minutes to Service (Bullet Chart)**工作表。
- en: Create a basic bar chart of the total **Revenue** per **Department**.
  id: totrans-53
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个按**Department**的总**Revenue**的基本条形图。
- en: Sort **Department** from highest to lowest.
  id: totrans-54
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 按**Department**从高到低排序。
- en: Filter **Date of Admit** by **Year** and keep only `2019` data. At this point,
    your view should look like this:![](img/B16021_03_08.png)
  id: totrans-55
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 按**Year**筛选**Date of Admit**，仅保留`2019`年的数据。此时，你的视图应如下所示：![](img/B16021_03_08.png)
- en: 'Figure 3.8: Interim steps in creating the bullet graph'
  id: totrans-56
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 3.8：创建子弹图的中间步骤
- en: In the **Data** pane, select the **Goal** field under the `Hospital Goals.csv`
    table.
  id: totrans-57
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**Data**面板中，选择`Hospital Goals.csv`表中的**Goal**字段。
- en: Open **Show Me** and select the bullet graph. At this point, Tableau will have
    created a bullet graph using the fields already in the view and the `Goal` field
    you selected in the data pane.
  id: totrans-58
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开**Show Me**并选择子弹图。此时，Tableau 会使用视图中已有的字段以及你在数据面板中选择的`Goal`字段来创建子弹图。
- en: 'When you use **Show Me** to create a bullet chart, you may sometimes find that
    Tableau uses the fields in reverse order from what you intend (with the wrong
    measure defining the axis and bars, and the other defining the reference line).
    If this happens, simply right-click the axis and select **Swap Reference Line
    Fields**:'
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 当你使用**Show Me**创建子弹图时，有时可能会发现Tableau使用的字段顺序与你预期的相反（错误的度量值定义了轴和条形图，另一个定义了参考线）。如果发生这种情况，只需右键单击轴并选择**Swap
    Reference Line Fields**：
- en: '![](img/B16021_03_09.png)'
  id: totrans-60
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B16021_03_09.png)'
- en: 'Figure 3.9: The Swap Reference Line Fields option'
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 图 3.9：交换参考线字段选项
- en: 'The completed bullet chart should look like the following:'
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 完整的子弹图应该如下所示：
- en: '![](img/B16021_03_10.png)'
  id: totrans-63
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B16021_03_10.png)'
- en: 'Figure 3.10: The complete bullet graph'
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 图 3.10：完整的子弹图
- en: The completed bullet graph allows us to see which departments have met their
    goals and which are behind. Next, let's consider how we can highlight this even
    more.
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 完成的子弹图使我们能够看到哪些部门达成了目标，哪些部门落后了。接下来，让我们考虑如何进一步突出显示这一点。
- en: Calling out thresholds
  id: totrans-66
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 标出阈值
- en: 'With bullet charts, it can be helpful to visually call out the bars that fail
    to meet or exceed the threshold. We''ll look at calculations in depth in the next
    chapter, but for now, you can complete this example with the following steps:'
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 对于子弹图，视觉上标出未达到或未超过阈值的条形可能很有帮助。我们将在下一章深入探讨计算方法，但目前你可以按照以下步骤完成此示例：
- en: Use the drop-down arrow in the **Data** pane and select **Create Calculated
    Field…**:![](img/B16021_03_11.png)
  id: totrans-68
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**数据**窗格中使用下拉箭头，选择**创建计算字段...**：![](img/B16021_03_11.png)
- en: 'Figure 3.11: Creating a calculated field'
  id: totrans-69
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 3.11：创建计算字段
- en: 'Name the calculated field named `Goal Met?` with the following code:'
  id: totrans-70
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用以下代码命名计算字段`目标达成？`：
- en: '[PRE0]'
  id: totrans-71
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE0]'
- en: Click **OK** and drag the new `Goal Met?` field from the data pane and drop
    it on **Color**.
  id: totrans-72
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**确定**，然后将新创建的`目标达成？`字段从数据窗格拖到**颜色**上。
- en: 'The calculation returns `true` when the `Revenue` value for a department is
    greater than the goal value, and `false` otherwise. With the calculated field
    on **Color**, it becomes very easy to see which departments have met the 2019
    goals:'
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 当某个部门的`收入`值大于目标值时，计算返回`true`，否则返回`false`。将计算字段放到**颜色**上后，便可以很容易地看到哪些部门已经达成了2019年的目标：
- en: '![](img/B16021_03_12.png)'
  id: totrans-74
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B16021_03_12.png)'
- en: 'Figure 3.12: Departments that have met their goal are highlighted in this bullet
    chart'
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 图 3.12：已达到目标的部门在此子弹图中以高亮显示
- en: Color is one of the strongest ways to get attention with your visualizations.
    Use color with intent. Decide whether you want to highlight good or poor performance.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 颜色是吸引视觉注意力的最强方法之一。使用颜色时要有意图。决定你是否想突出显示良好的表现或差的表现。
- en: Bar-in-bar chart
  id: totrans-77
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 条形图中的条形图
- en: 'Another possibility for showing relationships between two values for each category
    is a bar-in-bar chart. Like the bullet chart, the bar-in-bar chart can show progress
    toward a goal. It can also be used to compare any two values. For example, you
    might compare revenue to a target, or you might compare the revenue for the current
    year to the previous year:'
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 显示每个类别中两个值之间关系的另一种可能方式是条形图中的条形图。与子弹图一样，条形图中的条形图可以显示朝向目标的进展。它还可以用来比较任意两个值。例如，你可能会将收入与目标进行比较，或者将当前年份的收入与前一年进行比较：
- en: '![](img/B16021_03_13.png)'
  id: totrans-79
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B16021_03_13.png)'
- en: 'Figure 3.13: Bar-in-bar chart'
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 图 3.13：条形图中的条形图
- en: 'To create this view, continue in the same workbook and follow these steps:'
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 要创建此视图，请在同一个工作簿中继续并按以下步骤操作：
- en: Navigate to the **Year over Year Revenue (Bar-in-Bar)** sheet.
  id: totrans-82
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 导航到**年比年收入（条形图中的条形图）**工作表。
- en: Drag and drop **Revenue** onto the horizontal axis in the view (which gives
    the same results as dropping it onto the **Columns** shelf).
  id: totrans-83
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将**收入**拖放到视图中的横轴上（这与将其拖放到**列**架上的结果相同）。
- en: Drag and drop **Department Type** onto **Rows**.
  id: totrans-84
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将**部门类型**拖到**行**上。
- en: Drag and drop **Date of Admit** onto **Color**. We'll discuss dates in more
    detail in the next section, but you'll notice that Tableau uses the year of the
    date to give you a stacked bar chart that looks like this:![](img/B16021_03_14.png)
  id: totrans-85
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将**入院日期**拖放到**颜色**上。我们将在下一节详细讨论日期，但你会注意到，Tableau使用日期的年份来生成一个堆叠条形图，结果如下所示：![](img/B16021_03_14.png)
- en: 'Figure 3.14: Interim steps in creating the bar-in-bar chart'
  id: totrans-86
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 3.14：创建条形图中的条形图的中间步骤
- en: For a bar-in-bar chart, we do not want the marks to be stacked. To turn off
    stacking, use the main menu to select **Analysis** | **Stack Marks** | **Off**.
  id: totrans-87
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对于条形图中的条形图，我们不希望标记被堆叠。要关闭堆叠，可以使用主菜单选择**分析** | **堆叠标记** | **关闭**。
- en: All the bar segments now begin at `0` and some bars may completely obscure others.
    To see each bar, we'll need to adjust another visual element. In this case, hold
    down the *Ctrl* key while dragging the **YEAR(Date of Admit)** field that is currently
    on **Color** in the **Marks** card to **Size**.
  id: totrans-88
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在所有条形段的起点都为`0`，某些条形可能完全遮盖其他条形。为了看到每个条形，我们需要调整另一个视觉元素。在这种情况下，按住*Ctrl*键，同时将当前位于**颜色**上的**入院日期的年份（YEAR(Date
    of Admit))**字段从**标记**卡片拖到**大小**上。
- en: Holding the *Ctrl* key while moving a field from one shelf to another creates
    a copy of the field instead.
  id: totrans-89
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在将字段从一个架子移动到另一个架子时，按住*Ctrl*键可以创建该字段的副本。
- en: After completing the previous step, a size legend should appear. The bars will
    be sized based on the year and we will be able to see all of the segments that
    are available, even if they overlap.
  id: totrans-90
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 完成前一步后，应该会出现一个大小图例。条形的大小将基于年份调整，我们将能够看到所有可用的段，即使它们重叠。
- en: 'We want **2019** to be in front and **2018** to be in the background, so drag
    and drop **2019** within the **Size** legend to reorder the values so that **2018**
    comes after **2019**:'
  id: totrans-91
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们希望**2019**位于前面，**2018**位于背景中，因此请将**2019**拖放到**大小**图例中，重新排列值，使得**2018**排在**2019**之后：
- en: '![](img/B16021_03_15.png)'
  id: totrans-92
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B16021_03_15.png)'
- en: 'Figure 3.15: You can drag and drop items in legends to reorder them'
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 图 3.15：您可以拖放图例中的项目来重新排序它们
- en: Double-click the **Color** legend to edit the colors so that **2019** is emphasized.
    A darker orange or blue for **2019** with a light gray for **2018** would serve
    this purpose well (though you may find other color combinations that you prefer!).
  id: totrans-94
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 双击**颜色**图例以编辑颜色，使**2019**更加突出。使用较深的橙色或蓝色来表示**2019**，并为**2018**选择浅灰色，这样效果很好（尽管您可能会找到其他您更喜欢的颜色组合！）。
- en: 'At this point, your view should look like the bar-in-bar chart that was shown
    in *Figure 3.13* at the beginning of this section. You may wish to further enhance
    the visualization by doing the following:'
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 此时，您的视图应该像本节开始时在*图 3.13*中展示的条形图那样。您可能希望通过以下方式进一步增强可视化效果：
- en: Adding a border to the bars. Accomplish this by clicking the **Color** shelf
    and using the **Border** option.
  id: totrans-96
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 为条形图添加边框。通过点击**颜色**货架并使用**边框**选项来实现。
- en: Adjusting the size range to reduce the difference between the large and small
    extremes. Accomplish this by double-clicking the **Size** legend (or using the
    caret drop-down and selecting **Edit** from the menu).
  id: totrans-97
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 调整大小范围，以减少大极值和小极值之间的差距。通过双击**大小**图例（或使用箭头下拉菜单并选择**编辑**）来完成此操作。
- en: Adjusting the sizing of the view. Accomplish this by hovering over the canvas,
    just over the bottom border, until the mouse cursor changes to a sizing cursor,
    and then click and drag to resize the view. You may also want to adjust how the
    view fills the space. Use the drop-down on the toolbar and experiment with the
    options:![](img/B16021_03_16.png)
  id: totrans-98
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 调整视图的大小。通过将鼠标悬停在画布上，直到鼠标指针变为大小调整光标，然后单击并拖动来调整视图的大小，来完成此操作。您还可能需要调整视图如何填充空间。使用工具栏上的下拉菜单并尝试不同选项：![](img/B16021_03_16.png)
- en: 'Figure 3.16: This drop-down determines how the current view is sized'
  id: totrans-99
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 3.16：此下拉菜单确定当前视图的大小
- en: Hiding the size legend. You may decide that the size legend does not add anything
    to this particular view as size was only used to allow overlapping bars to be
    seen. To hide any legend, use the drop-down arrow on the legend and select **Hide
    Card**:![](img/B16021_03_17.png)
  id: totrans-100
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 隐藏大小图例。您可能会决定，大小图例对于这个特定视图没有增加任何价值，因为大小只是用来显示重叠条形图。要隐藏任何图例，请使用图例上的下拉箭头并选择**隐藏卡片**：![](img/B16021_03_17.png)
- en: 'Figure 3.17: The Hide Card option for legends'
  id: totrans-101
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 3.17：图例的隐藏卡片选项
- en: The bar-in-bar chart gives you another way to compare values. Next, we'll consider
    a variation that allows us to highlight areas of interest.
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 条形图中的条形图为您提供了另一种比较值的方式。接下来，我们将考虑一种变体，允许我们突出显示感兴趣的区域。
- en: Highlighting categories of interest
  id: totrans-103
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 高亮显示感兴趣的类别
- en: 'Let''s say one of your primary responsibilities at the hospital is to monitor
    the number of patient visits for the **ICU** and **Neonatal** departments. You
    don''t necessarily care about the details of other departments, but you do want
    to keep track of how your two departments compare with others. You might design
    something like this:'
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 假设您在医院的主要职责之一是监控**ICU**和**新生儿科**部门的患者就诊次数。您不一定关心其他部门的细节，但您确实希望跟踪这两个部门与其他部门的比较。您可能会设计如下内容：
- en: '![](img/B16021_03_18.png)'
  id: totrans-105
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B16021_03_18.png)'
- en: 'Figure 3.18: A bar chart with two bars highlighted via color'
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 图 3.18：通过颜色高亮显示的两条条形图
- en: 'Now, as the data is refreshed over time, you will be able to immediately see
    how the two departments of interest to you compared to other departments. To create
    this view, follow these steps:'
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，随着数据随时间刷新，您将能够立即看到您关注的两个部门与其他部门的比较。要创建此视图，请按以下步骤操作：
- en: Navigate to the **ICU and Neonatal** sheet.
  id: totrans-108
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 转到**ICU和新生儿科**工作表。
- en: Place **Department** on **Rows** and **Number of Patient Visits** on **Columns**.
    Sort the bar chart in descending order.
  id: totrans-109
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将**部门**放置在**行**上，**患者就诊次数**放置在**列**上。将条形图按降序排序。
- en: Click on the bar in the view for **ICU** and, while holding down the *Ctrl*
    key, click the bar for **Neonatal**.
  id: totrans-110
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击视图中**ICU**的条形图，同时按住*Ctrl*键，点击**新生儿科**的条形图。
- en: Hover the cursor over one of the selected bars for a few seconds and, from the
    menu that appears, click the **Create Group** button (which looks like a paperclip):![](img/B16021_03_19.png)
  id: totrans-111
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将光标悬停在所选条形图之一上几秒钟，然后从出现的菜单中单击**创建组**按钮（看起来像一个图钉）：![](img/B16021_03_19.png)
- en: 'Figure 3.19: After Ctrl + clicking the two bars, use the paperclip icon to
    group them'
  id: totrans-112
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图3.19：在Ctrl + 单击两个条形图后，使用图钉图标将它们分组
- en: This will create a group, which results in a new dimension, named **Department
    (group)**, in the left-hand data pane. Tableau automatically assigns this field
    to **Color**.
  id: totrans-113
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 这将创建一个组，结果是在左侧数据窗格中命名为**部门（组）**的新维度。Tableau会自动将此字段分配给**颜色**。
- en: Ad hoc groups are powerful in Tableau. You can create groups in the view (as
    you did previously) or by using the menu for a dimension in the data pane and
    selecting **Create** | **Group**. You can use them as you would any other dimension.
  id: totrans-114
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: Tableau中的临时组非常强大。您可以在视图中创建组（就像之前所做的那样），也可以通过使用数据窗格中维度的菜单并选择**创建** | **组**来创建组。您可以像使用任何其他维度一样使用它们。
- en: To add a label only to the bars for those two departments, right-click each
    bar and select **Mark label** | **Always show**. The label for the mark will always
    be shown, even if other labels are turned off for the view or the label overlaps
    marks or other labels.
  id: totrans-115
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 仅为这两个部门的条形图添加标签，右键单击每个条形图并选择**标记标签** | **始终显示**。标记的标签将始终显示，即使为视图关闭其他标签或标签重叠标记或其他标签。
- en: The color will continue to make monitoring easy. The label will only show for
    the two departments you selected and will update with the changing data.
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 颜色将继续使监控变得容易。标签只会显示您选择的两个部门，并会随着数据的变化而更新。
- en: Now that we've considered how bar charts can be used to compare values and have
    walked through several examples of variations, let's turn our attention to visualizing
    dates and times.
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们已经考虑了条形图如何用于比较值，并且已经演示了几个变体的示例，让我们将注意力转向可视化日期和时间。
- en: Visualizing dates and times
  id: totrans-118
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 可视化日期和时间
- en: 'In your analysis, you will often want to understand when something happened.
    You''ll ask questions like the following:'
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 在您的分析中，您经常会想要了解某事发生的时间。您会问类似以下的问题：
- en: When did we gain the most new customers?
  id: totrans-120
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们何时获得了最多的新客户？
- en: Is profit trending up or down?
  id: totrans-121
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 利润是上升还是下降的趋势？
- en: What times of day have the highest call volume?
  id: totrans-122
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一天中哪个时间段的呼叫量最高？
- en: What kinds of seasonal trends do we see in sales?
  id: totrans-123
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们在销售中看到了什么样的季节性趋势？
- en: Fortunately, Tableau makes this kind of visual discovery and analysis easy.
    In this section, we'll look at how Tableau works with dates and some various ways
    you might visualize time.
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 幸运的是，Tableau使得这种视觉发现和分析变得容易。在本节中，我们将看看Tableau如何处理日期以及您可能可视化时间的各种方式。
- en: Date parts, date values, and exact dates
  id: totrans-125
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 日期部分、日期值和确切日期
- en: When you are connected to a flat file, relational, or extracted data source,
    Tableau provides a robust built-in date hierarchy for any date field.
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 当您连接到平面文件、关系型或抽取数据源时，Tableau为任何日期字段提供了强大的内置日期层次结构。
- en: Cubes/OLAP connections do not allow Tableau hierarchies. You will want to ensure
    that all date hierarchies and date values you need are defined in the cube.
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: Cube/OLAP连接不允许Tableau层次结构。您需要确保所有您需要的日期层次结构和日期值在立方体中定义。
- en: 'To see this in action, continue with the `Chapter 3` workbook, navigate to
    the `Built-in Date Hierarchy` sheet, and create a view similar to the one that
    was shown by dragging and dropping **Number of Patient Visits** to **Rows** and
    **Date of Admit** to **Columns**. The **YEAR(Date of Admit)** field on **Columns**
    will have a plus sign indicator, like this:'
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 要查看此操作，请继续使用`第3章`工作簿，导航到`内置日期层次结构`工作表，并通过将**患者访问次数**拖放到**行**和**入院日期**拖放到**列**来创建一个类似于所示的视图。在**列**上的**YEAR(入院日期)**字段将有一个加号指示器，如下所示：
- en: '![](img/B16021_03_20.png)'
  id: totrans-129
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B16021_03_20.png)'
- en: 'Figure 3.20: The field representing the Year part of the date hierarchy'
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 图3.20：表示日期层次结构中年份部分的字段
- en: 'You''ll also find a plus or minus indicator as you hover over headers, like
    this:'
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 当您悬停在标题上时，还会看到加号或减号指示器，如下所示：
- en: '![](img/B16021_03_21.png)'
  id: totrans-132
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B16021_03_21.png)'
- en: 'Figure 3.21: A plus icon on the column headers that could be used to expand
    the hierarchy'
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 图3.21：可用于展开层次结构的列标题上的加号图标
- en: 'When you click it, the hierarchy expands by adding **QUARTER(Date of Admit)**
    to the right of the **YEAR(Date of Admit)** on **Columns**, and the view is expanded
    to the new level of the hierarchy:'
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 单击它后，层次结构会通过在**列**的**YEAR(入院日期)**右侧添加**QUARTER(入院日期)**来展开，并且视图会扩展到层次结构的新级别：
- en: '![](img/B16021_03_22.png)'
  id: totrans-135
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B16021_03_22.png)'
- en: 'Figure 3.22: The expanded hierarchy with the year and quarter shown'
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 图3.22：显示了扩展的层级，包括年份和季度。
- en: 'The **YEAR(Date of Admit)** field now has a minus sign indicator that allows
    you to collapse the hierarchy back to the year level. The **QUARTER** field also
    has a plus sign, indicating that you can expand the hierarchy further. Starting
    with **Year**, the hierarchy flows as follows: **Year** | **Quarter** | **Month**
    | **Day**. When the field is a date and time, you can further drill down into
    **Hour** | **Minute** | **Second**. Any of the parts of the hierarchy can be moved
    within the view or removed from the view completely.'
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: '**入院日期（YEAR(Date of Admit))**字段现在有一个负号指示器，允许你将层级折叠回年份级别。**季度**字段也有一个加号，表示你可以进一步展开层级。从**年份**开始，层级如下：**年份**
    | **季度** | **月份** | **日期**。当字段是日期和时间时，你还可以进一步深入到**小时** | **分钟** | **秒**。层级中的任何部分都可以在视图中移动或完全移除。'
- en: 'The hierarchy is made up of **Date Parts**, which is one of the three ways
    a date field can be used. When you right-click the date field in the view or by
    using the drop-down menu, you''ll see multiple date options, as follows:'
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 层级由**日期部分**构成，这是日期字段的三种使用方式之一。当你右键点击视图中的日期字段或使用下拉菜单时，你将看到多个日期选项，如下所示：
- en: '![](img/B16021_03_23.png)'
  id: totrans-139
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B16021_03_23.png)'
- en: 'Figure 3.23: The drop-down menu on an active date field demonstrates the various
    aspects of dates in Tableau'
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 图3.23：活动日期字段上的下拉菜单展示了Tableau中日期的各个方面。
- en: 'The three major date types are evident, though not explicitly labeled, in the
    menu:'
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 菜单中明显显示出三种主要的日期类型，尽管没有明确标注：
- en: '**Date part**: This field will represent a specific part of the date, such
    as the quarter or month. The part of the date is used by itself and without reference
    to any other part of the date. This means that a date of November 8, 1980, when
    used as a month date part, is simply **November** in the view. The **November**
    that''s selected in the view here represents all of the Novembers in the dataset,
    while the number of patient visits is the total for both 2018 and 2019:![](img/B16021_03_24.png)'
  id: totrans-142
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**日期部分**：此字段表示日期的特定部分，如季度或月份。日期的部分单独使用，并不参考日期的其他部分。这意味着，1980年11月8日，当作为月份日期部分使用时，视图中只是**11月**。视图中选择的**11月**表示数据集中所有的11月，而患者就诊次数则是2018年和2019年的总和：![](img/B16021_03_24.png)'
- en: 'Figure 3.24: This view uses Month as a date part. The number of patient visits
    is the total for the month, without regard to the year'
  id: totrans-143
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图3.24：此视图使用月份作为日期部分。患者就诊次数是按月份统计的总数，而不考虑年份。
- en: '**Date value**: This field will represent a date value, but rolled up or truncated
    to the level you select. For example, if you select a date value of **Month**,
    then November 8, 2019 gets truncated to the month and year, and is **November
    2019**. You''ll notice that **November 2018** and **November 2019** each have
    a separate value in the header and a distinct bar:![](img/B16021_03_25.png)'
  id: totrans-144
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**日期值**：此字段表示日期值，但会根据你选择的级别进行汇总或截断。例如，如果你选择**月份**作为日期值，那么2019年11月8日会被截断为月份和年份，变成**2019年11月**。你会注意到，**2018年11月**和**2019年11月**在标题中各自有不同的值，并且有不同的条形图：![](img/B16021_03_25.png)'
- en: 'Figure 3.25: This view uses Month as a date value. The number of patient visits
    is the total for the month with regard to the year'
  id: totrans-145
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图3.25：此视图使用月份作为日期值。患者就诊次数是按月份统计的总数，考虑了年份。
- en: '**Exact date**: This field represents the exact date value (including time,
    if applicable) in the data. This means that November 8, 1980, 2:01 am is treated
    as distinct from November 8, 1980, 3:08 pm.'
  id: totrans-146
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**确切日期**：此字段表示数据中的确切日期值（如果适用，包括时间）。这意味着1980年11月8日凌晨2:01与1980年11月8日下午3:08是不同的。'
- en: It is important to note that nearly any of these options can be used as discrete
    or continuous fields. Date parts are discrete by default. Date values and exact
    dates are continuous by default. However, you can switch between discrete and
    continuous as required to allow flexibility in the visualization.
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 需要注意的是，几乎所有这些选项都可以作为离散或连续字段使用。日期部分默认是离散的。日期值和确切日期默认是连续的。然而，你可以根据需要在离散和连续之间切换，以便在可视化中提供灵活性。
- en: For example, you must have an axis (requiring a continuous field) to create
    a reference line. Also, Tableau will only connect lines at the lowest level of
    row or column headers. Using a continuous date value instead of multiple discrete
    date parts will allow you to connect lines across multiple years, quarters, and
    months.
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，要创建参考线，必须有一个轴（需要一个连续字段）。此外，Tableau 只会在行或列标题的最低级别连接线条。使用连续的日期值，而不是多个离散的日期部分，可以让你跨越多个年份、季度和月份连接线条。
- en: As a shortcut, you can right-click and then drag and drop a date field into
    the view to get a menu of options for how the date field should be used prior
    to the view being drawn.
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: 作为快捷方式，你可以右键点击并将日期字段拖入视图中，这样在视图绘制之前会出现一个选项菜单，供你选择日期字段如何使用。
- en: Let's next consider some various ways we might visualize dates and times.
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们来考虑一些不同的日期和时间可视化方法。
- en: Variations of date and time visualizations
  id: totrans-151
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 日期和时间可视化的变体
- en: The ability to use various parts and values of dates and even mix and match
    them gives you a lot of flexibility in creating unique and useful visualizations.
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 使用各种日期部分和数值，并且甚至可以将它们组合使用，给你在创建独特而有用的可视化效果时提供了极大的灵活性。
- en: 'For example, using the month date part for columns and the year date part for
    color gives a time series that makes a visual year-over-year comparison quite
    easy. The year date part has been copied to the label so that the lines can be
    labeled:'
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，使用月份日期部分作为列，使用年份日期部分作为颜色，可以创建一个时间序列，使逐年比较变得非常简单。年份日期部分已经被复制到标签中，以便为线条添加标签：
- en: '![](img/B16021_03_26.png)'
  id: totrans-154
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B16021_03_26.png)'
- en: 'Figure 3.26: The comparison of two years, month-by-month'
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 图 3.26：逐月比较两年的数据
- en: This kind of view allows for easy year-over-year comparison.
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: 这种视图便于进行逐年比较。
- en: Clicking on any of the shelves on the **Marks** card will give you a menu of
    options. Here, **Label** has been clicked, and the label was adjusted to show
    only at the end of each line.
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 点击**标记**卡片上的任何架，都会弹出一个选项菜单。这里，点击了**标签**，并调整了标签设置，使其仅在每条线的末尾显示。
- en: 'The following heat map is another example of using date parts on different
    shelves to achieve useful analysis. This kind of visualization can be quite useful
    when looking at patterns across different parts of time, such as hours in a day,
    or weeks in a month. Here, we are looking at how many patients were admitted by
    month and day:'
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: 以下热力图是使用不同架上的日期部分来实现有用分析的另一个示例。这种可视化方法在观察不同时间段的模式时非常有用，比如一天中的小时，或一个月中的周数。在这里，我们看到按月份和日期划分的患者入院数量：
- en: '![](img/B16021_03_27.png)'
  id: totrans-159
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B16021_03_27.png)'
- en: 'Figure 3.27: A heat map showing the intensity of patient visits by day and
    month'
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: 图 3.27：显示按天和月份划分的患者访问强度的热力图
- en: The year has not been included in the view, so this is an analysis of all years
    in the data and allows us to see whether there are any seasonal patterns or hotspots.
    We might notice patterns related to epidemics, doctors' schedules, or the timing
    of insurance benefits. Perhaps the increased intensity of patient admissions in
    February corresponds to the flu season.
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: 视图中没有包括年份，因此这是对所有数据中年份的分析，并帮助我们查看是否存在任何季节性模式或热点。我们可能会注意到与流行病、医生的排班或保险福利时机相关的模式。也许二月患者入院的强度增加与流感季节相对应。
- en: Observe that placing a continuous field on the **Color** shelf resulted in Tableau
    completely filling each intersection of **Row** and **Column** with the shade
    of color that encoded the sum of patient visits. Clicking on the **Color** shelf
    gives us some fine-tuning options, including the option to add borders to marks.
    In this view, a black border has been added to help distinguish each cell.
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意，将一个连续字段放置到**颜色**架上，导致 Tableau 完全填充了**行**和**列**的每个交点，并且使用了编码患者访问总数的颜色阴影。点击**颜色**架可以为我们提供一些微调选项，包括为标记添加边框的选项。在此视图中，已添加黑色边框，以帮助区分每个单元格。
- en: Gantt charts
  id: totrans-163
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 甘特图
- en: Gantt charts can be incredibly useful for understanding any series of events
    with a duration, especially if those events have some kind of relationship. Visually,
    they are very useful for determining whether certain events overlap, have dependency,
    or take more or less time than other events.
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 甘特图对于理解任何有持续时间的事件序列非常有用，尤其是当这些事件之间存在某种关系时。从视觉上来看，它们对于确定某些事件是否重叠、是否有依赖关系，或者是否比其他事件花费更多或更少的时间非常有帮助。
- en: 'As an example (not included in the workbook), the following Gantt chart shows
    a series of processes that run when an application is started. Some of these processes
    run in parallel, and some are clearly dependent on others. The Gantt chart makes
    these dependencies clear:'
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: 举个例子（未包含在工作簿中），以下甘特图展示了一系列在应用程序启动时运行的过程。其中一些过程并行运行，而有些则显然依赖于其他过程。甘特图清晰地展示了这些依赖关系：
- en: '![](img/B16021_03_28.png)'
  id: totrans-166
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B16021_03_28.png)'
- en: 'Figure 3.28: A Gantt chart showing the time each process started and how long
    each took'
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: 图 3.28：显示每个过程开始时间及每个过程持续时间的甘特图
- en: Ganttcharts use the **Gantt mark** type on the **Marks** card drop-down. A Gantt
    bar mark starts at the value that was specified by the field on **Rows** that
    defines the axis. The length of the Gantt bar is then determined by the field
    on the size card, with positive values stretching to the right and negative values
    to the left.
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 甘特图使用**甘特标记**类型，在**标记**卡的下拉菜单中选择。甘特条形图的起点由**行**上定义轴的字段的值确定。甘特条形图的长度由**大小**卡上的字段确定，正值向右延伸，负值向左延伸。
- en: 'At the hospital, you might want to see each patient visit to the **ER** in
    2019 and understand how long each visit lasted, whether any patients returned
    to the hospital, and how much time there was between visits. The following steps
    give an example of how you might create a Gantt chart with steps like these:'
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: 在医院中，你可能希望查看每个患者2019年到**急诊科**的就诊情况，并了解每次就诊持续了多久，是否有患者回到医院，和每次就诊之间的间隔时间。以下步骤给出了如何创建这样一个甘特图的示例：
- en: Place **Department** on **Filters** and keep only **ER**.
  id: totrans-170
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将**科室**放在**筛选器**上，并仅保留**急诊科**。
- en: Place **Date of Admit** on **Filters**, select **Years** as the option for filtering,
    and keep only **2019**.
  id: totrans-171
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将**入院日期**放在**筛选器**上，选择**年份**作为筛选选项，并仅保留**2019**。
- en: Place **Date of Admit** on **Columns** as a continuous **Exact Date** or as
    a **Day** value (not **Day part**). Notice that Tableau's automatic default for
    the mark type is Gantt bars:![](img/B16021_03_29.png)
  id: totrans-172
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将**入院日期**放在**列**上，作为连续的**精确日期**或**天**值（不是**日部分**）。注意，Tableau自动默认的标记类型是甘特条形图：![](img/B16021_03_29.png)
- en: 'Figure 3.29: In this case, Gantt bars are the automatic mark type.'
  id: totrans-173
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 3.29：在这种情况下，甘特条形图是自动的标记类型。
- en: Place **Doctor** and **Patient Name** on **Rows**. The result is a row for each
    patient grouped by each doctor. A Gantt bar represents a stay in the hospital.
  id: totrans-174
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将**医生**和**患者姓名**放在**行**上。结果是为每个患者按医生分组显示一行。甘特条形图代表了患者住院的情况。
- en: In most cases, we'd also want to add a unique identifier to the view, such as
    Patient ID, to ensure that patients who happen to share the same name are distinguished
    in the visualization. This is not necessary with this dataset, as all names happen
    to be unique, but it may be vitally important when you work with your data.
  id: totrans-175
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在大多数情况下，我们还希望在视图中添加一个唯一标识符，例如患者ID，以确保那些恰巧同名的患者在可视化中能被区分开来。虽然在这个数据集中没有这个必要，因为所有的姓名都是唯一的，但在处理你自己的数据时，这可能至关重要。
- en: 'The length of the Gantt bar is set by placing a field with a value of duration
    on the **Size** shelf. There is no such field in this dataset. However, we have
    the **Date of Discharge**, and we can create a calculated field for the duration.
    We''ll cover calculations in more detail in the next chapter. For now, select
    **Analysis** from the menu and click **Create Calculated Field...**. Name the
    field **Days in the Hospital** and enter the following code:'
  id: totrans-176
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 甘特条形图的长度是通过将一个持续时间字段放在**大小**架上来设置的。这个数据集中没有这样的字段。但是，我们有**出院日期**，并可以创建一个计算字段来表示持续时间。我们将在下一章详细介绍计算。现在，从菜单中选择**分析**，然后点击**创建计算字段...**。将字段命名为**住院天数**，并输入以下代码：
- en: '[PRE1]'
  id: totrans-177
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE1]'
- en: The new calculated field will appear under **Measures** in the data pane. Drag
    and drop the field onto the **Size** shelf. You now have a Gantt chart showing
    when patients were admitted and how long each visit lasted.
  id: totrans-178
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 新创建的计算字段会出现在数据面板的**度量**下。将该字段拖动到**大小**架上。现在你有了一个甘特图，显示了患者的入院时间以及每次就诊持续的时间。
- en: Consider sorting the **Patient Name** dimension in the view. For example, sorting
    by field and selecting **Date of Admit** as minimum would enable you to see patients
    who were admitted earlier towards the top and patients who were admitted later
    towards the bottom. It is based on the earliest (minimum) date of admission for
    the patient, even if they were admitted multiple times. Sorting can be a very
    useful technique for seeing patterns in the Gantt chart.
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: 考虑对**患者姓名**维度进行排序。例如，按字段排序，并选择**入院日期**作为最小值，这样你可以看到最早入院的患者排在顶部，而后来入院的患者排在底部。排序基于患者的最早（最小）入院日期，即使患者多次入院也是如此。排序是查看甘特图中模式的一个非常有用的技巧。
- en: 'Your final view should look something like this:'
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: 你的最终视图应该类似于以下内容：
- en: '![](img/B16021_03_30.png)'
  id: totrans-181
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B16021_03_30.png)'
- en: 'Figure 3.30: The final Gantt chart, showing each patient, when they were admitted,
    how long they stayed, and whether they ever returned'
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: 图3.30：最终的甘特图，展示了每个患者的入院时间、住院时长以及是否曾经再入院。
- en: This type of chart can be very useful in seeing patterns and relationships between
    entities over time.
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: 这种类型的图表在观察实体随时间变化的模式和关系时非常有用。
- en: When plotted on a date axis, the field defining the length of Gantt bars always
    needs to be in terms of days. If you want to visualize events with durations that
    are measured in hours or seconds, avoid using the `day` argument for `DATEDIFF`
    because it computes whole days and loses precision in terms of hours and seconds.
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: 当在日期轴上绘制时，定义甘特图条形图长度的字段需要以天为单位。如果你想要可视化以小时或秒为单位的事件持续时间，避免使用`DATEDIFF`的`day`参数，因为它计算的是整天，无法准确反映小时和秒的细节。
- en: 'Instead, calculate the difference in hours or seconds and then convert back
    to days. The following code converts the number of seconds between a start and
    end date, and then divides by 86,400 to convert the result into days, including
    fractional parts of the day: `DATEDIFF(''second'', [Start Date], [End Date]) /
    86400`.'
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: 相反，计算小时或秒之间的差异，然后再转换回天数。以下代码计算开始日期和结束日期之间的秒数，然后除以86,400，将结果转换为天数，包括天数的分数部分：`DATEDIFF('second',
    [Start Date], [End Date]) / 86400`。
- en: With a good understanding of how Tableau works with dates and times, we've considered
    some different options for visualization. Let's turn next to focus on how to visualize
    parts-to-whole relationships.
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: 在充分理解Tableau如何处理日期和时间后，我们考虑了一些不同的可视化选项。接下来我们将重点关注如何可视化部分与整体之间的关系。
- en: Relating parts of the data to the whole
  id: totrans-187
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 将数据的部分与整体相关联
- en: 'As you explore and analyze data, you''ll often want to understand how various
    parts add up to a whole. For example, you''ll ask questions such as the following:'
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: 在探索和分析数据时，你通常希望了解各个部分如何加总为整体。例如，你会问以下问题：
- en: How much does each electric generation method (wind, solar, coal, and nuclear)
    contribute to the total amount of energy produced?
  id: totrans-189
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 每种电力生产方式（风能、太阳能、煤炭和核能）对总能源生产的贡献是多少？
- en: What percentage of total profit is made in each state?
  id: totrans-190
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 每个州的总利润占比是多少？
- en: How much space does each file, subdirectory, and directory occupy on my hard
    disk?
  id: totrans-191
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 每个文件、子目录和目录在我的硬盘上占用了多少空间？
- en: These types of questions are asking about the relationship between the part
    (production method, state, file/directory) and the whole (total energy, national
    sales, and hard disk). There are several types of visualizations and variations
    that can aid you in your analysis.
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: 这些问题询问的是部分（生产方式、州、文件/目录）与整体（总能源、全国销售和硬盘）之间的关系。有几种类型的可视化和变体可以帮助你进行分析。
- en: Let's now look at some visualization examples that will aid us as we consider
    how to show part-to-whole relationships.
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们来看一些可视化示例，帮助我们思考如何展示部分与整体之间的关系。
- en: Stacked bars
  id: totrans-194
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 堆叠条形图
- en: 'We took a look at stacked bars in *Chapter 1*, *Taking Off with Tableau*, where
    we noted one significant drawback: it is difficult to compare values across most
    categories. Except for the leftmost (or bottom-most) bars, the other bar segments
    have different starting points, so lengths are much more difficult to compare.
    It doesn''t mean stacked bars should never be used, but caution should be exercised
    to ensure clarity of communication.'
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: 我们在*第1章*《与Tableau一起起飞》中看过堆叠条形图，其中提到一个显著的缺点：很难跨类别比较数值。除了最左边（或最底部）的条形图外，其他条形图段有不同的起始点，因此它们的长度更难以比较。这并不意味着堆叠条形图绝对不能使用，但应谨慎使用，以确保沟通的清晰度。
- en: Here, we are using stacked bars to visualize the makeup of the whole. We are
    less concerned with visually comparing across categories and more concerned with
    seeing the parts that make up a category.
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，我们使用堆积条形图来可视化整体组成。我们更关心的是查看组成某一类别的各部分，而不是在类别之间进行视觉比较。
- en: For example, at the hospital, we might want to know what the patient population
    looks like within each type of department. Perhaps each patient was assigned a
    risk profile on admission.
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，在医院里，我们可能想知道每种部门类型内的患者群体情况。也许每位患者在入院时都被分配了一个风险档案。
- en: 'We can visualize the number of visits broken down by risk profile as a stacked
    bar, like this:'
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以像这样，使用堆积条形图来可视化按风险档案分类的访问数量：
- en: '![](img/B16021_03_31.png)'
  id: totrans-199
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B16021_03_31.png)'
- en: 'Figure 3.31: A stacked bar chart showing the total number of patients per department
    and the breakdown of low and high risk'
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: 图3.31：显示每个部门患者总数以及低风险和高风险患者细分的堆积条形图
- en: This gives a decent view of the visits for each department type. We can tell
    that more people visit the general departments and that the number of high-risk
    patients for both **Specialty** and **Labs** are about the same. **Intensive Care**
    sees fewer high-risk patients and fewer patients overall. But this is only part
    of the story.
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: 这为每种部门类型的访问情况提供了一个不错的视图。我们可以看出，更多的人访问一般科室，而且**专科**和**实验室**的高风险患者数量差不多。**重症监护**接诊的高风险患者较少，整体患者数量也较少。但这只是部分情况。
- en: 'Consider a stacked bar that doesn''t give the absolute value, but gives percentages
    for each type of department:'
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: 考虑一个堆积条形图，它没有给出绝对值，而是为每种部门类型给出百分比：
- en: '![](img/B16021_03_32.png)'
  id: totrans-203
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B16021_03_32.png)'
- en: 'Figure 3.32: A stacked bar chart showing the relative number of high-risk and
    low-risk patients per department'
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
  zh: 图3.32：显示每个部门内高风险和低风险患者相对数量的堆积条形图
- en: Compare the previous two stacked bar charts. The fact that nearly 50% of patients
    in **Intensive Care** are considered **High**risk is evident in both charts. However,
    the second chart makes this immediately obvious.
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: 比较之前的两个堆积条形图。几乎50%的**重症监护**患者被认为是**高风险**的，这一点在两个图表中都很明显。然而，第二个图表使这一点一目了然。
- en: None of the data has changed between the two charts, but the bars in the second
    chart represent the percent of the total for each type of department. You can
    no longer compare the absolute values but comparing the relative breakdown of
    each department type has been made much easier. Although there are fewer patients
    in **Intensive Care**, a much higher percentage of them are in a high-risk category.
  id: totrans-206
  prefs: []
  type: TYPE_NORMAL
  zh: 两个图表中的数据没有变化，但第二个图表中的条形表示每种部门类型占总数的百分比。你无法再比较绝对值，但比较每种部门类型的相对细分变得更加容易。尽管**重症监护**的患者较少，但其中的高风险患者比例明显较高。
- en: 'Let''s consider how the preceding charts can be created and even combined into
    a single visualization in Tableau. We''ll use a quick table calculation. We''ll
    cover table calculations much more in *Chapter 6*, *Diving Deep with Table Calculations*.
    Here, simply follow these steps:'
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们考虑如何在 Tableau 中创建前述图表，甚至将它们合并为一个可视化图表。我们将使用一个快速的表格计算方法。关于表格计算，我们将在*第6章*，《深入表格计算》一章中详细讨论。在这里，只需按照以下步骤操作：
- en: Create a stacked bar chart by placing **Department Type** on **Rows**, **Number
    of Patient Visits** on **Columns**, and **Patient Risk Profile** on **Color**.
    You'll now have a single stacked bar chart.
  id: totrans-208
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过将**部门类型**放到**行**上，**患者访问数量**放到**列**上，**患者风险档案**放到**颜色**上，来创建一个堆积条形图。现在你将得到一个单一的堆积条形图。
- en: Sort the bar chart in descending order.
  id: totrans-209
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将条形图按降序排列。
- en: Duplicate the **Number of Patient Visits** field on **Columns** by holding down
    *Ctrl* while dragging the **Number of Patient Visits** field in the view to a
    new spot on **Columns**, immediately to the right of its current location. Alternatively,
    you can drag and drop the field from the data pane to **Columns**. At this point,
    you have two **Number of Patient Visits** axes which, in effect, duplicate the
    stacked bar chart:![](img/B16021_03_33.png)
  id: totrans-210
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过按住*Ctrl*键并将**患者访问数量**字段拖动到**列**上，立即放置在当前字段右侧，来复制**列**上的**患者访问数量**字段。或者，你也可以从数据面板将字段拖放到**列**上。此时，你将有两个**患者访问数量**轴，从而实际上复制了堆积条形图：![](img/B16021_03_33.png)
- en: 'Figure 3.33: An interim step in creating the stacked bars'
  id: totrans-211
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图3.33：创建堆积条形图的一个中间步骤
- en: Using the drop-down menu of the second **Number of Patient Visits** field, select
    **Quick Table Calculation** | **Percent of Total**. This table calculation runs
    a secondary calculation on the values that were returned from the data source
    to compute a percentage of the total. Here, you will need to further specify how
    that total should be computed.
  id: totrans-212
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用第二个**患者访问次数**字段的下拉菜单，选择**快速表格计算** | **占总数的百分比**。这个表格计算对数据源返回的值进行二次计算，以计算占总数的百分比。在这里，你需要进一步指定如何计算这个总数。
- en: Using the same drop-down menu, select **Compute Using** | **Patient Risk Profile**.
    This tells Tableau to calculate the percent of each **Patient Risk Profile** within
    a given department. This means that the values will add up to 100% for each department.
  id: totrans-213
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用相同的下拉菜单，选择**计算依据** | **患者风险档案**。这会告诉 Tableau 根据给定科室计算每个**患者风险档案**的百分比。这意味着每个科室的值加起来将为
    100%。
- en: Turn on labels by clicking the **T** button on the top toolbar. This turns on
    default labels for each mark:![](img/B16021_03_34.png)
  id: totrans-214
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过点击顶部工具栏上的**T**按钮来开启标签显示。这样会为每个标记打开默认的标签：![](img/B16021_03_34.png)
- en: 'Figure 3.34: This toolbar option toggles labels on/off'
  id: totrans-215
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 3.34：此工具栏选项可以切换标签的显示与隐藏
- en: 'After following the preceding steps, your completed stacked bar charts should
    appear as follows:'
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
  zh: 按照前面的步骤操作后，你完成的堆叠条形图应如下所示：
- en: '![](img/B16021_03_35.png)'
  id: totrans-217
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B16021_03_35.png)'
- en: 'Figure 3.35: The final stacked bar view with absolute and relative values'
  id: totrans-218
  prefs: []
  type: TYPE_NORMAL
  zh: 图 3.35：包含绝对值和相对值的最终堆叠条形图视图
- en: Using both the absolute values and percentages in a single view can reveal significant
    aspects and details that might be obscured with only one of the charts.
  id: totrans-219
  prefs: []
  type: TYPE_NORMAL
  zh: 在同一个视图中同时使用绝对值和百分比，可以揭示一些可能仅通过其中一种图表无法显示的重要方面和细节。
- en: Treemaps
  id: totrans-220
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 树图
- en: Treemaps use a series of nested rectangles to display parts of the whole, especially
    within hierarchical relationships. Treemaps are particularly useful when you have
    hierarchies and dimensions with **high cardinality** (a high number of distinct
    values).
  id: totrans-221
  prefs: []
  type: TYPE_NORMAL
  zh: 树图使用一系列嵌套的矩形来显示部分与整体的关系，特别是在层级关系中。树图在你拥有具有**高基数**（即大量不同值）的层级和维度时特别有用。
- en: 'Here is an example of a treemap that shows the number of days spent in the
    hospital by patients. The largest rectangle sections show **Department Type**.
    Within those are departments and patients:'
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
  zh: 这里是一个树图的示例，展示了患者在医院中花费的天数。最大的矩形区域显示的是**科室类型**。在这些区域内，是科室和患者：
- en: '![](img/B16021_03_36.png)'
  id: totrans-223
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B16021_03_36.png)'
- en: 'Figure 3.36: A treemap showing part-to-whole relationship of Department Types
    / Departments / Doctors / Patients'
  id: totrans-224
  prefs: []
  type: TYPE_NORMAL
  zh: 图 3.36：展示科室类型/科室/医生/患者的部分与整体关系的树图
- en: To create a treemap, you simply need to place a measure on the **Size** shelf
    and a dimension on the **Detail** shelf. You can add additional dimensions to
    the level of detail to increase the detail of the view. Tableau will add borders
    of varying thickness to separate the levels of detail that are created by multiple
    dimensions. Note that in the preceding view, you can easily see the division of
    department types, then departments, then doctors, and finally individual patients.
    You can adjust the border of the lowest level by clicking the **Color** shelf.
  id: totrans-225
  prefs: []
  type: TYPE_NORMAL
  zh: 要创建树图，你只需要将一个度量放到**大小**货架上，将一个维度放到**详细信息**货架上。你可以将其他维度添加到详细信息级别，以增加视图的细节。Tableau
    会添加不同厚度的边框来分隔由多个维度创建的详细信息级别。请注意，在上面的视图中，你可以轻松看到科室类型的划分，然后是科室、医生，最后是单个患者。你可以通过点击**颜色**货架来调整最低级别的边框。
- en: 'The order of the dimensions on the **Marks** card defines the way the treemap
    groups the rectangles. Additionally, you can add dimensions to rows or columns
    to slice the treemap into multiple treemaps. The result is effectively a bar chart
    of treemaps:'
  id: totrans-226
  prefs: []
  type: TYPE_NORMAL
  zh: '**Marks** 卡片上维度的顺序定义了树图如何分组矩形。此外，你可以将维度添加到行或列中，将树图切割成多个树图。最终的结果实际上是一个树图的条形图：'
- en: '![](img/B16021_03_37.png)'
  id: totrans-227
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B16021_03_37.png)'
- en: 'Figure 3.37: Adding a dimension to Rows has effectively made a bar chart of
    treemaps'
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
  zh: 图 3.37：将一个维度添加到行中，实际上已经将树图变成了一个条形图
- en: 'The preceding treemap not only demonstrates the ability to have multiple rows
    (or columns) of treemaps—it also demonstrates the technique of placing multiple
    fields on the **Color** shelf. This can only be done with discrete fields. You
    can assign two or more colors by holding down the *Shift* key while dropping the
    second field on color. Alternatively, the icon or space to the left of each field
    on the **Marks** card can be clicked to change which shelf is used for the field:'
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
  zh: 上述树状图不仅展示了能够拥有多行（或多列）树状图的能力，还展示了将多个字段放置在 **颜色** 货架上的技巧。这只能使用离散字段来实现。你可以通过按住
    *Shift* 键同时将第二个字段拖动到颜色上，从而分配两种或更多颜色。或者，你可以点击 **Marks** 卡片上每个字段左侧的图标或空白处，来更改该字段使用的货架：
- en: '![](img/B16021_03_38.png)'
  id: totrans-230
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B16021_03_38.png)'
- en: 'Figure 3.38: Clicking the icon next to a field on the Marks card allows you
    to change which shelf is used'
  id: totrans-231
  prefs: []
  type: TYPE_NORMAL
  zh: 图 3.38：点击 **Marks** 卡片中字段旁边的图标，可以更改使用的货架类型
- en: 'Treemaps, along with packed bubbles, word clouds, and a few other chart types,
    are called **non-Cartesian** chart types. This means that they are drawn without
    an *x* or *y* axis, and do not even require row or column headers. To create any
    of these chart types, do the following:'
  id: totrans-232
  prefs: []
  type: TYPE_NORMAL
  zh: 树状图、结合气泡图、词云图及其他一些图表类型，通常被称为 **非笛卡尔** 图表类型。这意味着它们在绘制时没有 *x* 或 *y* 轴，甚至不需要行或列标题。要创建这些图表类型，可以按照以下步骤操作：
- en: Make sure that no continuous fields are used on Rows or Columns.
  id: totrans-233
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 确保在行或列中不使用连续字段。
- en: Use any field as a measure on **Size**.
  id: totrans-234
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用任何字段作为 **大小** 的度量。
- en: 'Change the mark type based on the desired chart type: square for treemap, circle
    for packed bubbles, or text for word cloud (with the desired field on **Label**).'
  id: totrans-235
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 根据所需的图表类型更改标记类型：树状图使用正方形，气泡图使用圆形，词云使用文本（并在 **标签** 上放置所需字段）。
- en: Area charts
  id: totrans-236
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 面积图
- en: Take a line chart and then fill in the area beneath the line. If there are multiple
    lines, then stack the filled areas on top of each other. That's how you might
    think of an area chart.
  id: totrans-237
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以把线形图的下方区域填充起来。如果有多条线，那么就把这些填充的区域堆叠在一起。这就是你可能会想象面积图的样子。
- en: In fact, in Tableau, you may find it easy to create a line chart, like you've
    done previously, and then change the mark type on the **Marks** card to **Area**.
    Any dimensions on the **Color**, **Label**, or **Detail** shelves will create
    slices of area that will be stacked on top of each other. The **Size** shelf is
    not applicable to an area chart.
  id: totrans-238
  prefs: []
  type: TYPE_NORMAL
  zh: 实际上，在 Tableau 中，你可能会发现很容易创建一张线形图，就像你之前做过的那样，然后将 **Marks** 卡片上的标记类型更改为 **面积**。任何放置在
    **颜色**、**标签** 或 **详细信息** 货架上的维度都会创建堆叠在一起的面积块。**大小** 货架不适用于面积图。
- en: 'As an example, consider a visualization of patient visits over time, segmented
    by hospital branch:'
  id: totrans-239
  prefs: []
  type: TYPE_NORMAL
  zh: 作为示例，考虑以下按医院分支区分的患者就诊情况随时间变化的可视化：
- en: '![](img/B16021_03_39.png)'
  id: totrans-240
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B16021_03_39.png)'
- en: 'Figure 3.39: An area chart showing patient visits over time by hospital branch'
  id: totrans-241
  prefs: []
  type: TYPE_NORMAL
  zh: 图 3.39：按医院分支区分的患者就诊情况随时间变化的面积图
- en: Each band represents a different hospital branch location. In many ways, the
    view is aesthetically pleasing and it does highlight some patterns in the data.
    However, it suffers from some of the same weaknesses as the stacked bar chart.
    Only the bottom band (**South**) can be read in terms of the values on the axis.
  id: totrans-242
  prefs: []
  type: TYPE_NORMAL
  zh: 每一条带状区域代表不同的医院分支位置。在许多方面，这种视图是美观的，并且确实突出了数据中的一些模式。然而，它也存在与堆叠条形图相同的缺点。只有底部的带状区域（**南区**）可以通过轴上的数值进行读取。
- en: The other bands are stacked on top and it becomes very difficult to compare.
    For example, it is obvious that there is a spike around February of each year.
    But is it at each branch? Or is one of the lower bands pushing the higher bands
    up? Which band has the most significant spike?
  id: totrans-243
  prefs: []
  type: TYPE_NORMAL
  zh: 其他带状区域被堆叠在上面，比较变得非常困难。例如，每年二月左右明显出现一个峰值。但这个峰值出现在每个分支吗？还是下方的某一带区域将上方的区域推高了？哪个带状区域的峰值最显著？
- en: 'Now, consider the following view:'
  id: totrans-244
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，考虑以下视图：
- en: '![](img/B16021_03_40.png)'
  id: totrans-245
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B16021_03_40.png)'
- en: 'Figure 3.40: An area chart showing percentages instead of absolute values'
  id: totrans-246
  prefs: []
  type: TYPE_NORMAL
  zh: 图 3.40：一个显示百分比而非绝对值的面积图
- en: This view uses a quick table calculation, like the stacked bars example. It
    is no longer possible to see the spikes, as in the first chart. However, it is
    much easier to see that there was a dramatic increase in the percentage of patients
    seen by the **East** branch (the middle band) around February 2019, and that the
    branch continued to see a significant number of patients through the end of the
    year.
  id: totrans-247
  prefs: []
  type: TYPE_NORMAL
  zh: 该视图使用了快速表计算，类似于堆叠条形图的例子。与第一个图表不同，现在无法看到尖峰。然而，显而易见的是，2019年2月左右，**东部**分支（中间带状区域）看到的患者百分比急剧增加，并且该分支持续到年底仍然看到了大量患者。
- en: It is important to understand what facets of the data story are emphasized (or
    hidden) by selecting a different chart type. You might even experiment in the
    `Chapter 3` workbook by changing the first area chart to a line chart. You may
    notice that you can see the spikes as well as the absolute increase and decrease
    in patient visits per branch. Each chart type contributes to a certain aspect
    of the data story.
  id: totrans-248
  prefs: []
  type: TYPE_NORMAL
  zh: 通过选择不同的图表类型，理解数据故事中强调（或隐藏）的方面非常重要。你甚至可以在`Chapter 3`工作簿中实验，将第一个区域图更改为折线图。你可能会注意到，折线图能展示出尖峰，并能清晰地看到每个分支的患者访问数量的绝对增加与减少。每种图表类型都为数据故事贡献了某种特定的视角。
- en: You can define the order in which the areas are stacked by changing the sort
    order of the dimensions on the shelves of the **Marks** card. Additionally, you
    can rearrange them by dragging and dropping them within **Color Legend** to further
    adjust the order.
  id: totrans-249
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以通过更改**Marks**卡片上维度的排序顺序来定义区域堆叠的顺序。此外，你还可以通过在**Color Legend**中拖拽和放置它们，进一步调整顺序。
- en: Pie charts
  id: totrans-250
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 饼图
- en: 'Pie charts can also be used to show part-to-whole relationships. To create
    a pie chart in Tableau, change the mark type to **Pie**. This will give you an
    **Angle** shelf, which you can use to encode a measure. Whatever dimension(s)
    you place on the **Marks** card (typically on the **Color** shelf) will define
    the slices of the pie:'
  id: totrans-251
  prefs: []
  type: TYPE_NORMAL
  zh: 饼图还可以用来显示部分与整体的关系。要在Tableau中创建饼图，请将标记类型更改为**饼图**。这将为你提供一个**角度**货架，你可以用来编码度量。你放置在**Marks**卡片上的任何维度（通常是在**Color**货架上）都会定义饼图的切片：
- en: '![](img/B16021_03_41.png)'
  id: totrans-252
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B16021_03_41.png)'
- en: 'Figure 3.41: A pie chart showing total revenue broken down by branch'
  id: totrans-253
  prefs: []
  type: TYPE_NORMAL
  zh: 图3.41：展示按分支划分的总收入的饼图
- en: Observe that the preceding pie chart uses the sum of revenue to define the angle
    of each slice; the higher the sum, the wider the slice. The **Hospital Branch**
    dimension is slicing the measure and defining slices of the pie. This view also
    demonstrates the ability to place multiple fields on the **Label** shelf. The
    second **SUM(Revenue)** field is the percentage of the total table calculation
    you saw previously. This allows you to see the absolute values of revenue, as
    well as the percentage of the whole.
  id: totrans-254
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意，前面的饼图使用收入的总和来定义每个切片的角度；总和越高，切片越宽。**医院分支**维度在切分度量并定义饼图的切片。这个视图还展示了将多个字段放置在**Label**货架上的功能。第二个**SUM(Revenue)**字段是你之前看到的总表计算的百分比。这使你可以看到收入的绝对值，以及它在整体中的百分比。
- en: Pie charts can work well with a few slices. In most cases, more than two or
    three become very difficult to see and understand. Also, as a good practice, sort
    the slices by sorting the dimension that defines the slices. In the preceding
    example, the **Hospital Branch** dimension was sorted by the `SUM` of revenue
    descending. This was done by using the drop-down menu option. This causes slices
    to be ordered from largest to smallest and allows anyone reading the chart the
    ability to easily see which slices are larger, even when the size and angles are
    nearly identical.
  id: totrans-255
  prefs: []
  type: TYPE_NORMAL
  zh: 饼图在切片较少时表现较好。在大多数情况下，切片超过两到三个后就变得难以观察和理解。此外，作为一种良好的实践，按定义切片的维度进行排序。在前面的示例中，**医院分支**维度是通过按收入的`SUM`降序排序来设置的。此操作通过下拉菜单选项完成。这会导致切片按从大到小的顺序排列，使任何查看图表的人都能轻松地看到哪些切片较大，即使它们的大小和角度几乎相同。
- en: With a good understanding of some techniques for visualizing part-to-whole relationships,
    let's move on to visualizing distributions.
  id: totrans-256
  prefs: []
  type: TYPE_NORMAL
  zh: 在掌握了可视化部分与整体关系的一些技巧后，我们继续讨论如何可视化分布情况。
- en: Visualizing distributions
  id: totrans-257
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 可视化分布
- en: Often, simply understanding totals, sums, and even the breakdown of part-to-whole
    only gives a piece of the overall picture. Most of the time, you'll want to understand
    where individual items fall within a distribution of all similar items.
  id: totrans-258
  prefs: []
  type: TYPE_NORMAL
  zh: 通常，单纯理解总数、和、甚至部分与整体的拆分只能提供整体情况的一部分。大多数时候，你会想要了解单个项目在所有相似项目的分布中的位置。
- en: 'You might find yourself asking questions such as the following:'
  id: totrans-259
  prefs: []
  type: TYPE_NORMAL
  zh: 你可能会问以下问题：
- en: How much does each customer spend at our stores and how does that compare to
    all other customers?
  id: totrans-260
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 每个顾客在我们的商店消费多少，这与其他顾客相比如何？
- en: How long do most of our patients stay in the hospital? Which patients fall outside
    the normal range?
  id: totrans-261
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们大多数病人住院多久？哪些病人超过了正常范围？
- en: What's the average life expectancy for components in a machine and which last
    more than average? Are there any components with extremely long or extremely short
    lives?
  id: totrans-262
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 机器中的部件的平均寿命是多少？哪些部件的寿命超过平均值？是否有任何部件的寿命极长或极短？
- en: How far above or below passing were students' test scores?
  id: totrans-263
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 学生的测试成绩是高于还是低于及格线？
- en: These questions all have similarities. In each case, you seek an understanding
    of how individuals (customers, patients, components, students) relate to the group.
    In each case, you most likely have a relatively high number of individuals. In
    data terms, you have a dimension (customer, patient, component, and student) representing
    a relatively large population of individuals and some measure (amount spent, length
    of stay, life expectancy, test score) you'd like to compare. Using one or more
    of the following visualizations might be a good way to do this.
  id: totrans-264
  prefs: []
  type: TYPE_NORMAL
  zh: 这些问题有共同之处。在每种情况下，你都希望了解个体（顾客、病人、部件、学生）与群体的关系。在每种情况下，你可能有相对较多的个体。从数据角度看，你有一个维度（顾客、病人、部件、学生），代表着一个相对较大的人群，并且有一些度量（消费金额、住院时长、寿命、考试成绩）你希望进行比较。使用以下一种或多种可视化方式可能是一个不错的选择。
- en: Circle charts
  id: totrans-265
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 圆形图
- en: 'Circle charts are one way to visualize a distribution. Consider the following
    view, which shows how each doctor compares to other doctors within the same type
    of department in terms of the average days their patients stay in the hospital:'
  id: totrans-266
  prefs: []
  type: TYPE_NORMAL
  zh: 圆形图是可视化分布的一种方式。考虑以下视图，它展示了每位医生在相同科室类型中，患者住院平均天数的比较：
- en: '![](img/B16021_03_42.png)'
  id: totrans-267
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B16021_03_42.png)'
- en: 'Figure 3.42: A circle chart showing the average length of stay for each doctor
    within each department type'
  id: totrans-268
  prefs: []
  type: TYPE_NORMAL
  zh: 图 3.42：显示每个科室类型中每位医生平均住院时间的圆形图
- en: Here you can see which doctors have patients that stay in the hospital longer
    or shorter on average. It is also interesting to note that certain types of departments
    have longer average lengths of stay versus others. This makes sense as each type
    of department has patients with different needs. It's probably not surprising
    that patients in **Intensive Care** tend to stay longer. Certain departments may
    have different goals or requirements. Being able to evaluate doctors within their
    type of department makes comparisons far more meaningful.
  id: totrans-269
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，你可以看到哪些医生的病人平均住院时间更长或更短。还值得注意的是，某些类型的科室相比其他科室有更长的平均住院时间。这是有道理的，因为不同类型的科室有不同需求的病人。可能不令人惊讶的是，**重症监护**病人的住院时间通常较长。某些科室可能有不同的目标或要求。能够在同一类型的科室内评估医生，使得比较变得更加有意义。
- en: 'To create the preceding circle chart, you need to place the fields on the shelves
    that are shown and then simply change the mark type from **Automatic** (which
    was a bar mark) to **Circle**. **Department Type** defines the rows, and each
    circle is drawn at the level of **Doctor**, which is in the level of **Detail**
    on the **Marks** card. Finally, to add the average lines, simply switch to the
    **Analytics** tab of the left pane and drag **Average Line** to the view, specifically
    dropping it on the **Cell** option:'
  id: totrans-270
  prefs: []
  type: TYPE_NORMAL
  zh: 要创建上述圆形图，你需要将字段放置在显示的货架上，然后只需将标记类型从**自动**（即条形图）更改为**圆形**。**科室类型**定义行，而每个圆形都绘制在**医生**级别上，后者位于**标记**卡片的**细节**级别。最后，若要添加平均线，只需切换到左侧窗格的**分析**标签并将**平均线**拖到视图中，特别是将其放在**单元格**选项上：
- en: '![](img/B16021_03_43.png)'
  id: totrans-271
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B16021_03_43.png)'
- en: 'Figure 3.43: You can add reference lines and more by dragging from the Analytics
    tab to the view'
  id: totrans-272
  prefs: []
  type: TYPE_NORMAL
  zh: 图 3.43：你可以通过从“分析”标签拖动到视图中，添加参考线及更多内容
- en: You may also click one of the resulting average lines and select **Edit** to
    find fine-tuning options, such as labeling.
  id: totrans-273
  prefs: []
  type: TYPE_NORMAL
  zh: 你也可以点击结果中的某条平均线，并选择**编辑**以找到微调选项，例如标签。
- en: Jittering
  id: totrans-274
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 抖动
- en: When using views like circle plots or other similar visualization types, you'll
    often see that marks overlap, which can lead to obscuring part of the true story.
    Do you know for certain, just by looking, how many doctors there are in **Intensive
    Care** who are above average? How many are below? Or could there be two or more
    circles exactly overlapping? One way of minimizing this is to click the **Color**
    shelf and add some transparency and a border to each circle. Another approach
    is a technique called **jittering**.
  id: totrans-275
  prefs: []
  type: TYPE_NORMAL
  zh: 当使用类似圆形图或其他类似类型的可视化时，你通常会看到标记重叠，这可能会导致部分真实情况被掩盖。你是否能仅凭眼力，确定**重症监护**中的医生中，哪些是高于平均水平的？哪些是低于平均水平的？或者是否可能有两个或更多的圆形完全重叠？一种减少这种情况的方法是点击**颜色**货架，为每个圆形添加一些透明度和边框。另一种方法是使用一种叫做**抖动**的技术。
- en: '**Jittering** is a common technique in data visualization that involves adding
    a bit of intentional noise to a visualization to avoid overlap without harming
    the integrity of what is communicated. Alan Eldridge and Steve Wexler are among
    those who pioneered techniques for jittering in Tableau.'
  id: totrans-276
  prefs: []
  type: TYPE_NORMAL
  zh: '**抖动**是数据可视化中一种常见的技术，它通过向可视化中添加一些故意的噪声来避免重叠，而不破坏所传达信息的完整性。Alan Eldridge和Steve
    Wexler是Tableau中抖动技术的先驱之一。'
- en: Various jittering techniques, such as using `Index()` or `Random()` functions,
    can be found by searching for *jittering* on the Tableau forums or *Tableau jittering*
    using a search engine.
  id: totrans-277
  prefs: []
  type: TYPE_NORMAL
  zh: 各种抖动技术，如使用`Index()`或`Random()`函数，可以通过在Tableau论坛上搜索*抖动*，或者使用搜索引擎搜索*Tableau抖动*找到。
- en: 'Here is one approach that uses the `Index()` function, computed along **Doctor**,
    as a continuous field on **Rows**. Since **INDEX()** is continuous (green), it
    defines an axis and causes the circles to spread out vertically. Now, you can
    more clearly see each individual mark and have higher confidence that the overlap
    is not obscuring the true picture of the data:'
  id: totrans-278
  prefs: []
  type: TYPE_NORMAL
  zh: 这里使用了一种方法，通过`Index()`函数进行计算，并在**Doctor**字段上作为一个连续字段添加到**行**上。由于**INDEX()**是连续的（绿色），它定义了一个轴并使圆形标记垂直展开。现在，你可以更清楚地看到每个单独的标记，并更有信心认为重叠并未掩盖数据的真实图像：
- en: '![](img/B16021_03_44.png)'
  id: totrans-279
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B16021_03_44.png)'
- en: 'Figure 3.44: Here INDEX() has been added as a continuous field on Rows (the
    table calculation is computed along Doctor)'
  id: totrans-280
  prefs: []
  type: TYPE_NORMAL
  zh: 图3.44：这里INDEX()已作为连续字段添加到行（表计算是沿着Doctor字段计算的）
- en: In the preceding view, the vertical axis that was created by the **Index** field
    is hidden. You can hide an axis or header by using the drop-down menu of the field
    defining the axis or header and unchecking **Show Header**. Alternatively, you
    can right-click any axis or header in the view and select the same option.
  id: totrans-281
  prefs: []
  type: TYPE_NORMAL
  zh: 在前面的视图中，由**Index**字段创建的垂直轴被隐藏。你可以通过使用定义该轴或标题的字段的下拉菜单并取消勾选**显示标题**来隐藏一个轴或标题。或者，你也可以右键单击视图中的任何轴或标题，选择相同的选项。
- en: 'You can use jittering techniques on many kinds of visualizations that involve
    plotting fixed points that could theoretically overlap, such as dot plots and
    scatterplots. Next, we will move onto another useful distribution visualization
    technique: box and whisker plots.'
  id: totrans-282
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以在许多涉及绘制可能重叠的固定点的可视化中使用抖动技术，例如点图和散点图。接下来，我们将介绍另一种有用的分布可视化技术：箱型图和须状图。
- en: Box and whisker plots
  id: totrans-283
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 箱型图和须状图
- en: 'Box and whisker plots (sometimes just called **box plots**) add additional
    statistical context to distributions. To understand a box and whisker plot, consider
    the following diagram:'
  id: totrans-284
  prefs: []
  type: TYPE_NORMAL
  zh: 箱型图和须状图（有时简称为**箱型图**）为分布提供了额外的统计学背景。要理解箱型图和须状图，请参考以下图示：
- en: '![](img/B16021_03_45.png)'
  id: totrans-285
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B16021_03_45.png)'
- en: 'Figure 3.45: Explanation of box and whisker plot'
  id: totrans-286
  prefs: []
  type: TYPE_NORMAL
  zh: 图3.45：箱型图和须状图的解释
- en: Here, the box plot has been added to a circle graph. The box is divided by the
    median, meaning that half of the values are above, and half are below. The box
    also indicates the lower and upper quartiles, which each contain a quarter of
    the values. The span of the box makes up what is known as the **Interquartile
    Range** (**IQR**). The whiskers extend to 1.5 times the IQR value (or the maximum
    extent of the data). Any marks beyond the whiskers are outliers.
  id: totrans-287
  prefs: []
  type: TYPE_NORMAL
  zh: 这里，箱型图已被添加到圆形图中。箱子通过中位数被分割，这意味着一半的值位于中位数之上，另一半位于中位数之下。箱子还表示下四分位数和上四分位数，每个包含四分之一的值。箱子的跨度构成了**四分位距**（**IQR**）。须状线延伸至1.5倍的IQR值（或数据的最大范围）。任何超出须状线的标记都被视为离群值。
- en: 'To add box and whisker plots, use the **Analytics** tab on the left sidebar
    and drag **Box Plot** to the view. Doing this to the circle chart we considered
    in *Figure 3.42* yields the following chart:'
  id: totrans-288
  prefs: []
  type: TYPE_NORMAL
  zh: 要添加箱线图，请使用左侧边栏的**分析**标签，将**箱线图**拖动到视图中。将其应用于我们在*图 3.42*中考虑的圆形图表，会得到以下图表：
- en: '![](img/B16021_03_46.png)'
  id: totrans-289
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B16021_03_46.png)'
- en: 'Figure 3.46: A box plot applied to the previous circle chart'
  id: totrans-290
  prefs: []
  type: TYPE_NORMAL
  zh: 图 3.46：应用于先前圆形图表的箱线图
- en: The box plots help us to see and compare the medians, the ranges of data, the
    concentration of values, and any outliers. You may edit box plots by clicking
    or right-clicking the box or whisker and selecting **Edit**. This will reveal
    multiple options, including how whiskers should be drawn, whether only outliers
    should be displayed, and other formatting possibilities.
  id: totrans-291
  prefs: []
  type: TYPE_NORMAL
  zh: 箱线图帮助我们查看并比较中位数、数据范围、值的集中度以及任何异常值。你可以通过点击或右键单击箱线图的箱体或须，选择**编辑**来编辑箱线图。这将显示多个选项，包括如何绘制须线、是否仅显示异常值以及其他格式化选项。
- en: Histograms
  id: totrans-292
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 直方图
- en: 'Another possibility for showing distributions is to use a histogram. A histogram
    looks similar to a bar chart, but the bars show a count of occurrences of a value.
    For example, standardized test auditors looking for evidence of grade tampering
    might construct a histogram of student test scores. Typically, a distribution
    might look like the following example (not included in the workbook):'
  id: totrans-293
  prefs: []
  type: TYPE_NORMAL
  zh: 显示分布的另一种方法是使用直方图。直方图看起来类似于条形图，但条形显示的是某个值的发生次数。例如，标准化测试的审计员在寻找成绩篡改的证据时，可能会构建一个学生考试成绩的直方图。通常，分布可能如下所示（未包含在工作簿中）：
- en: '![](img/B16021_03_47.png)'
  id: totrans-294
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B16021_03_47.png)'
- en: 'Figure 3.47: A histogram of test scores'
  id: totrans-295
  prefs: []
  type: TYPE_NORMAL
  zh: 图 3.47：考试成绩的直方图
- en: The test scores are shown on the *x* axis and the height of each bar shows the
    number of students that made that particular score. A typical distribution often
    has a recognizable bell curve. In this case, some students are doing poorly and
    some are doing extremely well, but most have scores somewhere in the middle.
  id: totrans-296
  prefs: []
  type: TYPE_NORMAL
  zh: 测试成绩显示在*x*轴上，每个条形的高度表示获得该分数的学生人数。典型的分布通常具有可识别的钟形曲线。在这种情况下，一些学生表现不佳，而另一些学生表现非常好，但大多数学生的成绩在中间。
- en: What if auditors saw something like this?
  id: totrans-297
  prefs: []
  type: TYPE_NORMAL
  zh: 如果审计员看到像这样的结果，怎么办？
- en: '![](img/B16021_03_48.png)'
  id: totrans-298
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B16021_03_48.png)'
- en: 'Figure 3.48: A histogram that does not have a typical bell curve, raising some
    questions'
  id: totrans-299
  prefs: []
  type: TYPE_NORMAL
  zh: 图 3.48：一个没有典型钟形曲线的直方图，提出了一些问题
- en: Something is clearly wrong. Perhaps graders have bumped up students who were
    just shy of passing to barely passing. It's also possible this may indicate bias
    in subjective grading instead of blatant tampering. We shouldn't jump to conclusions,
    but the pattern is not normal and requires investigation. Histograms are very
    useful in catching anomalies like this.
  id: totrans-300
  prefs: []
  type: TYPE_NORMAL
  zh: 显然有些问题。也许评分员将一些成绩接近及格的学生的分数提高到了刚刚及格的水平。也有可能这反映了主观评分中的偏差，而非明显的篡改。我们不应该急于下结论，但这种模式不正常，值得进一步调查。直方图在发现此类异常情况时非常有用。
- en: 'Now that we''ve seen an example of histograms, let''s shift our focus back
    to the hospital data and work through an example. What if you want to visualize
    the time it takes to begin patient treatment so that you can observe the patterns
    for different patient populations. You might start with a blank view follow steps
    like these:'
  id: totrans-301
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们已经看到了直方图的一个例子，让我们把注意力转回到医院数据，并进行一个例子操作。如果你想要可视化开始病人治疗所需的时间，以便观察不同患者群体的模式，你可以从空白视图开始，并按照以下步骤进行：
- en: Click to select the **Minutes to Service** field under **Measures** in the data
    pane.
  id: totrans-302
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击选择数据面板中**度量**下的**服务分钟数**字段。
- en: Expand **Show Me** if necessary and select the histogram.
  id: totrans-303
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如有需要，展开**Show Me**并选择直方图。
- en: 'Upon selecting the histogram, Tableau builds the chart by creating a new dimension,
    **Minutes to Service (bin)**, which is used in the view, along with a `COUNT`
    of **Minutes to Service** to render the view:'
  id: totrans-304
  prefs: []
  type: TYPE_NORMAL
  zh: 选择直方图后，Tableau通过创建一个新的维度**服务分钟数（分箱）**来构建图表，该维度用于视图中，并与**服务分钟数**的`COUNT`一起呈现视图：
- en: '![](img/B16021_03_49.png)'
  id: totrans-305
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B16021_03_49.png)'
- en: 'Figure 3.49: A histogram showing the distribution of patients according to
    minutes to service'
  id: totrans-306
  prefs: []
  type: TYPE_NORMAL
  zh: 图 3.49：显示按服务分钟数分布的患者的直方图
- en: '**Bins** are ranges of measure values that can be used as dimensions to slice
    the data. You can think of bins as buckets. For example, you might look at test
    scores by 0-5%, 5-10%, and so on, or people''s ages by 0-10, 10-20, and so on.
    You can set the size, or range, of the bin when it is created and edit it at any
    point. Tableau will also suggest a size for the bin based on an algorithm that
    looks at the values that are present in the data. Tableau will use uniform bin
    sizes for all bins.'
  id: totrans-307
  prefs: []
  type: TYPE_NORMAL
  zh: '**箱子**是度量值的范围，可以作为维度来切片数据。你可以将箱子看作是桶。例如，你可能会按 0-5%、5-10% 等查看考试成绩，或者按 0-10、10-20
    等查看人们的年龄。你可以在创建时设置箱子的大小或范围，并在任何时候进行编辑。Tableau 还会基于一个算法，查看数据中存在的值，自动建议箱子的大小。Tableau
    会为所有箱子使用统一的大小。'
- en: 'For this view, Tableau automatically set the bin size to **3.47** minutes,
    which is not very intuitive. Experiment with different values by right-clicking
    or using the drop-down on the **Minutes to Service (bin)**field in the data pane
    and selecting **Edit**. The resulting window gives some information and allows
    you to adjust the size of the bins:'
  id: totrans-308
  prefs: []
  type: TYPE_NORMAL
  zh: 对于此视图，Tableau 自动将箱子的大小设置为 **3.47** 分钟，这个大小并不直观。你可以通过右键点击或使用数据面板中 **服务等待分钟数（箱子）**
    字段的下拉菜单，选择 **编辑**，来尝试不同的值。结果窗口会提供一些信息，并允许你调整箱子的大小：
- en: '![](img/B16021_03_50.png)'
  id: totrans-309
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B16021_03_50.png)'
- en: 'Figure 3.50: Options for editing a bin'
  id: totrans-310
  prefs: []
  type: TYPE_NORMAL
  zh: 图 3.50：编辑数据箱的选项
- en: 'Here, for example, is the same histogram with each bin sized to 2 minutes:'
  id: totrans-311
  prefs: []
  type: TYPE_NORMAL
  zh: 这里举个例子，这是同一个直方图，每个箱子的大小为 2 分钟：
- en: '![](img/B16021_03_51.png)'
  id: totrans-312
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B16021_03_51.png)'
- en: 'Figure 3.51: A histogram with a bin size of 2'
  id: totrans-313
  prefs: []
  type: TYPE_NORMAL
  zh: 图 3.51：箱子大小为 2 的直方图
- en: 'You can see the curve, which peaks at just under **20** minutes and then tapers
    off with a few patients having to wait as long as **40** minutes. You might pursue
    additional analysis, such as seeing how wait times vary for the majority of patients
    based on their risk profile, such as in this view:'
  id: totrans-314
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以看到曲线，其峰值出现在略低于 **20** 分钟处，然后逐渐下降，少数患者的等待时间长达 **40** 分钟。你可能会进行进一步的分析，例如查看基于患者风险档案，等待时间在大多数患者中的变化情况，如下图所示：
- en: '![](img/B16021_03_52.png)'
  id: totrans-315
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B16021_03_52.png)'
- en: 'Figure 3.52: Patient risk profile creates two rows of histograms, showing that
    most high-risk patients receive faster care (as we would hope)'
  id: totrans-316
  prefs: []
  type: TYPE_NORMAL
  zh: 图 3.52：患者风险档案生成两行直方图，显示大多数高风险患者得到更快的护理（正如我们所期望的那样）
- en: You can create new bins on your own by right-clicking a numeric field and selecting
    **Create** | **Bins**. You may edit the size of bins by selecting the **Edit**
    option for the bin field.
  id: totrans-317
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以通过右键点击一个数字字段并选择 **创建** | **箱子** 来创建新的箱子。你也可以通过选择箱子字段的 **编辑** 选项来编辑箱子的大小。
- en: You'll also want to consider what you want to count for each bin and place that
    on **Rows**. When you used **Show Me**, Tableau placed the `COUNT` of **Minutes
    to Service** on **Rows**, which is just a count of every record where the value
    was not null. In this case, that's equivalent to a count of patient visits because
    the data set contains one record per visit. However, if you wanted to count the
    number of unique patients, you might consider replacing the field in the view
    with `COUNTD([Patient ID])`.
  id: totrans-318
  prefs: []
  type: TYPE_NORMAL
  zh: 你还需要考虑想要为每个箱子计数什么，并将其放在 **行** 上。当你使用 **Show Me** 时，Tableau 将 **服务等待分钟数** 的 `COUNT`
    放在了 **行** 上，这仅是对每个值不为空的记录进行计数。在这种情况下，这等同于对患者访问次数的计数，因为数据集中每条记录对应一次访问。然而，如果你想要计算唯一患者的数量，你可能考虑用
    `COUNTD([患者 ID])` 替换视图中的字段。
- en: Just like dates, when the bin field in the view is discrete, the drop-down menu
    includes an option for **Show Missing Values**. If you use a discrete bin field,
    you may wish to use this option to avoid distorting the visualization and to identify
    what values don't occur in the data.
  id: totrans-319
  prefs: []
  type: TYPE_NORMAL
  zh: 就像日期一样，当视图中的箱子字段为离散时，下拉菜单中会有一个 **显示缺失值** 的选项。如果你使用离散的箱子字段，你可能希望使用此选项，以避免扭曲可视化并识别哪些值在数据中未出现。
- en: We've seen how to visualize distributions with circle plots, histograms, and
    box plots. Let's turn our attention to using multiple axes to compare different
    measures.
  id: totrans-320
  prefs: []
  type: TYPE_NORMAL
  zh: 我们已经看到了如何使用圆形图、直方图和箱型图来可视化分布。现在让我们将注意力转向使用多个轴来比较不同的度量。
- en: Visualizing multiple axes to compare different measures
  id: totrans-321
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 可视化多个轴以比较不同的度量
- en: Often, you'll need to use more than one axis to compare different measures,
    understand correlation, or analyze the same measure at different levels of detail.
    In these cases, you'll use visualizations with more than one axis.
  id: totrans-322
  prefs: []
  type: TYPE_NORMAL
  zh: 通常，你需要使用多个轴来比较不同的度量，了解相关性，或在不同的细节级别上分析相同的度量。在这些情况下，你将使用具有多个轴的可视化。
- en: Scatterplot
  id: totrans-323
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 散点图
- en: 'A scatterplot is an essential visualization type for understanding the relationship
    between two measures. Consider a scatterplot when you find yourself asking questions
    like the following:'
  id: totrans-324
  prefs: []
  type: TYPE_NORMAL
  zh: 散点图是理解两个度量之间关系的基本可视化类型。当你有以下类似问题时，可以考虑使用散点图：
- en: Does how much I spend on marketing really make a difference on sales?
  id: totrans-325
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我在营销上花费多少，真的对销售有影响吗？
- en: How much does power consumption go up with each degree of heating/cooling?
  id: totrans-326
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 每度加热/制冷会导致多少电力消耗的增加？
- en: Is there any correlation between hours of study and test performance?
  id: totrans-327
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 学习时间与考试成绩之间有相关性吗？
- en: Each of these questions seeks to understand the correlation (if any) between
    two measures. Scatterplots help you understand these relationships and see any
    outliers.
  id: totrans-328
  prefs: []
  type: TYPE_NORMAL
  zh: 这些问题旨在理解两个度量之间的相关性（如果有的话）。散点图帮助你理解这些关系，并识别任何异常值。
- en: 'Consider the following scatterplot, which looks for a relationship between
    the total revenue for a department and the number of patient visits:'
  id: totrans-329
  prefs: []
  type: TYPE_NORMAL
  zh: 考虑以下散点图，它用于寻找部门总收入与患者就诊次数之间的关系：
- en: '![](img/B16021_03_53.png)'
  id: totrans-330
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B16021_03_53.png)'
- en: 'Figure 3.53: A scatterplot showing the correlation between Revenue and Number
    of Patient Visits'
  id: totrans-331
  prefs: []
  type: TYPE_NORMAL
  zh: 图 3.53：显示收入与患者就诊次数之间相关性的散点图
- en: The **Department** dimension is on **Text** anddefines the view level of detail.
    Each mark in the view represents the total **Revenue** and total **Number of Patient
    Visits** for the department.
  id: totrans-332
  prefs: []
  type: TYPE_NORMAL
  zh: '**部门**维度位于**文本**上，并定义了视图的详细级别。视图中的每个标记代表该部门的总**收入**和总**患者就诊次数**。'
- en: As you would expect, most departments have higher revenue with a higher volume
    of patients. **Neurology** and **Cardiology** stand out as having high revenue
    despite a lower volume of patients.
  id: totrans-333
  prefs: []
  type: TYPE_NORMAL
  zh: 正如你所预期的，大多数部门在患者数量较多时收入较高。**神经科**和**心脏科**尽管患者量较少，但收入较高，表现突出。
- en: Look for ways to use **Size** and **Color** to encode additional data in scatterplots.
    For example, we might add **Department Type** to **Color** to see if departments
    of the same type show similar correlations. We might encode **Size** with average
    length of stay to see if higher revenues can also be explained by patients who
    stay longer.
  id: totrans-334
  prefs: []
  type: TYPE_NORMAL
  zh: 寻找利用**大小**和**颜色**在散点图中编码附加数据的方法。例如，我们可以将**部门类型**添加到**颜色**中，看看相同类型的部门是否显示出相似的相关性。我们还可以将**大小**编码为平均住院天数，看看较高的收入是否也可以通过住院时间较长的患者来解释。
- en: Let's consider a few other types of charts that use multiple axes.
  id: totrans-335
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们考虑其他几种使用多个坐标轴的图表类型。
- en: Dual-axis and combination charts
  id: totrans-336
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 双轴图和组合图
- en: One very important feature in Tableau is the ability to use a dual axis. Scatterplots
    use two axes, but they are *X* and *Y*. You also observed in the stacked bar example
    that placing multiple continuous (green) fields next to each other on **Rows**
    or **Columns** results in multiple side-by-side axes. Dual axis, on the other
    hand, means that a view is using two axes that are opposite each other with a
    common pane.
  id: totrans-337
  prefs: []
  type: TYPE_NORMAL
  zh: Tableau中的一个非常重要的功能是使用双轴的能力。散点图使用两个坐标轴，分别是*X*轴和*Y*轴。你还会在堆叠条形图示例中观察到，当多个连续的（绿色）字段彼此相邻放置在**行**或**列**上时，会出现多个并排的坐标轴。而双轴则意味着视图使用两个相对的坐标轴，共享一个面板。
- en: 'Here is an example (not included in the workbook) using a dual axis for **Sales**
    and **Profit**:'
  id: totrans-338
  prefs: []
  type: TYPE_NORMAL
  zh: 这是一个使用**销售**和**利润**的双轴示例（不包含在工作簿中）：
- en: '![](img/B16021_03_54.png)'
  id: totrans-339
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B16021_03_54.png)'
- en: 'Figure 3.54: A dual-axis chart with an indication of which field defines which
    axis'
  id: totrans-340
  prefs: []
  type: TYPE_NORMAL
  zh: 图 3.54：一个双轴图表，指示哪个字段定义了哪个坐标轴
- en: 'There are several key features of the view, which are as follows:'
  id: totrans-341
  prefs: []
  type: TYPE_NORMAL
  zh: 视图有几个关键特征，具体如下：
- en: The **Sales** and **Profit** fields on **Rows** indicate that they have a dual
    axis by sharing a flattened side.
  id: totrans-342
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**销售**和**利润**字段位于**行**，表示它们通过共享一个平坦的侧面具有双轴。'
- en: The axes defined by **Sales** and **Profit** are on opposing sides of the view.
    Also, note that they are not synchronized, which, in many cases, can give a distorted
    view of the data. It would be great if profit was that close to total sales! But
    it's not. To synchronize the axes, right-click the right axis and select **Synchronize
    Axis**. If that option is grayed out, it is likely that one of the values is a
    whole number type and the other is a decimal type. You can change the data type
    of one of the fields by right-clicking it in the data pane and selecting **Change
    Data Type** | **Number (Whole)** or **Number (Decimal)**.
  id: totrans-343
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**销售**和**利润**定义的轴位于视图的对立面。同时，请注意，它们并未同步，这在许多情况下可能会导致数据的扭曲展示。如果利润如此接近总销售额，那该有多好！但事实并非如此。要同步轴，请右键点击右侧轴并选择**同步轴**。如果该选项为灰色，可能是因为其中一个值是整数类型，另一个是小数类型。你可以通过右键点击数据窗格中的字段并选择**更改数据类型**
    | **数字（整数）** 或 **数字（小数）** 来更改其中一个字段的数据类型。'
- en: The **Marks** card is now an accordion-like control with an **All** section
    and a section for **Sales** and **Profit**. You can use this to customize marks
    for all measures or specifically customize marks for either **Sales** or **Profit**.
  id: totrans-344
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**标记**卡片现在是一个类似手风琴的控制界面，包含**所有**部分，以及**销售**和**利润**部分。你可以使用它来定制所有度量的标记，或专门定制**销售**或**利润**的标记。'
- en: To create a dual axis, drag and drop two continuous (green) fields next to each
    other on **Rows** or **Columns**, then use the drop-down menu on the second, and
    select **Dual Axis**. Alternatively, you can drop the second field onto the canvas,
    opposite the existing axis.
  id: totrans-345
  prefs: []
  type: TYPE_NORMAL
  zh: 要创建双轴，拖动并将两个连续（绿色）字段放置在**行**或**列**架旁边，然后使用第二个字段上的下拉菜单，选择**双轴**。或者，你也可以将第二个字段拖放到画布上，放置在现有轴的对面。
- en: Dual axes can be used with any continuous field that defines an axis. This includes
    numeric fields, date fields, and latitude or longitude fields that define a geographic
    visualization. In the case of latitude or longitude, simply copy one of the fields
    and place it immediately next to itself on the **Rows** or **Columns** shelf.
    Then, select **Dual Axis** by using the drop-down menu.
  id: totrans-346
  prefs: []
  type: TYPE_NORMAL
  zh: 双轴可以与任何定义轴的连续字段一起使用。这包括数字字段、日期字段以及定义地理可视化的纬度或经度字段。对于纬度或经度，只需复制其中一个字段，并将其紧挨着自己放在**行**或**列**架上。然后，使用下拉菜单选择**双轴**。
- en: A **combination chart** extends the use of dual axes to overlay different mark
    types. This is possible because the **Marks** card will give options for editing
    all marks or customizing marks for each individual axis.
  id: totrans-347
  prefs: []
  type: TYPE_NORMAL
  zh: '**组合图**扩展了双轴的使用，叠加了不同的标记类型。这是可能的，因为**标记**卡片会提供编辑所有标记的选项，或为每个单独的轴定制标记。'
- en: Multiple mark types are available any time two or more continuous fields are
    located beside each other on **Rows** or **Columns**.
  id: totrans-348
  prefs: []
  type: TYPE_NORMAL
  zh: 当两个或更多连续字段并排放置在**行**或**列**架上时，可以使用多种标记类型。
- en: 'As an example of a **combination chart**, consider the following visualization:'
  id: totrans-349
  prefs: []
  type: TYPE_NORMAL
  zh: 作为**组合图**的一个例子，考虑以下可视化：
- en: '![](img/B16021_03_55.png)'
  id: totrans-350
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B16021_03_55.png)'
- en: 'Figure 3.55: A combination chart that shows individual branch visits as lines
    and total visits as bars.'
  id: totrans-351
  prefs: []
  type: TYPE_NORMAL
  zh: 图 3.55：一种组合图，显示每个分支的就诊数为折线图，所有就诊数为柱状图。
- en: This chart uses a combination of bars and lines to show the total number of
    patient visits over time (the bars) and the breakdown of patient visits by hospital
    branch over time (the lines). This kind of visualization can be quite effective
    at giving additional context to detail.
  id: totrans-352
  prefs: []
  type: TYPE_NORMAL
  zh: 这张图表结合了柱状图和折线图，展示了随时间变化的患者就诊总数（柱状图）以及按医院分支划分的患者就诊数（折线图）。这种可视化方式在提供额外上下文信息时非常有效。
- en: 'There are several things to note about this view:'
  id: totrans-353
  prefs: []
  type: TYPE_NORMAL
  zh: 关于该视图，有几个要点需要注意：
- en: The field on the **Color** shelf is listed as **Multiple Fields** and is gray
    on the **Marks** card. This indicates that different fields have been used for
    **Color** for each axis on **Marks**.
  id: totrans-354
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**颜色**架上的字段列出为**多个字段**，并且在**标记**卡片上为灰色。这表示在每个**标记**轴上，**颜色**使用了不同的字段。'
- en: The view demonstrates the ability to mix levels of detail in the same view.
    The bars are drawn at the highest level (patient visits for each month), while
    the lines have been drawn at a lower level (patient visits for each branch for
    each month).
  id: totrans-355
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 该视图展示了在同一视图中混合不同细节层次的能力。柱状图是以最高级别绘制的（每月的患者就诊数），而折线图则以较低的级别绘制（每个分支的每月患者就诊数）。
- en: The view demonstrates the ability to use the same field (**Patient Visits**,
    in this case) multiple times on the same shelf (**Rows**, in this case).
  id: totrans-356
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 该视图展示了在同一维度上多次使用相同字段（**患者访问**，在本例中）的方法（在此示例中，使用的是**行**）。
- en: The second axis (the **Patient Visits**field on the right) has the header hidden
    to remove redundancy from the view. You can do this by unchecking **Show Header**
    from the drop-down menu on the field in the view or right-clicking the axis or
    header you wish to hide.
  id: totrans-357
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 第二个坐标轴（右侧的**患者访问**字段）隐藏了标题，以去除视图中的冗余信息。你可以通过取消勾选视图中字段的**显示标题**选项，或右键点击你希望隐藏的坐标轴或标题来完成此操作。
- en: Dual axis and combination charts open a wide range of possibilities for mixing
    mark types and levels of detail and are very useful for generating unique insights.
    We'll see a few more examples of these throughout the rest of this book. Be sure
    to experiment with this feature and let your imagination run wild with all that
    can be done.
  id: totrans-358
  prefs: []
  type: TYPE_NORMAL
  zh: 双轴和组合图表为混合标记类型和细节层次提供了广泛的可能性，非常有助于生成独特的洞察力。在本书的其余部分中，我们将看到更多这些图表的示例。务必尝试这一功能，释放你的想象力，探索它能实现的所有可能性。
- en: Summary
  id: totrans-359
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 总结
- en: We've covered quite a bit of ground in this chapter! You should now have a good
    grasp of when to use certain types of visualizations. The types of questions you
    ask about data will often lead you to a certain type of view. You've explored
    how to create these various types and how to extend basic visualizations using
    a variety of advanced techniques, such as calculated fields, jittering, multiple
    mark types, and dual axis. Along the way, we've also covered some details on how
    dates work in Tableau.
  id: totrans-360
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中我们已经涵盖了很多内容！你现在应该能够很好地理解何时使用某些类型的可视化。你提出的数据问题通常会引导你选择某种类型的视图。你已经探索了如何创建这些不同类型的视图，并学会了如何通过多种高级技术扩展基本的可视化方式，例如计算字段、抖动、多个标记类型和双轴。与此同时，我们还介绍了在Tableau中日期的相关细节。
- en: Hopefully, the examples of using calculations in this chapter have whet your
    appetite for learning more about creating calculated fields. The ability to create
    calculations in Tableau opens endless possibilities for extending analysis of
    data, calculating results, customizing visualizations, and creating rich user
    interactivity. We'll dive deep into calculations in the next two chapters to see
    how they work and what amazing things they can do.
  id: totrans-361
  prefs: []
  type: TYPE_NORMAL
  zh: 希望本章中使用计算字段的示例能激发你进一步学习如何创建计算字段的兴趣。在Tableau中创建计算字段的能力为扩展数据分析、计算结果、定制可视化和创建丰富的用户交互性开辟了无限可能。接下来的两章，我们将深入探讨计算字段的使用，了解它们的工作原理以及它们能做出哪些令人惊叹的事情。
