- en: '11'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '11'
- en: Dynamic Dashboards
  id: totrans-1
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 动态仪表板
- en: We've looked at dashboards previously, in *Chapter 8*, *Telling a Data Story
    with Dashboards*, and considered how to make them interactive using a variety
    of actions. Now we'll expand on that concept to consider how to create truly dynamic
    dashboards—dashboards where objects can be shown and hidden. This enables you
    to do all kinds of amazing things, such as allow the user to select which type
    of visualization to see or to dynamically hide or show controls that are relevant
    or desired.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 我们在之前的*第8章*《使用仪表板讲述数据故事》中已经讨论过仪表板，并考虑了如何使用各种操作使其具备交互性。现在，我们将扩展这一概念，考虑如何创建真正动态的仪表板——可以显示和隐藏对象的仪表板。这使得你可以做很多惊人的事情，例如允许用户选择查看哪种类型的可视化，或者动态隐藏或显示相关或期望的控件。
- en: 'We''ll consider the following types of dynamic interactivity:'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将考虑以下几种动态交互方式：
- en: Show/Hide buttons
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 显示/隐藏按钮
- en: Sheet swapping
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 工作表交换
- en: Automatically showing and hiding controls
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 自动显示和隐藏控件
- en: Let's start by considering how to show and hide content on dashboards using
    the Show/Hide buttons.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们从考虑如何使用显示/隐藏按钮来在仪表板上显示和隐藏内容开始。
- en: Show/Hide buttons
  id: totrans-8
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 显示/隐藏按钮
- en: The Show/Hide buttons allow you to show and hide layout containers (and everything
    in them!). You'll find a couple of examples in the `Chapter 11 Complete` workbook.
    The `Chapter 11 Starter` workbook has the dashboards, but not the Show/Hide buttons
    or containers. The images used in the second example are also in the `Chapter
    11` directory.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 显示/隐藏按钮允许你显示和隐藏布局容器（以及其中的所有内容！）。你可以在`第11章完整`工作簿中找到几个示例。`第11章入门`工作簿包含仪表板，但没有显示/隐藏按钮或容器。第二个示例中使用的图像也位于`第11章`目录中。
- en: 'To use the Show/Hide buttons, add a layout container to a dashboard as a **floating
    object** and then use the dropdown to select **Add Show/Hide Button**, as shown
    here in *Figure 11.1*:'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 要使用显示/隐藏按钮，先将一个布局容器添加到仪表板中，作为**浮动对象**，然后使用下拉菜单选择**添加显示/隐藏按钮**，如*图 11.1*所示：
- en: '![](img/B16021_11_01.png)'
  id: totrans-11
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B16021_11_01.png)'
- en: 'Figure 11.1: A dashboard with a single Map view and a floating layout container'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11.1：一个包含单一地图视图和浮动布局容器的仪表板
- en: 'On this dashboard, we''ve added a vertical layout container floating over the
    map. When we select **Add Show/Hide Button**, Tableau adds a small button to the
    dashboard:'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个仪表板上，我们添加了一个垂直布局容器，浮动在地图上方。当我们选择**添加显示/隐藏按钮**时，Tableau会向仪表板添加一个小按钮：
- en: '![](img/B16021_11_02.png)'
  id: totrans-14
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B16021_11_02.png)'
- en: 'Figure 11.2: The Show/Hide button for the layout container'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11.2：布局容器的显示/隐藏按钮
- en: Each Show/Hide button can be applied to any single floating layout container
    on the dashboard.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 每个显示/隐藏按钮都可以应用于仪表板上的任何单个浮动布局容器。
- en: Use the **Rename Dashboard Item…** option on the layout container dropdown to
    make it easy to identify which layout container is the target of a Show/Hide button.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 使用**重命名仪表板项目…**选项在布局容器下拉菜单中，可以轻松识别哪个布局容器是显示/隐藏按钮的目标。
- en: 'You may edit the button''s appearance and actions using the button''s dropdown
    to select **Edit Button...**:'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以通过点击按钮的下拉菜单选择**编辑按钮...**来编辑按钮的外观和动作：
- en: '![](img/B16021_11_03.png)'
  id: totrans-19
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B16021_11_03.png)'
- en: 'Figure 11.3: Selecting Edit Button… reveals many options for altering the button''s
    behavior and appearance'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11.3：选择“编辑按钮…”可以显示许多选项，用于更改按钮的行为和外观
- en: In the resulting dialog box, you'll have options for selecting which layout
    container to show or hide, the style of the button (image or text), and which
    images or text to show when the container is shown or hidden.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 在弹出的对话框中，你将有选项选择要显示或隐藏的布局容器，按钮的样式（图像或文本），以及在容器显示或隐藏时显示哪些图像或文本。
- en: In this example, the Show/Hide button uses the default **Image Button** style
    (as seen in *Figure 11.3*) and the layout container has been filled with a couple
    of filters and the map's legend.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个示例中，显示/隐藏按钮使用了默认的**图像按钮**样式（如*图 11.3*所示），并且布局容器已经填充了一些过滤器和地图的图例。
- en: You may include any dashboard objects in a container, including filters, legends,
    parameter and set controls, and even other views!
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以将任何仪表板对象包含在容器中，包括过滤器、图例、参数和集合控件，甚至是其他视图！
- en: 'Additionally, the container has been given a border and a semi-transparent
    background so that the map is slightly visible beneath the container. This was
    accomplished by selecting the container and then using the **Layout** tab of the
    **Dashboard** pane, as shown here:'
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，容器还设置了边框和半透明背景，以便地图在容器下方稍微可见。通过选择容器并使用**仪表板**窗格的**布局**选项卡完成了这一设置，如下所示：
- en: '![](img/B16021_11_04.png)'
  id: totrans-25
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B16021_11_04.png)'
- en: 'Figure 11.4: Use the Layout pane to adjust options for any selected dashboard
    object'
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.4：使用布局窗格调整所选仪表板对象的选项
- en: 'The end result, demonstrated in the `Chapter 11` workbook, is a dashboard with
    a Show/Hide button that makes it clear to the user that additional options can
    be shown or hidden:'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 最终结果在`第11章`工作簿中展示，是一个带有显示/隐藏按钮的仪表板，使用户清楚地知道可以显示或隐藏其他选项：
- en: '![](img/B16021_11_05.png)'
  id: totrans-28
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B16021_11_05.png)'
- en: 'Figure 11.5: Here you can see the layout container''s hidden and shown states
    along with the changing image of the button'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.5：在这里您可以看到布局容器的隐藏和显示状态以及按钮图像的变化
- en: Use *Alt* + *Click* while in **Design Mode** to trigger the button action, or switch
    to **Presentation Mode** where a single click will trigger the button.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 在**设计模式**下使用 *Alt* + *Click* 来触发按钮动作，或者切换到**演示模式**，单击即可触发按钮。
- en: Show/Hide buttons give you a lot of flexibility in your dashboard design, from
    optimizing space to simplifying the display, to removing filters and other clutter
    from printed output.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 显示/隐藏按钮为您的仪表板设计提供了很大的灵活性，从优化空间到简化显示，到从打印输出中删除过滤器和其他混乱的内容。
- en: 'Consider another example in the `Chapter 11 Complete` workbook that illustrates
    the possibility of showing and hiding instructions:'
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 考虑在`第11章完成`工作簿中的另一个示例，该示例说明了显示和隐藏说明的可能性：
- en: '![](img/B16021_11_06.png)'
  id: totrans-33
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B16021_11_06.png)'
- en: 'Figure 11.6: Clicking the question mark button reveals instructions for how
    to use the dashboard'
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.6：单击问号按钮会显示如何使用仪表板的说明
- en: In this case, the default button image has been replaced with a question mark
    icon. This is accomplished by editing the image as illustrated in *Figure 11.3*
    and changing the image (`questionmark.png` is included in the `Chapter 11` directory.)
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 在这种情况下，默认按钮图像已被问号图标替换。这是通过编辑图像实现的，如*图11.3*所示，并更改图像（`questionmark.png`包含在`第11章`目录中。）
- en: When the user clicks the button, a floating container appears over the top of
    the entire dashboard. It includes text as well as an annotated image to instruct
    the user on how to use the dashboard. In this simple example, it might be overkill
    to supply instructions in this way, when a simple text label would suffice.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 当用户点击按钮时，一个浮动容器出现在整个仪表板的顶部。它包括文本以及一个带注释的图像，指导用户如何使用仪表板。在这个简单的例子中，以这种方式提供说明可能有点过火，一个简单的文本标签就足够了。
- en: However, as you build more complex dashboards or have detailed analyses that
    require explanation, this is a great way to give users additional instructions
    and detail that would otherwise clutter a dashboard.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，随着您构建更复杂的仪表板或需要解释的详细分析，这是向用户提供额外指示和细节的好方法，否则会使仪表板混乱。
- en: Consider also using Show/Hide buttons to allow user interactivity that you do
    not want to include in PDFs or printed pages of the dashboards. Filters and parameters
    are incredibly useful, but you don't always want them to show up in a polished output.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 还考虑使用显示/隐藏按钮来允许用户互动，这些功能不希望包含在PDF或仪表板的打印页面中。过滤器和参数非常有用，但并不总是希望它们显示在精美的输出中。
- en: Let's move on to consider another method of dynamically showing, hiding, and
    even swapping out content on a dashboard.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们继续考虑另一种在仪表板上动态显示、隐藏甚至切换内容的方法。
- en: Sheet swapping
  id: totrans-40
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 表格切换
- en: '**Sheet swapping**, sometimes also called **sheet selection**, is a technique
    in which views are dynamically shown and hidden on a dashboard, often with the
    appearance of swapping one view for another. The dynamic hiding and showing of
    views on a dashboard has an even broader application. When combined with floating
    objects and layout containers, this technique allows you to create rich and dynamic
    dashboards.'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: '**表格切换**，有时也称为**表格选择**，是一种动态在仪表板上显示和隐藏视图的技术，通常表现为将一个视图与另一个视图进行切换。在仪表板上动态隐藏和显示视图具有更广泛的应用。当与浮动对象和布局容器结合使用时，此技术允许您创建丰富和动态的仪表板。'
- en: Let's start with some fundamental principles of sheet swapping.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们从一些基本的表格切换原则开始。
- en: Basic principles of sheet swapping
  id: totrans-43
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 表格切换的基本原则
- en: 'The basic principles are relatively simple. A view on a dashboard collapses
    when the following occur:'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 基本原则相对简单。当以下情况发生时，仪表板上的视图会折叠：
- en: At least one field is on rows or columns
  id: totrans-45
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 至少有一个字段位于行或列上
- en: It is in a horizontal or vertical **layout container**
  id: totrans-46
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 它位于水平或垂直的**布局容器**中
- en: It does not have a fixed height or width and the layout container is not set
    to distribute items equally
  id: totrans-47
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 它没有固定的高度或宽度，并且布局容器未设置为等分项目
- en: A combination of filters or hiding prevents any marks from being rendered
  id: totrans-48
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 组合使用过滤器或隐藏功能会阻止任何标记的呈现
- en: Additionally, titles and captions do not collapse with the view. However, these
    can be hidden so that the view collapses entirely.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，标题和说明文字不会随视图一起折叠。然而，这些可以被隐藏，从而使视图完全折叠。
- en: Next, we'll explore an example of how sheet swapping can be used in practice.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们将探讨一个如何在实践中使用工作表交换的示例。
- en: Using sheet swapping to change views on a dashboard
  id: totrans-51
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 使用工作表交换在仪表板上更改视图
- en: 'Let''s consider a simple example with a view showing **Profit by Department
    and Category** with a **Department** quick filter. The dashboard has been formatted
    (from the menu, select **Format** | **Dashboard**) with gray shading to help us
    see the effect:'
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们考虑一个简单的示例，视图显示了 **部门和类别的利润**，并具有一个 **部门** 快速过滤器。仪表板已被格式化（从菜单中选择 **Format**
    | **Dashboard**），并使用灰色阴影帮助我们看到效果：
- en: '![](img/B16021_11_07.png)'
  id: totrans-53
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B16021_11_07.png)'
- en: 'Figure 11.7: A demonstration of hiding a sheet in a dashboard'
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11.7：在仪表板中隐藏工作表的演示
- en: Observe how filtering out all departments results in the view collapsing. The
    title remains, but it could have been hidden.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 观察到过滤掉所有部门后，视图会折叠。标题仍然存在，但也可以隐藏。
- en: 'In order to swap two different sheets, we simply take advantage of the collapsing
    behavior along with the properties of layout containers. We''ll start by creating
    two different views filtered through a parameter and a calculated field. The parameter
    will allow us to determine which sheet is shown. Perform the following steps:'
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 为了交换两个不同的工作表，我们简单地利用了折叠行为和布局容器的属性。我们将通过创建两个通过参数和计算字段过滤的不同视图来开始。参数将允许我们确定显示哪个工作表。请执行以下步骤：
- en: Create an integer parameter named `Show Sheet` with a list of **String** values
    set to **Bar Chart** and **Map**:![](img/B16021_11_08.png)
  id: totrans-57
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个名为 `Show Sheet` 的整数参数，列出 **String** 类型的值，设置为 **Bar Chart** 和 **Map**：![](img/B16021_11_08.png)
- en: 'Figure 11.8: Creating a parameter to control which sheet is shown'
  id: totrans-58
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 11.8：创建一个参数来控制显示哪个工作表
- en: Since we want to filter based on the parameter selection and the parameters
    cannot be directly added to the **Filters** shelf, instead we'll create a calculated
    field named `Show Sheet Filter` to return the selected value of the parameter.
    The code is simply `[Show Sheet]`, which is the parameter name, which returns
    the current value of the parameter.
  id: totrans-59
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 由于我们希望基于参数选择进行过滤，而参数不能直接添加到 **Filters** 架构中，因此我们将创建一个名为 `Show Sheet Filter`
    的计算字段来返回参数的选定值。代码很简单，直接使用 `[Show Sheet]`，即参数名称，返回当前参数的值。
- en: Create a new sheet named **Bar Chart**, similar to the **Profit by Department
    and Category** view shown in *Figure 11.7*.
  id: totrans-60
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个新的工作表，命名为 **Bar Chart**，类似于图 *11.7* 中显示的 **部门和类别的利润** 视图。
- en: Show the parameter control (right-click the parameter in the data window and
    select **Show Parameter Control**). Make sure the **Bar Chart** option is selected.
  id: totrans-61
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 显示参数控制（右键点击数据窗口中的参数，选择 **Show Parameter Control**）。确保选择了 **Bar Chart** 选项。
- en: Add the `Show Sheet Filter` field to the **Filters** shelf and check **Bar Chart**
    to keep that value.
  id: totrans-62
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将 `Show Sheet Filter` 字段添加到 **Filters** 架构，并勾选 **Bar Chart** 来保留该值。
- en: Create another sheet named **Map** that shows a filled map of states by profit:![](img/B16021_11_09.png)
  id: totrans-63
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建另一个命名为 **Map** 的工作表，显示按利润划分的州填充地图：![](img/B16021_11_09.png)
- en: 'Figure 11.9: The Map view'
  id: totrans-64
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 11.9：地图视图
- en: Show the parameter on this view and change the selection to **Map**. Remember
    that parameter selections are universal to the worksheet. If you were to switch
    back to the **Bar Chart** view, it should no longer be showing any data because
    of the filter.
  id: totrans-65
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在该视图上显示参数，并将选择更改为 **Map**。请记住，参数选择是全局性的，适用于整个工作表。如果你切换回 **Bar Chart** 视图，它应该不再显示任何数据，因为已经应用了过滤器。
- en: Add the `Show Sheet Filter` field to the **Filters** shelf and check **Map**
    as the value to keep.
  id: totrans-66
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将 `Show Sheet Filter` 字段添加到 **Filters** 架构，并勾选 **Map** 作为保留的值。
- en: Create a new dashboard named **Sheet Swap**.
  id: totrans-67
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个新的仪表板，命名为 **Sheet Swap**。
- en: Add a **Horizontal** layout container to the dashboard from the objects in the
    left window:![](img/B16021_11_10.png)
  id: totrans-68
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从左侧窗口的对象中，将一个 **Horizontal** 布局容器添加到仪表板中：![](img/B16021_11_10.png)
- en: 'Figure 11.10: Insert a Horizontal layout container'
  id: totrans-69
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 11.10：插入一个水平布局容器
- en: A **Vertical** layout container would work just as well in this case. The key
    is that a layout container will allow each view inside to expand to fill the container
    when the view is set to fit the entire view, or fit the width (for horizontal
    containers), or fit the height (for vertical containers). When one view collapses,
    the visible view will expand to fill the rest of the container.
  id: totrans-70
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在这种情况下，**垂直**布局容器同样有效。关键在于布局容器允许内部的每个视图在设置为适合整个视图时扩展以填充容器，或适合宽度（对于水平容器）或适合高度（对于垂直容器）。当一个视图折叠时，可见视图将扩展以填充剩余的容器。
- en: Add each sheet to the layout container in the dashboard. The parameter control
    should be added automatically since it was visible in each view.
  id: totrans-71
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将每个 Sheet 添加到仪表板中的布局容器中。由于在每个视图中都可见，参数控件应该会被自动添加。
- en: Using the drop-down menu on the **Bar Chart** view, ensure the view is set to
    fill the container (**Fit** | **Entire View**). You won't have to set the fill
    for the map because map visualizations automatically fill the container.
  id: totrans-72
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**条形图**视图上使用下拉菜单，确保视图设置为填充容器（**适合** | **整个视图**）。您不必为地图设置填充，因为地图可视化会自动填充容器。
- en: Hide the title for each view (right-click the title and select **Hide Title**).
  id: totrans-73
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 隐藏每个视图的标题（右键单击标题并选择**隐藏标题**）。
- en: 'You now have a dashboard where changing the parameter results in one view or
    the other being shown. When **Map** is selected, the filter results in no data
    for the bar chart, so it collapses and the map fills the container:'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 现在您有一个仪表板，更改参数会显示一个或另一个视图。当选择**地图**时，过滤器导致条形图没有数据，因此它会折叠，地图填充容器：
- en: '![](img/B16021_11_11.png)'
  id: totrans-75
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B16021_11_11.png)'
- en: 'Figure 11.11: Map is visible while Bar Chart is collapsed'
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11.11：地图可见，而条形图已折叠
- en: 'Alternately, when **Bar Chart** is selected, the map collapses due to the filter
    and the bar chart fills the container:'
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 或者，当选择**条形图**时，由于过滤器的作用，地图会折叠，而条形图会填充容器：
- en: '![](img/B16021_11_12.png)'
  id: totrans-78
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B16021_11_12.png)'
- en: 'Figure 11.12: Bar Chart is visible while Map is collapsed'
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11.12：条形图可见，而地图已折叠
- en: The key to collapsing a view is to have a filter or set of filters that ensures
    no rows of data are shown. You do not have to use a parameter to control the filtering.
    You could use a regular filter or action filter to accomplish the same effect.
    This opens up all kinds of possibilities for dynamic behavior in dashboards.
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 折叠视图的关键是使用一个或一组过滤器确保不显示任何数据行。您不必使用参数来控制过滤。您可以使用常规过滤器或操作过滤器来实现相同的效果。这为仪表板中的动态行为开辟了各种可能性。
- en: Sheet swapping can lead to amazing effects on your dashboard. From allowing
    the user to select a type of visualization, to swapping out a view that works
    well for a small set of data, to a view that summarizes at a higher level for
    a larger set, consider using sheet swapping for a dynamic experience.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: Sheet 交换可以为您的仪表板带来惊人的效果。从允许用户选择可视化类型，到交换适合小数据集的视图，再到为大数据集总结的视图，考虑使用 Sheet 交换来实现动态体验。
- en: In some cases, you might consider an alternative to sheet swapping, such as
    using a navigation button to navigate between different versions of the dashboard
    rather than trying to swap content in the same dashboard.
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 在某些情况下，您可能会考虑替代 Sheet 交换，例如使用导航按钮在不同版本的仪表板之间导航，而不是尝试在同一仪表板中交换内容。
- en: Sheet swapping allows you to swap views in a dashboard. What if the change in
    views makes certain legends, filters, or parameters no longer applicable and you
    wish to hide them? Let's consider some possibilities.
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: Sheet 交换允许您在仪表板中交换视图。如果视图更改导致某些图例、过滤器或参数不再适用，并且您希望隐藏它们，我们来考虑一些可能性。
- en: Automatically showing and hiding other controls
  id: totrans-84
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 自动显示和隐藏其他控件
- en: Views will collapse when all data is filtered out. However, other controls,
    such as quick filters, parameters, images, legends, and textboxes, will not collapse.
    You could use a Show/Hide button as we previously discussed, but often you'll
    want to show or hide these controls automatically as filters change, without forcing
    the user to take additional action.
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 当所有数据被过滤时，视图将会折叠。但是，其他控件（如快速过滤器、参数、图像、图例和文本框）不会折叠。您可以使用我们之前讨论过的显示/隐藏按钮，但通常您希望在过滤器更改时自动显示或隐藏这些控件，而无需用户采取额外的操作。
- en: Consider the simple example in the previous section. The color legend, which
    was automatically added to the dashboard by Tableau, applies to the map. But when
    the bar chart is shown, the legend is no longer applicable.
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 考虑前一节中的简单示例。由Tableau自动添加到仪表板中的颜色图例适用于地图，但当条形图显示时，图例就不再适用了。
- en: Fortunately, we can extend the technique we used in the previous section to
    expand a view to push items we want to show out from under a floating object and
    then collapse the view to allow the items we want to hide to return to a position
    under the floating object.
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 幸运的是，我们可以扩展前一节中使用的技术，通过展开视图，将我们希望显示的项推到浮动对象下方，然后收起视图，让我们希望隐藏的项返回到浮动对象下方。
- en: 'Let''s extend the earlier sheet swapping example to see how to show and hide
    the color legend:'
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们扩展之前的工作表交换示例，看看如何显示和隐藏颜色图例：
- en: Create a new sheet named **Show/Hide Legend**. This view is only used to show
    and hide the color legend.
  id: totrans-89
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个名为**显示/隐藏图例**的新工作表。此视图仅用于显示和隐藏颜色图例。
- en: Create an ad hoc calculation by double-clicking on **Rows** and type `MIN(1)`.
    We must have a field on rows or columns for the view to collapse, so we'll use
    this field to give us a single axis for **Rows** and a single axis for **Columns**
    without any other headers.
  id: totrans-90
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过双击**行**并输入`MIN(1)`来创建临时计算。为了让视图收缩，我们必须在行或列上有一个字段，所以我们将使用这个字段来为**行**和**列**分别提供一个单一的坐标轴，并且没有其他标题。
- en: Duplicate the ad hoc calculation on **Columns**. You should now have a simple
    scatterplot with one mark.
  id: totrans-91
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**列**上复制临时计算。现在你应该有一个简单的散点图，并且只有一个标记。
- en: As this is a helper sheet and not anything we want the user to see, we don't
    want it to show any marks or lines. Format the view using **Format** | **Lines**
    to remove **Grid Lines** from **Rows** and **Columns**, along with **Axis Rulers**.
    Additionally, hide the axes (right-click each axis or field and uncheck **Show
    Headers**). Also, set the color to full transparency to hide the mark.
  id: totrans-92
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 由于这是一个辅助工作表，并非我们希望用户看到的内容，因此我们不希望它显示任何标记或线条。使用**格式** | **线条**格式化视图，移除**行**和**列**中的**网格线**，以及**坐标轴标尺**。此外，隐藏坐标轴（右键点击每个坐标轴或字段，取消勾选**显示标题**）。同时，将颜色设置为完全透明以隐藏标记。
- en: We will want this view to show when the map option is selected, so show the
    parameter control and ensure it is set to **Map**, and then add the **Show Sheet
    Filter** to filters and check **Map**:![](img/B16021_11_13.png)
  id: totrans-93
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当选择地图选项时，我们希望显示此视图，因此显示参数控制，并确保它设置为**地图**，然后将**显示工作表过滤器**添加到过滤器中，并勾选**地图**：![](img/B16021_11_13.png)
- en: 'Figure 11.13: The Show/Hide Legend sheet with the Show Sheet Filter applied'
  id: totrans-94
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图11.13：应用显示工作表过滤器的显示/隐藏图例工作表
- en: On the **Sheet Swap** dashboard, add the **Show/Hide Legend** sheet to the layout
    container between the **Show Sheet** parameter dropdown and the color legend.
    Hide the title for the **Show/Hide Legend** sheet.
  id: totrans-95
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**工作表交换**仪表板上，将**显示/隐藏图例**工作表添加到布局容器中，放置在**显示工作表**参数下拉菜单和颜色图例之间。隐藏**显示/隐藏图例**工作表的标题。
- en: Ensure that **Map** is selected. The color legend should be pushed all the way
    to the bottom.
  id: totrans-96
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确保选中**地图**。颜色图例应该被推到底部。
- en: Add a layout container as a floating object. In terms of size and position,
    it should completely cover the area where the color legend used to be. It should
    cover the title of the **Show/Hide Legend** sheet but not the parameter dropdown.
  id: totrans-97
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将一个布局容器作为浮动对象添加。就大小和位置而言，它应完全覆盖颜色图例原先所在的区域。它应该覆盖**显示/隐藏图例**工作表的标题，但不覆盖参数下拉菜单。
- en: Objects and sheets can be added as floating objects by holding *Shift* while
    dragging, setting the **New Objects** option to **Floating**, or by using the
    drop-down menu on the object. You may also change the default behavior for new
    objects from tiled to floating in the **Dashboard** pane.
  id: totrans-98
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 可以通过按住*Shift*键拖动、将**新对象**选项设置为**浮动**，或通过在对象上使用下拉菜单将对象添加为浮动对象。你还可以在**仪表板**窗格中更改新对象的默认行为，从平铺更改为浮动。
- en: The layout container is transparent by default, but we want it to hide what
    is underneath. Format it using the drop-down menu and add white shading so it
    is indistinguishable from the background.
  id: totrans-99
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 布局容器默认是透明的，但我们希望它能够隐藏下面的内容。使用下拉菜单进行格式化，并添加白色阴影，使其与背景不可区分。
- en: 'At this point, you have a dynamic dashboard in which the legend is shown when
    the map is shown and it is applicable, and hidden when the bar chart is visible.
    When **Map** is selected, the **Show/Hide Legend** sheet is shown and pushes the
    legend to the bottom of the **Layout Container**:'
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 此时，您已经拥有一个动态仪表板，其中图例在地图显示并适用时显示，在条形图可见时隐藏。当选择**地图**时，**显示/隐藏图例**工作表会显示，并将图例推到底部的**布局容器**：
- en: '![](img/B16021_11_14.png)'
  id: totrans-101
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B16021_11_14.png)'
- en: 'Figure 11.14: The Show/Hide Legend pushes the legend down past the floating
    object'
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11.14：显示/隐藏图例将图例推到浮动对象下方
- en: 'When **Bar Chart** is selected, the **Show/Hide Legend** sheet collapses and
    the legend, which is no longer applicable to the view, falls under/hides behind
    the **Floating Layout Container**:'
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 当选择**条形图**时，**显示/隐藏图例**工作表折叠，图例不再适用于该视图，掉到**浮动布局容器**下方/隐藏。
- en: '![](img/B16021_11_15.png)'
  id: totrans-104
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B16021_11_15.png)'
- en: 'Figure 11.15: The Show/Hide Legend collapses, causing the legend to move under
    the floating object'
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11.15：显示/隐藏图例折叠，导致图例移到浮动对象下方
- en: There is no limit to how many variations of this technique you can use on a
    dashboard. You can have as many layers as you'd like. You can even use combinations
    of these techniques to push views and objects on and off the dashboard. The possibilities
    for creating a richly interactive user experience are incredible.
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以在仪表板上使用该技术的变体数量没有限制。您可以根据需要添加任意多的层。您甚至可以组合这些技术，在仪表板上推送或移除视图和对象。创造丰富互动用户体验的可能性是令人难以置信的。
- en: Summary
  id: totrans-107
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 总结
- en: Creating truly dynamic dashboards give you incredible flexibility in your dashboard
    design. Show/Hide buttons give the end user the option to show or hide content
    on the dashboard. Sheet-swapping techniques allow you to swap out which views
    are shown and also automatically show or hide controls or other content.
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 创建真正动态的仪表板为您的仪表板设计提供了极大的灵活性。显示/隐藏按钮为最终用户提供了在仪表板上显示或隐藏内容的选项。工作表切换技术允许您切换显示哪些视图，并自动显示或隐藏控件或其他内容。
- en: The techniques covered in this chapter will enable you to accomplish all sorts
    of amazing interactivity, from hiding and showing controls, instructions, and
    explanations of business rules and analysis to allowing users to determine visualization
    types and swap views in and out.
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 本章介绍的技术将使您能够实现各种惊人的互动效果，从隐藏和显示控件、说明、业务规则和分析的解释，到允许用户确定可视化类型并切换视图。
- en: 'Next, we''ll turn our attention to exploring a certain kind of data using some
    advanced techniques: geospatial data!'
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们将转向使用一些高级技术来探索某种类型的数据：地理空间数据！
