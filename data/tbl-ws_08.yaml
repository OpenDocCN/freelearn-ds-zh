- en: '8\. Data Analysis: Creating and Using Table Calculations'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 8. 数据分析：创建和使用表计算
- en: Overview
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 概述
- en: In this chapter, you will learn about the different types of table calculations
    in Tableau, their benefits, and how to use them effectively. The goal of this
    chapter is to improve your analytical skills using table calculations by looking
    at data through different views to understand the underlying patterns. By the
    end of this chapter, you will be well positioned to perform complex analysis on
    the data in your visualizations using table calculations.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，你将了解Tableau中不同类型的表计算、它们的优点以及如何有效地使用它们。本章的目标是通过从不同的视角查看数据来理解潜在的模式，从而提高你的分析技能。到本章结束时，你将能够使用表计算在你的可视化数据上执行复杂分析。
- en: Introduction
  id: totrans-3
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 简介
- en: In any visualization, a virtual table is created based on the dimensions used
    in the view. This is added to the `Columns`, `Rows`, and `Marks` shelves.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 在任何可视化中，都会根据视图使用的维度创建一个虚拟表格。这被添加到`列`、`行`和`标记`货架中。
- en: '![Figure 8.1: Virtual table in the view'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: '![图8.1：视图中的虚拟表格'
- en: '](img/B16342_08_01.jpg)'
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_08_01.jpg)'
- en: 'Figure 8.1: Virtual table in the view'
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 图8.1：视图中的虚拟表格
- en: The highlighted area in the preceding figure consisting of the `Rows`, `Columns`,
    and `Marks` shelves will make up your level of detail. The empty canvas outline
    for dropping fields contains the virtual table that will be affected by table
    calculations.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 前一个图中突出显示的区域，包括`行`、`列`和`标记`货架，将构成你的详细程度。用于放置字段的空画布轮廓包含受表计算影响的虚拟表格。
- en: A table calculation is simply a calculation that computes results based on the
    table segment in scope. You will learn about segments and scope in detail in the
    following sections. For now, assume it is the entire empty canvas area. All table
    calculations will only be computed within the empty canvas outline or the virtual
    table.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 表计算简单来说就是基于作用域内的表格段进行结果计算的运算。你将在接下来的章节中详细了解段和作用域。现在，假设它是整个空画布区域。所有表计算都将在空画布轮廓或虚拟表格内进行。
- en: In previous chapters, you learned about visualization methods that present data
    in a meaningful way. There may be times where you need to analyze a table, such
    as when you want to find the most profitable sub-category within a category. This
    is where table calculations come in handy.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 在前面的章节中，你学习了以有意义的方式呈现数据可视化方法。有时你可能需要分析一个表格，例如当你想要在一个类别中找到最有利可图的子类别时。这就是表计算派上用场的时候。
- en: In this chapter, you will learn about table calculations and their applications
    through various exercises. You will also learn about the functions that are a
    part of table calculations, and how to apply them. You will use the `Sample -
    Superstore` dataset throughout the exercises.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，你将通过各种练习了解表计算及其应用。你还将了解表计算中包含的函数，以及如何应用它们。在整个练习中，你将使用`Sample - Superstore`数据集。
- en: Quick Table Calculations
  id: totrans-12
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 快速表计算
- en: 'Quick table calculations, as the name suggests, allow you to quickly apply
    frequently used table calculations to the view using the most typical settings
    for that calculation type. They save you the effort of using the column fields
    from data to create calculations. They have inbuilt logic , so you can use them
    directly in the view. Some of the most commonly used table calculations are as
    follows:'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 如其名所示，快速表计算允许你使用该计算类型的典型设置快速将常用的表计算应用于视图。它们节省了你从数据列字段创建计算的努力。它们内置了逻辑，因此你可以直接在视图中使用它们。以下是一些最常用的表计算：
- en: '`Running Total`'
  id: totrans-14
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`累计总和`'
- en: '`Difference`'
  id: totrans-15
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`差异`'
- en: '`Percent of Total`'
  id: totrans-16
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`总百分比`'
- en: '`Percent Difference`'
  id: totrans-17
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`百分比差异`'
- en: '`Percentile`'
  id: totrans-18
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`百分位数`'
- en: '`Rank`'
  id: totrans-19
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`排名`'
- en: '`Moving Average`'
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`移动平均`'
- en: You will start by learning how to apply quick table calculations, using the
    `Sample - Superstore` dataset. This file can be found by following the `Documents`
    | `My Tableau Repository` | `Data Sources` system path, and then opening the *Sample
    - Superstore.xls* file.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 你将首先学习如何使用`Sample - Superstore`数据集应用快速表计算。你可以通过以下系统路径找到此文件：`文档` | `我的Tableau存储库`
    | `数据源`，然后打开*Sample - Superstore.xls*文件。
- en: 'To begin, create a view that shows `Category` against `YEAR(Order Date)` and
    `SUM(Profit)`, as follows:'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，创建一个视图，显示`类别`与`订单日期`的`YEAR`和`利润`的`SUM`，如下所示：
- en: '![Figure 8.2: Initial view'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: '![图8.2：初始视图'
- en: '](img/B16342_08_02.jpg)'
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_08_02.jpg)'
- en: 'Figure 8.2: Initial view'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 图8.2：初始视图
- en: Table calculations only work with measures, so you need a measure to add a calculation.
    To add a quick table calculation, first click on the measure dropdown, which is
    `SUM(Profit)` in this case.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 表计算仅适用于度量值，因此您需要一个度量值来添加计算。要添加快速表计算，首先点击度量值下拉菜单，在本例中为`SUM(Profit)`。
- en: '![Figure 8.3: Accessing the Profit drilldown'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: '![图8.3：访问利润钻取'
- en: '](img/B16342_08_03.jpg)'
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片 B16342_08_03.jpg]'
- en: 'Figure 8.3: Accessing the Profit drilldown'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 图8.3：访问利润钻取
- en: Navigate to the `Quick Table Calculation` menu.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 导航到`快速表计算`菜单。
- en: '![Figure 8.4: Various quick table calculations'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: '![图8.4：各种快速表计算'
- en: '](img/B16342_08_04.jpg)'
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片 B16342_08_04.jpg]'
- en: 'Figure 8.4: Various quick table calculations'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 图8.4：各种快速表计算
- en: You can see that there are numerous quick calculations available, such as `Running
    Total`, `Percentile`, and `Rank`. You will now go through each of these in detail.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以看到有大量的快速计算可用，例如`运行总`、`百分位数`和`排名`。您现在将逐一详细了解这些计算。
- en: Running Total
  id: totrans-35
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 运行总
- en: '`Running Total`, as the name suggests, is used to calculate the cumulative
    total of a measure across a specific dimension or table structure. It adds up
    the previous value with the current value to display that result in the current
    value''s place in the running total. For example, consider that you are working
    on a project related to a car manufacturer. A common use case for this calculation,
    would be to calculate the month-by-month cumulative car sales for a year, to find
    out the total sales for that year. You can also further calculate it on a year-by-year
    basis to find out the overall car sales to date. The next exercise looks at this
    in detail.'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 如其名所示，`运行总`用于计算特定维度或表结构中度量的累积总和。它将前一个值与当前值相加，并在运行总中的当前值位置显示该结果。例如，假设您正在从事与汽车制造商相关的项目。此计算的常见用例可能是计算一年中每月的累积汽车销售，以找出该年的总销售额。您还可以按年度进一步计算，以找出迄今为止的总汽车销售额。下一个练习将详细介绍这一点。
- en: 'Exercise 8.01: Creating a Running Total Calculation'
  id: totrans-37
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 练习8.01：创建运行总计算
- en: 'In this exercise, you will calculate the cumulative profit earned across different
    years for a particular category using the `Running Total` calculation. This allows
    you to view all years together for the profits earned, rather than individual
    years. The following steps will help you complete this exercise:'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个练习中，您将使用`运行总`计算来计算特定类别在不同年份获得的累积利润。这允许您一起查看所有年份获得的利润，而不是单独的年份。以下步骤将帮助您完成此练习：
- en: Load the `Sample – Superstore` dataset in your Tableau instance. In the `Connect`
    pane, click on `Microsoft Excel` and navigate to `Documents` | `My Tableau Repository`
    | `Data Sources`, and then open the `Sample - Superstore.xls` file.
  id: totrans-39
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在您的Tableau实例中加载`Sample – Superstore`数据集。在`连接`面板中，点击`Microsoft Excel`并导航到`文档`
    | `我的Tableau仓库` | `数据源`，然后打开`Sample - Superstore.xls`文件。
- en: 'Create a view that shows `Category` against `YEAR(Order Date)` and `SUM(Profit)`,
    as follows:'
  id: totrans-40
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个视图，显示`类别`与`订单日期`的`YEAR`和`SUM(Profit)`，如下所示：
- en: '![Figure 8.5: Running total initial view'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: '![图8.5：运行总初始视图'
- en: '](img/B16342_08_05.jpg)'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片 B16342_08_05.jpg]'
- en: 'Figure 8.5: Running total initial view'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 图8.5：运行总初始视图
- en: 'Add a `Running Total` quick calculation to the view by selecting the following
    highlighted options:'
  id: totrans-44
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过选择以下突出显示的选项，将`运行总`快速计算添加到视图中：
- en: '![Figure 8.6: Accessing Quick Table Calculation | Running Total'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: '![图8.6：访问快速表计算 | 运行总'
- en: '](img/B16342_08_06.jpg)'
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片 B16342_08_06.jpg]'
- en: 'Figure 8.6: Accessing Quick Table Calculation | Running Total'
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 图8.6：访问快速表计算 | 运行总
- en: 'The following view shows the final output:'
  id: totrans-48
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 以下视图显示了最终输出：
- en: '![Figure 8.7: Final output'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: '![图8.7：最终输出'
- en: '](img/B16342_08_07.jpg)'
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片 B16342_08_07.jpg]'
- en: 'Figure 8.7: Final output'
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 图8.7：最终输出
- en: As you can see, by comparing the previous figure (final view) with the next
    one (initial view), the profit has been summed cumulatively by taking the previous
    year's profit, as well as the current year's profit. With `Furniture`, for example,
    the second value under the running total is computed using the previous value
    and the current value, that is, 5,458 + 3,015 = 8,473, and this is done similarly
    for other values.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 如您所见，通过比较前一个图（最终视图）和下一个图（初始视图），利润是通过累加前一年的利润以及当年的利润来累计的。例如，对于`家具`类别，运行总下的第二个值是通过前一个值和当前值计算的，即5,458
    + 3,015 = 8,473，其他值也是以类似的方式进行计算。
- en: '![Figure 8.8: Initial view'
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: '![图8.8：初始视图'
- en: '](img/B16342_08_08.jpg)'
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片 B16342_08_08.jpg]'
- en: 'Figure 8.8: Initial view'
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 图8.8：初始视图
- en: This view is helpful for calculating the cumulative profit earned, year after
    year, for the different categories, as well as for identifying which category
    has been performing well and which hasn't. These insights can help you make important
    business decisions to understand which products can be used to generate higher
    profits.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 此视图有助于计算不同类别逐年累积的利润，以及识别哪些类别表现良好，哪些没有。这些洞察可以帮助您做出重要的业务决策，了解哪些产品可以用来产生更高的利润。
- en: Next, you will learn about the `Difference` table calculation.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，您将了解`差异`表计算。
- en: Difference
  id: totrans-58
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 差异
- en: '`Difference`, as the name suggests, is used to calculate the difference of
    a measure across a specific dimension or table structure from its previous value.
    Often, you may need to analyze how individual categories compare with their past
    performances, i.e. comparing product sales from previous quarters. Continuing
    with the car manufacturer example, a common scenario to apply this calculation,
    would be to compare the sales for the months of a year. This allows you to find
    out whether the total sales are greater or fewer, compared to the previous months.
    In the following exercise, you will learn how to apply a `Difference` table calculation
    to a worksheet.'
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: '`差异`，正如其名所示，用于计算特定维度或表结构中一个度量值与其前一个值之间的差异。通常，您可能需要分析各个类别与过去的表现相比如何，即比较上一季度的产品销售。继续使用汽车制造商的例子，应用此计算的一个常见场景是将一年的月份销售进行比较。这允许您找出总销售额与上个月相比是增加还是减少。在接下来的练习中，您将学习如何将`差异`表计算应用于工作表。'
- en: 'Exercise 8.02: Creating a Difference Calculation'
  id: totrans-60
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 练习8.02：创建差异计算
- en: 'In this exercise, you will calculate the profit difference across years for
    a category. This will help you analyze whether that category is profitable or
    not:'
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个练习中，您将计算一个类别的跨年利润差异。这将帮助您分析该类别是否盈利：
- en: Load the `Sample – Superstore` dataset in your Tableau instance.
  id: totrans-62
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在您的Tableau实例中加载`Sample – Superstore`数据集。
- en: 'Create a view that shows `Category` against `YEAR(Order Date)` and `SUM(Profit)`,
    as follows:'
  id: totrans-63
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个视图，显示`类别`与`YEAR(Order Date)`和`SUM(Profit)`的关系，如下所示：
- en: '![Figure 8.9: Initial view'
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: '![图8.9：初始视图'
- en: '](img/B16342_08_09.jpg)'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_08_09.jpg)'
- en: 'Figure 8.9: Initial view'
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 图8.9：初始视图
- en: 'Add the `Difference` quick calculation to the view, as shown in the following figure:'
  id: totrans-67
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将`差异`快速计算添加到视图中，如图所示：
- en: '![Figure 8.10: Accessing quick table calculation difference'
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: '![图8.10：访问快速表计算差异'
- en: '](img/B16342_08_10.jpg)'
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_08_10.jpg)'
- en: 'Figure 8.10: Accessing quick table calculation difference'
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 图8.10：访问快速表计算差异
- en: 'The final view will be as follows:'
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 最终视图将如下所示：
- en: '![Figure 8.11: Final output'
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: '![图8.11：最终输出'
- en: '](img/B16342_08_11.jpg)'
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_08_11.jpg)'
- en: 'Figure 8.11: Final output'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 图8.11：最终输出
- en: As you can see, the result is the difference between the current year's profit
    and the previous year's profit; for example, for `Furniture`, the second value
    under `Difference` is computed using the previous value and the current value,
    that is, 3,015 – 5,458 = -2443\. This is done similarly for the other categories.
    One thing to note here is the first year's value will always be blank, as there
    is nothing to compute the difference from.
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 如您所见，结果是当年利润与上年利润之间的差异；例如，对于`家具`，`差异`下的第二个值是通过前一个值和当前值计算得出的，即3,015 – 5,458 =
    -2,443。其他类别也是以类似的方式进行计算的。在此需要注意的是，第一年的值将始终为空，因为没有东西可以用来计算差异。
- en: In the next section, you will learn about the `Percent of Total` table calculation.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一节中，您将了解`总计百分比`表计算。
- en: Percent of Total
  id: totrans-77
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 总计百分比
- en: A `Percent of Total` calculation is used to calculate the percent distribution
    of a measure across a specific dimension or table structure. For example, if you
    are analyzing a project that operates in multiple countries, you can calculate
    what percentage of the total revenue each country generates. This in turn can
    highlight underperforming countries, as well as the better-performing ones.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: '`总计百分比`计算用于计算特定维度或表结构中一个度量的百分比分布。例如，如果您正在分析在多个国家运营的项目，您可以计算每个国家占总收入的比例。这反过来可以突出表现不佳的国家，以及表现较好的国家。'
- en: You will use this calculation in the next exercise.
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 您将在下一个练习中使用此计算。
- en: 'Exercise 8.03: Creating a Percent of Total Calculation'
  id: totrans-80
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 练习8.03：创建总计百分比计算
- en: 'In this exercise, you will calculate the `Percent of Total` profits earned
    in different years for a category. By doing so, you can understand how each category
    has contributed to yearly profits. Perform the following steps to complete this exercise:'
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个练习中，您将为不同年份的类别计算`总计百分比`利润。通过这样做，您可以了解每个类别对年度利润的贡献。完成以下步骤以完成此练习：
- en: Load the `Sample – Superstore` dataset in your Tableau instance.
  id: totrans-82
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在您的Tableau实例中加载`Sample – Superstore`数据集。
- en: 'Create a view that shows `Category` against `YEAR(Order Date)` and `SUM(Profit)`,
    as follows:'
  id: totrans-83
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个视图，显示`类别`与`订单日期的年份`和`利润总和`的关系，如下所示：
- en: '![Figure 8.12: Initial view'
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: '![图8.12：初始视图'
- en: '](img/B16342_08_09.jpg)'
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: '![img/B16342_08_09.jpg]'
- en: 'Figure 8.12: Initial view'
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 图8.12：初始视图
- en: Add the `Percent of Total` quick calculation to the view
  id: totrans-87
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将`总计百分比`快速计算添加到视图中
- en: '![Figure 8.13: Accessing quick table calculation | percent of total'
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: '![图8.13：访问快速表格计算 | 总计百分比'
- en: '](img/B16342_08_13.jpg)'
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: '![img/B16342_08_13.jpg]'
- en: 'Figure 8.13: Accessing quick table calculation | percent of total'
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 图8.13：访问快速表格计算 | 总计百分比
- en: 'The following view is the final output:'
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 以下视图是最终输出：
- en: '![Figure 8.14: Final output'
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: '![图8.14：最终输出'
- en: '](img/B16342_08_14.jpg)'
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: '![img/B16342_08_14.jpg]'
- en: 'Figure 8.14: Final output'
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 图8.14：最终输出
- en: You can see that the profit has been converted to a percentage of the total,
    from all the years' profits. For example, for `Furniture`, you can first compute
    the sum of all the years' profits, which comes to 18,451\. Then, divide each year's
    profits with this number. So, for 2016, you can compute it as 5,458 / 18,451,
    which is 29.58%.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以看到利润已经被转换为所有年份利润的百分比。例如，对于`家具`类别，您可以首先计算所有年份利润的总和，总计为18,451。然后，将每年的利润除以这个数字。所以，对于2016年，您可以计算为5,458
    / 18,451，即29.58%。
- en: This view helps find out which year has been better for generating profits for
    each category. The next step is to identify patterns indicative of higher profits
    in those years, and to try to replicate the patterns for the current year to generate
    similar or higher profits.
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 此视图有助于找出哪一年对每个类别的利润生成更有利。下一步是识别那些年份利润更高的模式，并尝试复制这些模式以在当年产生类似或更高的利润。
- en: The next section looks at the `Percent Difference` table calculation.
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 下一节将探讨`百分比差异`表格计算。
- en: Percent Difference
  id: totrans-98
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 百分比差异
- en: '`Percent Difference`, as the name suggests, is used to calculate the change
    in the percent distribution of a measure across a specific dimension or table
    structure. This calculation will first subtract a value from its previous value,
    and then compute the percentage change. As you may have noticed, this table calculation
    is a combination of the `Difference` and `Percent of Total` calculations. The
    reason for using a percentage is that absolute numbers do not always show the
    complete picture. For example, the sale of 10 Ferrari cars will generate more
    profit compared to 50 Honda cars. But if you compare this using actual numbers,
    the data will say that Honda is more profitable, even though Ferrari is actually
    more profitable.'
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 如其名所示，`百分比差异`用于计算特定维度或表结构中度量值的百分比分布的变化。此计算首先从其前一个值中减去一个值，然后计算百分比变化。如您所注意到的，此表格计算是`差异`和`总计百分比`计算的组合。使用百分比的原因是绝对数字并不总是能展示完整的画面。例如，销售10辆法拉利汽车将比销售50辆本田汽车产生更多的利润。但如果你用实际数字进行比较，数据会说本田更有利可图，尽管实际上法拉利更有利可图。
- en: You will learn more about using this calculation in the next exercise.
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 您将在下一练习中了解更多关于使用此计算的方法。
- en: 'Exercise 8.04: Creating a Percent Difference Calculation'
  id: totrans-101
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 练习8.04：创建百分比差异计算
- en: 'In this exercise, you will be calculating `Percent Difference` across the different
    years for a particular category. This will help you analyze, in terms of percentage,
    the profit difference for the various categories:'
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个练习中，您将为特定类别的不同年份计算`百分比差异`。这将帮助您从百分比的角度分析各种类别的利润差异：
- en: Load the `Sample – Superstore` dataset in your Tableau instance.
  id: totrans-103
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在您的Tableau实例中加载`Sample – Superstore`数据集。
- en: 'Create a view that shows `Category` against `YEAR(Order Date)` and `SUM(Profit)`,
    as follows:'
  id: totrans-104
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个视图，显示`类别`与`订单日期的年份`和`利润总和`的关系，如下所示：
- en: '![Figure 8.15: Initial view'
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: '![图8.15：初始视图'
- en: '](img/B16342_08_15.jpg)'
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: '![img/B16342_08_15.jpg]'
- en: 'Figure 8.15: Initial view'
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 图8.15：初始视图
- en: 'Add the `Percent Difference` quick calculation to the view:'
  id: totrans-108
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将`百分比差异`快速计算添加到视图中：
- en: '![Figure 8.16: Accessing quick table calculation | percent difference'
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: '![图8.16：访问快速表格计算 | 百分比差异'
- en: '](img/B16342_08_16.jpg)'
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: '![img/B16342_08_16.jpg]'
- en: 'Figure 8.16: Accessing quick table calculation | percent difference'
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 图8.16：访问快速表计算 | 百分比差异
- en: 'The following figure shows the final output:'
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 以下图显示了最终输出：
- en: '![Figure 8.17: Final output'
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: '![Figure 8.17: Final output]'
- en: '](img/B16342_08_17.jpg)'
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: '![img/B16342_08_17.jpg]'
- en: 'Figure 8.17: Final output'
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 图8.17：最终输出
- en: As you can see, the output shows the difference between the current value and
    previous values, divided by the previous value; for `Furniture`, the percent difference
    for 2016 is computed as 3,015 – 5,458 / 5,458, which comes to `-44.8%`.
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 如您所见，输出显示了当前值与上一值的差异，除以上一值；对于`家具`类别，2016年的百分比差异计算为3,015 – 5,458 / 5,458，结果为`-44.8%`。
- en: This view helps to compare the individual category profits in terms of percent,
    and identifies how each category has performed compared to the previous year.
    This can help you understand whether the category did better (or not), compared
    to the previous year.You can further investigate the reason for performance differences,
    and act on the analysis accordingly.
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 这种视图有助于按百分比比较各个类别的利润，并确定每个类别与上一年相比的表现如何。这可以帮助您了解该类别与上一年相比是否表现更好（或不是）。您可以进一步调查表现差异的原因，并据此采取行动。
- en: Next, you will learn about the `Rank` and `Percentile` table calculations.
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，您将学习关于`排名`和`百分位数`的表计算。
- en: Percentile and Rank
  id: totrans-119
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 百分位数和排名
- en: '`Percentile`, as you may have guessed, is used to calculate the percentile
    of a measure across a specific dimension or table structure. Similarly, `Rank`
    will rank the measure across a specific dimension or table structure. You will
    learn about these in detail in the next exercise.'
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: '`百分位数`，如您所猜，用于计算特定维度或表结构中测量的百分位数。同样，`排名`将在特定维度或表结构中对测量进行排名。您将在下一练习中详细了解这些内容。'
- en: 'Exercise 8.05: Creating Percentile and Rank Calculations'
  id: totrans-121
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 练习8.05：创建百分位数和排名计算
- en: 'In this exercise, you will calculate `Percentile` and `Rank` across different
    years for a particular category. This will help you understand how much profit
    various categories have generated in different years. Follow these steps to complete
    this exercise:'
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个练习中，您将为特定类别计算不同年份的`百分位数`和`排名`。这将帮助您了解不同年份各种类别产生了多少利润。按照以下步骤完成此练习：
- en: Load the `Sample – Superstore` dataset in your Tableau instance.
  id: totrans-123
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在您的Tableau实例中加载`Sample – Superstore`数据集。
- en: Create a view that shows `Category` against `YEAR(Order Date)` and `SUM(Profit)`.
  id: totrans-124
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个视图，显示`类别`与`YEAR(Order Date)`和`SUM(Profit)`的关系。
- en: '![Figure 8.18: Initial view'
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: '![Figure 8.18: Initial view]'
- en: '](img/B16342_08_09.jpg)'
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: '![img/B16342_08_09.jpg]'
- en: 'Figure 8.18: Initial view'
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 图8.18：初始视图
- en: 'Add the `Rank` quick calculation to the view, as shown in the following figure:'
  id: totrans-128
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将`排名`快速计算添加到视图中，如图下所示：
- en: '![Figure 8.19: Accessing quick table calculation | rank'
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: '![Figure 8.19: Accessing quick table calculation | rank]'
- en: '](img/B16342_08_19.jpg)'
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: '![img/B16342_08_19.jpg]'
- en: 'Figure 8.19: Accessing quick table calculation | rank'
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 图8.19：访问快速表计算 | 排名
- en: 'The following view will be the final output for `Rank`. The output is ranked
    based on the descending values of `SUM(Profit)`:'
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 以下视图将是`排名`的最终输出。输出是根据`SUM(Profit)`的降序值进行排名的：
- en: '![Figure 8.20: Rank output on selecting the Rank quick table calculation'
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: '![Figure 8.20: Rank output on selecting the Rank quick table calculation]'
- en: '](img/B16342_08_20.jpg)'
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: '![img/B16342_08_20.jpg]'
- en: 'Figure 8.20: Rank output on selecting the Rank quick table calculation'
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 图8.20：选择排名快速表计算后的排名输出
- en: 'Similarly, add the `Percentile` quick calculation to the view by selecting
    the `Percentile` quick table calculation. The following figure shows the final
    output for this:'
  id: totrans-136
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 类似地，通过选择`百分位数`快速表计算将`百分位数`快速计算添加到视图中。以下图显示了此输出的最终结果：
- en: '![Figure 8.21: Percentile output on selecting the Percentile quick table calculation'
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: '![Figure 8.21: Percentile output on selecting the Percentile quick table calculation]'
- en: '](img/B16342_08_21.jpg)'
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: '![img/B16342_08_21.jpg]'
- en: 'Figure 8.21: Percentile output on selecting the Percentile quick table calculation'
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 图8.21：选择百分位数快速表计算后的百分位数输出
- en: With the `Rank` calculation, you ranked each year in a particular category based
    on the sum of the profits. The preceding figure shows the `Percentile` operation.
    For `Furniture`, the profit for 2016 is at the 0th percentile, which means that
    0% of data is under $3,015\. Similarly, for 2017, the profit is $6,960 at the
    100th percentile, meaning that the profit for all other years is below this value.
    This view can help you do a year-by-year comparison for individual category profits
    in terms of percentile and rank, to identify how each category has performed compared
    to the previous year.
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 使用“排名”计算，你根据利润总和对特定类别的每一年进行了排名。前面的图显示了“百分位数”操作。对于“家具”类别，2016年的利润处于第0百分位数，这意味着低于3,015美元的数据占0%。同样，对于2017年，利润为6,960美元，处于第100百分位数，这意味着所有其他年份的利润都低于这个值。此视图可以帮助你按百分位数和排名逐年比较单个类别的利润，以确定每个类别与上一年相比的表现。
- en: Next, you will learn about the `Moving Average` quick table calculation.
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，你将学习关于“移动平均”快速表格计算。
- en: Moving Average
  id: totrans-142
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 移动平均
- en: '`Moving Average` is used to calculate the average of a measure across a specific
    dimension or table structure in a dynamic range, rather than being static. The
    advantage of using a moving average is that more importance is given to the values
    of recent history, rather than using all historic data. Moving averages are commonly
    used for identifying trends of share prices, where you can analyze a 20-day moving
    average (last 20 days of share price), or a 50-day moving average (last 50 days
    of share price), to understand how the share price is moving. The next exercise
    looks at this in detail.'
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: “移动平均”用于计算特定维度或表格结构中动态范围内的度量值的平均值，而不是静态的。使用移动平均的优势在于，更重视近期历史数据的值，而不是使用所有历史数据。移动平均通常用于识别股价趋势，你可以分析20日移动平均（过去20天的股价），或50日移动平均（过去50天的股价），以了解股价的走势。下一项练习将详细探讨这一点。
- en: 'Exercise 8.06: Creating a Moving Average Calculation'
  id: totrans-144
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 练习8.06：创建移动平均计算
- en: 'In this exercise, you will calculate the moving average of profit earned across
    different years for a particular category. This will help you understand whether
    the average value is higher or lower than the previous year''s profits:'
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个练习中，你将计算特定类别在不同年份获得的利润的移动平均。这将帮助你了解平均值是否高于或低于上一年的利润：
- en: Load the `Sample – Superstore` dataset in your Tableau instance.
  id: totrans-146
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在你的Tableau实例中加载“Sample – Superstore”数据集。
- en: Create a view that shows `Category` against `YEAR(Order Date)` and `SUM(Profit)`.
  id: totrans-147
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个视图，显示“类别”与“订单日期”的年份和“利润总和”。
- en: '![Figure 8.22: Initial view'
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: '![图8.22：初始视图](img/B16342_08_22.jpg)'
- en: '](img/B16342_08_21.jpg)'
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: '![img/B16342_08_21.jpg](img/B16342_08_21.jpg)'
- en: 'Figure 8.22: Initial view'
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 图8.22：初始视图
- en: 'Add the `Moving Average` quick calculation, as shown in the following figure:'
  id: totrans-151
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加“移动平均”快速计算，如图所示：
- en: '![Figure 8.23: Accessing quick table calculation | moving average'
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: '![图8.23：访问快速表格计算 | 移动平均](img/B16342_08_23.jpg)'
- en: '](img/B16342_08_23.jpg)'
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: '![img/B16342_08_23.jpg](img/B16342_08_23.jpg)'
- en: 'Figure 8.23: Accessing quick table calculation | moving average'
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: '![图8.23：访问快速表格计算 | 移动平均](img/B16342_08_23.jpg)'
- en: 'This view will be the final output:'
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 此视图将是最终输出：
- en: '![Figure 8.24: Final output'
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: '![图8.24：最终输出](img/B16342_08_24.jpg)'
- en: '](img/B16342_08_24.jpg)'
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: '![img/B16342_08_24.jpg](img/B16342_08_24.jpg)'
- en: 'Figure 8.24: Final output'
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: 图8.24：最终输出
- en: As you see, the profit has been averaged across the total from all the years'
    profits. First, the sum of all the years' profits is computed, and then, this
    number is divided by the number of years. For example, for 2017, the moving average
    comes to 8,473 / 2 = 4,236.
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: 如你所见，利润已经平均分布在所有年份的利润总额上。首先，计算所有年份利润的总和，然后，将这个数字除以年数。例如，对于2017年，移动平均为8,473 /
    2 = 4,236。
- en: 'Table Calculation Application: Addressing and Partitioning'
  id: totrans-160
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 表格计算应用：地址和分区
- en: In the previous section, you learned about quick table calculations. But did
    you notice that all these calculations were working at the row level? What if
    you need to apply calculations at the column level? This is where the concept
    of addressing and partitioning comes into play.
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: 在上一节中，你学习了快速表格计算。但你注意到所有这些计算都是在行级别进行的吗？如果你需要将计算应用于列级别呢？这就是地址和分区概念发挥作用的地方。
- en: Addressing means defining the direction of the calculation. A calculation can
    compute horizontally or vertically, depending on the option selected. Partitioning
    can be defined as the scope of the calculation; for example, you can partition
    a view into various years for different categories, or various categories for
    the same year.
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 处理意味着定义计算的方向。一个计算可以水平或垂直计算，具体取决于所选选项。分区可以定义为计算的范畴；例如，你可以将视图分区为不同类别的各种年份，或者相同年份的各种类别。
- en: 'In this section, you will learn about the following methods to address and
    partition data:'
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，你将了解以下处理和分区数据的方法：
- en: '`Table(across)`'
  id: totrans-164
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Table(across)`'
- en: '`Table(down)`'
  id: totrans-165
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Table(down)`'
- en: '`Table(across then down)`'
  id: totrans-166
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Table(across then down)`'
- en: '`Table(down then across)`'
  id: totrans-167
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Table(down then across)`'
- en: '`Pane(down)`'
  id: totrans-168
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Pane(down)`'
- en: '`Pane(across then down)`'
  id: totrans-169
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Pane(across then down)`'
- en: '`Pane(down then across)`'
  id: totrans-170
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Pane(down then across)`'
- en: '`Cell`'
  id: totrans-171
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Cell`'
- en: '`Specific Dimensions`'
  id: totrans-172
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Specific Dimensions`'
- en: You will continue working with the same example that you have been using in
    the previous exercises. First, you will explore the various ways of addressing
    data.
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: 你将继续使用之前练习中使用的相同示例进行工作。首先，你将探索处理数据的不同方式。
- en: Table (across)
  id: totrans-174
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Table (across)
- en: '`Table(across)` performs a calculation horizontally across a table, and restarts
    after each row. For example, consider you have years on the `Columns` shelf for
    various product names on the rows, along with their sales. Here, `Table(across)`
    would perform the calculation for all the years'' sales for an individual product,
    and then restart for the next product. The next exercise looks at this in detail.'
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: '`Table(across)`在表格中水平计算，并在每一行后重新开始。例如，假设你有一个行上的各种产品名称的年份在`Columns`架子上，以及它们的销售额。在这里，`Table(across)`将对单个产品的所有年份的销售额进行计算，然后为下一个产品重新开始。下一项练习将详细探讨这一点。'
- en: 'Exercise 8.07: Creating a Table (across) Calculation'
  id: totrans-176
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 练习8.07：创建Table (across) 计算
- en: 'Considering the example of car manufacturer sales, suppose you want to compare
    the sales for the various years. In this exercise, you will use a `Table(across)`
    calculation to find this. The following steps will help you complete this exercise:'
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: 以汽车制造商的销售额为例，假设你想比较不同年份的销售额。在这个练习中，你将使用`Table(across)`计算来找到这个。以下步骤将帮助你完成这个练习：
- en: Load the `Sample – Superstore` dataset in your Tableau instance.
  id: totrans-178
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在你的Tableau实例中加载`Sample – Superstore`数据集。
- en: Create a view that shows `Category` against `YEAR(Order Date)` and `SUM(Profit)`.
  id: totrans-179
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个显示`Category`与`YEAR(Order Date)`和`SUM(Profit)`的视图。
- en: '![Figure 8.25: Initial view'
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: '![图8.25：初始视图'
- en: '](img/B16342_08_09.jpg)'
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_08_09.jpg)'
- en: 'Figure 8.25: Initial view'
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: 图8.25：初始视图
- en: 'Add the `Running Total` quick calculation to get the following view:'
  id: totrans-183
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加`Running Total`快速计算以获得以下视图：
- en: '![Figure 8.26: Running total for SUM(Profit)'
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: '![图8.26：SUM(Profit)的累计总和'
- en: '](img/B16342_08_26.jpg)'
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_08_26.jpg)'
- en: 'Figure 8.26: Running total for SUM(Profit)'
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: 图8.26：SUM(Profit)的累计总和
- en: Now, select `Compute Using` and then `Table(across)`, as shown in the following
    figure
  id: totrans-187
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，选择`Compute Using`然后选择`Table(across)`，如图所示
- en: '![Figure 8.27: Selecting table (across)'
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: '![图8.27：选择表格（横向）'
- en: '](img/B16342_08_27.jpg)'
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_08_27.jpg)'
- en: 'Figure 8.27: Selecting table (across)'
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: 图8.27：选择表格（横向）
- en: 'The next figure shows the final view. You can see that the `Profit` table calculation
    is done for every `Category` (partitioning) across the different `Order Date`
    years (addressing):'
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: 下一个图显示了最终视图。你可以看到，`Profit`表格计算是针对每个`Category`（分区）在不同`Order Date`年份（处理）进行的：
- en: '![Figure 8.28: Final output'
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: '![图8.28：最终输出'
- en: '](img/B16342_08_28.jpg)'
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_08_28.jpg)'
- en: 'Figure 8.28: Final output'
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
  zh: 图8.28：最终输出
- en: This view helps find the cumulative profit for the various categories over the
    years. This can help youunderstand how each category has been performing compared
    with other categories, over the years.
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: 这个视图有助于找到多年来各种类别的累计利润。这可以帮助你了解每个类别与其他类别相比的表现如何。
- en: Next, you will learn about the `Table(down)` calculation.
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，你将了解`Table(down)`计算。
- en: Table (down)
  id: totrans-197
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Table (down)
- en: '`Table(down)` computes the calculation vertically down the table, and restarts
    after each column. For example, consider that you have the various years on the
    `Columns` shelf for the product names (and their sales) on the rows. `Table(down)`
    would compute the calculation for all of a product''s sales for an individual
    year, and then restart at the next product.'
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: '`Table(down)`沿着表格垂直计算，并在每一列后重新开始。例如，假设你有一个产品名称（及其销售额）在行上的`Columns`架上的各种年份。`Table(down)`将计算一个产品在单个年份的所有销售额，然后在下一个产品处重新开始。'
- en: 'Exercise 8.08: Creating a Table (down) Calculation'
  id: totrans-199
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 练习 8.08：创建 Table (down) 计算
- en: 'For this exercise, you will compare the sales for various years, using the
    `Table(down)` calculation along years. This will help you compare the profits
    for the years, and help you understand whether the sales are improving or declining:'
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: 对于这个练习，你将使用`Table(down)`计算按年比较各种年份的销售。这将帮助你比较年份的利润，并帮助你了解销售是改善还是下降：
- en: Load the `Sample – Superstore` dataset in your Tableau instance.
  id: totrans-201
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在你的 Tableau 实例中加载`Sample – Superstore`数据集。
- en: Create a view that shows `Category` against `YEAR(Order Date)` and `SUM(Profit)`.
  id: totrans-202
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个视图，显示`Category`与`YEAR(Order Date)`和`SUM(Profit)`的关系。
- en: '![Figure 8.29: Initial view'
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 8.29：初始视图'
- en: '](img/B16342_08_09.jpg)'
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片 B16342_08_09.jpg](img/B16342_08_09.jpg)'
- en: 'Figure 8.29: Initial view'
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.29：初始视图
- en: 'Add the `Running Total` quick calculation to get the following view. This is
    the default, which is the across or horizontal direction:'
  id: totrans-206
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加`Running Total`快速计算以获得以下视图。这是默认的，即横向或水平方向：
- en: '![Figure 8.30: Running total for SUM(Profit)'
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 8.30：SUM(Profit)的累积总和'
- en: '](img/B16342_08_30.jpg)'
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片 B16342_08_30.jpg](img/B16342_08_30.jpg)'
- en: 'Figure 8.30: Running total for SUM(Profit)'
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.30：SUM(Profit)的累积总和
- en: 'Select `Compute Using` and then `Table(down)`, as follows:'
  id: totrans-210
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择`Compute Using`然后`Table(down)`，如下所示：
- en: '![Figure 8.31: Accessing compute using | table (down)'
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 8.31：访问计算使用 | 表 (down)'
- en: '](img/B16342_08_31.jpg)'
  id: totrans-212
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片 B16342_08_31.jpg](img/B16342_08_31.jpg)'
- en: 'Figure 8.31: Accessing compute using | table (down)'
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.31：访问计算使用 | 表 (down)
- en: 'The following figure shows the final view. You can see that the `Profit` table
    calculation is computed for every `Order Date` year (partitioning) for the three
    `Category` values (addressing):'
  id: totrans-214
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 以下图显示了最终视图。你可以看到，`Profit`表计算是针对每个`Order Date`年份（分区）的三个`Category`值（处理）进行的：
- en: '![Figure 8.32: Final output'
  id: totrans-215
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 8.32：最终输出'
- en: '](img/B16342_08_32.jpg)'
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片 B16342_08_32.jpg](img/B16342_08_32.jpg)'
- en: 'Figure 8.32: Final output'
  id: totrans-217
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.32：最终输出
- en: This view can help you answer how each category has been performing based on
    profits across years. You could potentially make important business decisions
    based off these results.
  id: totrans-218
  prefs: []
  type: TYPE_NORMAL
  zh: 这种视图可以帮助你根据多年的利润来了解每个类别是如何表现的。你可能会基于这些结果做出重要的商业决策。
- en: Next, you will learn about `Table(across then down)` and `Table(down then across)`
    together. These are opposites. `Table(across then down)` computes the calculation
    horizontally across the table and adds the values at the end of each row to the
    first value of the next row. `Table(down then across)` performs the calculation
    vertically down the table, and adds the values at the end of each column to the
    first value of the next column.
  id: totrans-219
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，你将一起学习`Table(across then down)`和`Table(down then across)`。这两个是相反的。`Table(across
    then down)`在表格中水平计算，并将每行的末尾值加到下一行的第一个值上。`Table(down then across)`垂直沿表格进行计算，并将每列的末尾值加到下一列的第一个值上。
- en: In the `Table(down)` and `Table(across)` exercises, you treated the end totals
    for each column or row as separate values. So, you got a comparison for the different
    addressing results. For `Table(across then down)` and `Table(down then across)`,
    a value for the current row/column will be the result of the previous rows/columns
    along with the current row/column.
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
  zh: 在`Table(down)`和`Table(across)`练习中，你将每个列或行的末尾总和视为单独的值。因此，你得到了不同处理结果的比较。对于`Table(across
    then down)`和`Table(down then across)`，当前行/列的值将是之前行/列与当前行/列的结果。
- en: Considering the previous example of car manufacturer sales, suppose you perform
    `Table(down)` and then `Table(across)` for sales; Tableau would first compute
    the sales for the current year for all products, and then add that value to the
    next year's values. Hence, for the current year, you would get cumulative values
    for the previous years and the current year's sales.
  id: totrans-221
  prefs: []
  type: TYPE_NORMAL
  zh: 考虑到之前汽车制造商销售示例，假设你执行了`Table(down)`然后`Table(across)`销售；Tableau会首先计算当前年度所有产品的销售，然后将该值加到下一年的值上。因此，对于当前年份，你会得到前几年和当前年份的销售累积值。
- en: 'Exercise 8.09: Creating Table (across then down) and Table (down then across)
    Calculations'
  id: totrans-222
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 练习 8.09：创建 Table (across then down) 和 Table (down then across) 计算
- en: 'In this exercise, you will continue with the example used in the previous exercises,
    and use `Table(across then down)` and `Table(down then across)` calculations.
    The following steps will help you complete this exercise:'
  id: totrans-223
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个练习中，你将继续使用之前练习中使用的示例，并使用`Table(across then down)`和`Table(down then across)`计算。以下步骤将帮助你完成这个练习：
- en: Load the `Sample – Superstore` dataset in your Tableau instance.
  id: totrans-224
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在你的 Tableau 实例中加载`Sample – Superstore`数据集。
- en: 'Create a view that shows `Category` and `Sub-Category` against `YEAR(Order
    Date)` and `SUM(Profit)`, as follows. Filter on `Category: Technology` by placing
    `Category` on the `Filters` shelf:'
  id: totrans-225
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '创建一个视图，显示`Category`和`Sub-Category`相对于`YEAR(Order Date)`和`SUM(Profit)`，如下所示。通过将`Category`放在`Filters`面板上，对`Category:
    Technology`进行筛选：'
- en: '![Figure 8.33: Initial view for table (across then down)'
  id: totrans-226
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 8.33：表（跨后下）的初始视图](img/B16342_08_33.jpg)'
- en: '](img/B16342_08_33.jpg)'
  id: totrans-227
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 8.33：表（跨后下）的初始视图](img/B16342_08_33.jpg)'
- en: 'Figure 8.33: Initial view for table (across then down)'
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.33：表（跨后下）的初始视图
- en: 'Add the `Running Total` quick calculation to get the following view. Here,
    you get the cumulative sum of profits for all the years for a sub-category. The
    default addressing would be `Table(across)`:'
  id: totrans-229
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加`Running Total`快速计算以获得以下视图。在这里，您可以得到所有年份的子类别的累积利润。默认的地址会是`Table(across)`：
- en: '![Figure 8.34: Running total for SUM(Profit)'
  id: totrans-230
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 8.34：SUM(Profit)的累计总和](img/B16342_08_34.jpg)'
- en: '](img/B16342_08_34.jpg)'
  id: totrans-231
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片 B16342_08_34.jpg](img/B16342_08_34.jpg)'
- en: 'Figure 8.34: Running total for SUM(Profit)'
  id: totrans-232
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.34：SUM(Profit)的累计总和
- en: Select `Compute Using` and then `Table(across then down)`.
  id: totrans-233
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择`Compute Using`，然后选择`Table(across then down)`。
- en: '![Figure 8.35: Accessing compute using | table (across then down)'
  id: totrans-234
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 8.35：访问计算使用 | 表（跨后下）](img/B16342_08_37.jpg)'
- en: '](img/B16342_08_35.jpg)'
  id: totrans-235
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片 B16342_08_35.jpg](img/B16342_08_35.jpg)'
- en: 'Figure 8.35: Accessing compute using | table (across then down)'
  id: totrans-236
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.35：访问计算使用 | 表（跨后下）
- en: 'The following is the generated view. You can follow the lines shown in the
    following figure to see how the computation is done:'
  id: totrans-237
  prefs: []
  type: TYPE_NORMAL
  zh: 以下为生成的视图。您可以通过以下图中的线条来了解计算过程：
- en: '![Figure 8.36: The working of table (across then down)'
  id: totrans-238
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 8.36：表（跨后下）的工作原理](img/B16342_08_36.jpg)'
- en: '](img/B16342_08_36.jpg)'
  id: totrans-239
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片 B16342_08_36.jpg](img/B16342_08_36.jpg)'
- en: 'Figure 8.36: The working of table (across then down)'
  id: totrans-240
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.36：表（跨后下）的工作原理
- en: First, `Table(across)` is performed for `Accessories` (see the orange lines).
    Then, that total (`$41,937`) is computed by `Table(down)` (green line) with the
    profit of `Copiers` (`$2,913`) making it `$44,850`. This process is repeated until
    the table ends.
  id: totrans-241
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，对“配件”执行`Table(across)`计算（见橙色线条）。然后，通过`Table(down)`（绿色线条）计算该总额（$41,937），加上“复印机”的利润（$2,913），得到$44,850。这个过程会一直重复，直到表格结束。
- en: 'To change this to `Table(down then across)`, select `Compute Using` and then
    `Table(down then across)`, as follows:'
  id: totrans-242
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要将其更改为`Table(down then across)`，请选择`Compute Using`，然后选择`Table(down then across)`，如下所示：
- en: '![Figure 8.37: Accessing compute using | table (down then across)'
  id: totrans-243
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 8.37：访问计算使用 | 表（下后跨）](img/B16342_08_37.jpg)'
- en: '](img/B16342_08_37.jpg)'
  id: totrans-244
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片 B16342_08_37.jpg](img/B16342_08_37.jpg)'
- en: 'Figure 8.37: Accessing compute using | table (down then across)'
  id: totrans-245
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.37：访问计算使用 | 表（下后跨）
- en: 'This will be the generated view. Again, you can follow the lines to see how
    the computation is done. This is exactly the opposite of how `Table(across then
    down)` works:'
  id: totrans-246
  prefs: []
  type: TYPE_NORMAL
  zh: 这将是生成的视图。同样，您可以跟随线条来了解计算过程。这与`Table(across then down)`的工作方式正好相反：
- en: '![Figure 8.38: The working of table (down then across)'
  id: totrans-247
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 8.38：表（下后跨）的工作原理](img/B16342_08_38.jpg)'
- en: '](img/B16342_08_38.jpg)'
  id: totrans-248
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片 B16342_08_38.jpg](img/B16342_08_38.jpg)'
- en: 'Figure 8.38: The working of table (down then across)'
  id: totrans-249
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.38：表（下后跨）的工作原理
- en: As you see, first the profits are added in a downward direction, then this sum
    is taken across to a different year. This process continues until the final year.
    This view can help you understand how the different sub-categories have been performing,
    based on profits summed together over the previous years.
  id: totrans-250
  prefs: []
  type: TYPE_NORMAL
  zh: 如您所见，首先按向下方向添加利润，然后将这个总和跨到不同的年份。这个过程会一直持续到最后一年的数据。这个视图可以帮助您了解基于之前年份汇总的利润，不同子类别的表现情况。
- en: 'Next, you will learn about panes. Table calculations can work down or across
    panes, depending on the calculation type. A pane can be defined as a combination
    of cells made up of fields on the `Rows` and `Columns` shelves, as in the following
    screenshot:'
  id: totrans-251
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，您将学习关于窗格的内容。表计算可以在窗格上下或左右进行，具体取决于计算类型。窗格可以定义为由`Rows`和`Columns`面板上的字段组成的单元格组合，如下截图所示：
- en: '![Figure 8.39: Panes'
  id: totrans-252
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 8.39：窗格](img/B16342_08_39.jpg)'
- en: '](img/B16342_08_39.jpg)'
  id: totrans-253
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片 B16342_08_39.jpg](img/B16342_08_39.jpg)'
- en: 'Figure 8.39: Panes'
  id: totrans-254
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.39：窗格
- en: 'They can also be thought of as smaller tables within a bigger table. Table
    calculations can be performed on panes similar to how you did at the table level.
    The following is a list of the various pane-related computations:'
  id: totrans-255
  prefs: []
  type: TYPE_NORMAL
  zh: 它们也可以被视为大表中的小表。可以在类似表格级别的操作上对窗格进行表计算。以下是一系列与窗格相关的计算：
- en: '`Pane(across)`'
  id: totrans-256
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Pane(across)`'
- en: '`Pane(down)`'
  id: totrans-257
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Pane(down)`'
- en: '`Pane(across then down)`'
  id: totrans-258
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Pane(across then down)`'
- en: '`Pane(down then across)`'
  id: totrans-259
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Pane(down then across)`'
- en: You will start with `Pane(across)`.
  id: totrans-260
  prefs: []
  type: TYPE_NORMAL
  zh: 您将开始于`Pane(across)`。
- en: 'Exercise 8.10: Creating a Pane (across) Calculation'
  id: totrans-261
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 练习 8.10：创建窗格（跨）计算
- en: '`Pane(across)` computes the calculation horizontally across the pane, and restarts
    at the next pane. Considering your previous example of car manufacturer sales,
    suppose you want to compare the sales for the various years, while also considering
    the different car segments, such as hatchback, sedan, and SUV. In this exercise,
    you will use the `Pane(across)` calculation to do this.'
  id: totrans-262
  prefs: []
  type: TYPE_NORMAL
  zh: '`Pane(across)`在面板内水平计算，并在下一个面板处重新开始。考虑到您之前的汽车制造商销售示例，假设您想比较不同年份的销售，同时考虑不同的汽车细分市场，如掀背车、轿车和SUV。在这个练习中，您将使用`Pane(across)`计算来完成此操作。'
- en: 'The following steps will help you complete this exercise:'
  id: totrans-263
  prefs: []
  type: TYPE_NORMAL
  zh: 以下步骤将帮助您完成此练习：
- en: Load the `Sample – Superstore` dataset in your Tableau instance.
  id: totrans-264
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在您的 Tableau 实例中加载`Sample – Superstore`数据集。
- en: 'Create a view that shows `Category` against `YEAR(Order Date)`, `QUARTER(Order
    Date)`, and `SUM(Profit)`, as follows:'
  id: totrans-265
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个视图，显示`Category`与`YEAR(Order Date)`、`QUARTER(Order Date)`和`SUM(Profit)`的关系，如下所示：
- en: '![Figure 8.40: Initial view with a running total for SUM(Profit)'
  id: totrans-266
  prefs: []
  type: TYPE_NORMAL
  zh: '![图8.40：带有 SUM(Profit) 运行总量的初始视图'
- en: '](img/B16342_08_40.jpg)'
  id: totrans-267
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_08_40.jpg)'
- en: 'Figure 8.40: Initial view with a running total for SUM(Profit)'
  id: totrans-268
  prefs: []
  type: TYPE_NORMAL
  zh: 图8.40：带有 SUM(Profit) 运行总量的初始视图
- en: Filter on `YEAR(Order Date)` as `2016` and `2017`.
  id: totrans-269
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 根据`Order Date`的`YEAR`筛选条件选择`2016`和`2017`。
- en: '![Figure 8.41: Adding a YEAR filter'
  id: totrans-270
  prefs: []
  type: TYPE_NORMAL
  zh: '![图8.41：添加 YEAR 过滤器'
- en: '](img/B16342_08_41.jpg)'
  id: totrans-271
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_08_41.jpg)'
- en: 'Figure 8.41: Adding a YEAR filter'
  id: totrans-272
  prefs: []
  type: TYPE_NORMAL
  zh: 图8.41：添加 YEAR 过滤器
- en: 'You now have two horizontal panes. For a pane table calculation to be activated,
    you need more than one dimension in the rows or the columns. A pane here will
    be one row, per `Category`,per year; so you''ll have six panes in the view. The
    first pane looks like this:'
  id: totrans-273
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您现在有两个水平面板。要激活面板表格计算，您需要在行或列中有多于一个维度。这里的面板将是一行，每个`Category`，每年；因此，您将在视图中看到六个面板。第一个面板看起来像这样：
- en: '![Figure 8.42: Understanding pane (across)'
  id: totrans-274
  prefs: []
  type: TYPE_NORMAL
  zh: '![图8.42：理解面板（横向）'
- en: '](img/B16342_08_42.jpg)'
  id: totrans-275
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_08_42.jpg)'
- en: 'Figure 8.42: Understanding pane (across)'
  id: totrans-276
  prefs: []
  type: TYPE_NORMAL
  zh: 图8.42：理解面板（横向）
- en: Add a Running Total of Sum(Profit) and then select the `Pane(across)` option
    by clicking again on `SUM(Profit)`.
  id: totrans-277
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加 SUM(Profit) 的运行总数，然后通过再次点击`SUM(Profit)`选择`Pane(across)`选项。
- en: '![Figure 8.43: Accessing compute using | pane (across)'
  id: totrans-278
  prefs: []
  type: TYPE_NORMAL
  zh: '![图8.43：使用 | 面板（横向）访问计算'
- en: '](img/B16342_08_43.jpg)'
  id: totrans-279
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_08_43.jpg)'
- en: 'Figure 8.43: Accessing compute using | pane (across)'
  id: totrans-280
  prefs: []
  type: TYPE_NORMAL
  zh: 图8.43：使用 | 面板（横向）访问计算
- en: 'On selecting `Pane(across)`, you should see the following output:'
  id: totrans-281
  prefs: []
  type: TYPE_NORMAL
  zh: 选择`Pane(across)`后，您应该看到以下输出：
- en: '![Figure 8.44: Final output'
  id: totrans-282
  prefs: []
  type: TYPE_NORMAL
  zh: '![图8.44：最终输出'
- en: '](img/B16342_08_44.jpg)'
  id: totrans-283
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_08_44.jpg)'
- en: 'Figure 8.44: Final output'
  id: totrans-284
  prefs: []
  type: TYPE_NORMAL
  zh: 图8.44：最终输出
- en: To understand this better, add `Profit` to another view and compute the result.
  id: totrans-285
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为了更好地理解这一点，将`Profit`添加到另一个视图中并计算结果。
- en: '![Figure 8.45: The working of pane (across)'
  id: totrans-286
  prefs: []
  type: TYPE_NORMAL
  zh: '![图8.45：面板（横向）的工作原理'
- en: '](img/B16342_08_45.jpg)'
  id: totrans-287
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_08_45.jpg)'
- en: 'Figure 8.45: The working of pane (across)'
  id: totrans-288
  prefs: []
  type: TYPE_NORMAL
  zh: 图8.45：面板（横向）的工作原理
- en: As you see, each of the highlighted blue boxes just adds profits horizontally,
    and this restarts after each partition or pane horizontally. You can also validate
    the sum of profit by referencing the bottom table.
  id: totrans-289
  prefs: []
  type: TYPE_NORMAL
  zh: 如您所见，每个突出显示的蓝色框只是水平地添加利润，并在每个分区或面板之后重新开始。您还可以通过参考底部表格来验证利润总和。
- en: '![Figure 8.46: Final output analysis'
  id: totrans-290
  prefs: []
  type: TYPE_NORMAL
  zh: '![图8.46：最终输出分析'
- en: '](img/B16342_08_46.jpg)'
  id: totrans-291
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_08_46.jpg)'
- en: 'Figure 8.46: Final output analysis'
  id: totrans-292
  prefs: []
  type: TYPE_NORMAL
  zh: 图8.46：最终输出分析
- en: This view can help you see how different categories have performed based on
    profits summed together over all different quarters across the two Order Date
    years. This can help you hone in on profits, to understand which quarters generated
    the highest profits.
  id: totrans-293
  prefs: []
  type: TYPE_NORMAL
  zh: 这个视图可以帮助您了解不同类别基于两年订单日期的所有不同季度的总利润表现。这可以帮助您专注于利润，了解哪些季度产生了最高的利润。
- en: Next, you will learn about `Pane(down)`. `Pane(down)` performs the calculation
    vertically down the pane, and restarts at the next pane.
  id: totrans-294
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，您将了解`Pane(down)`。`Pane(down)`在面板内垂直计算，并在下一个面板处重新开始。
- en: 'Exercise 8.11: Pane (down) Calculation'
  id: totrans-295
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 练习8.11：面板（向下）计算
- en: 'Considering the example of car manufacturer sales, suppose you want to analyze
    the sales of various car models sold per segment per year. Here, you can use `Pane(down)`
    addressing on the segment partitioning. The following steps will help you complete
    this exercise:'
  id: totrans-296
  prefs: []
  type: TYPE_NORMAL
  zh: 考虑到汽车制造商销售的示例，假设您想分析每个细分市场每年销售的各个汽车型号。在这里，您可以使用`Pane(down)`对细分市场分区进行操作。以下步骤将帮助您完成此练习：
- en: Load the `Sample – Superstore` dataset in your Tableau instance.
  id: totrans-297
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在您的 Tableau 实例中加载`Sample – Superstore`数据集。
- en: 'Create a view that shows `YEAR(Order Date)` and `Category` against `QUARTER(Order
    Date)` and the running total for `SUM(Profit)`, as follows:'
  id: totrans-298
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个视图，显示“YEAR(Order Date)”和“Category”相对于“QUARTER(Order Date)”和“SUM(Profit)”的累计总和，如下所示：
- en: '![Figure 8.47: Initial view with the running total for SUM(Profit)'
  id: totrans-299
  prefs: []
  type: TYPE_NORMAL
  zh: '![图8.47：SUM(Profit)的初始视图及累计总和]'
- en: '](img/B16342_08_47.jpg)'
  id: totrans-300
  prefs: []
  type: TYPE_NORMAL
  zh: '![图B16342_08_47.jpg]'
- en: 'Figure 8.47: Initial view with the running total for SUM(Profit)'
  id: totrans-301
  prefs: []
  type: TYPE_NORMAL
  zh: 图8.47：SUM(Profit)的初始视图及累计总和
- en: Filter on `YEAR(Order Date)` as `2016` and `2017`.
  id: totrans-302
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 根据“Order Date”的“YEAR”筛选为“2016”和“2017”。
- en: '![Figure 8.48: Adding a YEAR filter'
  id: totrans-303
  prefs: []
  type: TYPE_NORMAL
  zh: '![图8.48：添加YEAR筛选器]'
- en: '](img/B16342_08_48.jpg)'
  id: totrans-304
  prefs: []
  type: TYPE_NORMAL
  zh: '![图B16342_08_48.jpg]'
- en: 'Figure 8.48: Adding a YEAR filter'
  id: totrans-305
  prefs: []
  type: TYPE_NORMAL
  zh: 图8.48：添加YEAR筛选器
- en: Now, you will have eight vertical panes – four for `2016` and four for `2017`
    – based on the four quarters and two years.
  id: totrans-306
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，您将拥有八个垂直面板——四个用于“2016年”，四个用于“2017年”——基于四个季度和两年。
- en: '![Figure 8.49: Understanding pane (down)'
  id: totrans-307
  prefs: []
  type: TYPE_NORMAL
  zh: '![图8.49：理解面板（向下）]'
- en: '](img/B16342_08_49.jpg)'
  id: totrans-308
  prefs: []
  type: TYPE_NORMAL
  zh: '![图B16342_08_49.jpg]'
- en: 'Figure 8.49: Understanding pane (down)'
  id: totrans-309
  prefs: []
  type: TYPE_NORMAL
  zh: 图8.49：理解面板（向下）
- en: 'Select the `Pane(down)` option by clicking again on `SUM(Profit)`, as follows:'
  id: totrans-310
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过再次单击“SUM(Profit)”选择“面板（向下）”选项，如下所示：
- en: '![Figure 8.50: Accessing compute using | pane (down)'
  id: totrans-311
  prefs: []
  type: TYPE_NORMAL
  zh: '![图8.50：使用|面板（向下）访问计算]'
- en: '](img/B16342_08_50.jpg)'
  id: totrans-312
  prefs: []
  type: TYPE_NORMAL
  zh: '![图B16342_08_50.jpg]'
- en: 'Figure 8.50: Accessing compute using | pane (down)'
  id: totrans-313
  prefs: []
  type: TYPE_NORMAL
  zh: 图8.50：使用|面板（向下）访问计算
- en: 'You will see the following output:'
  id: totrans-314
  prefs: []
  type: TYPE_NORMAL
  zh: 您将看到以下输出：
- en: '![Figure 8.51: Final output'
  id: totrans-315
  prefs: []
  type: TYPE_NORMAL
  zh: '![图8.51：最终输出]'
- en: '](img/B16342_08_51.jpg)'
  id: totrans-316
  prefs: []
  type: TYPE_NORMAL
  zh: '![图B16342_08_51.jpg]'
- en: 'Figure 8.51: Final output'
  id: totrans-317
  prefs: []
  type: TYPE_NORMAL
  zh: '![图8.51：最终输出]'
- en: To understand this better, add `Profit` to the view and see the result.
  id: totrans-318
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为了更好地理解，将“Profit”添加到视图中并查看结果。
- en: '![Figure 8.52: The working of pane (down)'
  id: totrans-319
  prefs: []
  type: TYPE_NORMAL
  zh: '![图8.52：面板（向下）的工作原理]'
- en: '](img/B16342_08_52.jpg)'
  id: totrans-320
  prefs: []
  type: TYPE_NORMAL
  zh: '![图B16342_08_52.jpg]'
- en: 'Figure 8.52: The working of pane (down)'
  id: totrans-321
  prefs: []
  type: TYPE_NORMAL
  zh: 图8.52：面板（向下）的工作原理
- en: As you see, the values in each blue pane (highlighted) are summed in a downward
    direction, and this process restarts after every pane. Here, you can compare quarterly
    profits. For example, for `Q1` `2016`, the total profit is `$3,811` and similarly,
    for `Q1` `2017`, it is `$9,265`, which is approximately 2.5 times more profit.
    The same is cannot be said for `Q2` profits. Based on this, you can try to analyze
    the reasoning behind such differences, and use those insights to tweak business
    strategy.
  id: totrans-322
  prefs: []
  type: TYPE_NORMAL
  zh: 如您所见，每个蓝色面板（突出显示）中的值向下求和，并且在每个面板之后此过程重新开始。在这里，您可以比较季度利润。例如，对于“2016年”的“Q1”，总利润为$3,811，同样，对于“2017年”的“Q1”，它为$9,265，这大约是2.5倍的利润。对于“Q2”利润则不能这么说。基于此，您可以尝试分析这种差异背后的原因，并利用这些见解调整商业策略。
- en: Next, you will learn about `Pane(across then down)` and `Pane(down then across)`.
    `Pane(across then down)` is a combination of `Pane(across)` and `Pane(down)`;
    that is, it computes the calculation horizontally across the pane and combines
    the result with the values in the next pane. `Pane(down then across)` is the opposite
    of `Pane(across then down)`, as it performs the calculation vertically down the
    pane and combines the result with the values in the next pane. The next exercise
    looks at this in detail.
  id: totrans-323
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，您将了解“面板（先横后纵）”和“面板（先纵后横）”。“面板（先横后纵）”是“面板（先横）”和“面板（向下）”的组合；即它在面板水平方向上计算计算，并将结果与下一个面板中的值合并。“面板（先纵后横）”是“面板（先横后纵）”的相反，因为它在面板垂直方向上执行计算，并将结果与下一个面板中的值合并。下一个练习将详细探讨这一点。
- en: 'Exercise 8.12: Creating a Pane-Level Calculation'
  id: totrans-324
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 练习8.12：创建面板级计算
- en: 'This exercise continues with the example of car manufacturer sales. Suppose
    you want the sales per segment per quarter for the different years together. Here,
    you can use the option of `Pane(across then down)` or `Pane(down then across)`.
    The result combines all detailed panes into a cumulative overall total. The following
    steps will help you complete this exercise:'
  id: totrans-325
  prefs: []
  type: TYPE_NORMAL
  zh: 本练习继续以汽车制造商的销售为例。假设您想查看不同年份每个季度每个细分市场的销售。在这里，您可以使用“面板（先横后纵）”或“面板（先纵后横）”选项。结果将所有详细面板合并为一个累计总体总和。以下步骤将帮助您完成此练习：
- en: Load the `Sample – Superstore` dataset in your Tableau instance.
  id: totrans-326
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在您的Tableau实例中加载“Sample – Superstore”数据集。
- en: 'Before creating the view, you must first create a combined field for `Category`
    and `Sub-Category`. This is required for the `Pane(across then down)` calculation,
    else Tableau will merge the sub-categories. Select `Category` and `Sub-Category`
    together, then, right-click and select `Create` and then `Combined Field`, as
    follows:'
  id: totrans-327
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在创建视图之前，您必须首先为“Category”和“Sub-Category”创建一个组合字段。这对于“面板（先横后纵）”计算是必需的，否则Tableau将合并子类别。选择“Category”和“Sub-Category”一起，然后，右键单击并选择“创建”然后“组合字段”，如下所示：
- en: '![Figure 8.53: Creating a combined field'
  id: totrans-328
  prefs: []
  type: TYPE_NORMAL
  zh: '![图8.53：创建组合字段]'
- en: '](img/B16342_08_53.jpg)'
  id: totrans-329
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片 B16342_08_53.jpg](img/B16342_08_53.jpg)'
- en: 'Figure 8.53: Creating a combined field'
  id: totrans-330
  prefs: []
  type: TYPE_NORMAL
  zh: 图8.53：创建组合字段
- en: 'Create a view that shows `YEAR(Order Date)` and `QUARTER(Order Date)` against
    `Category`, `Sub-Category`, and the combined field. Also, add the running total
    for `SUM(Profit)`, as follows:'
  id: totrans-331
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个视图，显示`Order Date`的`YEAR`和`QUARTER`与`Category`、`Sub-Category`以及组合字段对比。同时，添加`SUM(Profit)`的累计总和，如下所示：
- en: '![Figure 8.54: Initial view with the running total for SUM(Profit)'
  id: totrans-332
  prefs: []
  type: TYPE_NORMAL
  zh: '![图8.54：带有SUM(Profit)累计总和的初始视图]'
- en: '](img/B16342_08_54.jpg)'
  id: totrans-333
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片 B16342_08_54.jpg](img/B16342_08_54.jpg)'
- en: 'Figure 8.54: Initial view with the running total for SUM(Profit)'
  id: totrans-334
  prefs: []
  type: TYPE_NORMAL
  zh: 图8.54：带有SUM(Profit)累计总和的初始视图
- en: 'Filter on `YEAR(Order Date)` as `2016` and `2017`. Also, filter on `Category`
    by selecting `Furniture` and `Technology`, as follows:'
  id: totrans-335
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 根据`YEAR(Order Date)`筛选`2016`和`2017`。同时，通过选择`Furniture`和`Technology`筛选`Category`，如下所示：
- en: '![Figure 8.55: Adding category and YEAR filters'
  id: totrans-336
  prefs: []
  type: TYPE_NORMAL
  zh: '![图8.55：添加类别和YEAR筛选器]'
- en: '](img/B16342_08_55.jpg)'
  id: totrans-337
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片 B16342_08_55.jpg](img/B16342_08_55.jpg)'
- en: 'Figure 8.55: Adding category and YEAR filters'
  id: totrans-338
  prefs: []
  type: TYPE_NORMAL
  zh: 图8.55：添加类别和YEAR筛选器
- en: You now have two horizontal `Year` panes and two vertical `Category` panes.
    Select the `Pane(across then down)` option by clicking again on `SUM(Profit)`.
  id: totrans-339
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您现在有两个水平的`Year`面板和两个垂直的`Category`面板。通过再次点击`SUM(Profit)`选择`Pane(across then down)`选项。
- en: '![Figure 8.56: Accessing compute using | pane (across then down)'
  id: totrans-340
  prefs: []
  type: TYPE_NORMAL
  zh: '![图8.56：使用|面板（先横后竖）访问计算]'
- en: '](img/B16342_08_56.jpg)'
  id: totrans-341
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片 B16342_08_56.jpg](img/B16342_08_56.jpg)'
- en: 'Figure 8.56: Accessing compute using | pane (across then down)'
  id: totrans-342
  prefs: []
  type: TYPE_NORMAL
  zh: 图8.56：使用|面板（先横后竖）访问计算
- en: 'On selecting `Pane(across then down)`, the output generated is as follows:'
  id: totrans-343
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择`Pane(across then down)`后，生成的输出如下：
- en: '![Figure 8.57: Final output for pane (across then down)'
  id: totrans-344
  prefs: []
  type: TYPE_NORMAL
  zh: '![图8.57：面板（先横后竖）的最终输出]'
- en: '](img/B16342_08_57.jpg)'
  id: totrans-345
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片 B16342_08_57.jpg](img/B16342_08_57.jpg)'
- en: 'Figure 8.57: Final output for pane (across then down)'
  id: totrans-346
  prefs: []
  type: TYPE_NORMAL
  zh: 图8.57：面板（先横后竖）的最终输出
- en: To understand this better, add `Profit` to the view and calculate the result.
  id: totrans-347
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为了更好地理解，将`Profit`添加到视图中并计算结果。
- en: '![Figure 8.58: The working of pane (across then down)'
  id: totrans-348
  prefs: []
  type: TYPE_NORMAL
  zh: '![图8.58：面板（先横后竖）的工作原理]'
- en: '](img/B16342_08_58.jpg)'
  id: totrans-349
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片 B16342_08_58.jpg](img/B16342_08_58.jpg)'
- en: 'Figure 8.58: The working of pane (across then down)'
  id: totrans-350
  prefs: []
  type: TYPE_NORMAL
  zh: 图8.58：面板（先横后竖）的工作原理
- en: Notice the blue arrows, which indicate the profits being summed from the first
    to the last value in that row; the orange arrow indicates that the last value
    of each row is added to the first value of the next row. This process is repeated
    until the last row for each year. Once a year is completed, the calculation restarts
    for the next year. You can validate the numbers by looking at the `Sum(Profit)`
    values, as seen on the right side.
  id: totrans-351
  prefs: []
  type: TYPE_NORMAL
  zh: 注意蓝色箭头，它们表示从该行的第一个值到最后一个值的利润总和；橙色箭头表示每行的最后一个值加到下一行的第一个值。这个过程一直重复，直到每年的最后一行。一旦一年完成，计算将重新开始下一年。您可以通过查看右侧的`Sum(Profit)`值来验证这些数字。
- en: 'Change the calculation to `Pane(down then across)`, as shown in the following
    figure:'
  id: totrans-352
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将计算更改为如图所示的`Pane(down then across)`：
- en: '![Figure 8.59: Accessing compute using | pane (down then across)'
  id: totrans-353
  prefs: []
  type: TYPE_NORMAL
  zh: '![图8.59：使用|面板（先竖后横）访问计算]'
- en: '](img/B16342_08_59.jpg)'
  id: totrans-354
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片 B16342_08_59.jpg](img/B16342_08_59.jpg)'
- en: 'Figure 8.59: Accessing compute using | pane (down then across)'
  id: totrans-355
  prefs: []
  type: TYPE_NORMAL
  zh: 图8.59：使用|面板（先竖后横）访问计算
- en: 'The output generated will be as follows:'
  id: totrans-356
  prefs: []
  type: TYPE_NORMAL
  zh: 生成的输出将如下所示：
- en: '![Figure 8.60: Final output for Pane (down then across)'
  id: totrans-357
  prefs: []
  type: TYPE_NORMAL
  zh: '![图8.60：面板（先竖后横）的最终输出]'
- en: '](img/B16342_08_60.jpg)'
  id: totrans-358
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片 B16342_08_60.jpg](img/B16342_08_60.jpg)'
- en: 'Figure 8.60: Final output for Pane (down then across)'
  id: totrans-359
  prefs: []
  type: TYPE_NORMAL
  zh: 图8.60：面板（先竖后横）的最终输出
- en: To understand this better, add `Profit` to the view and calculate the result
    for `2016`.
  id: totrans-360
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为了更好地理解，将`Profit`添加到视图中，并计算`2016`的结果。
- en: '![Figure 8.61: The working of pane (down then across)'
  id: totrans-361
  prefs: []
  type: TYPE_NORMAL
  zh: '![图8.61：面板（先竖后横）的工作原理]'
- en: '](img/B16342_08_61.jpg)'
  id: totrans-362
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片 B16342_08_61.jpg](img/B16342_08_61.jpg)'
- en: 'Figure 8.61: The working of pane (down then across)'
  id: totrans-363
  prefs: []
  type: TYPE_NORMAL
  zh: 图8.61：面板（先竖后横）的工作原理
- en: Observe the blue arrows, which indicate the profits being summed from the first
    to the last value in the column. The orange arrow indicates that the last value
    of each column is added to the first value of the next column. This process is
    repeated until the last row for each year. Once a year is completed, the calculation
    restarts for the next year. Once again, you can validate the numbers by looking
    at the `Sum(Profit)` values, as seen on the right side.
  id: totrans-364
  prefs: []
  type: TYPE_NORMAL
  zh: 观察蓝色箭头，它们表示从列中的第一个值到最后一个值的利润总和。橙色箭头表示每列的最后一个值加到下一列的第一个值。这个过程一直重复，直到每年的最后一行。一旦一年完成，计算将重新开始下一年。您可以通过查看右侧的`Sum(Profit)`值来验证这些数字。
- en: Cell
  id: totrans-365
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 单元格
- en: '`Cell` computes across the individual cells. The result is the same as adding
    the measure to the shelf directly, as shown in the following figure (the cell
    is highlighted using a box):'
  id: totrans-366
  prefs: []
  type: TYPE_NORMAL
  zh: “单元格”计算跨越单个单元格。结果与直接将度量值添加到架子上相同，如下图所示（单元格用框突出显示）：
- en: '![Figure 8.62: Computing using cell'
  id: totrans-367
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 8.62：使用单元格进行计算](img/B16342_08_65.jpg)'
- en: '](img/B16342_08_62.jpg)'
  id: totrans-368
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_08_62.jpg)'
- en: 'Figure 8.62: Computing using cell'
  id: totrans-369
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.62：使用单元格进行计算
- en: The values are the same in both tables. `Specific Dimensions` computes using
    the dimensions you specify. You will learn about this in more detail in the following section.
  id: totrans-370
  prefs: []
  type: TYPE_NORMAL
  zh: 两个表中的值相同。“特定维度”使用您指定的维度进行计算。您将在下一节中详细了解这一点。
- en: Creating, Editing, and Removing Table Calculations
  id: totrans-371
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 创建、编辑和删除表格计算
- en: Hopefully you now have a good understanding of quick table calculations, but
    what if you need to use some other calculation, such as ranking the rows in a
    table? Here, you can use the `Create` calculation window. Tableau supports many
    table functions besides quick table calculations. In this section, you will learn
    how to create, access, edit, and remove a table calculation.
  id: totrans-372
  prefs: []
  type: TYPE_NORMAL
  zh: 希望您现在对快速表格计算有了很好的理解，但如果您需要使用其他计算，比如对表格中的行进行排名，怎么办？在这里，您可以使用“创建”计算窗口。Tableau
    支持许多表格函数，除了快速表格计算。在本节中，您将学习如何创建、访问、编辑和删除表格计算。
- en: Creating a New Table Calculation
  id: totrans-373
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 创建新的表格计算
- en: 'To create a table calculation, right-click on any measure value, and then click
    on `Create` , then `Calculated Field...`, as follows:'
  id: totrans-374
  prefs: []
  type: TYPE_NORMAL
  zh: 要创建表格计算，右键单击任何度量值，然后点击“创建”，然后“计算字段...”，如下所示：
- en: '![Figure 8.63: Creating a calculated field from Profit'
  id: totrans-375
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 8.63：从利润创建计算字段'
- en: '](img/B16342_08_63.jpg)'
  id: totrans-376
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_08_63.jpg)'
- en: 'Figure 8.63: Creating a calculated field from Profit'
  id: totrans-377
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.63：从利润创建计算字段
- en: 'Once you click on `Calculated Field...`, a calculation editor window will open
    up, as follows:'
  id: totrans-378
  prefs: []
  type: TYPE_NORMAL
  zh: 当您点击“计算字段...”时，将打开一个计算编辑器窗口，如下所示：
- en: '![Figure 8.64: Calculation editor'
  id: totrans-379
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 8.64：计算编辑器'
- en: '](img/B16342_08_64.jpg)'
  id: totrans-380
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_08_64.jpg)'
- en: 'Figure 8.64: Calculation editor'
  id: totrans-381
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.64：计算编辑器
- en: 'Now, you can click on the dropdown and select the `Table Calculation` menu,
    as follows:'
  id: totrans-382
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，您可以点击下拉菜单并选择“表格计算”菜单，如下所示：
- en: '![Figure 8.65: Accessing table calculation functions in the calculation editor'
  id: totrans-383
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 8.65：在计算编辑器中访问表格计算功能'
- en: '](img/B16342_08_65.jpg)'
  id: totrans-384
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_08_63.jpg)'
- en: 'Figure 8.65: Accessing table calculation functions in the calculation editor'
  id: totrans-385
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.65：在计算编辑器中访问表格计算功能
- en: 'Next, the list of all the table calculations supported by Tableau appears,
    as follows:'
  id: totrans-386
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，显示所有由 Tableau 支持的表格计算列表，如下所示：
- en: '![Figure 8.66: Various table calculation functions'
  id: totrans-387
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 8.66：各种表格计算功能'
- en: '](img/B16342_08_66.jpg)'
  id: totrans-388
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_08_66.jpg)'
- en: 'Figure 8.66: Various table calculation functions'
  id: totrans-389
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.66：各种表格计算功能
- en: In Tableau, it's very easy to understand these table calculations. Each calculation
    is defined by specifying the syntax for use, the expected result from using the
    calculation, followed by an example.
  id: totrans-390
  prefs: []
  type: TYPE_NORMAL
  zh: 在 Tableau 中，理解这些表格计算非常容易。每个计算都是通过指定使用语法、使用计算预期的结果以及示例来定义的。
- en: You are already familiar with `RUNNING_TOTAL`, which is similar to `RUNNING_SUM`.
    The same calculation type can be used to do a variety of operations, such as sum,
    average, and finding the minimum and maximum values, which can be referenced under
    the table calculation menu.
  id: totrans-391
  prefs: []
  type: TYPE_NORMAL
  zh: 您已经熟悉了 `RUNNING_TOTAL`，它与 `RUNNING_SUM` 类似。相同的计算类型可以用于执行各种操作，如求和、平均值以及查找最小值和最大值，这些都可以在表格计算菜单下引用。
- en: 'Exercise 8.13: Creating a Table Calculation Using the Calculation Editor'
  id: totrans-392
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 练习 8.13：使用计算编辑器创建表格计算
- en: 'In your projects, you might need to use one of the table calculation functions
    in the view. An example of this is the index function, which adds serial numbers
    to the rows in the view. You can do this by creating a table calculation. In this
    exercise, you will calculate the rank of `Sub-Category` based on `SUM(Profit)`
    across years. The following steps will help you complete this exercise:'
  id: totrans-393
  prefs: []
  type: TYPE_NORMAL
  zh: 在您的项目中，您可能需要使用视图中的某个表格计算函数。例如，索引函数会将序列号添加到视图中的行。您可以通过创建表格计算来实现这一点。在本练习中，您将根据“利润”的年度总和计算“子类别”的排名。以下步骤将帮助您完成此练习：
- en: 'Load the `Sample – Superstore` dataset in your Tableau instance. Use the combined
    field that you created earlier along with `YEAR(Order Date)`. Create a view as
    follows and also filter `Category` for `Furniture`:'
  id: totrans-394
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在您的 Tableau 实例中加载“Sample – Superstore”数据集。使用您之前创建的合并字段以及“订单日期”的“年”。创建如下视图，并过滤“类别”为“家具”：
- en: '![Figure 8.67: Initial view with SUM(Profit)'
  id: totrans-395
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 8.67：带有 SUM(Profit) 的初始视图'
- en: '](img/B16342_08_67.jpg)'
  id: totrans-396
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_08_67.jpg)'
- en: 'Figure 8.67: Initial view with SUM(Profit)'
  id: totrans-397
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.67：带有 SUM(Profit) 的初始视图
- en: Now, create a `RANK` table calculation. Right-click on `Profit` in the data
    pane and select `Create` | `Calculated Field…`. This will open up the calculation editor.
  id: totrans-398
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，创建一个 `RANK` 表格计算。在数据面板中右键点击 `Profit` 并选择 `Create` | `Calculated Field…`。这将打开计算编辑器。
- en: '![Figure 8.68: Creating a calculation using Profit'
  id: totrans-399
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 8.68：使用 Profit 创建计算'
- en: '](img/B16342_08_68.jpg)'
  id: totrans-400
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_08_68.jpg)'
- en: 'Figure 8.68: Creating a calculation using Profit'
  id: totrans-401
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.68：使用 Profit 创建计算
- en: 'Add the following expression to the calculation editor:'
  id: totrans-402
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将以下表达式添加到计算编辑器中：
- en: '[PRE0]'
  id: totrans-403
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'This is shown in the following figure:'
  id: totrans-404
  prefs: []
  type: TYPE_NORMAL
  zh: 这在以下图中显示：
- en: '![Figure 8.69: Profit_Rank calculation'
  id: totrans-405
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 8.69：Profit_Rank 计算过程'
- en: '](img/B16342_08_69.jpg)'
  id: totrans-406
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_08_69.jpg)'
- en: 'Figure 8.69: Profit_Rank calculation'
  id: totrans-407
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.69：Profit_Rank 计算过程
- en: Name it `Profit_Rank`.
  id: totrans-408
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将其命名为 `Profit_Rank`.
- en: 'Drag this onto the view on `Text`, as follows:'
  id: totrans-409
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将其拖拽到 `Text` 视图上，如下所示：
- en: '![Figure 8.70: Adding the Profit_Rank calculation to the view'
  id: totrans-410
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 8.70：将 Profit_Rank 计算添加到视图中'
- en: '](img/B16342_08_70.jpg)'
  id: totrans-411
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_08_70.jpg)'
- en: 'Figure 8.70: Adding the Profit_Rank calculation to the view'
  id: totrans-412
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.70：将 Profit_Rank 计算添加到视图中
- en: 'Observe that the default is the `Table (across)` direction. Edit this and try
    to change the computation on specific dimensions in the view. Click on the `Profit_Rank`
    dropdown and select `Edit Table Calculation…` and then `Specific Dimensions`,
    as shown in the following figure:'
  id: totrans-413
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 观察到默认方向是 `Table (across)`。编辑此方向并尝试更改视图中特定维度的计算。点击 `Profit_Rank` 下拉菜单并选择 `Edit
    Table Calculation…` 然后选择 `Specific Dimensions`，如图所示：
- en: '![Figure 8.71: Accessing edit table calculation'
  id: totrans-414
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 8.71：访问编辑表格计算'
- en: '](img/B16342_08_71.jpg)'
  id: totrans-415
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_08_71.jpg)'
- en: 'Figure 8.71: Accessing edit table calculation'
  id: totrans-416
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.71：访问编辑表格计算
- en: 'Using these options, you can control how the table calculation is computed.
    It is important to understand the different options here:'
  id: totrans-417
  prefs: []
  type: TYPE_NORMAL
  zh: 使用这些选项，您可以控制表格计算的计算方式。了解这里的不同选项非常重要：
- en: '`At the level`: This determines the level at which the calculation is computed.
    The level here implies the different dimensions in the view, such as `Category`
    and `Sub-Category`. `Deepest` is the default if multiple dimensions are selected,
    which means the computation will happen at the lowest level of granularity, which
    is `Sub-Category` in your view.'
  id: totrans-418
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`在级别上`: 这决定了计算的级别。这里的级别指的是视图中不同的维度，例如 `Category` 和 `Sub-Category`。如果选择多个维度，则默认为
    `Deepest`，这意味着计算将在最低粒度级别发生，在您的视图中即为 `Sub-Category`。'
- en: '![Figure 8.72: Various options under the At the level dropdown'
  id: totrans-419
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 8.72：在 `At the level` 下拉菜单下的各种选项'
- en: '](img/B16342_08_72.jpg)'
  id: totrans-420
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_08_72.jpg)'
- en: 'Figure 8.72: Various options under the At the level dropdown'
  id: totrans-421
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.72：在 `At the level` 下拉菜单下的各种选项
- en: '`Restarting every`: This option can be used to restart the computation based
    on the field selected.'
  id: totrans-422
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`每重启一次`: 此选项可以根据所选字段重新启动计算。'
- en: '![Figure 8.73: Various options under the Restarting every dropdown'
  id: totrans-423
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 8.73：在 `Restarting every` 下拉菜单下的各种选项'
- en: '](img/B16342_08_73.jpg)'
  id: totrans-424
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_08_73.jpg)'
- en: 'Figure 8.73: Various options under the Restarting every dropdown'
  id: totrans-425
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.73：在 `Restarting every` 下拉菜单下的各种选项
- en: '`Show calculation assistance`: This option highlights how the computation will
    work based on your selections. As the following figure shows, based on the selections,
    `Profit_Rank` will work in the downward direction (highlighted):'
  id: totrans-426
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`显示计算辅助`: 此选项突出显示根据您的选择计算的方式。如图所示，根据选择，`Profit_Rank` 将按向下方向工作（突出显示）：'
- en: '![Figure 8.74: Using Show calculation assistance'
  id: totrans-427
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 8.74：使用显示计算辅助功能'
- en: '](img/B16342_08_74.jpg)'
  id: totrans-428
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_08_74.jpg)'
- en: 'Figure 8.74: Using Show calculation assistance'
  id: totrans-429
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.74：使用显示计算辅助功能
- en: This view showed how you can perform table calculations at different levels
    using the dimensions in the view.
  id: totrans-430
  prefs: []
  type: TYPE_NORMAL
  zh: 此视图展示了如何使用视图中的维度在不同级别执行表格计算。
- en: Removing a Table Calculation
  id: totrans-431
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 移除表格计算
- en: 'Once you have added a table calculation, you should also be able to remove
    it. This can be done by clicking on an existing quick table calculation and selecting
    the `Clear Table Calculation` option, as follows:'
  id: totrans-432
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦添加了表格计算，您也应该能够将其移除。这可以通过点击现有的快速表格计算并选择 `Clear Table Calculation` 选项来完成，如下所示：
- en: '![Figure 8.75: Selecting the Clear Table Calculation option'
  id: totrans-433
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 8.75：选择清除表格计算选项'
- en: '](img/B16342_08_75.jpg)'
  id: totrans-434
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_08_75.jpg)'
- en: 'Figure 8.75: Selecting the Clear Table Calculation option'
  id: totrans-435
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.75：选择清除表格计算选项
- en: 'Activity 8.01: Managing Hospital Bed Allocations'
  id: totrans-436
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 活动练习 8.01：管理医院床位分配
- en: There may be scenarios where you need to use the historic value of a measure
    to compute its current value, for example, when finding the cumulative sum of
    sales for all quarters in a year.This can, in turn, help you visualize the entire
    year's sales, or the sales difference, compared to previous quarters. In such
    cases, a table calculation can be useful, as all logic is inbuilt, and you need
    only apply the calculation to the measure value.
  id: totrans-437
  prefs: []
  type: TYPE_NORMAL
  zh: 可能存在需要使用度量历史值来计算其当前值的情况，例如，在计算一年中所有季度的销售累计总和时。这反过来可以帮助你可视化整个年度的销售，或与之前季度相比的销售差异。在这种情况下，表格计算可能很有用，因为所有逻辑都是内置的，你只需要将计算应用于度量值。
- en: In this activity, you will apply table calculations to a hospital-based project,
    to identify how many patients are currently admitted.You willconsider factors
    such as new admissions, discharges, and routine follow-ups, to check whether the
    threshold for beds is sufficient. By doing this, you can ensure the hospital will
    not run out of beds in the case of an emergency.
  id: totrans-438
  prefs: []
  type: TYPE_NORMAL
  zh: 在此活动中，你将应用表格计算到一个基于医院的工程项目中，以确定当前有多少病人被入院。你将考虑新入院、出院和常规随访等因素，以检查床位阈值是否足够。通过这样做，你可以确保在紧急情况下医院不会耗尽床位。
- en: In the dataset, there is a date column indicating the current day, an Open column
    indicating the number of patients admitted, Discharges indicating the number of
    discharges, and Re-open indicating the number of patients getting re-admitted
    or following up for a previous admission. In addition, you also need to keep 100
    of the total 900 beds free in case of an emergency. If the number of patients
    exceeds 600, it should be highlighted visually.
  id: totrans-439
  prefs: []
  type: TYPE_NORMAL
  zh: 在数据集中，有一个表示当前日期的日期列，一个表示进入病人数量的 Open 列，一个表示出院数量的 Discharges 列，以及一个表示再次入院或跟进先前入院的患者数量的
    Re-open 列。此外，在紧急情况下，你还需要保留 900 张床位中的 100 张空闲。如果病人数量超过 600，应该进行视觉突出显示。
- en: Note
  id: totrans-440
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: The dataset used for this activity can be found and downloaded from [https://packt.link/NNzlJ](https://packt.link/NNzlJ).
  id: totrans-441
  prefs: []
  type: TYPE_NORMAL
  zh: 用于此活动的数据集可以从 [https://packt.link/NNzlJ](https://packt.link/NNzlJ) 查找和下载。
- en: 'The following steps will help you complete this activity:'
  id: totrans-442
  prefs: []
  type: TYPE_NORMAL
  zh: 以下步骤将帮助你完成此活动：
- en: Open and connect the dataset for `Activity 1` in your Tableau instance.
  id: totrans-443
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在你的 Tableau 实例中打开并连接 `活动 1` 的数据集。
- en: Create a calculation named `current_patients` to find the number of patients
    currently admitted. This can be calculated after considering the `Open`, `Discharges`,
    and `Re-open` columns.
  id: totrans-444
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个名为 `current_patients` 的计算，以找到当前入院的患者数量。这可以在考虑 `Open`、`Discharges` 和 `Re-open`
    列之后进行计算。
- en: Once you have a bar chart view, display the date at the exact date level, along
    with the number of patients currently in the hospital, using the `current_patients`
    field created in the previous step. This view helps you view how many patients
    are admitted on a given day.
  id: totrans-445
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一旦你有一个条形图视图，使用之前步骤中创建的 `current_patients` 字段，在精确的日期级别显示日期，以及当前医院中的病人数量。这种视图可以帮助你查看给定日期有多少病人被入院。
- en: Add a `running_sum` table calculation to the `current_patients` table calculation
    in the existing view. This view helps you visualize the number of patients admitted
    on a given day considering all the previous days as well.
  id: totrans-446
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在现有视图中，将 `running_sum` 表格计算添加到 `current_patients` 表格计算中。这个视图可以帮助你可视化在给定日期被入院的患者数量，同时考虑所有之前的日子。
- en: Create another calculation named Alert to indicate that the patient count is
    above 600\. You need to use running_sum to identify the number of patients on
    a given day.
  id: totrans-447
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建另一个名为 Alert 的计算，以指示病人数量超过 600。你需要使用 running_sum 来确定给定日期的病人数量。
- en: Now, you should be able to analyze the total number of patients admitted to
    the hospital, and see whether there are enough beds available.
  id: totrans-448
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，你应该能够分析进入医院的病人总数，并查看是否有足够的床位可用。
- en: 'The initial view is as follows:'
  id: totrans-449
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 初始视图如下：
- en: '![Figure 8.76: Initial view – activity'
  id: totrans-450
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 8.76：初始视图 – 活动'
- en: '](img/B16342_08_76.jpg)'
  id: totrans-451
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片](img/B16342_08_76.jpg)'
- en: 'Figure 8.76: Initial view – activity'
  id: totrans-452
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.76：初始视图 – 活动
- en: 'The final output is as follows:'
  id: totrans-453
  prefs: []
  type: TYPE_NORMAL
  zh: 最终输出如下：
- en: '![Figure 8.77: Final view – activity'
  id: totrans-454
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 8.77：最终视图 – 活动'
- en: '](img/B16342_08_77.jpg)'
  id: totrans-455
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片](img/B16342_08_77.jpg)'
- en: 'Figure 8.77: Final view – activity'
  id: totrans-456
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.77：最终视图 – 活动
- en: Here, you can see that in 2009, there was a period when the number of patients
    was more than the number of beds. Although such incidents are rare, it is imperative
    that they are managed properly.
  id: totrans-457
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，你可以看到在 2009 年，有一段时间病人的数量超过了床位数。尽管这类事件很少发生，但它们必须得到妥善管理。
- en: With this activity, you strengthened your knowledge of creating and using table
    calculations. This activity helped you see how you can use cumulative values to
    better analyze data, by highlighting anomalies or events that may have a significant
    business impact.
  id: totrans-458
  prefs: []
  type: TYPE_NORMAL
  zh: 通过这个活动，您加强了创建和使用表格计算的知识。这个活动帮助您看到如何使用累积值来更好地分析数据，通过突出显示可能对业务产生重大影响的不规则或事件。
- en: Note
  id: totrans-459
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: 'The solution to this activity can be found here: [https://packt.link/CTCxk](https://packt.link/CTCxk)'
  id: totrans-460
  prefs: []
  type: TYPE_NORMAL
  zh: 本活动的解决方案可在此处找到：[https://packt.link/CTCxk](https://packt.link/CTCxk)
- en: 'Activity 8.02: Planning for a Healthy Population'
  id: totrans-461
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 活动8.02：为健康人群规划
- en: In the previous activity, you created a visualization to indicate a drastic
    increase in the number of patients. As an analyst, you should also be able to
    use historic data, and identify patterns when the number of patients go up.
  id: totrans-462
  prefs: []
  type: TYPE_NORMAL
  zh: 在上一个活动中，您创建了一个可视化图表来显示患者数量的急剧增加。作为一名分析师，您还应该能够使用历史数据，并在患者数量上升时识别出模式。
- en: 'In this activity, you will use a range window to identify when the current
    admissions increase, and whether there is a specific observable trend. In this
    way, the hospital can be better prepared for the future. You will use the same
    hospital data used in the previous activity. The following steps will help you
    complete this activity:'
  id: totrans-463
  prefs: []
  type: TYPE_NORMAL
  zh: 在本活动中，您将使用范围窗口来识别当前入院人数何时增加，以及是否存在特定的可观察趋势。通过这种方式，医院可以更好地为未来做好准备。您将使用之前活动中使用的相同医院数据。以下步骤将帮助您完成本活动：
- en: Plot the window average of the `RUNNING_SUM` of `current_patients`, weekly.
    A window average takes the average of all values in the window, which in this
    case is the view.
  id: totrans-464
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 每周绘制`current_patients`的`RUNNING_SUM`的窗口平均值。窗口平均值取窗口中所有值的平均值，在本例中是视图。
- en: Remove the average for the last 10-week range to check whether the count of
    currently admitted patients goes up or down. Create a parameter that can be used
    as input for the range; you can name it `Range_input`.
  id: totrans-465
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 移除最后10周范围的平均值，以检查当前入院患者的数量是上升还是下降。创建一个参数，用作范围输入；您可以将其命名为`Range_input`。
- en: Use this `Range_input` parameter as the input for the `WINDOW_AVG` calculation
    named avg_admitted. You need to calculate the average from the last 10 weeks to
    the current week.
  id: totrans-466
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用此`Range_input`参数作为名为`avg_admitted`的`WINDOW_AVG`计算的输入。您需要从上周开始计算到当前周的10周平均值。
- en: Use a dual-axis to show the `RUNNING_SUM` of current_patients and `WINDOW_AVERAGE`.
    Recall that a dual-axis is used to show two measures side by side in the same
    view. Right-click on the axis to enable this option after adding both measures.
  id: totrans-467
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用双轴来显示`current_patients`的`RUNNING_SUM`和`WINDOW_AVERAGE`。回想一下，双轴用于在同一个视图中并排显示两个度量。在添加两个度量后，右键单击轴以启用此选项。
- en: Create an alert to compare the `RUNNING_SUM` of `current_patients` and `avg_admitted`.
    Highlight the weeks when the sum is more than the average.
  id: totrans-468
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个警报来比较`current_patients`的`RUNNING_SUM`和`avg_admitted`。突出显示总和超过平均值的周。
- en: 'The initial view would look like this:'
  id: totrans-469
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 初始视图将如下所示：
- en: '![Figure 8.78: Initial view – activity'
  id: totrans-470
  prefs: []
  type: TYPE_NORMAL
  zh: '![图8.78：初始视图 – 活动'
- en: '](img/B16342_08_78.jpg)'
  id: totrans-471
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片 B16342_08_78.jpg]'
- en: 'Figure 8.78: Initial view – activity'
  id: totrans-472
  prefs: []
  type: TYPE_NORMAL
  zh: 图8.78：初始视图 – 活动
- en: 'The final view should look like this:'
  id: totrans-473
  prefs: []
  type: TYPE_NORMAL
  zh: 最终视图应如下所示：
- en: '![Figure 8.79: Final view – activity'
  id: totrans-474
  prefs: []
  type: TYPE_NORMAL
  zh: '![图8.79：最终视图 – 活动'
- en: '](img/B16342_08_79.jpg)'
  id: totrans-475
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片 B16342_08_79.jpg]'
- en: 'Figure 8.79: Final view – activity'
  id: totrans-476
  prefs: []
  type: TYPE_NORMAL
  zh: 图8.79：最终视图 – 活动
- en: You can now see when the current admitted patient count has gone higher than
    the 10-week average. The range can be changed based on the requirement by changing
    the input. An interesting observation is the month of July, which had a higher-than-average
    number of patients for the all of the previous 3 years, indicating thepossibility
    for a similar occurance for next July.
  id: totrans-477
  prefs: []
  type: TYPE_NORMAL
  zh: 您现在可以看到当前入院患者数量何时超过了10周的平均值。根据需求，可以通过更改输入来更改范围。一个有趣的观察结果是7月份，在过去3年中，7月份的患者数量都高于平均水平，这表明下一年7月份可能发生类似的情况。
- en: Note
  id: totrans-478
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: 'The solution to this activity can be found here: [https://packt.link/CTCxk](https://packt.link/CTCxk).'
  id: totrans-479
  prefs: []
  type: TYPE_NORMAL
  zh: 本活动的解决方案可在此处找到：[https://packt.link/CTCxk](https://packt.link/CTCxk)。
- en: Summary
  id: totrans-480
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: In this chapter, you learned about table calculations. You started by performing
    some quick table calculations, used to quickly apply commonly used table calculations
    in the view. Then, you explored ways to apply a table calculation using addressing
    and partitioning – how addressing defines the direction of the calculation, while
    partitioning defines its scope. Finally, you learned about creating a table calculation
    using the calculation editor, and about ways to address the view using specific dimensions.
  id: totrans-481
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，你学习了表格计算。你从执行一些快速表格计算开始，这些计算用于快速在视图中应用常用的表格计算。然后，你探索了使用地址和分区应用表格计算的方法——地址定义了计算的指向，而分区定义了其范围。最后，你学习了如何使用计算编辑器创建表格计算，以及如何使用特定维度来定位视图。
- en: In the next chapter, you will learn about `Level of Detail`, which is another
    powerful concept, used to control how views are displayed.
  id: totrans-482
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一章中，你将学习关于“详细程度”的概念，这是一个强大的概念，用于控制视图的显示方式。
