- en: ArcGIS API for Python
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: ArcGIS Python API
- en: What is the ArcGIS API for Python?
  id: totrans-1
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 什么是ArcGIS Python API？
- en: The ArcGIS API for Python is a Python package designed to work with web GIS.
    It allows you to work directly with data hosted on ArcGIS Online or ArcGIS Enterprise.
    Previously you have been using ArcPy, which is excellent for desktop work, but
    has limited capabilities when working with hosted data. The ArcGIS API for Python
    provides tool to do many of the same functions that ArcPy does such as create
    maps, geocode, manage data, and geoprocessing but within your ArcGIS Online or
    ArcGIS Enterprise account. In addition to this you can manage your organizations
    web GIS data by managing users, groups, and items. It is important to note that
    while all of the examples you will work through are within ArcGIS Pro Notebooks,
    you don’t have to work through ArcGIS Pro. You could install a stand-alone environment
    with **conda** and access everything through a Jupyter Notebook environment. This
    book will not cover that as it is focused on working with Python within ArcGIS
    Pro.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: ArcGIS Python API是一个为Web GIS设计的Python包。它允许你直接处理托管在ArcGIS Online或ArcGIS Enterprise上的数据。之前你使用的是ArcPy，虽然它非常适合桌面工作，但在处理托管数据时功能有限。ArcGIS
    Python API提供了许多与ArcPy相同的功能，例如创建地图、地理编码、管理数据和地理处理，但它是在你的ArcGIS Online或ArcGIS Enterprise账户中进行的。除此之外，你还可以通过管理用户、组和项目来管理你组织的Web
    GIS数据。需要注意的是，虽然你将通过ArcGIS Pro Notebooks进行所有示例的操作，但你并不需要通过ArcGIS Pro来操作。你可以安装一个独立的环境，使用**conda**并通过Jupyter
    Notebook环境访问所有内容。本书不涉及这一点，因为它专注于在ArcGIS Pro中使用Python。
- en: 'The ArcGIS API for Python is like ArcPy in that it is a Python package. It
    contains classes, modules, and functions. But it is not just a Python package:
    it is also an **application programming interface (API).** An API is code that
    allows different applications and software to talk to each other. It interacts
    primarily with the ArcGIS REST API. This means that you can use the module to
    make requests of data hosted on ArcGIS Online or ArcGIS Enterprise. This data
    is either in your own organization or is publicly available. It is a **pythonic**
    API in that it is designed to Python standards and best practices. As a pythonic
    API it allows for python programmers to easily use ArcGIS, and ArcGIS users familiar
    with Python to automate web GIS tasks.'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: ArcGIS Python API类似于ArcPy，它是一个Python包。它包含类、模块和函数。但它不仅仅是一个Python包：它还是一个**应用程序编程接口（API）**。API是允许不同应用程序和软件相互通信的代码。它主要与ArcGIS
    REST API进行交互。这意味着你可以使用该模块向ArcGIS Online或ArcGIS Enterprise上托管的数据发出请求。这些数据可以是你自己组织中的数据，也可以是公开可用的数据。它是一个**Python风格的**API，设计符合Python标准和最佳实践。作为一个Python风格的API，它使Python程序员能够轻松使用ArcGIS，而熟悉Python的ArcGIS用户可以自动化Web
    GIS任务。
- en: The API is organized into different modules for your use. Each module has different
    functions and types to assist in your GIS.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 该API已被组织成不同的模块供你使用。每个模块都有不同的功能和类型，以帮助你进行GIS工作。
- en: 'Modules:'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 模块：
- en: '`arcgis.gis` – this module is the one you will use the most. It allows for
    entry to the GIS and provides the functionality to create, read, update and delete
    GIS users, groups or content.'
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`arcgis.gis` – 这是你将最常使用的模块。它允许进入GIS，并提供创建、读取、更新和删除GIS用户、组或内容的功能。'
- en: '`arcgis.features` – this module works with feature data, feature layers, collections
    of feature layers, and feature sets. It contains spatial analysis functions for
    working with feature data. All feature data is data with a set of geometric representations.'
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`arcgis.features` – 该模块用于处理特征数据、特征图层、特征图层集合和特征集。它包含空间分析功能，用于处理特征数据。所有特征数据都是带有几何表示的数据。'
- en: '`arcgis.raster` – this module works with raster data. It is contains classes
    and functions for working with raster and imagery data'
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`arcgis.raster` – 该模块用于处理栅格数据。它包含用于处理栅格和影像数据的类和函数。'
- en: '`arcgis.realtime` – this module works with real-time data feeds. It is for
    use with streaming data to perform continuous analysis. It allows for Python scripts
    that can subscribe to data that is streamed, broadcast updates, or alerts.'
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`arcgis.realtime` – 该模块用于处理实时数据流。它用于处理流式数据，进行持续分析。它允许Python脚本订阅流式数据、广播更新或警报。'
- en: '`arcgis.network` – this module is for completing network analysis. It is for
    use on network layers and can be used to find best routes, closest facility, cost
    matrix, and service areas.'
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`arcgis.network` – 该模块用于完成网络分析。它用于网络图层，可用于查找最佳路线、最近设施、成本矩阵和服务区。'
- en: '`arcgis.schematics` – this module is for working with schematics. Schematics
    are simplified networks. It is for explaining the structure and way schematics
    work.'
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`arcgis.schematics` – 这个模块用于处理示意图。示意图是简化的网络。它用于解释示意图的结构和工作方式。'
- en: '`arcgis.geoanalytics` – this module is for creating distributed analysis of
    large datasets, feature and tabular. The tools are designed to work with big data
    as well with feature layers.'
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`arcgis.geoanalytics` – 这个模块用于对大数据集进行分布式分析，支持特征数据和表格数据。工具设计用于处理大数据和特征图层。'
- en: '`arcgis.geocoding` – this module is for geocoding and reverse geocoding. It
    creates points of addresses with the output visualized on a map, or used as input
    data for spatial analysis.'
  id: totrans-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`arcgis.geocoding` – 这个模块用于地理编码和反向地理编码。它将地址创建为地理点，并在地图上可视化，或将其用作空间分析的输入数据。'
- en: '`arcgis.geometry` – this module is for working with geometry types. It has
    functions that use geometry types as input and output, and for converting geometries
    to different representations.'
  id: totrans-14
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`arcgis.geometry` – 这个模块用于处理几何类型。它包含接受几何类型作为输入和输出的函数，以及将几何图形转换为不同表示形式的函数。'
- en: '`arcgis.geoprocessing` – this module is for creating methods to create and
    share geoprocessing tools. Users can create their own geoprocessing tools to share
    and this module provides tools that can assist with that.'
  id: totrans-15
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`arcgis.geoprocessing` – 这个模块用于创建方法，以创建和共享地理处理工具。用户可以创建自己的地理处理工具并共享，此模块提供了一些可以协助创建工具的工具。'
- en: '`arcgis.geoenrichment` – this module is for providing data about an area or
    location. Users can get information about people and places in an area or within
    a distance. It can assist by easily providing demographic data for models.'
  id: totrans-16
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`arcgis.geoenrichment` – 这个模块提供有关某个地区或位置的数据。用户可以获取某个地区或指定距离内的人员和地点信息。它可以通过轻松提供人口统计数据来帮助模型。'
- en: '`arcpy.env` – this module is for having a shared environment to be used by
    the different modules. It stores the currently active GIS and the environment
    settings.'
  id: totrans-17
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`arcpy.env` – 这个模块用于创建一个共享环境，供不同模块使用。它存储当前活动的GIS和环境设置。'
- en: '`arcgis.mapping` – this module is for providing visualization capabilities
    for GIS data. It includes WebMap and WebScene to enable 2D and 3D visualization.'
  id: totrans-18
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`arcgis.mapping` – 这个模块提供GIS数据的可视化功能。它包括WebMap和WebScene，用于实现2D和3D可视化。'
- en: '`arcgis.widgets` – this module is for providing visualization of GIS data.
    It includes the Jupyter Notebook MapView widget to assist with display of maps
    and layers'
  id: totrans-19
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`arcgis.widgets` – 这个模块提供GIS数据的可视化功能。它包括Jupyter Notebook MapView小部件，帮助显示地图和图层。'
- en: '`arcgis.apps` – this module is for providing the ability to manage the web
    based applications available in ArcGIS.'
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`arcgis.apps` – 这个模块用于提供管理ArcGIS中可用的基于Web的应用程序的功能。'
- en: In this chapter the focus will be mostly on the `arcgis.gis` module to manage
    the data in your organization, the `arcgis.features` module to work with that
    data, and the `arcgis.mapping` module to visualize the data.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 本章的重点将主要放在`arcgis.gis`模块上，用于管理组织中的数据，`arcgis.features`模块用于处理这些数据，以及`arcgis.mapping`模块用于可视化数据。
- en: What does it do? And why use it?
  id: totrans-22
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 它做什么？为什么要使用它？
- en: The ArcGIS API for Python allows you to access your data in ArcGIS Online without
    having to be in ArcGIS Online. You can manage your ArcGIS Online or ArcGIS Enterprise
    organization, its users, and its data from either a Jupyter Notebook or an ArcGIS
    Pro Notebook. By having the ability to do this in a Notebook and not through ArcGIS
    Online web interface you can use the full functionality of Python to iterate over
    data to run the same process multiple times, and schedule tasks to be run. The
    ArcGIS API for Python complements ArcPy as it allows you to automate your organization’s
    web GIS processes. *Just like using ArcPy to automate a process in ArcGIS Pro
    you would use the ArcGIS API for Python when you need to automate a process on
    your ArcGIS Online or ArcGIS Enterprise organization*
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: ArcGIS Python API允许你在不进入ArcGIS Online的情况下访问ArcGIS Online中的数据。你可以管理你的ArcGIS Online或ArcGIS
    Enterprise组织、其用户和数据，通过Jupyter Notebook或ArcGIS Pro Notebook进行操作。通过在Notebook中执行此操作而非通过ArcGIS
    Online网页界面，你可以利用Python的完整功能，迭代数据并多次运行相同的过程，或安排任务执行。ArcGIS Python API补充了ArcPy，因为它允许你自动化组织的Web
    GIS流程。*就像在ArcGIS Pro中使用ArcPy来自动化过程一样，当你需要在ArcGIS Online或ArcGIS Enterprise组织中自动化某个过程时，你可以使用ArcGIS
    Python API*
- en: How to use it?
  id: totrans-24
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 如何使用它？
- en: The ArcGIS API for Python comes with the install of ArcGIS Pro. If you are using
    ArcGIS Pro 2.5.x or later the conda package should have the arcgis package pre-installed.
    The default conda environment arcgispro-py3, which you have seen in the ArcPy
    chapter, includes the ArcGIS for Python API. If you need to upgrade your package
    you can do it through either the **Python Package Manager** or the **Python Command
    Prompt.** *If you only have the default Python environment installed and have
    not created a new one or cloned it you cannot update it.*
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: ArcGIS API for Python 随 ArcGIS Pro 安装。如果您使用的是 ArcGIS Pro 2.5.x 或更高版本，conda 包应预先安装了
    arcgis 包。默认的 conda 环境 arcgispro-py3，在 ArcPy 章节中已经看到，包含了 ArcGIS for Python API。如果需要升级包，可以通过**Python
    Package Manager**或**Python Command Prompt**来执行。*如果只安装了默认的 Python 环境且没有创建新环境或克隆环境，则无法进行更新。*
- en: '![](img/file80.png)Default Python Package Install'
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: '![](img/file80.png)默认 Python 包安装'
- en: Python Package Manager upgrade process
  id: totrans-27
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Python Package Manager 升级流程
- en: Open ArcGIS Pro with a blank Project
  id: totrans-28
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 用空白项目打开 ArcGIS Pro
- en: Select **Project** Tab
  id: totrans-29
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 选择**项目**选项卡
- en: Select **Python** menu
  id: totrans-30
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 选择**Python**菜单
- en: Click the **Manage Environment**
  id: totrans-31
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 点击**管理环境**
- en: Select the package you want to update (You cannot update the default install
    this way)
  id: totrans-32
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 选择要更新的包（不能通过此方式更新默认安装）
- en: Select **Update Packages**
  id: totrans-33
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 选择**更新软件包**
- en: Choose the `arcgis` release from the list of packages with updates
  id: totrans-34
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从更新包列表中选择`arcgis`发布版
- en: Python Command Prompt upgrade process
  id: totrans-35
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Python Command Prompt 升级流程
- en: Under the ArcGIS folder in the start menu click on Python Command Prompt
  id: totrans-36
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在开始菜单的 ArcGIS 文件夹中，右键单击 Python Command Prompt
- en: Activate the environment to be upgraded
  id: totrans-37
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 激活要升级的环境
- en: Type in `conda upgrade -c esri arcgis`
  id: totrans-38
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 输入`conda upgrade -c esri arcgis`
- en: '![](img/file81.png)Python Package Manager with Cloned Environment to Upgrade'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: '![](img/file81.png)具有克隆环境的 Python Package Manager 以进行升级'
- en: Once you have checked that you have an updated version of the `arcgis` package
    installed you can test to see if it is installed properly.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦确认已安装了更新版本的`arcgis`包，可以测试是否正确安装。
- en: Go to **Project>Open>Computer>Open another Project** and navigate to where you
    downloaded Chapter5.aprx and open it.
  id: totrans-41
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 转到**项目>打开>计算机>打开另一个项目**，然后导航到您下载的 Chapter5.aprx 文件并打开它。
- en: Right click on Chapter5 folder and select New>Notebook. Rename the Notebook
    `TestArcGISAPI`
  id: totrans-42
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 Chapter5 文件夹上右键单击，然后选择新建>笔记本。将笔记本重命名为`TestArcGISAPI`
- en: In cell 1 type in the following
  id: totrans-43
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在单元格 1 中输入以下内容
- en: '[PRE0]'
  id: totrans-44
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE0]'
- en: Click **Run** to run the cell. You should see the following result.
  id: totrans-45
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**运行**以执行该单元格。您应该看到以下结果。
- en: '![](img/file82.png)Map created in ArcGIS Pro Notebook'
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: '![](img/file82.png)在 ArcGIS Pro Notebook 中创建的地图'
- en: 'Let’s take a look at each line of code to understand what it did:'
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们逐行查看代码，以了解其功能：
- en: '`from arcgis.gis import GIS` this imports GIS from the `arcgis.gis` module'
  id: totrans-48
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`from arcgis.gis import GIS` 这从`arcgis.gis`模块导入 GIS'
- en: '`gis = GIS()` this connects you to ArcGIS Online as an anonymous user.'
  id: totrans-49
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`gis = GIS()` 这将以匿名用户身份连接到 ArcGIS Online。'
- en: '`map1 = gis.map(“Oakland, California”)` this is creating a map centered on
    Oakland, California'
  id: totrans-50
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`map1 = gis.map("加利福尼亚州奥克兰")` 这将创建一个以加利福尼亚州奥克兰为中心的地图'
- en: '`map1` this is printing the map to the output so you can see the map you created.'
  id: totrans-51
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`map1` 这将地图打印到输出中，以便您可以查看创建的地图。'
- en: Connecting to the ArcGIS Online or ArcGIS Enterprise
  id: totrans-52
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 连接到 ArcGIS Online 或 ArcGIS Enterprise
- en: There are different ways to connect to ArcGIS Online or ArcGIS Enterprise through
    constructing a GIS object. The GIS object takes three parameters, all of them
    optional.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 有多种方法可以通过构建 GIS 对象连接到 ArcGIS Online 或 ArcGIS Enterprise。GIS 对象需要三个参数，全部都是可选的。
- en: url – this is the url for your organizations ArcGIS Online or ArcGIS Enterprise.
    If none is given it is ArcGIS Online ([www.arcgis.com](https://www.arcgis.com))
  id: totrans-54
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: url - 这是您的组织的 ArcGIS Online 或 ArcGIS Enterprise 的网址。如果没有给出，则默认为 ArcGIS Online
    ([www.arcgis.com](https://www.arcgis.com))
- en: username – this is your username, if left blank you will be logged in as anonymous
  id: totrans-55
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 用户名 - 这是您的用户名，如果留空，则将以匿名方式登录
- en: password – this is your password, if left blank and a username is specified
    you will be prompted to input your password.
  id: totrans-56
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 密码 - 这是您的密码，如果留空并指定了用户名，系统将提示您输入密码。
- en: '![](img/file83.png)Logging into ArcGIS Online with a username but no password'
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: '![](img/file83.png)使用用户名但不输入密码登录 ArcGIS Online'
- en: Using this set up you can share your Notebook but not your login credentials.
  id: totrans-58
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 使用这种设置，您可以共享您的笔记本，但不能共享您的登录凭据。
- en: Anonymous Users
  id: totrans-59
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 匿名用户
- en: In the previous example to test your ArcGIS API for Python install you connected
    to ArcGIS Online as an anonymous user. That gives you the ability to query and
    view publically available data. *But it does not allow you to create or modify
    content or perform analysis.*
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 在之前的示例中，你以匿名用户连接到 ArcGIS Online 来测试你的 ArcGIS API for Python 安装。这使你能够查询和查看公开可用的数据。*但它不允许你创建或修改内容，或执行分析。*
- en: Built-In Users
  id: totrans-61
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 内置用户
- en: ArcGIS Online and ArcGIS Enterprise come with built-in identity store. This
    is done by writing the following code in the cell
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: ArcGIS Online 和 ArcGIS Enterprise 配备了内置的身份存储。可以在单元格中输入以下代码实现：
- en: '[PRE1]'
  id: totrans-63
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: That will connect your Notebook into the ArcGIS Online account with credentials
    you are currently using to log into ArcGIS.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 这将使用你当前登录 ArcGIS 时的凭证，将你的 Notebook 连接到 ArcGIS Online 账户。
- en: ArcGIS Pro Connection
  id: totrans-65
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: ArcGIS Pro 连接
- en: 'Connecting through ArcGIS Pro using the pro authentication scheme. This is
    done by writing the following code in the cell:'
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 使用 ArcGIS Pro 的身份验证方案进行连接。可以在单元格中输入以下代码实现：
- en: '[PRE2]'
  id: totrans-67
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: This will connect your Notebook to your ArcGIS Online portal using the **credentials**
    used to sign into ArcGIS Pro. This is similar to a built-in user. The difference
    is that the pro authentication scheme only works when ArcGIS Pro is installed
    locally and is running concurrently.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 这将使用你登录 ArcGIS Pro 时使用的**凭证**，将你的 Notebook 连接到 ArcGIS Online 门户。这类似于内置用户。不同之处在于，Pro
    身份验证方案仅在本地安装并同时运行 ArcGIS Pro 时有效。
- en: Summary of Connection Options
  id: totrans-69
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 连接选项摘要
- en: '| Anonymous User | `gis = GIS()` | Allows only access to query and view publically
    available data |'
  id: totrans-70
  prefs: []
  type: TYPE_TB
  zh: '| 匿名用户 | `gis = GIS()` | 仅允许访问和查看公开可用的数据 |'
- en: '| Built-In User | `gis = GIS(‘home’)` | Connects to ArcGIS Online with account
    you are currently logged in with, and allows full access to that data based on
    your user assignment. |'
  id: totrans-71
  prefs: []
  type: TYPE_TB
  zh: '| 内置用户 | `gis = GIS(‘home’)` | 使用当前登录账户连接到 ArcGIS Online，并允许根据用户分配完全访问该数据。
    |'
- en: '| ArcGIS Pro | `gis = GIS(‘pro’)` | Connects to active portal when logged into
    the ArcGIS Pro app. This only works within ArcGIS Pro with a local install of
    ArcGIS Pro |'
  id: totrans-72
  prefs: []
  type: TYPE_TB
  zh: '| ArcGIS Pro | `gis = GIS(‘pro’)` | 当登录到 ArcGIS Pro 应用时，连接到活动的门户。这仅在 ArcGIS
    Pro 本地安装并同时运行时有效 |'
- en: '| Credentials | `gis = GIS({url}, username = ‘example’)` | Connects to a url,
    or `arcgis.com` if left blank, using a specific username. Leaving the password
    parameter blank will protect your credentials when sharing as you are prompted
    to enter it when the cell is run |'
  id: totrans-73
  prefs: []
  type: TYPE_TB
  zh: '| 凭证 | `gis = GIS({url}, username = ‘example’)` | 通过特定的用户名连接到一个网址，若留空，则默认连接到
    `arcgis.com`，并且在运行时会提示输入密码，留空密码参数可保护你的凭证，方便分享 |'
- en: Most of the time you will be connecting either using the `gis = GIS(‘home’)`
    or `gis = GIS(‘pro’)`. Through this book you will be using connecting to either
    anonymously or to your organization by using `gis = GIS(‘home’)`.
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 大多数时候，你将使用 `gis = GIS(‘home’)` 或 `gis = GIS(‘pro’)` 进行连接。在本书中，你将使用匿名连接或使用 `gis
    = GIS(‘home’)` 连接到你的组织。
- en: Using the gis module to Manage your GIS
  id: totrans-75
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 使用 gis 模块管理你的 GIS
- en: Using the `gis` module you can access and manage your folders, your content,
    your group, and your users. If you have any repetitive tasks and workflows you
    can automate them as scripts. In this section you are going to see how search
    for data, publish items, organize data into folders, access and manage groups,
    access and manage users, download data, delete data, and download attachments.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 使用 `gis` 模块，你可以访问和管理文件夹、内容、组和用户。如果你有重复的任务和工作流，你可以将其自动化为脚本。在本节中，你将学习如何搜索数据、发布项目、将数据组织到文件夹中、访问和管理组、访问和管理用户、下载数据、删除数据和下载附件。
- en: Search for data
  id: totrans-77
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 搜索数据
- en: You can use the content property of your GIS to use the `search()` method. This
    allows you to search through your GIS and find data. The `search()` method will
    return a list of items based on the arguments given. The `search()` method has
    several arguments that it can take. Most of the time you will be using the query,
    and type of item arguments. The query has multiple types of queries it can take.
    In this section you will look at how to query based off an items title or owner.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以使用 GIS 的内容属性来使用 `search()` 方法。这允许你在 GIS 中搜索并查找数据。`search()` 方法会根据提供的参数返回一个项目列表。`search()`
    方法有多个可以使用的参数。通常，你将使用查询和项目类型参数。查询可以接受多种类型。在本节中，你将学习如何根据项目的标题或所有者进行查询。
- en: In previous samples you were connecting to your GIS in your ArcGIS Online account.
    For the search example you will be connecting anonymously to understand how to
    search for data. You are going to search for publically available feature layers
    of Oakland.
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 在之前的示例中，你是连接到ArcGIS Online账户中的GIS。对于搜索示例，你将以匿名方式连接，以了解如何搜索数据。你将搜索奥克兰的公开可用要素图层。
- en: Search for Public Data as an Anonymous User
  id: totrans-80
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 作为匿名用户搜索公共数据
- en: Go to **Project>Open>Computer>Open another Project** and navigate to where you
    downloaded Chapter5.aprx and open it.
  id: totrans-81
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 转到**项目>打开>计算机>打开另一个项目**，然后导航到你下载的Chapter5.aprx并打开它。
- en: Right click on Chapter5 folder and select **New>Notebook**. Rename the Notebook
    to `SearchForDataSample`
  id: totrans-82
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 右键点击Chapter5文件夹，选择**新建>笔记本**。将笔记本重命名为`SearchForDataSample`
- en: 'You are going to create your GIS using an anonymous log in, and you are going
    to import a display module that will make viewing the data returned easier. Type
    in the following:'
  id: totrans-83
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你将通过匿名登录创建你的GIS，并将导入一个显示模块，使返回的数据更容易查看。输入以下内容：
- en: '[PRE3]'
  id: totrans-84
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE3]'
- en: Click the **Run** button to run.
  id: totrans-85
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 点击**运行**按钮以运行。
- en: In the next cell you will search for feature layers associated with Oakland
    limited to just 5 items, and display the results.
  id: totrans-86
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在下一个单元格中，你将搜索与奥克兰相关的要素图层，限制为仅显示5个项目，并展示结果。
- en: '[PRE4]'
  id: totrans-87
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE4]'
- en: The two for loops will return the data details to you in two different ways.
    The first is just printing out the results and the second is using the display
    module to show more details. Click the **Run** button to run
  id: totrans-88
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 这两个for循环将以两种不同的方式返回数据细节。第一种方式是仅打印结果，第二种方式是使用显示模块来显示更多细节。点击**运行**按钮以运行。
- en: '![](img/file84.png)Results of Search for Oakland data'
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: '![](img/file84.png)搜索奥克兰数据的结果'
- en: The results are just the first five feature layers returned associated with
    Oakland. There are many more arguments that could be used to find different data.
    You can apply any or all of the following arguments
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 结果仅显示与奥克兰相关的前五个要素图层。还有很多其他参数可以用来查找不同的数据。你可以应用以下任何或所有参数：
- en: '`query` – this can be used to query for title or owner and can use wildcards.'
  id: totrans-91
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`query` – 这可以用来查询标题或所有者，并且可以使用通配符。'
- en: '`item_type` – this can be used to query any type of item that can be on an
    ArcGIS Online portal*. It can find shapefiles, feature layers, feature collections,
    csvs, tables, maps, web scenes and more. It also can take wildcards.*'
  id: totrans-92
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`item_type` – 这可以用来查询任何可以出现在ArcGIS Online门户中的项目类型。它可以找到shapefile、要素图层、要素集合、csv文件、表格、地图、Web场景等。它还可以接受通配符。'
- en: '`sort_field` – this can be used to sort the data on a field such as the title,
    owner or number of views'
  id: totrans-93
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`sort_field` – 这可以用来根据字段（如标题、所有者或浏览次数）对数据进行排序。'
- en: '`sort_order` – this can be used with the sort field to sort ascending or descending.'
  id: totrans-94
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`sort_order` – 这可以与排序字段一起使用，进行升序或降序排序。'
- en: '`outside_org` – this can be used when logged into your organization to search
    for data outside of it.'
  id: totrans-95
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`outside_org` – 当登录到你的组织时，可以使用此项来搜索组织外部的数据。'
- en: You are going to test some of the arguments to see how you can get different
    results from the `search()` method.
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 你将测试一些参数，看看如何通过`search()`方法获得不同的结果。
- en: First you will take the last search and modify to find feature layers or collections
    that have Oakland in the title, and sort them by the number of views.
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，你将修改上次的搜索，查找标题中包含奥克兰的要素图层或集合，并按浏览次数进行排序。
- en: 'You are now searching for data with Oakland in the title. You do not have to
    use the wild card in the title as this will search for the word Oakland. It is
    searching for just the word Oakland though so anything like OaklandCounty will
    not be returned. You are using a wildcard for the `item_type` to return all types
    that begin with Feature. This will return feature layers and feature collections.
    You are also sorting this by the number of views descending to get the most viewed
    items, and retuning only 5 items. In the same Notebook type in the following:'
  id: totrans-98
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在你正在搜索标题中包含“奥克兰”的数据。你不需要在标题中使用通配符，因为这将搜索“奥克兰”一词。但它只会搜索“奥克兰”这个词，所以像“奥克兰县”这样的内容将不会被返回。你正在使用通配符来查询`item_type`，返回所有以“Feature”开头的类型。这将返回要素图层和要素集合。你还按浏览次数降序排序，以获取浏览量最多的项目，并且只返回5个项目。在同一个笔记本中输入以下内容：
- en: '[PRE5]'
  id: totrans-99
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE5]'
- en: Click the **Run** button to run. The output should look something like this.
  id: totrans-100
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 点击**运行**按钮以运行。输出结果应该如下所示。
- en: '![](img/file85.png)'
  id: totrans-101
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![](img/file85.png)'
- en: Results of search query for Oakland with different search arguments
  id: totrans-102
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 使用不同搜索参数的奥克兰搜索查询结果
- en: You can also search for data by the owner of the data. Your query argument is
    structured like this `query=”owner:username”` This will only return data that
    the owner has made publically available.
  id: totrans-103
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 您还可以按数据所有者搜索数据。您的查询参数结构如下：`query=”owner:username”` 这将仅返回所有者公开的数据。
- en: You are taking the owner of two of the datasets from the previous cell and searching
    for all the feature data types they own. Since you don’t know how many there are
    and don’t want to print all that data you just print out the length of the search
    results list returned. In the same Notebook in the next cell type the following
  id: totrans-104
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您将从前一个单元格中获取两个数据集的所有者，并搜索他们拥有的所有要素数据类型。由于您不知道有多少种类型，并且不想打印所有数据，因此您只打印出返回的搜索结果列表的长度。在同一笔记本中的下一个单元格中输入以下内容
- en: '[PRE6]'
  id: totrans-105
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE6]'
- en: Click the **Run** button to run and see the results
  id: totrans-106
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 点击**运行**按钮来运行并查看结果
- en: '![](img/file86.png)'
  id: totrans-107
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![](img/file86.png)'
- en: Results of search for owner query
  id: totrans-108
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 所有者查询的搜索结果
- en: Now that you know there are 10 feature layers or feature collections in the
    next cell you can type the following.
  id: totrans-109
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，您知道在下一个单元格中有10个要素层或要素集合，您可以输入以下内容。
- en: '[PRE7]'
  id: totrans-110
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE7]'
- en: Click **Run** to see the layers display.
  id: totrans-111
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 点击**运行**以查看层显示。
- en: '![](img/file87.png)Display of layers from the owner query'
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: '![](img/file87.png) 从所有者查询中显示的层'
- en: You can click on the layer name in the Output cell and a browser will open showing
    you the overview page for the item you clicked on.
  id: totrans-113
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 您可以点击输出单元格中的层名称，浏览器会打开并显示您点击的项目的概览页面。
- en: Searching for data when connected to your organization
  id: totrans-114
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 在连接到您的组织时搜索数据
- en: In this section you have seen how to use the `search()` operation to search
    for public data as an anonymous user and how to search for data within your organization.
    As you have seen there are different ways to connect to your organization, depending
    on how you are using the ArcGIS API for Python, and if you are using ArcGIS Online
    or ArcGIS Enterprise. Because you will be connected to your organization in these
    samples there will be limited figures showing the out cells as those will depend
    on what data you have in your organization.
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，您已了解如何使用`search()`操作作为匿名用户搜索公共数据，以及如何搜索您组织中的数据。如您所见，根据您如何使用ArcGIS API for
    Python，以及您使用的是ArcGIS Online还是ArcGIS Enterprise，连接到您组织的方式会有所不同。由于在这些示例中您将连接到您的组织，因此将显示有限的图形，这些图形将取决于您在组织中拥有的数据。
- en: To search for data in your organization you are going to continue to use the
    `SearchForDataSample` Notebook from the above samples.
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 要在您的组织中搜索数据，您将继续使用上面示例中的`SearchForDataSample`笔记本。
- en: In the next cell you are going to create another connection ArcGIS Online using
    the account you are logged into in ArcGIS Pro by typing in the following
  id: totrans-117
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在下一个单元格中，您将使用在ArcGIS Pro中登录的帐户创建另一个连接到ArcGIS Online，输入以下内容
- en: '[PRE8]'
  id: totrans-118
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE8]'
- en: This will create a GIS under gis2 that you can use to access and manage content
    and users in your ArcGIS Online. If you are using an ArcGIS Enterprise you need
    to type the following
  id: totrans-119
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 这将在gis2下创建一个GIS，您可以用它来访问和管理您的ArcGIS Online中的内容和用户。如果您使用的是ArcGIS Enterprise，则需要输入以下内容
- en: '[PRE9]'
  id: totrans-120
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE9]'
- en: Click the **Run** button to run the cell.
  id: totrans-121
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 点击**运行**按钮来运行该单元格。
- en: You can see properties of the user you are signed in under by typing the following
  id: totrans-122
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您可以通过输入以下内容查看您登录的用户的属性
- en: '[PRE10]'
  id: totrans-123
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE10]'
- en: Click the **Run** button to run the cell. The results will be a data dictionary
    containing all the information about the user.
  id: totrans-124
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 点击**运行**按钮来运行该单元格。结果将是一个数据字典，包含有关用户的所有信息。
- en: '![](img/file88.png)'
  id: totrans-125
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![](img/file88.png)'
- en: User details
  id: totrans-126
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 用户详细信息
- en: All of which can be further accessed and assigned to variables if needed. To
    access the first name you just need to type in
  id: totrans-127
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 所有这些都可以进一步访问并分配给变量（如果需要）。要访问姓氏，只需输入以下内容
- en: '[PRE11]'
  id: totrans-128
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE11]'
- en: Click the **Run** button.
  id: totrans-129
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 点击**运行**按钮。
- en: '![](img/file89.png)'
  id: totrans-130
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![](img/file89.png)'
- en: Extract a user’s name
  id: totrans-131
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 提取用户的姓名
- en: Searching through your content is the same as when logged in anonymously. The
    only difference is you are searching through data within your organization. In
    the next cell type in the following
  id: totrans-132
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在匿名登录时，搜索您的内容与此相同。唯一的区别是您正在搜索您组织中的数据。在下一个单元格中输入以下内容
- en: '[PRE12]'
  id: totrans-133
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE12]'
- en: Click the **Run** button to run the cell. It will display all of the feature
    layers in your organization.
  id: totrans-134
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 点击**运行**按钮来运行该单元格。它将显示您组织中的所有要素层。
- en: To search for just the items owned by you write the following
  id: totrans-135
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 若要仅搜索您拥有的项目，请输入以下内容
- en: '[PRE13]'
  id: totrans-136
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE13]'
- en: Click the **Run** button to run the cell.
  id: totrans-137
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 点击**运行**按钮来运行该单元格。
- en: The only argument in the `search()` that is required is the query. Because wildcards
    can be used you can search for everything by just writing query=”*”. But be careful,
    if you have a lot of layers the search could be slow.
  id: totrans-138
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '`search()`方法中唯一需要的参数是查询。因为可以使用通配符，您可以通过只写`query="*"`来搜索所有内容。但请小心，如果您有很多图层，搜索可能会很慢。'
- en: When connected to your organization you can still search for publically available
    data by setting the `outside_org` argument to `True` You can find the same Oakland
    datasets in `gis2` by writing the following code.
  id: totrans-139
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当连接到您的组织时，您仍然可以通过将`outside_org`参数设置为`True`来搜索公开可用的数据。您可以通过编写以下代码，在`gis2`中找到相同的奥克兰数据集。
- en: '[PRE14]'
  id: totrans-140
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE14]'
- en: Click the **Run** button to run the cell. The results should be the same as
    when connected anonymously.
  id: totrans-141
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 点击**Run**按钮运行单元格。结果应该与匿名连接时相同。
- en: '![](img/file90.png)Results from searching outside your organization'
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: '![](img/file90.png)在您的组织外部搜索的结果'
- en: In this section you have seen how to search for data both anonymously and when
    connected to your organization. Now that you can find data you will see how to
    add data to your organization and how to organize that data.
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 在这一部分中，您已经学习了如何在匿名状态下以及连接到您的组织时搜索数据。现在您可以找到数据，接下来您将看到如何将数据添加到您的组织中，并如何组织这些数据。
- en: Publish Data
  id: totrans-144
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 发布数据
- en: Much of the data you publish to ArcGIS Online or ArcGIS Enterprise is done within
    ArcGIS Pro. This is useful and convenient when you are publishing single maps
    or feature layers. It is less convenient if you are going to publish a csv with
    latitude and longitude fields as you would need to display the coordinates in
    ArcGIS Pro before publishing it. Using the ArcGIS API for Python you can take
    a csv and add it to your organization and publish it with a few lines of code.
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: 您发布到ArcGIS Online或ArcGIS Enterprise的大部分数据都是在ArcGIS Pro中完成的。当您发布单一地图或要素图层时，这非常有用且方便。如果您要发布一个包含纬度和经度字段的csv，这就不太方便，因为您需要在ArcGIS
    Pro中显示坐标，然后再进行发布。使用ArcGIS Python API，您可以将csv文件添加到您的组织，并通过几行代码进行发布。
- en: Adding data from a csv.
  id: totrans-146
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 从csv添加数据
- en: 'To add data to your GIS you are going to use the `add()` method. Like the `search()`
    method the `add()` method is part of the `content()` property of the GIS object.
    To use the add method you will need to create a data dictionary of the properties
    of the item to be created. The properties are the same ones that you would need
    to fill in to add items from ArcGIS Pro: title, description, tags. You can add
    an optional thumbnail as well using the `add()` method.'
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 要将数据添加到您的GIS中，您将使用`add()`方法。与`search()`方法类似，`add()`方法是GIS对象的`content()`属性的一部分。要使用`add()`方法，您需要创建要创建的项的属性数据字典。这些属性与您需要填写的项相同，以便从ArcGIS
    Pro中添加项目：标题、描述、标签。您还可以使用`add()`方法添加一个可选的缩略图。
- en: First open up the csv AlamedaCountyFarmersMarket.csv to see what you will be
    adding. It is a basic csv with a market name, days, hours, location, city, latitude,
    and longitude. Right now it only has the famers markets for Oakland and Berkeley
    and not all of Alameda County. Later you will append the rest of the data to the
    feature layer you are creating from this csv data.
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 首先打开csv文件`AlamedaCountyFarmersMarket.csv`，看看您将要添加的内容。它是一个基本的csv文件，包含市场名称、营业天数、营业时间、位置、城市、纬度和经度。目前，它只包含奥克兰和伯克利的农贸市场，而不包括整个阿拉米达县。稍后，您将把剩余的数据附加到您从这个csv数据创建的要素图层中。
- en: '![](img/file91.png)Farmers Market CSV'
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: '![](img/file91.png)农贸市场CSV'
- en: Right click on `Chapter3` folder and select **New>Notebook**. Rename the Notebook
    to `AddPublishData`
  id: totrans-150
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 右键点击`Chapter3`文件夹，选择**新建>笔记本**。将笔记本重命名为`AddPublishData`。
- en: In the first cell type in your import statements and create your GIS. You are
    going to create the GIS logged in to your ArcGIS Online account that you are logged
    into ArcGIS Pro with. Type the following
  id: totrans-151
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在第一个单元格中输入您的导入语句，并创建您的GIS。您将创建一个与您在ArcGIS Pro中登录的ArcGIS Online账户相关联的GIS。输入以下内容：
- en: '[PRE15]'
  id: totrans-152
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE15]'
- en: Click the **+** button to add a cell. In this cell you are going to create a
    variable for the `csv`.
  id: totrans-153
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**+**按钮添加一个单元格。在这个单元格中，您将为`csv`创建一个变量。
- en: '[PRE16]'
  id: totrans-154
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE16]'
- en: '*If your csv is saved to a different location make sure you are using its location.*'
  id: totrans-155
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '*如果您的csv文件保存在其他位置，请确保使用其正确位置。*'
- en: Click the **+** button to add a cell. In this cell you are going to create the
    data dictionary of the `csv` properties. You will fill in the properties for the
    title, description, and tags as the keys with their properties as the values.
    Type the following
  id: totrans-156
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**+**按钮添加一个单元格。在这个单元格中，您将创建`csv`属性的数据字典。您将为标题、描述和标签填写属性，作为键值对填入它们的值。输入以下内容：
- en: '[PRE17]'
  id: totrans-157
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE17]'
- en: If you were going to add a thumbnail you would do it in this cell by defining
    a variable with the location of the thumbnail.
  id: totrans-158
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 如果你要添加缩略图，可以在此单元格中通过定义一个变量来指定缩略图的位置。
- en: ''
  id: totrans-159
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_NORMAL
- en: '`thumbnail = r”PATH\TO\THUMBNAIL.png”`'
  id: totrans-160
  prefs:
  - PREF_IND
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '`thumbnail = r”PATH\TO\THUMBNAIL.png”`'
- en: Click the **+** button to add a cell. In this cell you are going create a variable
    to hold the `csv` item being added. You use the add function from the content
    module. The arguments passed are the properties dictionary and the path for the
    `csv`. Type the following
  id: totrans-161
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击 **+** 按钮添加一个单元格。在这个单元格中，你将创建一个变量来保存正在添加的 `csv` 项。你需要使用内容模块中的 add 函数。传递的参数是属性字典和
    `csv` 的路径。输入以下内容：
- en: '[PRE18]'
  id: totrans-162
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE18]'
- en: Click the **+** button to add a cell. In this cell you will publish the csv
    item you just added by calling the publish method. Type the following
  id: totrans-163
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击 **+** 按钮添加一个单元格。在这个单元格中，你将通过调用发布方法发布刚才添加的 csv 项。输入以下内容：
- en: '[PRE19]'
  id: totrans-164
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE19]'
- en: By setting the publish method to a variable that variable contains the feature
    layer. You can call that variable to display the feature layers properties.
  id: totrans-165
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 通过将发布方法设置为一个变量，这个变量将包含要素图层。你可以调用该变量来显示要素图层的属性。
- en: Click the **+** button to add a cell. In this cell you are going to create a
    quick map to visualize your data to verify the feature layer was created. Type
    the following
  id: totrans-166
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击 **+** 按钮添加一个单元格。在这个单元格中，你将创建一个快速地图来可视化你的数据，以验证要素图层是否已创建。输入以下内容：
- en: '[PRE20]'
  id: totrans-167
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE20]'
- en: Click **Cell>Run** All to run all the cells. The output map should look like
    below
  id: totrans-168
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击 **Cell>Run** All 来运行所有单元格。输出的地图应该如下所示：
- en: '![](img/file92.png)Map Widget showing Farmers Market Feature Layer.'
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: '![](img/file92.png)地图小部件显示农贸市场要素图层。'
- en: Adding and Publishing Summary and Tips
  id: totrans-170
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 添加和发布摘要与提示
- en: You have seen how to publish a csv that has latitude and longitude columns for
    point data. This process could be turned into an iterative process using a loop
    to publish multiple csvs. All you would need to write is a properties data dictionary
    for each csv. But your data is not always going to be a csv of point locations
    with latitude and longitude. Below are some tips for publishing other types of
    data.
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: 你已经了解了如何发布包含经度和纬度列的 csv 文件，用于点数据。这个过程可以通过使用循环将其转换为一个迭代过程来发布多个 csv 文件。你需要做的就是为每个
    csv 编写一个属性数据字典。但是你的数据并不总是包含经度和纬度的点位 csv。以下是发布其他类型数据的一些技巧。
- en: '*When publishing a csv with latitude and longitude fields make sure they are
    named latitude and longitude*. The module is looking for those field names. If
    they are not found it will not locate the points correctly. You can specify the
    field names to use with the optional `publish_paramaters` dictionary in the `publish()`
    method. To do that you would need to create the following dictionary'
  id: totrans-172
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*在发布包含经纬度字段的 csv 时，确保它们的字段名称分别是 latitude 和 longitude*。模块会查找这些字段名。如果没有找到，它将无法正确定位点。你可以通过可选的
    `publish_paramaters` 字典在 `publish()` 方法中指定要使用的字段名称。为此，你需要创建以下字典：'
- en: '[PRE21]'
  id: totrans-173
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE21]'
- en: The `locationType` value to use is coordinates, and then the `latituedFieldName`
    and `longitudeFieldName` are the field names for each in your csv.
  id: totrans-174
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`locationType` 的值应为坐标，然后 `latitudeFieldName` 和 `longitudeFieldName` 分别是 csv
    文件中对应字段的名称。'
- en: '*Csvs without latitude and longitude but with address can be geocoded.* To
    geocode data from a csv you would again use the `publish_paramaters` dictionary.'
  id: totrans-175
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*没有经纬度但有地址的 csv 文件可以进行地理编码*。要对 csv 中的数据进行地理编码，你仍然需要使用 `publish_paramaters`
    字典。'
- en: '[PRE22]'
  id: totrans-176
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE22]'
- en: The `locationType` field is set to address. The `addressTemplate` field is then
    set to the fields that have the different address components. In this example
    there is a field with the street address, a field with the city, a field with
    the state, and a field with the zip. The set-up of this will depend on how you
    have your data in your csv.
  id: totrans-177
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`locationType` 字段设置为地址。然后，`addressTemplate` 字段设置为包含不同地址组件的字段。在这个示例中，有一个字段包含街道地址，一个字段包含城市，一个字段包含州，一个字段包含邮政编码。这个设置将取决于你在
    csv 中的数据结构。'
- en: '*Shapefile and file geodatabses can be added and published using this same
    method but they must be zipped*. If you have a large amount of shapefiles or file
    geodatabases that are unzipped you could automate the process of zipping them
    up.'
  id: totrans-178
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*Shapefile 和文件地理数据库可以使用相同的方法进行添加和发布，但它们必须被压缩为 zip 文件*。如果你有大量未压缩的 Shapefile
    或文件地理数据库，可以通过自动化处理来压缩它们。'
- en: Adding and publishing data using the ArcGIS API for Python can be very useful
    for quickly adding data to your organizations ArcGIS Online or ArcGIS Enterprise
    account. You have seen how to add and publish a csv. You have seen that the csvs
    can be geocoded on publishing using the ArcGIS Online geocoder. In the next section
    you will see how to organize the data into folders, create groups, and manage
    access to groups.
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: 使用ArcGIS API for Python添加和发布数据对于快速将数据添加到你组织的ArcGIS Online或ArcGIS Enterprise账户中非常有用。你已经看到如何添加和发布csv文件。你已经看到这些csv文件在发布时可以使用ArcGIS
    Online地理编码器进行地理编码。在下一部分，你将看到如何将数据组织到文件夹中，创建小组并管理对小组的访问。
- en: Organize data, manage groups, and users
  id: totrans-180
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 组织数据，管理小组和用户
- en: Organizing your data within your ArcGIS Online or ArcGIS Enterprise is important.
    You want to be able to find your data. In addition to folders to hold your data
    in you also can create groups to share specific data with. In large organizations
    this is important as not everyone needs to have access to the same data. In this
    section you will see how to create folders and move data into them, create groups
    and manage access to them, and create and manage users.
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: 在ArcGIS Online或ArcGIS Enterprise中组织你的数据非常重要。你希望能够找到你的数据。除了文件夹来存储数据外，你还可以创建小组来共享特定的数据。在大型组织中，这一点尤为重要，因为并非每个人都需要访问相同的数据。在本节中，你将看到如何创建文件夹并将数据移动到其中，创建小组并管理对小组的访问，以及创建和管理用户。
- en: Organize data into folder
  id: totrans-182
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 将数据组织到文件夹中
- en: One of the first things to do after adding data or publishing it should be finding
    a folder to place it in. It is good practice to use folders to organize your data.
    It not only helps you find data but also other members of your organization. You
    can add folders and move data over using the ArcGIS API for Python. In the sample
    below you will create a new folder and move the farmer’s market data from above.
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: 在添加数据或发布数据之后，首先要做的事情之一是找到一个文件夹将其放入其中。使用文件夹来组织数据是一个良好的实践。它不仅帮助你找到数据，还能帮助组织中的其他成员。你可以使用ArcGIS
    API for Python添加文件夹并移动数据。在下面的示例中，你将创建一个新文件夹并将上面的农贸市场数据移入其中。
- en: Right click on `Chapter3` folder and select **New>Notebook**. Rename the Notebook
    to `CreateFolderMoveData`
  id: totrans-184
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 右键点击`Chapter3`文件夹并选择**新建>笔记本**。将笔记本重命名为`CreateFolderMoveData`
- en: In the first cell type in your import statements and create your GIS. You are
    going to create the GIS logged in to your ArcGIS Online account that you are logged
    into ArcGIS Pro with
  id: totrans-185
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在第一个单元格中输入你的导入语句并创建GIS。你将创建一个已登录ArcGIS Online账户的GIS，这个账户和你在ArcGIS Pro中登录的账户是同一个。
- en: '[PRE23]'
  id: totrans-186
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE23]'
- en: Click the **+** button to add a cell. In this cell you will create a new folder
  id: totrans-187
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**+**按钮添加一个单元格。在这个单元格中，你将创建一个新文件夹。
- en: '[PRE24]'
  id: totrans-188
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE24]'
- en: Click the **+** button to add a cell. In this cell you search for that you need
    to move over
  id: totrans-189
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**+**按钮添加一个单元格。在这个单元格中，你将搜索需要移动的数据。
- en: '[PRE25]'
  id: totrans-190
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE25]'
- en: Remember that the `search()` method returns a list of items. To confirm what
    you have in your list you will run a for loop to iterate through the list and
    display the data. Type into the same cell as above
  id: totrans-191
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 记住，`search()`方法返回的是一个项的列表。为了确认你的列表中有什么，你将运行一个for循环来遍历该列表并显示数据。在上述相同的单元格中输入。
- en: '[PRE26]'
  id: totrans-192
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE26]'
- en: Click **Cell>Run All** to run all your cells to this point. Your Notebook should
    similar to this now.
  id: totrans-193
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**单元格>全部运行**来运行到目前为止的所有单元格。你的笔记本现在应该类似于这个样子。
- en: '![](img/file93.png)'
  id: totrans-194
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![](img/file93.png)'
- en: Output of creating folder and finding data to move.
  id: totrans-195
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 创建文件夹并查找数据以移动的输出。
- en: Click the **+** button to add a cell. In this cell you will move the feature
    layer and csv into the new folder. You will do that by looping though the search
    results and using `move()` method.
  id: totrans-196
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**+**按钮添加一个单元格。在这个单元格中，你将把要素图层和csv文件移动到新的文件夹中。你将通过遍历搜索结果并使用`move()`方法来完成此操作。
- en: '[PRE27]'
  id: totrans-197
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE27]'
- en: Click the **Run** button to run this cell. You should see an output like below
    confirming that your data has been moved. If you go to your ArcGIS Online you
    will see that you now have a new folder and both datasets are there.
  id: totrans-198
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 点击**运行**按钮来运行这个单元格。你应该能看到类似以下的输出，确认你的数据已经被移动。如果你进入你的ArcGIS Online，你会看到你现在有一个新文件夹，两个数据集也在其中。
- en: '![](img/file94.png)Output of moving data to a new folder'
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: '![](img/file94.png)移动数据到新文件夹的输出'
- en: Creating a folder and moving data into that folder is a process that ArcGIS
    API for Python can be used to help you organize data. In the sample you were able
    to find all the data sets by their name and move them to a newly created folder.
    Being able to search your GIS for data and move it to folders using the ArcGIS
    API for Python is a valuable tool that will save you time.
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: 创建文件夹并将数据移动到该文件夹的过程是ArcGIS API for Python可以帮助你组织数据的一个方法。在示例中，你能够通过名称找到所有数据集，并将它们移动到新创建的文件夹中。能够使用ArcGIS
    API for Python搜索GIS中的数据并将其移动到文件夹中是一个非常有价值的工具，能够节省你大量时间。
- en: If you need to move data back to the root directory it is just the following
    code `item.move(“\”)`
  id: totrans-201
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 如果你需要将数据移回根目录，只需使用以下代码`item.move(“\”)`。
- en: Access and Manage Groups
  id: totrans-202
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 访问和管理组
- en: Groups are spaces where you share data with other users. It is how you can create
    a collaborative GIS by allowing other users access to your data and maps. Using
    the ArcGIS API for Python you can create and manage groups in a programmatic way
    to save you time while fostering better collaboration within and outside of your
    team. In this section you will see how to search for groups, find the properties
    of a groups, create new groups, and manage the group by sharing data to it, and
    adding and removing users from the group by using the ArcGIS API for Python.
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: 组是你与其他用户共享数据的空间。通过它，你可以创建一个协作GIS，允许其他用户访问你的数据和地图。使用ArcGIS API for Python，你可以以编程方式创建和管理组，从而节省时间，同时促进团队内外更好的协作。在本节中，你将学习如何搜索组、查看组属性、创建新组，并通过分享数据到组以及添加或移除组内用户来管理组。
- en: Search for Groups
  id: totrans-204
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 搜索组
- en: Searching for groups is very similar to searching for data. You can search for
    groups that are open to all when logged in anonymously or search for groups within
    your organization when logged into your organization. You are going to first search
    for groups anonymously and then access the properties of that group you created.
    Then you will search for groups within your organization.
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: 搜索组与搜索数据非常相似。你可以在匿名登录时搜索公开的组，或者在登录到组织时搜索你所在组织内的组。你将首先匿名搜索组，然后访问你创建的组的属性。接着，你将搜索你所在组织内的组。
- en: Right click on `Chapter3` folder and select **New>Notebook**. Rename the Notebook
    to `SearchForGroups`
  id: totrans-206
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 右键点击`Chapter3`文件夹，选择**新建>笔记本**。将笔记本重命名为`SearchForGroups`。
- en: In the first cell type in your import statements and create your GIS. You are
    going to create the GIS anonymously.
  id: totrans-207
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在第一个单元格中输入导入语句并创建你的GIS。你将匿名创建GIS。
- en: '[PRE28]'
  id: totrans-208
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE28]'
- en: Click the **Run** button to run.
  id: totrans-209
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 点击**运行**按钮来执行。
- en: In the next cell you will create your search and then display the results. Just
    like with the feature layers you are going to limit your data search to the first
    5 records. You will also be using the display module to better show the group
    information. Type in the following
  id: totrans-210
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在下一个单元格中，你将创建搜索并显示结果。就像功能图层一样，你将把数据搜索限制为前5条记录。你还将使用显示模块更好地展示组信息。输入以下代码。
- en: '[PRE29]'
  id: totrans-211
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE29]'
- en: Click the **Run** button to run. You should have results that look like the
    figure below
  id: totrans-212
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 点击**运行**按钮来执行。你应该能看到如下图所示的结果。
- en: '![](img/file95.png)'
  id: totrans-213
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![](img/file95.png)'
- en: Results of group search for Oakland groups.
  id: totrans-214
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 奥克兰组搜索的结果。
- en: Just like with items you can search for groups by owner instead of title. You
    will use one of the group owners from the search results. Type in the following
    code
  id: totrans-215
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 就像搜索项目一样，你也可以按所有者而不是标题搜索组。你将使用搜索结果中的一个组所有者。输入以下代码。
- en: '[PRE30]'
  id: totrans-216
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE30]'
- en: Click the **Run** button to run. You should have results that look like the
    figure below
  id: totrans-217
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 点击**运行**按钮来执行。你应该能看到如下图所示的结果。
- en: '![](img/file96.png)'
  id: totrans-218
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![](img/file96.png)'
- en: Results of search for group search by owner.
  id: totrans-219
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 按所有者搜索组的结果。
- en: Just like with searching for items the group search returns a list. To look
    further at a group’s properties you need to select it using the list index. You
    are going to select the first group from the first search to look at its properties.
    Type in the following code
  id: totrans-220
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 就像搜索项目一样，组搜索返回一个列表。要查看组的详细属性，你需要通过列表索引选择它。你将选择第一次搜索中的第一个组，查看其属性。输入以下代码。
- en: '[PRE31]'
  id: totrans-221
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE31]'
- en: Click the **Run** button to run. You should have results that look like the
    figure below
  id: totrans-222
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 点击**运行**按钮来执行。你应该能看到如下图所示的结果。
- en: '![](img/file97.png)'
  id: totrans-223
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![](img/file97.png)'
- en: Results of selecting a group from the group list
  id: totrans-224
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 从组列表中选择组的结果。
- en: Now you can see some the properties of the group. You are going to print out
    the values using `.format()` to add some context to the values being printed out
  id: totrans-225
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在你可以看到小组的一些属性。你将使用 `.format()` 输出这些值，以便为输出的值添加一些上下文信息。
- en: '[PRE32]'
  id: totrans-226
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE32]'
- en: Click the **Run** button to run. You should have results that look like the
    figure below
  id: totrans-227
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 点击 **Run** 按钮以运行。你应该看到如下图所示的结果
- en: '![](img/file98.png)'
  id: totrans-228
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![](img/file98.png)'
- en: Results from Group Properties
  id: totrans-229
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 小组属性的结果
- en: There are more properties that you can access for a group. A full list of them
    is here, [https://developers.arcgis.com/rest/users-groups-and-items/group-search.htm](https://developers.arcgis.com/rest/users-groups-and-items/group-search.htm)
  id: totrans-230
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 你可以访问小组的更多属性。完整的列表请参见这里：[https://developers.arcgis.com/rest/users-groups-and-items/group-search.htm](https://developers.arcgis.com/rest/users-groups-and-items/group-search.htm)
- en: To search for groups within your organization you need to be logged into your
    GIS. Create a new GIS in this workbook by typing the following in the next cell
  id: totrans-231
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要在组织内部搜索小组，你需要登录到你的 GIS。通过在下一个单元格中输入以下内容来创建一个新的 GIS。
- en: '[PRE33]'
  id: totrans-232
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE33]'
- en: Click the **Run** button to run
  id: totrans-233
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 点击 **Run** 按钮以运行
- en: In the next cell you will run a search for all groups in your organization that
    you have access to.
  id: totrans-234
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在下一个单元格中，你将运行一个搜索，查找所有你所在组织中你有权限访问的小组。
- en: '[PRE34]'
  id: totrans-235
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE34]'
- en: Click the **Run** button to run. You should see at most 5 groups. If you are
    not a member of 5 groups you will only see those that you are a member of. If
    you want to see all the groups you are a member of you would remove the `max_groups=5`
  id: totrans-236
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 点击 **Run** 按钮以运行。你应该最多看到 5 个小组。如果你不是 5 个小组的成员，你将只看到你所在的小组。如果你想查看你是所有小组的成员，可以去掉
    `max_groups=5`
- en: Creating a Group
  id: totrans-237
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 创建小组
- en: Now that you have seen how to search for groups in your organization you need
    to create one. You can create groups to share data publically or with just members
    of the group. You are going to walk through how to create a group for sharing
    data publically. You will also see the arguments needed to create private groups
    and how to change the setting.
  id: totrans-238
  prefs: []
  type: TYPE_NORMAL
  zh: 现在你已经看过如何在组织中搜索小组，接下来你需要创建一个小组。你可以创建小组来公开分享数据，或者仅与小组成员分享。接下来你将学习如何创建一个公开共享数据的小组。你还将看到创建私人小组所需的参数以及如何更改设置。
- en: Right click on `Chapter3` folder and select **New>Notebook**. Rename the Notebook
    to `CreateGroupMoveData`
  id: totrans-239
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 右键点击 `Chapter3` 文件夹并选择 **New>Notebook**。将笔记本重命名为 `CreateGroupMoveData`
- en: You are going to log into your organizations GIS through the user you are currently
    logged into ArcGIS Pro with by typing in the following
  id: totrans-240
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你将通过你当前登录 ArcGIS Pro 的用户登录到组织的 GIS，输入以下内容。
- en: '[PRE35]'
  id: totrans-241
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE35]'
- en: Click the **Run** button to run
  id: totrans-242
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 点击 **Run** 按钮以运行
- en: In the next cell you will create a group by using the create method of the groups
    module. The create method takes 5 arguments explained in the table below. Type
    in the following
  id: totrans-243
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在下一个单元格中，你将使用小组模块的 create 方法来创建小组。create 方法需要 5 个参数，参数解释见下表。输入以下内容：
- en: '[PRE36]'
  id: totrans-244
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE36]'
- en: Click the **Run** button to run
  id: totrans-245
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 点击 **Run** 按钮以运行
- en: You should get no out message, but you have created a new public group. To check
    this you can go to your ArcGIS Online account and look in Groups. You can also
    type in `farmerMarketGroup` and click the **Run** button to see the group. It
    should look something like below.
  id: totrans-246
  prefs: []
  type: TYPE_NORMAL
  zh: 你应该不会收到退出消息，但你已经创建了一个新的公共小组。要验证这一点，你可以进入你的 ArcGIS Online 账户并查看“Groups”部分。你也可以输入
    `farmerMarketGroup` 并点击 **Run** 按钮来查看该小组。它应该看起来像下面这样。
- en: '![](img/file99.png)Newly created group.'
  id: totrans-247
  prefs: []
  type: TYPE_NORMAL
  zh: '![](img/file99.png) 新创建的小组。'
- en: 'To create the group you used 5 arguments: title, tags, description, access,
    `is_invitation_only`. Those are the minimum arguments you should use when setting
    up a new group as they give the group a title, tags, description and set basic
    access. The table below has those arguments along with the values they can be.'
  id: totrans-248
  prefs: []
  type: TYPE_NORMAL
  zh: 为了创建小组，你使用了 5 个参数：标题、标签、描述、访问权限、`is_invitation_only`。这些是你在设置新小组时应使用的最基本的参数，它们为小组设置标题、标签、描述，并设置基本的访问权限。下面的表格列出了这些参数及其可能的值。
- en: '| `title` | String between single or double quotes that will be the title of
    your group |'
  id: totrans-249
  prefs: []
  type: TYPE_TB
  zh: '| `title` | 单引号或双引号之间的字符串，作为你小组的标题 |'
- en: '| `tags` | String between single or double quotes with a comma separating all
    the tags. When returned it is a list |'
  id: totrans-250
  prefs: []
  type: TYPE_TB
  zh: '| `tags` | 单引号或双引号之间的字符串，标签之间用逗号分隔。返回时，它是一个列表 |'
- en: '| `description` | String between single or double quotes that will be the description
    of your group |'
  id: totrans-251
  prefs: []
  type: TYPE_TB
  zh: '| `description` | 单引号或双引号之间的字符串，作为你小组的描述 |'
- en: '| `access` | String between single or double quotes that sets the access. The
    access values can be: org, private, public. Org is a group that everyone in your
    organization can see. Private is a private group that only invited users can see.
    Public is a public group available to everyone. |'
  id: totrans-252
  prefs: []
  type: TYPE_TB
  zh: '| `access` | 用单引号或双引号括起来的字符串，用于设置访问权限。访问权限的值可以是：org、private、public。Org是指你的组织中的每个人都能看到的组。Private是一个私密的组，只有被邀请的用户可以查看。Public是一个公开的组，任何人都可以访问。
    |'
- en: '| `is_invitation_only` | String between single or double quotes that is a boolean
    value. When set to True users can only gain access if invited. When set to False
    users can request access or be invited. |'
  id: totrans-253
  prefs: []
  type: TYPE_TB
  zh: '| `is_invitation_only` | 用单引号或双引号括起来的字符串，表示布尔值。当设置为True时，用户只能在被邀请后才能访问。当设置为False时，用户可以请求访问或被邀请。
    |'
- en: You can verify any of the settings by typing the variable for the group a dot
    and the value. To verify the access of the group you just created you would type
    the following in the next cell
  id: totrans-254
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以通过输入组的变量、点和相应的值来验证任何设置。要验证你刚创建的组的访问权限，可以在下一个单元格中输入以下内容
- en: '[PRE37]'
  id: totrans-255
  prefs: []
  type: TYPE_PRE
  zh: '[PRE37]'
- en: And click **Run** to run.
  id: totrans-256
  prefs: []
  type: TYPE_NORMAL
  zh: 然后点击**运行**以执行。
- en: You should see the following output.
  id: totrans-257
  prefs: []
  type: TYPE_NORMAL
  zh: 你应该能看到以下输出。
- en: '![](img/file100.png)Verifying a groups access.'
  id: totrans-258
  prefs: []
  type: TYPE_NORMAL
  zh: '![](img/file100.png)验证组的访问权限。'
- en: To change any of the values of a group you can do that by using the update function.
    The update function takes all the same arguments used to create the group. To
    update the access type in the following
  id: totrans-259
  prefs: []
  type: TYPE_NORMAL
  zh: 要更改组的任何值，可以使用更新功能。更新功能采用与创建组时相同的所有参数。要更新以下内容的访问类型
- en: '[PRE38]'
  id: totrans-260
  prefs: []
  type: TYPE_PRE
  zh: '[PRE38]'
- en: And click **Run** to run.
  id: totrans-261
  prefs: []
  type: TYPE_NORMAL
  zh: 然后点击**运行**以执行。
- en: You have now created a new group and seen how to change the values of that group.
    The next step is sharing **data** with a group.
  id: totrans-262
  prefs: []
  type: TYPE_NORMAL
  zh: 现在你已经创建了一个新组，并了解了如何更改该组的值。下一步是与组共享**数据**。
- en: Sharing content to a Group
  id: totrans-263
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 向组共享内容
- en: An empty group is not very useful. The point of creating a group is to share
    data either publically or with other users. In this section you will see how to
    share data with a group.
  id: totrans-264
  prefs: []
  type: TYPE_NORMAL
  zh: 一个空组没有什么用处。创建组的目的是共享数据，不管是公开共享还是与其他用户共享。在这一部分，你将看到如何与组共享数据。
- en: You are going to need to access the feature layer containing the Alameda County
    Farmers Markets. In the next cell of the same Notebook from above you will use
    the `search()` method to get the Farmers Markets in Alameda County feature layer.
    The search method returns a list but you know you only have one item with that
    title so you can add a [0] at the end of the search method to return just the
    first value from the list to your variable. Type the following
  id: totrans-265
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你需要访问包含阿拉梅达县农贸市场的功能层。在上面同一个Notebook的下一个单元格中，你将使用`search()`方法来获取阿拉梅达县农贸市场的功能层。搜索方法返回一个列表，但你知道该列表中只有一个项，因此可以在搜索方法的末尾加上[0]，只返回列表中的第一个值。输入以下内容
- en: '[PRE39]'
  id: totrans-266
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE39]'
- en: Click **Run** to run. You should see the display for the Alameda County Farmers
    Market Feature Layer
  id: totrans-267
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 点击**运行**以执行。你应该能看到阿拉梅达县农贸市场功能层的显示
- en: Now you can check the access of the feature layer by typing in the following
  id: totrans-268
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在你可以通过输入以下内容来检查功能层的访问权限
- en: '[PRE40]'
  id: totrans-269
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE40]'
- en: Click **Run** to run. You should see it return `‘private’`
  id: totrans-270
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 点击**运行**以执行。你应该能看到返回`‘private’`
- en: Now that you have a feature layer you can share it with your group. To share
    with the group you are going to use the `share()` method, and you are going to
    use two arguments to set the organization sharing level when sharing it with the
    group. The org argument can be set to True or False, when set to True it shares
    the item with your entire organization, when false it share it just with the group.
    The group argument takes the id from the group. Since you have a variable holding
    the group you just have to access its id by using the id method. Type in the following
  id: totrans-271
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在你有了一个功能层，可以与组共享它。为了与组共享，你将使用`share()`方法，并使用两个参数来设置共享给组时的组织共享级别。org参数可以设置为True或False，当设置为True时，它将与整个组织共享该项；当设置为False时，它仅与该组共享。group参数接受组的id。由于你有一个保存该组的变量，你只需要通过使用id方法访问它的id。输入以下内容
- en: '[PRE41]'
  id: totrans-272
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE41]'
- en: Click **Run** to run. You should see the result below
  id: totrans-273
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 点击**运行**以执行。你应该能看到以下结果
- en: '![](img/file101.png)'
  id: totrans-274
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![](img/file101.png)'
- en: Results of sharing an item to a group
  id: totrans-275
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 向组共享项目的结果
- en: You can check the sharing level of any of your items by calling the `shared_with`
    method on it. To see that type in the following
  id: totrans-276
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你可以通过对任何项调用`shared_with`方法来检查其共享级别。要查看这一点，输入以下内容
- en: '[PRE42]'
  id: totrans-277
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE42]'
- en: Click **Run** to run. You should see the result below
  id: totrans-278
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 点击**运行**以执行。你应该能看到以下结果
- en: '![](img/file102.png)'
  id: totrans-279
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![](img/file102.png)'
- en: Results of shared_with
  id: totrans-280
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: shared_with的结果
- en: The result is a dictionary with values for everyone, org, and groups that the
    item is now shared with.
  id: totrans-281
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 结果是一个字典，其中包含有关每个用户、组织和组的值，表示该项目现在已与这些内容共享。
- en: Now that you have shared some data with the group you need to add or invite
    users to join your group.
  id: totrans-282
  prefs: []
  type: TYPE_NORMAL
  zh: 既然你已经向该组共享了一些数据，现在你需要添加或邀请用户加入该组。
- en: Adding, Inviting, and Removing Users from a Group
  id: totrans-283
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 向组添加、邀请和移除用户
- en: Adding, inviting and removing users from a group all use similar code. They
    all apply a method to the group. The method takes a list of strings of usernames
    as its argument. The table below displays the syntax using our farmers market
    group from the example.
  id: totrans-284
  prefs: []
  type: TYPE_NORMAL
  zh: 添加、邀请和移除用户的代码类似。它们都对该组应用一种方法。该方法接受一个包含用户名的字符串列表作为参数。下表展示了使用我们示例中的农贸市场组的语法。
- en: '| `add_users` | `farmerMarketGroup.add_users([“user1”,”user2”, . . .])` |'
  id: totrans-285
  prefs: []
  type: TYPE_TB
  zh: '| `add_users` | `farmerMarketGroup.add_users([“user1”,”user2”, . . .])` |'
- en: '| `invite_users` | `farmerMarketGroup.invite_users([“user1”,”user2”, . . .])`
    |'
  id: totrans-286
  prefs: []
  type: TYPE_TB
  zh: '| `invite_users` | `farmerMarketGroup.invite_users([“user1”,”user2”, . . .])`
    |'
- en: '| `remove_users` | `farmerMarketGroup.remove_users([“user1”,”user2”, . . .])`
    |'
  id: totrans-287
  prefs: []
  type: TYPE_TB
  zh: '| `remove_users` | `farmerMarketGroup.remove_users([“user1”,”user2”, . . .])`
    |'
- en: When any of the above code is run the output is a dictionary with a list of
    users that were added, invited, or removed along with the details. *The group
    owner cannot be removed from the group.*
  id: totrans-288
  prefs: []
  type: TYPE_NORMAL
  zh: 当执行上述任何代码时，输出将是一个字典，列出已添加、邀请或移除的用户及其详细信息。*组的所有者不能被移除。*
- en: Which user can belong to group is dependent on your organization type. In some
    cases organizations do not allow users from outside your organization or public
    users to be part of a group.
  id: totrans-289
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 哪些用户可以属于某个组取决于你的组织类型。在某些情况下，组织不允许外部用户或公共用户成为组的成员。
- en: Now you have created a group, shared data with it and added or invited new users
    to that group. Next you will see how to manage users
  id: totrans-290
  prefs: []
  type: TYPE_NORMAL
  zh: 现在你已经创建了一个组，向其共享了数据并添加或邀请了新的用户。接下来，你将看到如何管理用户。
- en: Manage Users
  id: totrans-291
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 管理用户
- en: Managing users in your organization through the ArcGIS API for Python can be
    a time saver as you can have Notebooks created that can be run to quickly create
    new users, access user data, reassign user content and delete users. The first
    step is understanding the User class to see what information you can see about
    users.
  id: totrans-292
  prefs: []
  type: TYPE_NORMAL
  zh: 通过Python的ArcGIS API管理你组织中的用户可以节省时间，因为你可以创建并运行笔记本，以快速创建新用户、访问用户数据、重新分配用户内容和删除用户。第一步是理解User类，以了解你可以查看哪些关于用户的信息。
- en: User Properties
  id: totrans-293
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 用户属性
- en: In order to learn more about the properties of users you are going to look at
    yourself and explore the different user properties.
  id: totrans-294
  prefs: []
  type: TYPE_NORMAL
  zh: 为了更好地了解用户的属性，你将查看自己的账户并探索不同的用户属性。
- en: Right click on `Chapter3` folder and select **New>Notebook**. Rename the Notebook
    to `UserProperties`
  id: totrans-295
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 右键点击`Chapter3`文件夹，选择**新建>笔记本**。将笔记本重命名为`UserProperties`
- en: You are going to log into your organizations GIS through the user you are currently
    logged into ArcGIS Pro with by typing in the following
  id: totrans-296
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你将通过当前在ArcGIS Pro中登录的用户登录到你的组织的GIS，输入以下内容：
- en: '[PRE43]'
  id: totrans-297
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE43]'
- en: Click **Run** to run
  id: totrans-298
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 点击**运行**以执行
- en: In the next cell you are going to view your own account by using the me property.
    Type in the following
  id: totrans-299
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在下一个单元中，你将通过使用me属性查看自己的账户。输入以下内容：
- en: '[PRE44]'
  id: totrans-300
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE44]'
- en: Click **Run** to run. You should see the following returned with your user information
  id: totrans-301
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 点击**运行**以执行。你应该能看到返回的内容，其中包含你的用户信息。
- en: '![](img/file103.png)'
  id: totrans-302
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![](img/file103.png)'
- en: User information
  id: totrans-303
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 用户信息
- en: You can identify many different aspects of a user’s profile. Things like a user’s
    first and last name, email address, when they last accessed their account, what
    groups they are a member of, and how much storage they are using, You are going
    to extract and write out all of this information. You will need to import the
    time module to convert the time returned to month/date/year. The groups property
    returns a data dictionary. In order to access the name you create an empty list,
    and iterate through the data dictionary accessing the title of each, and append
    it to the group, then use the join function to write the contents of the group
    to string. In the next cell type the following
  id: totrans-304
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你可以识别用户档案的许多不同方面。比如用户的名字和姓氏、电子邮件地址、最后一次访问账户的时间、他们是哪些组的成员以及他们使用的存储量等。你将提取并写出所有这些信息。你需要导入时间模块，将返回的时间转换为月/日/年格式。groups属性返回一个数据字典。为了访问名称，你需要创建一个空列表，并通过数据字典迭代访问每个标题，并将其附加到组中，然后使用join函数将组的内容写入字符串。接下来，在下一个单元中输入以下内容：
- en: '[PRE45]'
  id: totrans-305
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE45]'
- en: Click **Run** to run. You should see the following returned with your user information
  id: totrans-306
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 点击**运行**来执行。你应该看到以下返回的内容，其中包含你的用户信息
- en: '![](img/file104.png)User Information returned'
  id: totrans-307
  prefs: []
  type: TYPE_NORMAL
  zh: '![](img/file104.png)返回的用户信息'
- en: Another useful item to be returned would be credits available. For this you
    need to have credit budgeting turned on. In a future section you will look more
    at managing credits as an administrator and you can add that code to your above
    code to find the credits available.
  id: totrans-308
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 另一个有用的返回项是可用积分。为此，你需要开启积分预算功能。在后续部分，你将深入了解作为管理员如何管理积分，并且你可以将这些代码添加到你上面的代码中，来查找可用积分。
- en: Search For Users
  id: totrans-309
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 用户搜索
- en: You can search for users just like you would with items or groups. You can set
    a query to look for a user by username or find users by an email address. You
    will set up a Notebook with samples of both that you can use to further search
    for users within your organization.
  id: totrans-310
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以像搜索项目或组一样搜索用户。你可以设置查询条件，通过用户名查找用户，或者通过电子邮件地址查找用户。你将设置一个包含这两种搜索示例的笔记本，供你进一步在组织内搜索用户使用。
- en: Right click on `Chapter5` folder and select **New>Notebook**. Rename the Notebook
    to `SearchForUsers`
  id: totrans-311
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 右键点击`Chapter5`文件夹并选择**新建>笔记本**。将笔记本重命名为`SearchForUsers`
- en: You are going to log into your organizations GIS through the user you are currently
    logged into ArcGIS Pro with by typing in the following
  id: totrans-312
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你将通过你当前在ArcGIS Pro中登录的用户，登录到你组织的GIS中，输入以下内容
- en: '[PRE46]'
  id: totrans-313
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE46]'
- en: Click **Run** to run
  id: totrans-314
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 点击**运行**来执行
- en: First you will search for users by username. You will be writing in your username
    below in the code where it says {`userNameSearch`}. The search for users works
    just like all the previous searches in that it returns a list of values. Since
    you are searching for a specific username you should have a list of one. To be
    sure you will run a test to print out the length of the list. Type in the following
  id: totrans-315
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 首先，你将通过用户名搜索用户。在代码中的`{userNameSearch}`部分，你将输入你的用户名。用户搜索与之前的所有搜索相似，它返回一个值的列表。因为你是在搜索特定的用户名，所以列表应该只有一个。为了确保，你将运行一个测试，打印出列表的长度。输入以下内容
- en: '[PRE47]'
  id: totrans-316
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE47]'
- en: Click **Run** to run
  id: totrans-317
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 点击**运行**来执行
- en: '![](img/file105.png)'
  id: totrans-318
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![](img/file105.png)'
- en: Result of username search
  id: totrans-319
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 用户名搜索结果
- en: To access the user returned you need to use the list index to extract the first
    user. Then display those results. Type in the following
  id: totrans-320
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要访问返回的用户，你需要使用列表索引提取第一个用户。然后显示这些结果。输入以下内容
- en: '[PRE48]'
  id: totrans-321
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE48]'
- en: Click **Run** to run
  id: totrans-322
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 点击**运行**来执行
- en: '![](img/file106.png)'
  id: totrans-323
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![](img/file106.png)'
- en: Results of selecting a single user
  id: totrans-324
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 选择单个用户的结果
- en: You can also search by email using the wildcard *. This allows you to search
    for all email addresses from the same email provider. The code is the same as
    for searching by username except for the query. In this sample you will put in
    your own email provider in the `{@email.com}`. You are again going to find the
    length of the list returned to you before extracting a user. Type in the following
    in the next cell.
  id: totrans-325
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你也可以使用通配符`*`通过电子邮件进行搜索。这允许你搜索来自相同电子邮件提供商的所有电子邮件地址。代码与按用户名搜索时相同，只是查询部分有所不同。在这个示例中，你将在`{@email.com}`中输入你自己的电子邮件提供商。你再次需要查找返回给你的列表长度，然后再提取用户。接着在下一个单元格中输入以下内容。
- en: '[PRE49]'
  id: totrans-326
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE49]'
- en: Click **Run** to run
  id: totrans-327
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 点击**运行**来执行
- en: Depending on how many people in your organization have that email host you may
    have a large number. You could iterate through them using a for loop and print
    out the user information from the last Notebook. Type in the following
  id: totrans-328
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 根据你所在组织中有多少人使用该电子邮件主机，你可能会有一个很大的用户列表。你可以使用`for`循环逐个遍历这些用户，并打印出来自上一个笔记本的用户信息。输入以下内容
- en: '[PRE50]'
  id: totrans-329
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE50]'
- en: Click **Run** to run. It will print out the user information for each user in
    that search, separated by a `-----------`.
  id: totrans-330
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 点击**运行**来执行。它将打印出每个搜索结果中的用户信息，结果之间用`-----------`分隔。
- en: '![](img/file107.png)User search information.'
  id: totrans-331
  prefs: []
  type: TYPE_NORMAL
  zh: '![](img/file107.png)用户搜索信息。'
- en: You have seen how to search for users within your organization, and print out
    user information. In the next section you will see some of the admin privileges
    that can be applied to users.
  id: totrans-332
  prefs: []
  type: TYPE_NORMAL
  zh: 你已经学会了如何在组织内搜索用户并打印出用户信息。在接下来的部分，你将看到一些可以应用于用户的管理员权限。
- en: Administering Your GIS
  id: totrans-333
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 管理你的GIS
- en: In this section you will explore what you can do if you are the administrator
    and have admin privileges. With admin privileges you can add and remove users,
    manage user licenses, and manage ArcGIS Online credits. In this section you will
    see how to do each of those.
  id: totrans-334
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，你将探索如果你是管理员并且拥有管理员权限，你能做什么。有了管理员权限，你可以添加和移除用户、管理用户许可证和管理ArcGIS Online积分。在本节中，你将学习如何执行这些操作。
- en: You must have admin privileges to do any of the following. To add users you
    must have credentials available for the new user
  id: totrans-335
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 你必须拥有管理员权限才能执行以下操作。要添加用户，你必须为新用户提供凭证。
- en: Creating and Deleting users
  id: totrans-336
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 创建和删除用户
- en: 'To create new users in AcGIS Online you will be using the `create()` method.
    The `create()` method takes the following arguments: `username`, `password`, `firstname`,
    `lastname`, `email`, `description`, `role`, `user_type`, and `provider`.'
  id: totrans-337
  prefs: []
  type: TYPE_NORMAL
  zh: 要在 ArcGIS Online 中创建新用户，你将使用 `create()` 方法。`create()` 方法需要以下参数：`username`、`password`、`firstname`、`lastname`、`email`、`description`、`role`、`user_type`
    和 `provider`。
- en: '| `username` | String value of the username |'
  id: totrans-338
  prefs: []
  type: TYPE_TB
  zh: '| `username` | 用户名的字符串值 |'
- en: '| `password` | String value of the password, this can be changed by user at
    any time when they log in |'
  id: totrans-339
  prefs: []
  type: TYPE_TB
  zh: '| `password` | 密码的字符串值，用户可以在任何时候登录时更改此密码 |'
- en: '| `firstname` | String value of the user’s first name |'
  id: totrans-340
  prefs: []
  type: TYPE_TB
  zh: '| `firstname` | 用户的名字的字符串值 |'
- en: '| `lastname` | String value of the user’s last name |'
  id: totrans-341
  prefs: []
  type: TYPE_TB
  zh: '| `lastname` | 用户姓氏的字符串值 |'
- en: '| `email` | String value of the user’s email address |'
  id: totrans-342
  prefs: []
  type: TYPE_TB
  zh: '| `email` | 用户的电子邮件地址的字符串值 |'
- en: '| `description` | String value of the description of the user |'
  id: totrans-343
  prefs: []
  type: TYPE_TB
  zh: '| `description` | 用户描述的字符串值 |'
- en: '| `role` | String value of the role for the user in the organization.ArcGIS
    Online has the three options`org_admin` is for admins with the organization that
    have admin privleges`org_publisher` is for publishers in the organization that
    can publish web layers and service layers`org_user` is for users in the organization
    that can create groups and content and use the organizations data |'
  id: totrans-344
  prefs: []
  type: TYPE_TB
  zh: '| `role` | 用户在组织中的角色的字符串值。ArcGIS Online有三个选项，`org_admin` 是具有管理员权限的组织管理员，`org_publisher`
    是可以发布 Web 图层和服务图层的发布者，`org_user` 是可以创建小组和内容并使用组织数据的普通用户 |'
- en: '| `user_type` | String value for the user type in the organization`viewer_UT`
    is for users that need to view data shared with them. They can’t create or edit
    data`fieldworkerUT` is for users that need to view and edit data and is for users
    that interact mostly through field apps.`editor_UT` is for users that need to
    view and edit data shared with them. They can’t create or share data`creator_UT`
    is for users that need to create and share content, such as web maps and apps.`GISProfessionalBasicUT`
    is for users with all the capabilities of a creator and access to ArcGIS Pro Basic`GISProfessionalStdUT`
    is for users with all the capabilities of a creator and access to ArcGIS Pro Standard`GISProfessionalAdvUT`
    is for users with all the capabilities of a creator and access to ArcGIS Pro Advanced
    |'
  id: totrans-345
  prefs: []
  type: TYPE_TB
  zh: '| `user_type` | 组织中用户类型的字符串值，`viewer_UT` 适用于需要查看与他们共享的数据的用户，他们不能创建或编辑数据；`fieldworkerUT`
    适用于需要查看和编辑数据的用户，通常通过现场应用程序与数据互动；`editor_UT` 适用于需要查看和编辑与他们共享的数据的用户，他们不能创建或共享数据；`creator_UT`
    适用于需要创建和共享内容（如 Web 地图和应用程序）的用户；`GISProfessionalBasicUT` 适用于具有所有创建者功能并能访问 ArcGIS
    Pro Basic 的用户；`GISProfessionalStdUT` 适用于具有所有创建者功能并能访问 ArcGIS Pro Standard 的用户；`GISProfessionalAdvUT`
    适用于具有所有创建者功能并能访问 ArcGIS Pro Advanced 的用户 |'
- en: '| `provider` | String value for the provider`arcgis` for ArcGIS Onlineenterprise
    for ArcGIS Enterprise |'
  id: totrans-346
  prefs: []
  type: TYPE_TB
  zh: '| `provider` | 提供者的字符串值，`arcgis` 代表 ArcGIS Online，`enterprise` 代表 ArcGIS Enterprise
    |'
- en: With this table you can create your new user.
  id: totrans-347
  prefs: []
  type: TYPE_NORMAL
  zh: 使用此表格，你可以创建新的用户。
- en: Right click on `Chapter5` folder and select **New>Notebook**. Rename the Notebook
    to `AdminsteringYourOrg`
  id: totrans-348
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 右键点击 `Chapter5` 文件夹并选择**新建>笔记本**。将笔记本重命名为 `AdminsteringYourOrg`
- en: You are going to log into your organizations GIS through the user you are currently
    logged into ArcGIS Pro with by typing in the following
  id: totrans-349
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你将通过当前在 ArcGIS Pro 中登录的用户登录到你组织的 GIS，方法是输入以下内容
- en: '[PRE51]'
  id: totrans-350
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE51]'
- en: Click **Run** to run
  id: totrans-351
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 点击**运行**以执行
- en: You are going to create a sample new user. You will assign them a username,
    password, first name, last name, email, description, role, user type, and provider.
    Type in the following
  id: totrans-352
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你将创建一个新的示例用户。你需要为其分配用户名、密码、名字、姓氏、电子邮件、描述、角色、用户类型和提供者。请键入以下内容
- en: '[PRE52]'
  id: totrans-353
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE52]'
- en: Click **Run** to run. If it runs you should get no result.
  id: totrans-354
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 点击**运行**以执行。如果执行成功，你应该不会得到任何结果。
- en: To view the user type in `newUser` in the next cell and click **Run** to run
  id: totrans-355
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在下一个单元格中输入 `newUser`，然后点击**运行**以执行
- en: When it comes time to delete a user you first want to make sure you don’t lose
    any data. As an admin you can reassign a user’s data to a different user. The
    first step is to find all of that user’s data. Recall from earlier you can search
    for content based on the owner’s username. In the next cell type the following
  id: totrans-356
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 删除用户时，首先要确保不会丢失任何数据。作为管理员，您可以将用户的数据重新分配给其他用户。第一步是找到该用户的所有数据。请回忆之前的内容，您可以根据所有者的用户名搜索内容。在下一个单元中输入以下内容：
- en: '[PRE53]'
  id: totrans-357
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE53]'
- en: Click **Run** to run.
  id: totrans-358
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 点击**运行**以执行。
- en: To reassign all the items to a new user you loop through the list of items calling
    the `reassign_to` method. The reassign_`to` method takes a `target_owner` and
    `target_folder` argument. If the name of the `target_folder` is not assigned it
    will put the items in the root folder. You can now reassign all the data from
    newUser to yourself by typing in the following
  id: totrans-359
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要将所有项目重新分配给新用户，您需要遍历项目列表，并调用`reassign_to`方法。`reassign_to`方法需要`target_owner`和`target_folder`参数。如果没有为`target_folder`指定名称，它将把项目放在根文件夹中。现在，您可以通过输入以下内容将所有数据从newUser重新分配给自己：
- en: '[PRE54]'
  id: totrans-360
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE54]'
- en: Click **Run** to run. You should get no output
  id: totrans-361
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 点击**运行**以执行。您应该不会得到任何输出。
- en: Now you can delete the user as all of their data has been reassigned. In the
    next cell type in
  id: totrans-362
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，您可以删除该用户，因为他们的所有数据已经重新分配。在下一个单元中输入：
- en: '[PRE55]'
  id: totrans-363
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE55]'
- en: Click **Run** to run. You should get no output
  id: totrans-364
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 点击**运行**以执行。您应该不会得到任何输出。
- en: You can reassign all of a user’s items when you delete the user. But you are
    only able to reassign it to the root folder. To do that you would write `newUser.delete(reassign_to
    ={userNameToAssignTo}”`
  id: totrans-365
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 删除用户时，您可以重新分配该用户的所有项目。但您只能将其重新分配到根文件夹。为此，您需要写入`newUser.delete(reassign_to ={userNameToAssignTo}”`
- en: You have seen how to create a user and the different attributes you can assign
    a user when you create them. You have also seen how to reassign a user’s data
    and delete that user. Next you will see how to assign licenses and monitor credits
    for your users
  id: totrans-366
  prefs: []
  type: TYPE_NORMAL
  zh: 您已经看到如何创建用户，以及在创建用户时可以分配的不同属性。您还看到了如何重新分配用户的数据并删除该用户。接下来，您将看到如何分配许可证并监控用户的积分。
- en: Assign Licenses and Credits
  id: totrans-367
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 分配许可证和积分
- en: You can manage both user licenses and credits through Notebooks. Users can be
    assigned a license and have that license revoked. You can view the available credits
    in your organization, and you can manage those credits through credit budgeting.
    You are first going to see how to check the apps in your organization and then
    view the licenses in your organization and see how to assign them.
  id: totrans-368
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以通过笔记本管理用户许可证和积分。可以为用户分配许可证并撤销该许可证。您可以查看您组织中的可用积分，并通过信用预算管理这些积分。您将首先看到如何检查您组织中的应用程序，然后查看您组织中的许可证，并学习如何分配这些许可证。
- en: Continue working in the `AdminsteringYourOrg` Notebook by finding all the apps
    licensed in your organization. You will create variable to hold the list of apps
    and then a loop to print out the apps each on a single line. Type in the following
  id: totrans-369
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 继续在`AdminsteringYourOrg`笔记本中工作，通过查找您组织中所有授权的应用程序。您将创建一个变量来保存应用程序列表，然后使用循环逐行打印出每个应用程序。输入以下内容：
- en: '[PRE56]'
  id: totrans-370
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE56]'
- en: Click **Run** to run. You will see the apps your organization has licensed.
  id: totrans-371
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 点击**运行**以执行。您将看到您组织中已授权的应用程序。
- en: In the next cell you will use the get method to get the license to your ArcGIS
    Pro app so you can see what individual license you have. Type in the following
  id: totrans-372
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在下一个单元中，您将使用get方法获取ArcGIS Pro应用程序的许可证，以便查看您拥有的具体许可证。输入以下内容：
- en: '[PRE57]'
  id: totrans-373
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE57]'
- en: Click **Run** to run. You should get no output
  id: totrans-374
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 点击**运行**以执行。您应该不会得到任何输出。
- en: Now that you have the Pro app license you can see what extensions you have licensed
    and if any are assigned. You are using the report object to get a table showing
    you what licenses you have, how many are assigned and how many are remaining.
    Type in the following
  id: totrans-375
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，您拥有Pro应用程序许可证，可以查看您已授权的扩展名，以及是否已分配任何扩展名。您正在使用报告对象来获取一个表格，显示您拥有的许可证、已分配的数量以及剩余的数量。输入以下内容：
- en: '[PRE58]'
  id: totrans-376
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE58]'
- en: Click **Run** to run. You should see a table similar to below, just with the
    licenses in your organization
  id: totrans-377
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 点击**运行**以执行。您应该会看到一个类似于下方的表格，只是显示的是您组织中的许可证。
- en: '![](img/file108.png)'
  id: totrans-378
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![](img/file108.png)'
- en: ArcGIS Pro Licenses in your organization
  id: totrans-379
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 您组织中的ArcGIS Pro许可证
- en: Now that you know what licenses you have available you can assign one. You use
    the assign method with the username and the extension as the entitlements argument.
    Assign yourself a spatial analyst license.
  id: totrans-380
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在您已经知道可用的许可证，您可以分配一个。您使用分配方法，用户名和扩展名作为授权参数。为自己分配一个空间分析师许可证。
- en: '[PRE59]'
  id: totrans-381
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE59]'
- en: Click **Run** to run. If assigned your result should be **True**
  id: totrans-382
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 点击**运行**以执行。如果已分配，您的结果应该是**True**。
- en: You can check on what extension a user has assigned. You use the `user_entitlement`
    method passing in the user name as the argument. Check on what extensions you
    have assigned to you by typing in the following, putting in your user name between
    the quotes.
  id: totrans-383
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您可以检查用户分配了什么扩展名。您可以使用 `user_entitlement` 方法，将用户名作为参数传递。检查您分配给您的扩展名，输入以下内容，并在引号之间输入您的用户名。
- en: '[PRE60]'
  id: totrans-384
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE60]'
- en: Click **Run** to run. The results are a dictionary with the username, last login,
    connected, and list of entitlements as the key/value pairs.
  id: totrans-385
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 单击 **运行** 以运行。结果是带有用户名、最后登录、连接和授予权利的列表的字典作为键值对。
- en: '![](img/file109.png)'
  id: totrans-386
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![](img/file109.png)'
- en: Extensions assigned to a user
  id: totrans-387
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 分配给用户的扩展
- en: To revoke a license you use the revoke method on the license object. The arguments
    are the same as assign, a username and the extensions to be revoked. You can use
    the * wildcard to revoke all licenses. Revoke all the licenses assigned to you.
  id: totrans-388
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要撤销许可证，您可以在许可证对象上使用 revoke 方法。参数与 assign 相同，用户名和要撤销的扩展名。您可以使用 * 通配符来撤销所有许可证。撤销分配给您的所有许可证。
- en: '[PRE61]'
  id: totrans-389
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE61]'
- en: Click **Run** to run. If assigned your result should be **True**
  id: totrans-390
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 单击 **运行** 以运行。如果分配，则您的结果应为 **真**
- en: To verify you have no license use the `user_entitlement` method again
  id: totrans-391
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要验证您没有许可证，请再次使用 `user_entitlement` 方法
- en: '[PRE62]'
  id: totrans-392
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE62]'
- en: Click **Run** to run. The results are an empty dictionary.
  id: totrans-393
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 单击 **运行** 以运行。结果是一个空字典。
- en: You can use the credits property to view the amount of credits available in
    your organization. Type in the following
  id: totrans-394
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您可以使用 credits 属性查看组织中可用的信用额度。输入以下内容
- en: '[PRE63]'
  id: totrans-395
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE63]'
- en: Click **Run** to run. The results will be the number of credits in your organization.
  id: totrans-396
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 单击 **运行** 以运行。结果将是组织中信用点的数量。
- en: You can manage the credits available to each user by using credit budgeting.
    Turn on credit budgeting by using the enable method on the credits property.
  id: totrans-397
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您可以通过使用信用预算来管理每个用户的可用信用额度。通过在积分属性上使用 enable 方法打开信用预算。
- en: '[PRE64]'
  id: totrans-398
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE64]'
- en: Click **Run** to run. Your result should be **True**
  id: totrans-399
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 单击 **运行** 以运行。您的结果应为 **真**
- en: Now you can allocate credits to a user by using the allocate method. The allocate
    method takes the username and number of credits as its arguments. Allocate 10
    credits to yourself
  id: totrans-400
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，您可以使用分配方法为用户分配积分。分配方法以用户名和积分数作为其参数。为自己分配10个积分
- en: '[PRE65]'
  id: totrans-401
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE65]'
- en: Click **Run** to run. Your result should be **True**
  id: totrans-402
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 单击 **运行** 以运行。您的结果应为 **真**
- en: You can also remove credits from a user by using the deallocate method. The
    deallocate method removes all the credits from a user. If you want to remove all
    the credits you would type in the following `gis.admin.credits.deallocate(username='{username}')`
  id: totrans-403
  prefs:
  - PREF_IND
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 您还可以通过使用分配方法从用户那里删除积分。分配方法从用户那里删除所有积分。如果您想删除所有积分，则应键入以下内容 `gis.admin.credits.deallocate(username='{username}')`
- en: When credit budgeting is enabled you can check the available credits for each
    user as they get an assigned credits and available credits property. Check the
    credits you have available
  id: totrans-404
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当启用信用预算时，您可以检查每个用户的可用信用额度，因为他们分配了信用额度和可用信用额度属性。检查您可用的信用额度
- en: '[PRE66]'
  id: totrans-405
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE66]'
- en: Click **Run** to run. The results will be the number of credits available to
    you. *If you are using single user account you cannot assign credits to yourself
    as you have access to all the credits*
  id: totrans-406
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 单击 **运行** 以运行。结果将是您可用的信用额度数量。*如果您使用单用户帐户，则无法向自己分配积分，因为您可以访问所有积分*
- en: Summary
  id: totrans-407
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 摘要
- en: In this section you have seen how to search for content inside and outside of
    your organization. You can now create new folders for organizing your content.
    You can create groups and set different sharing levels of your groups for sharing
    content by inviting users to your group. Using the admin settings you can create
    new users with different roles and types. You can search for existing users and
    pull up information about their roles and data owned, groups they are members
    of, and storage used. You can manage licenses for users and budget credits. In
    all you have the tools and Notebooks to manage your content and users of your
    organization.
  id: totrans-408
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，您已经看到如何在组织内外搜索内容。您现在可以创建新文件夹来组织您的内容。您可以创建组，并设置不同的共享级别以通过邀请用户到您的组来共享内容。使用管理设置，您可以创建具有不同角色和类型的新用户。您可以搜索现有用户并提取有关其角色和拥有的数据，他们是成员的组和使用的存储的信息。您可以为用户管理许可证和预算积分。总之，您有管理您的组织的内容和用户的工具和笔记本电脑。
