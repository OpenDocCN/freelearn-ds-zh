- en: A Tour of Statistics with pandas and NumPy
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用 pandas 和 NumPy 进行统计学概览
- en: In this chapter, we'll take a brief tour of classical statistics (also called
    the frequentist approach) and show you how we can use pandas together with the `numpy`
    and `stats` packages, such as `scipy.stats` and `statsmodels`, to conduct statistical
    analysis. We will also learn how to write the calculations behind these statistics
    from scratch in Python. This chapter and the following ones are not intended to
    be primers on statistics; they just serve as an illustration of using pandas along
    with the `stats` and `numpy` packages. In the next chapter, we will examine an
    alternative approach to the classical view—that is, **Bayesian statistics**.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将简要介绍经典统计学（也称为频率学派方法），并展示如何使用 pandas 配合 `numpy` 和 `stats` 包（例如 `scipy.stats`
    和 `statsmodels`）来进行统计分析。我们还将学习如何在 Python 中从头开始编写这些统计背后的计算。本章及后续章节并非统计学入门教材；它们只是展示如何结合使用
    pandas、`stats` 和 `numpy` 包的示例。在下一章中，我们将探讨经典统计学的替代方法——即**贝叶斯统计**。
- en: 'In this chapter, we will cover the following topics:'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 本章我们将涉及以下主题：
- en: Descriptive statistics versus inferential statistics
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 描述性统计学与推断性统计学
- en: Measures of central tendency and variability
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 集中趋势和变异度的度量
- en: Hypothesis testing – the null and alternative hypotheses
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 假设检验 – 零假设和备择假设
- en: The z-test
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: z 检验
- en: The t-test
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: t 检验
- en: The chi-square test
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 卡方检验
- en: Analysis of variance (ANOVA) test
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 方差分析（ANOVA）检验
- en: Confidence intervals
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 置信区间
- en: Correlation and linear regression
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 相关性与线性回归
- en: Descriptive statistics versus inferential statistics
  id: totrans-12
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 描述性统计学与推断性统计学
- en: In descriptive or summary statistics, we attempt to describe the features of
    a collection of data in a quantitative way. This is different from inferential
    or inductive statistics because its aim is to summarize a sample rather than use
    the data to infer or draw conclusions about the population from which the sample
    is drawn.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 在描述性统计学或总结性统计学中，我们尝试以定量的方式描述一组数据的特征。这与推断性或归纳性统计学不同，因为其目的是总结样本，而不是利用数据推断或得出关于从中抽取样本的总体的结论。
- en: Measures of central tendency and variability
  id: totrans-14
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 集中趋势和变异度的度量
- en: Some of the measures that are used in descriptive statistics include the measures
    of central tendency and measures of variability.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 描述性统计学中使用的部分度量包括集中趋势度量和变异度度量。
- en: A measure of central tendency is a single value that attempts to describe a
    dataset by specifying a central position within the data. The three most common
    measures of central tendency are the **mean**, **median**, and **mode**.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 集中趋势度量是通过指定数据中的中心位置来描述数据集的单个值。三种最常见的集中趋势度量是**均值**、**中位数**和**众数**。
- en: A measure of variability is used to describe the variability in a dataset. Measures
    of variability include variance and standard deviation.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 变异度度量用于描述数据集中的变异性。变异度度量包括方差和标准差。
- en: Measures of central tendency
  id: totrans-18
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 集中趋势的度量
- en: Let's take a look at the measures of central tendency, along with illustrations
    of them, in the following subsections.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们将通过以下小节来了解集中趋势的度量，并附上相应的示例。
- en: The mean
  id: totrans-20
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 均值
- en: 'The mean or sample is the most popular measure of central tendency. It is equal
    to the sum of all the values in the dataset, divided by the number of values in
    the dataset. Thus, in a dataset of *n* values, the mean is calculated as follows:'
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 均值或样本均值是最常见的集中趋势度量。它等于数据集中所有值的总和，除以数据集中的值的个数。因此，在一个包含 *n* 个值的数据集中，均值的计算公式如下：
- en: '![](img/d09d2a35-9c6b-4ddc-985f-eb213e2bb47f.png)'
  id: totrans-22
  prefs: []
  type: TYPE_IMG
  zh: '![](img/d09d2a35-9c6b-4ddc-985f-eb213e2bb47f.png)'
- en: We use ![](img/7d4b5155-fd91-4540-9c10-1e0efbfc1e52.png) if the data values
    are from a sample and **µ** if the data values are from a population.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 如果数据值来自样本，我们使用！[](img/7d4b5155-fd91-4540-9c10-1e0efbfc1e52.png)；如果数据值来自总体，我们使用**µ**。
- en: The sample mean and population mean are different. The sample mean is what is
    known as an unbiased estimator of the true population mean. By repeatedly randomly
    sampling the population to calculate the sample mean, we can obtain a mean of
    sample means. We can then invoke the law of large numbers and the **central limit
    theorem** (**CLT**) and denote the mean of the sample means as an estimate of
    the true population mean.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 样本均值和总体均值是不同的。样本均值是所谓的无偏估计量，用于估计真实的总体均值。通过反复从总体中随机抽取样本来计算样本均值，我们可以获得样本均值的均值。然后，我们可以调用大数法则和**中心极限定理**（**CLT**），并将样本均值的均值作为总体均值的估计值。
- en: The population mean is also referred to as the expected value of the population.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 总体均值也被称为总体的期望值。
- en: The mean, as a calculated value, is often not one of the values observed in
    the dataset. The main drawback of using the mean is that it is very susceptible
    to outlier values, or if the dataset is very skewed.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 均值作为一个计算得出的值，通常并不是数据集中观察到的值之一。使用均值的主要缺点是它非常容易受到异常值的影响，或者当数据集非常偏斜时也会受到影响。
- en: The median
  id: totrans-27
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 中位数
- en: The median is the data value that divides the set of sorted data values into
    two halves. It has exactly half of the population to its left and the other half
    to its right. In the case when the number of values in the dataset is even, the
    median is the average of the two middle values. It is less affected by outliers
    and skewed data.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 中位数是将排序后的数据值分成两半的数值。它的左侧恰好有一半的总体数据，右侧也有一半。当数据集中的值的个数是偶数时，中位数是两个中间值的平均值。它受异常值和偏斜数据的影响较小。
- en: The mode
  id: totrans-29
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 众数
- en: 'The mode is the most frequently occurring value in the dataset. It is more
    commonly used for categorical data so that we can find out which category is the
    most common. One downside to using the mode is that it is not unique. A distribution
    with two modes is described as bimodal, while one with many modes is described
    as multimodal. The following code is an illustration of a bimodal distribution
    with modes at two and seven, since they both occur four times in the dataset:'
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 众数是数据集中出现频率最高的值。它更常用于分类数据，以便找出哪个类别最常见。使用众数的一个缺点是它不是唯一的。一个具有两个众数的分布被称为双峰分布，而一个具有多个众数的分布被称为多峰分布。以下代码演示了一个双峰分布，其中众数出现在2和7处，因为它们在数据集中都出现了四次：
- en: '[PRE0]'
  id: totrans-31
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'The generated bimodal distribution appears as follows:'
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 生成的双峰分布如下所示：
- en: '![](img/2c81a26c-5b65-4cdd-b97d-8a49dc914a8a.png)'
  id: totrans-33
  prefs: []
  type: TYPE_IMG
  zh: '![](img/2c81a26c-5b65-4cdd-b97d-8a49dc914a8a.png)'
- en: Computing the measures of central tendency of a dataset in Python
  id: totrans-34
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 在Python中计算数据集的集中趋势度量
- en: 'To illustrate this, let''s consider the following dataset, which consists of
    marks that were obtained by 15 pupils for a test scored out of 20:'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 为了说明这一点，我们来考虑以下数据集，它由15名学生在一项满分为20分的测试中获得的分数组成：
- en: '[PRE1]'
  id: totrans-36
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'The mean, median, and mode can be obtained as follows:'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 均值、中位数和众数可以通过以下方式获得：
- en: '[PRE2]'
  id: totrans-38
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'The following is the output of the preceding code:'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是前面代码的输出：
- en: '![](img/b5abb54e-0726-47c0-aaa6-0c26479aa388.png)'
  id: totrans-40
  prefs: []
  type: TYPE_IMG
  zh: '![](img/b5abb54e-0726-47c0-aaa6-0c26479aa388.png)'
- en: 'To illustrate how the skewness of data or an outlier value can drastically
    affect the usefulness of the mean as a measure of central tendency, consider the
    following dataset, which shows the wages (in thousands of dollars) of the staff
    at a factory:'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 为了说明数据的偏斜或异常值如何显著影响均值作为集中趋势度量的有效性，考虑以下数据集，它显示了某工厂员工的工资（以千美元为单位）：
- en: '[PRE3]'
  id: totrans-42
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'Based on the mean value, we may make the assumption that the data is centered
    around the mean value of `31.82`. However, we would be wrong. To explain why,
    let''s display an empirical distribution of the data using a bar plot:'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 基于均值`31.82`，我们可能会假设数据围绕均值分布。然而，我们会错。为了说明这一点，我们使用条形图展示该数据的经验分布：
- en: '[PRE4]'
  id: totrans-44
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'The following is the output of the preceding code:'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是前面代码的输出：
- en: '![](img/53ef5bca-b623-464b-9de9-bf30315fd731.png)'
  id: totrans-46
  prefs: []
  type: TYPE_IMG
  zh: '![](img/53ef5bca-b623-464b-9de9-bf30315fd731.png)'
- en: 'From the preceding bar plot, we can see that most of the salaries are far below
    30K and that no one is close to the mean of 32K. Now, if we take a look at the
    median, we will see that it is a better measure of central tendency in this case:'
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 从前面的条形图中，我们可以看到大多数薪资远低于30K，并且没有人接近32K的均值。现在，如果我们看看中位数，我们会发现它在这种情况下是一个更好的集中趋势度量：
- en: '[PRE5]'
  id: totrans-48
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'We can also take a look at a histogram of the data:'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 我们还可以查看数据的直方图：
- en: '[PRE6]'
  id: totrans-50
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: 'The following is the output of the preceding code:'
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是前面代码的输出：
- en: '![](img/34f8f7b2-ba9e-4d66-8183-6a037dbf9a70.png)'
  id: totrans-52
  prefs: []
  type: TYPE_IMG
  zh: '![](img/34f8f7b2-ba9e-4d66-8183-6a037dbf9a70.png)'
- en: The histogram is actually a better representation of the data as bar plots are
    generally used to represent categorical data, while histograms are preferred for
    quantitative data, which is the case for the salaries data. For more information
    on when to use histograms versus bar plots, refer to [http://onforb.es/1Dru2gv](http://onforb.es/1Dru2gv).
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 直方图实际上更好地表示了数据，因为条形图通常用于表示分类数据，而直方图更适合用于定量数据，这正是薪资数据的情况。有关何时使用直方图与条形图的更多信息，请参见[http://onforb.es/1Dru2gv](http://onforb.es/1Dru2gv)。
- en: 'If the distribution is symmetrical and unimodal (that is, has only one mode),
    the three measures—mean, median, and mode—will be equal. This is not the case
    if the distribution is skewed. In that case, the mean and median will differ from
    each other. With a negatively skewed distribution, the mean will be lower than
    the median and vice versa for a positively skewed distribution:'
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 如果分布是对称的且单峰的（即只有一个峰值），那么三种衡量值——均值、中位数和众数——将是相等的。如果分布是偏斜的，情况则不相同。在这种情况下，均值和中位数将彼此不同。对于负偏态分布，均值将低于中位数，而对于正偏态分布，情况则相反：
- en: '![](img/e7c9061d-d758-492c-94a9-b4ac0e186e3b.jpg)'
  id: totrans-55
  prefs: []
  type: TYPE_IMG
  zh: '![](img/e7c9061d-d758-492c-94a9-b4ac0e186e3b.jpg)'
- en: Diagram sourced from http://www.southalabama.edu/coe/bset/johnson/lectures/lec15_files/iage014.jpg.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 图表来源：http://www.southalabama.edu/coe/bset/johnson/lectures/lec15_files/iage014.jpg。
- en: Measures of variability, dispersion, or spread
  id: totrans-57
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 变异性、分散度或扩展度的衡量指标
- en: Another characteristic of distribution that we measure in descriptive statistics
    is variability.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 描述统计学中我们衡量的另一个分布特征是变异性。
- en: Variability specifies how much the data points are different from each other
    or dispersed. Measures of variability are important because they provide an insight
    into the nature of the data that is not provided by the measures of central tendency.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 变异性表示数据点之间的差异或分散程度。变异性衡量指标非常重要，因为它们提供了关于数据性质的见解，而这些见解是集中趋势衡量指标所无法提供的。
- en: As an example, suppose we conduct a study to examine how effective a pre-K education
    program is in lifting test scores of economically disadvantaged children. We can
    measure the effectiveness not only in terms of the average value of the test scores
    of the entire sample, but also in terms of the dispersion of the scores. Is it
    useful for some students and not so much for others? The variability of the data
    may help us identify some steps to be taken to improve the usefulness of the program.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 举个例子，假设我们进行了一项研究，旨在检验一项学前教育计划在提升经济困难儿童测试成绩方面的效果。我们可以通过不仅仅关注整个样本的平均测试成绩，还可以通过成绩的分散程度来衡量效果。这对某些学生有用，而对其他学生则不太有用吗？数据的变异性可能有助于我们找出改进计划有效性的措施。
- en: Range
  id: totrans-61
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 范围
- en: 'The simplest measure of dispersion is the range. The range is the difference
    between the lowest and highest scores in a dataset. This is the simplest measure
    of spread, and can be calculated as follows:'
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 最简单的分散度衡量指标是范围。范围是数据集中最低值和最高值之间的差异。这是最简单的扩展度衡量方法，可以按如下方式计算：
- en: '*Range = highest value - lowest value*'
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: '*范围 = 最高值 - 最低值*'
- en: Quartile
  id: totrans-64
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 四分位数
- en: 'A more significant measure of dispersion is the quartile and related interquartile
    ranges. It also stands for *quarterly percentile*, which means that it is the
    value on the measurement scale below which 25, 50, 75, and 100 percent of the
    scores in the sorted dataset fall. The quartiles are three points that split the
    dataset into four groups, with each one containing one-fourth of the data. To
    illustrate this, suppose we have a dataset of 20 test scores that are ranked,
    as follows:'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 一个更重要的分散度衡量指标是四分位数及其相关的四分位距。四分位数也代表*季度百分位数*，意味着它是在测量尺度上，按排序后的数据集中的25%、50%、75%和100%数据所低于的值。四分位数是将数据集分为四组的三个点，每组包含四分之一的数据。为了说明这一点，假设我们有一个包含20个测试成绩的排名数据集，如下所示：
- en: '[PRE7]'
  id: totrans-66
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'The first quartile (Q1) lies between the fifth and sixth score, the second
    quartile (Q2) lies between the tenth and eleventh score, and the third quartile
    (Q3) lies between the fifteenth and sixteenth score. Thus, we get the following
    results by using linear interpolation and calculating the midpoint:'
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 第一四分位数（Q1）位于第五和第六个得分之间，第二四分位数（Q2）位于第十和第十一得分之间，第三四分位数（Q3）位于第十五和第十六得分之间。因此，通过线性插值并计算中位数，我们得到以下结果：
- en: '[PRE8]'
  id: totrans-68
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: 'To see this in IPython, we can use the `scipy.stats` or `numpy.percentile`
    packages:'
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 在IPython中查看这个内容时，我们可以使用`scipy.stats`或`numpy.percentile`包：
- en: '[PRE9]'
  id: totrans-70
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: The reason why the values don't match exactly with our previous calculations
    is due to the different interpolation methods. The interquartile range is the
    first quartile subtracted from the third quartile (*Q3 - Q1*). It represents the
    middle 50 in a dataset.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 值与我们之前的计算结果不完全一致的原因是由于不同的插值方法。四分位距是第三四分位数减去第一四分位数（*Q3 - Q1*）。它代表了数据集中的中间50%的值。
- en: For more information on statistical measures, refer to [https://statistics.laerd.com/statistical-guides/measures-central-tendency-mean-mode-median.php](https://statistics.laerd.com/statistical-guides/measures-central-tendency-mean-mode-median.php).
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 有关统计度量的更多信息，请参见[https://statistics.laerd.com/statistical-guides/measures-central-tendency-mean-mode-median.php](https://statistics.laerd.com/statistical-guides/measures-central-tendency-mean-mode-median.php)。
- en: For more details on the `scipy.stats` and `numpy.percentile` functions, see
    the documents at [http://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.mstats.mquantiles.html](http://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.mstats.mquantiles.html)
    and [http://docs.scipy.org/doc/nu](http://docs.scipy.org/doc/numpy-dev/reference/generated/numpy.percentile.html)[mpy-dev/reference/generated/numpy.percentile.html](http://docs.scipy.org/doc/numpy-dev/reference/generated/numpy.percentile.html).
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 有关`scipy.stats`和`numpy.percentile`函数的更多详细信息，请参见以下文档：[http://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.mstats.mquantiles.html](http://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.mstats.mquantiles.html)
    和 [http://docs.scipy.org/doc/numpy-dev/reference/generated/numpy.percentile.html](http://docs.scipy.org/doc/numpy-dev/reference/generated/numpy.percentile.html)。
- en: Deviation and variance
  id: totrans-74
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 偏差与方差
- en: A fundamental idea in the discussion of variability is the concept of deviation.
    Simply put, a deviation measure tells us how far away a given value is from the
    mean of the distribution—that is, ![](img/54f39392-c434-4f81-993e-69f75ec09d5b.png).
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 在讨论变异性时，一个基本概念是偏差。简单来说，偏差度量告诉我们一个给定值与分布均值的偏离程度——即！[](img/54f39392-c434-4f81-993e-69f75ec09d5b.png)。
- en: 'To find the deviation of a set of values, we define the variance as the sum
    of the squared deviations and normalize it by dividing it by the size of the dataset.
    This is referred to as the variance. We need to use the sum of the squared deviations.
    By taking the sum of the deviations around the mean results in 0, since the negative
    and positive deviations cancel each other out. The sum of the squared deviations
    is defined as follows:'
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 为了找到一组值的偏差，我们定义方差为平方偏差之和，并通过除以数据集的大小来标准化它。这被称为方差。我们需要使用平方偏差的和。由于围绕均值的偏差之和为零，因为负偏差和正偏差相互抵消，因此方差是定义为以下内容：
- en: '![](img/52004cdb-f669-458f-aad4-7e365575b42e.png)'
  id: totrans-77
  prefs: []
  type: TYPE_IMG
  zh: '![](img/52004cdb-f669-458f-aad4-7e365575b42e.png)'
- en: 'The preceding expression is equivalent to the following:'
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 上述表达式等价于以下内容：
- en: '![](img/4159a0da-e491-4843-b0b4-cc1db7c9f9d5.png)'
  id: totrans-79
  prefs: []
  type: TYPE_IMG
  zh: '![](img/4159a0da-e491-4843-b0b4-cc1db7c9f9d5.png)'
- en: 'Formally, the variance is defined as follows:'
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 严格来说，方差的定义如下：
- en: 'For sample variance, use the following formula:'
  id: totrans-81
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于样本方差，使用以下公式：
- en: '![](img/727d8bb9-6145-4127-a593-786249844eca.png)'
  id: totrans-82
  prefs: []
  type: TYPE_IMG
  zh: '![](img/727d8bb9-6145-4127-a593-786249844eca.png)'
- en: 'For population variance, use the following formula:'
  id: totrans-83
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于总体方差，使用以下公式：
- en: '![](img/8c80298c-4ecc-408d-bc81-ebe9251b0b15.png)'
  id: totrans-84
  prefs: []
  type: TYPE_IMG
  zh: '![](img/8c80298c-4ecc-408d-bc81-ebe9251b0b15.png)'
- en: The reason why the denominator is *N-1*for the sample variance instead of *N* is
    that, for sample variance, we want to use an unbiased estimator. For more details
    on this, take a look at [http://en.wikipedia.org/wiki/Bias_of_an_estimator](http://en.wikipedia.org/wiki/Bias_of_an_estimator).
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 样本方差的分母使用*N-1*而不是*N*的原因在于，为了获得无偏估计量，样本方差需要使用无偏估计。有关更多详细信息，请参见[http://en.wikipedia.org/wiki/Bias_of_an_estimator](http://en.wikipedia.org/wiki/Bias_of_an_estimator)。
- en: 'The values of this measure are in squared units. This emphasizes the fact that
    what we have calculated as the variance is the squared deviation. Therefore, to
    obtain the deviation in the same units as the original points of the dataset,
    we must take the square root, and this gives us what we call the standard deviation.
    Thus, the standard deviation of a sample is given by using the following formula:'
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 该度量的值是以平方单位表示的。这强调了我们计算的方差是平方偏差。因此，为了得到与数据集原始点相同单位的偏差，我们必须取平方根，这样我们就得到了标准差。因此，样本的标准差由以下公式给出：
- en: '![](img/ec150e4f-1fc1-44a3-9569-f97a2a76185e.png)'
  id: totrans-87
  prefs: []
  type: TYPE_IMG
  zh: '![](img/ec150e4f-1fc1-44a3-9569-f97a2a76185e.png)'
- en: 'However, for a population, the standard deviation is given by the following
    formula:'
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，对于总体，标准差由以下公式给出：
- en: '![](img/2c1cc04a-1347-4a1b-81f7-d0c51febc169.png)'
  id: totrans-89
  prefs: []
  type: TYPE_IMG
  zh: '![](img/2c1cc04a-1347-4a1b-81f7-d0c51febc169.png)'
- en: Hypothesis testing – the null and alternative hypotheses
  id: totrans-90
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 假设检验——零假设和备择假设
- en: In the preceding section, we had a brief discussion of what is referred to as
    descriptive statistics. In this section, we will discuss what is known as inferential
    statistics, whereby we try to use characteristics of the sample dataset to draw
    conclusions about the wider population as a whole.
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 在前面的部分，我们简要讨论了所谓的描述性统计学。在本节中，我们将讨论推断统计学，通过它我们尝试利用样本数据集的特征来推断关于更广泛人群的结论。
- en: 'One of the most important methods in inferential statistics is hypothesis testing.
    In hypothesis testing, we try to determine whether a certain hypothesis or research
    question is true to a certain degree. One example of a hypothesis would be this:
    eating spinach improves long-term memory.'
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 推断统计学中最重要的方法之一是假设检验。在假设检验中，我们尝试确定某个假设或研究问题是否在某种程度上为真。一个假设的例子是：食用菠菜能够改善长期记忆。
- en: In order to investigate this statement using hypothesis testing, we can select
    a group of people as subjects for our study and divide them into two groups, or
    samples. The first group will be the experimental group, and it will eat spinach
    over a predefined period of time. The second group, which does not receive spinach,
    will be the control group. Over selected periods of time, the memory of The individuals
    in the two groups will be measured and tallied.
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 为了使用假设检验来调查这个说法，我们可以选择一组人作为研究对象，并将他们分成两组或样本。第一组将是实验组，在预定的时间段内食用菠菜。第二组不食用菠菜，将作为对照组。在选定的时间段内，两组个体的记忆力将进行测量并统计。
- en: Our goal at the end of our experiment will be to be able to make a statement
    such as "Eating spinach results in an improvement in long-term memory, which is
    not due to chance". This is also known as significance.
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 我们实验的最终目标是能够做出类似“食用菠菜能够改善长期记忆，这不是由于偶然因素造成的”这样的陈述。这也被称为显著性。
- en: In the preceding scenario, the collection of subjects in the study is referred
    to as the sample, and the general set of people about whom we would like to draw
    conclusions is the population.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 在前述情境中，研究中的受试者集合被称为样本，而我们希望对其得出结论的更广泛人群则是总体。
- en: The ultimate goal of our study will be to determine whether any effects that
    we observed in the sample can be generalized to the population as a whole. In
    order to carry out hypothesis testing, we need to come up with what's known as
    the null and alternative hypotheses.
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 我们研究的最终目标是确定我们在样本中观察到的任何效应是否可以推广到整个群体。因此，为了进行假设检验，我们需要提出所谓的零假设和备择假设。
- en: The null and alternative hypotheses
  id: totrans-97
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 零假设和备择假设
- en: By referring to the preceding spinach example, the null hypothesis would be
    "Eating spinach has no effect on long-term memory performance".
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 参考前面的菠菜例子，零假设将是“食用菠菜对长期记忆表现没有影响”。
- en: The null hypothesis is just that—it nullifies what we're trying to *prove* by
    running our experiment. It does so by asserting that a statistical metric (to
    be explained later) is zero.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 零假设就是它的意思——它否定了我们通过实验想要*证明*的内容。它通过断言一个统计度量（稍后将解释）为零来实现这一点。
- en: The alternative hypothesis is what we hope to support. It is the opposite of
    the null hypothesis and we assume it to be true until the data provides sufficient
    evidence that indicates otherwise. Thus, our alternative hypothesis, in this case,
    is "Eating spinach results in an improvement in long-term memory".
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 备择假设是我们希望支持的假设。它是零假设的对立面，我们假设它为真，直到数据提供足够的证据表明相反。因此，在这个例子中，我们的备择假设是“食用菠菜能改善长期记忆”。
- en: 'Symbolically, the null hypothesis is referred to as ***H0*** and the alternative
    hypothesis is referred to as ***H1***. You may wish to restate the preceding null
    and alternative hypotheses as something more concrete and measurable for our study.
    For example, we could recast ***H0*** as follows:'
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 在符号上，零假设被称为***H0***，备择假设被称为***H1***。你可能希望将前述的零假设和备择假设重新表述为更加具体和可衡量的形式，例如，我们可以将***H0***重新表述如下：
- en: '"The mean memory score for a sample of 1,000 subjects who ate 40 grams of spinach
    daily for a period of 90 days would not differ from the control group of 1,000
    subjects who consume no spinach within the same time period."'
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: “在1,000名受试者中，每天食用40克菠菜，持续90天的样本的平均记忆分数，将与1,000名不食用菠菜的对照组在相同时间段内的平均记忆分数相同。”
- en: In conducting our experiment/study, we focus on trying to prove or disprove
    the null hypothesis. This is because we can calculate the probability that our
    results are due to chance. However, there is no easy way to calculate the probability
    of the alternative hypothesis since any improvement in long-term memory could
    be due to factors other than just eating spinach.
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 在进行我们的实验/研究时，我们专注于试图证明或反驳零假设。这是因为我们可以计算我们的结果是由于偶然机会导致的概率。然而，计算替代假设的概率没有简单的方法，因为改善长期记忆可能不仅仅是因为吃菠菜等因素。
- en: We test out the null hypothesis by assuming that it is true and calculate the
    probability of the results we gather arising by chance alone. We set a threshold
    level—alpha (*α)*—for which we can reject the null hypothesis if the calculated
    probability is smaller or accept it if it is greater. Rejecting the null hypothesis
    is tantamount to accepting the alternative hypothesis and vice versa.
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 我们通过假设零假设为真并计算我们收集到的结果是由偶然机会造成的概率来测试零假设。我们设定一个阈值水平——alpha（*α*），如果计算得到的概率较小，则我们可以拒绝零假设；如果较大，则可以接受。拒绝零假设等同于接受备选假设，反之亦然。
- en: The alpha and p-values
  id: totrans-105
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: alpha和p值
- en: In order to conduct an experiment to support or disprove our null hypothesis,
    we need to come up with an approach that will allow us to make the decision in
    a concrete and measurable way. To do this test of significance, we have to consider
    two numbers—the p-value of the test statistic and the threshold level of significance,
    which is also known as **alpha**.
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 为了进行支持或反驳我们的零假设的实验，我们需要提出一种能够以具体和可衡量的方式做出决定的方法。为了进行显著性检验，我们必须考虑两个数字——检验统计量的p值和显著性水平的阈值，也称为**alpha**。
- en: The p-value is the probability that the result we observe by assuming that the
    null hypothesis is true occurred by chance alone.
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: p值是我们观察到的结果在假设零假设为真的情况下仅由偶然机会发生的概率。
- en: The p-value can also be thought of as the probability of obtaining a test statistic
    as extreme as or more extreme than the obtained test statistic, given that the
    null hypothesis is true.
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: p值也可以看作是在假设零假设为真的情况下，获得与得到的检验统计量一样极端或更极端的概率。
- en: The alpha value is the threshold value against which we compare p-values. This
    gives us a cut-off point at which we can accept or reject the null hypothesis.
    It is a measure of how extreme the results we observe must be in order to reject
    the null hypothesis of our experiment. The most commonly used values of alpha
    are 0.05 or 0.01.
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: Alpha值是我们比较p值的阈值。这为我们提供了一个可以接受或拒绝零假设的切断点。这是一个衡量我们观察到的结果必须有多极端才能拒绝我们实验的零假设的指标。最常用的alpha值为0.05或0.01。
- en: 'In general, the rule is as follows:'
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 一般规则如下：
- en: If the p-value is less than or equal to alpha (p< .05), then we reject the null
    hypothesis and state that the result is statistically significant.
  id: totrans-111
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果p值小于或等于alpha（p < .05），则我们拒绝零假设，并声明结果具有统计显著性。
- en: If the p-value is greater than alpha (p > .05), then we have failed to reject
    the null hypothesis, and we say that the result is not statistically significant.
  id: totrans-112
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果p值大于alpha（p > .05），则我们未能拒绝零假设，并声明结果没有统计显著性。
- en: 'In other words, the rule is as follows:'
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 换句话说，规则如下：
- en: If the test statistic value is greater than or smaller than the two critical
    test statistic values (for two-tailed tests), then we reject the null hypothesis
    and state that the (alternative) result is statistically significant.
  id: totrans-114
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果检验统计量值大于或小于两个临界检验统计量值（双尾检验），那么我们拒绝零假设，并声明（备选）结果具有统计显著性。
- en: If the test statistic value lies within the two critical test statistic values,
    then we have failed to reject the null hypothesis, and we say that the (alternative)
    result is not statistically significant.
  id: totrans-115
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果检验统计量值位于两个临界检验统计量值之间，则我们未能拒绝零假设，并声明（备选）结果没有统计显著性。
- en: 'The seemingly arbitrary values of alpha in usage is one of the shortcomings
    of the frequentist methodology, and there are many questions concerning this approach.
    An article in the *Nature* journal highlights some of these problems; you can
    find it at: [http://www.nature.com/news/scientific-method-statistical-errors-1.14700](http://www.nature.com/news/scientific-method-statistical-errors-1.14700).'
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 在频率学派方法中，使用中**alpha**的看似任意的值是其一大缺点，并且这一方法存在许多问题。《*自然*》杂志的一篇文章强调了这些问题；你可以通过以下链接找到它：[http://www.nature.com/news/scientific-method-statistical-errors-1.14700](http://www.nature.com/news/scientific-method-statistical-errors-1.14700)。
- en: 'For more details on this topic, please refer to the following links:'
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 想了解更多关于这个主题的细节，请参考以下链接：
- en: '[http://statistics.about.com/od/Inferential-Statistics/a/What-Is-The-Difference-Between-Alpha-And-P-Values.htm](http://statistics.about.com/od/Inferential-Statistics/a/What-Is-The-Difference-Between-Alpha-And-P-Values.htm)'
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: '[http://statistics.about.com/od/Inferential-Statistics/a/What-Is-The-Difference-Between-Alpha-And-P-Values.htm](http://statistics.about.com/od/Inferential-Statistics/a/What-Is-The-Difference-Between-Alpha-And-P-Values.htm)'
- en: '[http://courses.washington.edu/p209s07/lecturenotes/Week%205_Monday%20overheads.pdf](http://courses.washington.edu/p209s07/lecturenotes/Week%205_Monday%20overheads.pdf)'
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: '[http://courses.washington.edu/p209s07/lecturenotes/Week%205_Monday%20overheads.pdf](http://courses.washington.edu/p209s07/lecturenotes/Week%205_Monday%20overheads.pdf)'
- en: Type I and Type II errors
  id: totrans-120
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: I型和II型错误
- en: 'There are two types of errors:'
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 错误有两种类型：
- en: '**Type I Error**: In this type of error, we reject *H0* when, in fact, *H0*
    is true. An example of this would be a jury convicting an innocent person for
    a crime that the person did not commit.'
  id: totrans-122
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**I型错误**：在这种错误中，我们拒绝了*H0*，而事实上，*H0*是真实的。一个例子就是陪审团错误地定罪一个无辜的人，尽管该人并未犯下该罪行。'
- en: '**Type II Error**: In this type of error, we fail to reject *H0* when, in fact, *H1*
    is true. This is equivalent to a guilty person escaping conviction.'
  id: totrans-123
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**II型错误**：在这种错误中，我们未能拒绝*H0*，而事实上，*H1*是正确的。这相当于一个有罪的人逃脱了定罪。'
- en: 'Here''s a table showing null hypothesis conditions leading to an error:'
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 这里有一张表格，显示了导致错误的原假设条件：
- en: '![](img/f1b2f5f3-7529-438a-8e35-21cba3a272ea.png)'
  id: totrans-125
  prefs: []
  type: TYPE_IMG
  zh: '![](img/f1b2f5f3-7529-438a-8e35-21cba3a272ea.png)'
- en: Statistical hypothesis tests
  id: totrans-126
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 统计假设检验
- en: 'A statistical hypothesis test is a method that we use to make a decision. We
    do this using data from a statistical study or experiment. In statistics, a result
    is termed statistically significant if it is unlikely to have occurred only by
    chance based on a predetermined threshold probability or significance level. There
    are two classes of statistical tests: 1-tailed and 2-tailed tests.'
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 统计假设检验是我们用来做决策的一种方法。我们通过使用来自统计研究或实验的数据来进行决策。在统计学中，如果某个结果基于预定的阈值概率或显著性水平不太可能仅由偶然因素造成，那么这个结果被称为统计上显著。统计检验有两种类型：单尾检验和双尾检验。
- en: In a 2-tailed test, we allot half of our alpha to testing the statistical significance
    in one direction and the other half to testing the statistical significance in
    the other direction.
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 在双尾检验中，我们将一半的**alpha**用于检验一个方向上的统计显著性，另一半则用于检验另一个方向上的统计显著性。
- en: In a 1-tailed test, the test is performed in one direction only.
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 在单尾检验中，检验仅在一个方向上进行。
- en: For more details on this topic, please refer to [http://www.ats.ucla.edu/stat/mult_pkg/faq/general/tail_tests.htm](http://www.ats.ucla.edu/stat/mult_pkg/faq/general/tail_tests.htm).
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 想了解更多关于这个主题的细节，请参考[http://www.ats.ucla.edu/stat/mult_pkg/faq/general/tail_tests.htm](http://www.ats.ucla.edu/stat/mult_pkg/faq/general/tail_tests.htm)。
- en: Background
  id: totrans-131
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 背景
- en: To apply statistical inference, it is important to understand the concept of
    what is known as a sampling distribution. A sampling distribution is the set of
    all possible values of a statistic, along with their probabilities, assuming that
    we sample at random from a population where the null hypothesis holds true.
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 为了应用统计推断，理解什么是抽样分布的概念非常重要。抽样分布是指从一个总体中随机抽取样本时，假设原假设成立，统计量的所有可能值及其概率的集合。
- en: 'A more simplistic definition is this: a sampling distribution is the set of
    values that the statistic can assume (distribution) if we were to repeatedly draw
    samples from the population, along with their associated probabilities.'
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 一个更简化的定义是：抽样分布是指如果我们从总体中反复抽取样本，统计量可以取的所有值（分布）以及这些值的相关概率。
- en: The value of a statistic is a random sample from the statistic's sampling distribution.
    The sampling distribution of the mean is calculated by obtaining many samples
    of various sizes and taking their mean.
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 统计量的值是从统计量的抽样分布中随机抽取的样本。均值的抽样分布是通过获得不同大小的多个样本并计算它们的均值来确定的。
- en: The central limit theorem states that the sampling distribution is normally
    distributed if the original or raw-score population is normally distributed, or
    if the sample size is large enough. Conventionally, statisticians define large
    enough sample sizes as N ≥ 30—that is, a sample size of 30 or more. This is still
    a topic of debate, though.
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 中心极限定理指出，如果原始或原始分数总体是正态分布，或者样本容量足够大，则采样分布是正态分布。通常，统计学家定义足够大的样本容量为N ≥ 30——即样本容量为30或更多。然而，这仍然是一个争议话题。
- en: For more details on this topic, refer to [http://stattrek.com/sampling/sampling-distribution.aspx](http://stattrek.com/sampling/sampling-distribution.aspx).
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 有关此主题的更多细节，请参考[http://stattrek.com/sampling/sampling-distribution.aspx](http://stattrek.com/sampling/sampling-distribution.aspx)。
- en: The standard deviation of the sampling distribution is often referred to as
    the standard error of the mean, or just the standard error.
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 采样分布的标准差通常称为均值的标准误差，简称标准误差。
- en: The z-test
  id: totrans-138
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: z检验
- en: 'The z-test is appropriate under the following conditions:'
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 在以下条件下，z检验是适用的：
- en: The study involves a single sample mean and the parameters *µ* and* ![](img/4a9cadd5-c79b-48e1-a397-f5e519b8e881.png)*
    of the null hypothesis population are known
  id: totrans-140
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 研究涉及单一样本均值，且原假设总体的参数*µ*和![](img/4a9cadd5-c79b-48e1-a397-f5e519b8e881.png)*已知
- en: The sampling distribution of the mean is normally distributed
  id: totrans-141
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 样本均值的采样分布是正态分布
- en: The size of the sample is *N ≥ 30*
  id: totrans-142
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 样本的大小为*N ≥ 30*
- en: 'We use the z-test when the mean of the population is *known*. In the z-test,
    we ask the question of whether the population mean, µ, is different from a hypothesized
    value. The null hypothesis in the case of the z-test is as follows:'
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 当总体均值*已知*时，我们使用z检验。在z检验中，我们问的问题是总体均值µ是否与假设值不同。在z检验中，原假设如下：
- en: '![](img/7b143bcc-02bd-4cf4-a015-53840a2beb17.png)'
  id: totrans-144
  prefs: []
  type: TYPE_IMG
  zh: '![](img/7b143bcc-02bd-4cf4-a015-53840a2beb17.png)'
- en: Here, µ is the population mean and ![](img/5350818f-46d3-4c74-a8ff-72260e49754c.png) is
    the hypothesized value.
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，µ是总体均值，![](img/5350818f-46d3-4c74-a8ff-72260e49754c.png)是假设值。
- en: 'The alternative hypothesis, ![](img/6aea0dc2-32a7-42d7-8ab2-decdefd929ae.png),
    can be one of the following:'
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 备择假设，![](img/6aea0dc2-32a7-42d7-8ab2-decdefd929ae.png)，可以是以下之一：
- en: '![](img/f3494f6c-5151-4f4e-8334-59f22b1af759.png)![](img/7caa782d-7852-47a6-9721-5ad3775c6c4e.png)![](img/2328f214-aee4-45d3-b96a-adf6a2fd4740.png)'
  id: totrans-147
  prefs: []
  type: TYPE_IMG
  zh: '![](img/f3494f6c-5151-4f4e-8334-59f22b1af759.png)![](img/7caa782d-7852-47a6-9721-5ad3775c6c4e.png)![](img/2328f214-aee4-45d3-b96a-adf6a2fd4740.png)'
- en: 'The first two are 1-tailed tests, while the last one is a 2-tailed test. In
    concrete terms, to test µ, we calculate the test statistic:'
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 前两个是单尾检验，而最后一个是双尾检验。具体来说，为了检验µ，我们计算检验统计量：
- en: '![](img/6919e0ad-b75c-4f18-84fa-abfe3d45b082.png)'
  id: totrans-149
  prefs: []
  type: TYPE_IMG
  zh: '![](img/6919e0ad-b75c-4f18-84fa-abfe3d45b082.png)'
- en: Here, ![](img/701bb134-02a3-4ed1-b105-5c645eb8d6fc.png) is the true standard
    deviation of the sampling distribution of ![](img/f8293b68-5991-4916-a9b7-144b1c0c43ec.png).
    If ![](img/4d1c4354-6b7c-4726-873b-0269a20bdc78.png)is true, the z-test statistics
    will have the standard normal distribution.
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 这里，![](img/701bb134-02a3-4ed1-b105-5c645eb8d6fc.png) 是![](img/f8293b68-5991-4916-a9b7-144b1c0c43ec.png)的真实标准差。如果![](img/4d1c4354-6b7c-4726-873b-0269a20bdc78.png)成立，z检验统计量将服从标准正态分布。
- en: Let's go through a quick illustration of the z-test.
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们通过一个快速的z检验示例来了解一下。
- en: Suppose we have a fictional company, Intelligenza, that claims that they have
    come up with a radical new method for improved memory retention and study. They
    claim that their technique can improve grades over traditional study techniques.
    Suppose the improvement in grades is 40 percent with a standard deviation of 10
    percent compared with results obtained using traditional study techniques.
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 假设我们有一家虚构的公司，Intelligenza，声称他们已经提出了一种能够提高记忆保持和学习的新方法。他们声称，相比传统的学习方法，他们的技巧可以提高成绩。假设在使用传统学习技巧的基础上，成绩提高了40%，标准差为10%。
- en: A random test was run on 100 students using the Intelligenza method, and this
    resulted in a mean improvement of 44 percent. Does Intelligenza's claim hold true?
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 对100名学生使用Intelligenza方法进行了随机测试，结果显示平均成绩提高了44%。Intelligenza的这一主张是否成立？
- en: The null hypothesis for this study states that there is no improvement in grades
    using Intelligenza's method over traditional study techniques. The alternative
    hypothesis is that there is an improvement in using Intelligenza's method over
    traditional study techniques.
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: 本研究的原假设表明，使用Intelligenza方法相比传统学习技巧并没有提高成绩。备择假设是使用Intelligenza方法相比传统学习技巧有所提高。
- en: 'The null hypothesis is given by the following equation:'
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 原假设由以下方程给出：
- en: '![](img/7b143bcc-02bd-4cf4-a015-53840a2beb17.png)'
  id: totrans-156
  prefs: []
  type: TYPE_IMG
  zh: '![](img/7b143bcc-02bd-4cf4-a015-53840a2beb17.png)'
- en: 'The alternative hypothesis is given by the following equation:'
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 备择假设由以下方程给出：
- en: '![](img/7caa782d-7852-47a6-9721-5ad3775c6c4e.png)'
  id: totrans-158
  prefs: []
  type: TYPE_IMG
  zh: '![](img/7caa782d-7852-47a6-9721-5ad3775c6c4e.png)'
- en: std error = 10/sqrt(100) = 1
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: 标准误差 = 10/sqrt(100) = 1
- en: z = (43.75-40)/(10/10) = 3.75 std errors
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: z = (43.75-40)/(10/10) = 3.75标准误差
- en: 'Remember that if the null hypothesis is true, then the test statistic, z, will
    have a standard normal distribution that would look like this:'
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: 记住，如果原假设为真，那么检验统计量z将服从标准正态分布，分布形态如下所示：
- en: '![](img/596ca817-4bc9-48f5-b765-cbd24e45744f.png)'
  id: totrans-162
  prefs: []
  type: TYPE_IMG
  zh: '![](img/596ca817-4bc9-48f5-b765-cbd24e45744f.png)'
- en: Diagram sourced from http://mathisfun.com/data/images/normal-distrubution-large.gif.
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: 图表来源于 http://mathisfun.com/data/images/normal-distrubution-large.gif。
- en: This value of z would be a random sample from the standard normal distribution,
    which is the distribution of z if the null hypothesis is true.
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 该z值将是来自标准正态分布的随机样本，即如果原假设为真，则z的分布。
- en: The observed value of *z=43.75* corresponds to an extreme outlier p-value on
    the standard normal distribution curve, which is much less than 0.1 percent.
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: 观察到的*z=43.75*值对应于标准正态分布曲线上的极端离群点p值，远小于0.1%。
- en: The p-value is the area under the curve to the right of the value of *3.75*
    on the preceding normal distribution curve.
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: p值是前面标准正态分布曲线中*3.75*值右侧区域下的面积。
- en: This suggests that it would be highly unlikely for us to obtain the observed
    value of the test statistic if we were sampling from a standard normal distribution.
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: 这表明，如果我们从标准正态分布中抽样，那么获得观察到的检验统计量值的可能性极低。
- en: 'We can look up the actual p-value using Python by using the `scipy.stats` package,
    as follows:'
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以使用Python中的`scipy.stats`包查找实际的p值，如下所示：
- en: '[PRE10]'
  id: totrans-169
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: Therefore, *P(z ≥ 3.75 = 8.8e-05)*—that is, if the test statistic was normally
    distributed, then the probability of obtaining the observed value is *8.8e-05*,
    which is close to zero. So it would be almost impossible to obtain the value that
    we observed if the null hypothesis was actually true.
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，*P(z ≥ 3.75 = 8.8e-05)*——也就是说，如果检验统计量服从正态分布，那么获得观察到的值的概率为*8.8e-05*，接近于零。因此，如果原假设真实，获得我们观察到的值几乎是不可能的。
- en: In more formal terms, we would normally define a threshold or alpha value and
    reject the null hypothesis if the p-value was ≤ α or fail to reject it otherwise.
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: 更正式地说，我们通常会定义一个阈值或α值，当p值≤α时拒绝原假设，否则不拒绝。
- en: 'The typical values for α are 0.05 or 0.01\. The following list explains the
    different values of alpha:'
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: α的典型值为0.05或0.01。以下是不同α值的说明：
- en: '*p-value <0.01*: There is strong evidence against *H0*'
  id: totrans-173
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*p值 <0.01*：有强烈证据反对*H0*'
- en: '*0.01 < p-value < 0.05*: There is strong evidence against *H0*'
  id: totrans-174
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*0.01 < p值 < 0.05*：有强烈证据反对*H0*'
- en: '*0.05 < p-value < 0.1*: There is weak evidence against *H0*'
  id: totrans-175
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*0.05 < p值 < 0.1*：有微弱证据反对*H0*'
- en: '*p-value > 0.1*: There is little or no evidence against *H0*'
  id: totrans-176
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*p值 > 0.1*：几乎没有证据反对*H0*'
- en: 'Therefore, in this case, we would reject the null hypothesis and give credence
    to Intelligenza''s claim and state that their claim is highly significant. The
    evidence against the null hypothesis, in this case, is significant. There are
    two methods that we use to determine whether to reject the null hypothesis:'
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，在这种情况下，我们将拒绝原假设，并认可Intelligenza的声明，认为他们的声明具有高度显著性。在这种情况下，反对原假设的证据是显著的。我们有两种方法来决定是否拒绝原假设：
- en: The p-value approach
  id: totrans-178
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: p值方法
- en: The rejection region approach
  id: totrans-179
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 拒绝区域方法
- en: The approach that we used in the preceding example was the latter one.
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: 在前面的例子中，我们使用的是后一种方法。
- en: 'The smaller the p-value, the less likely it is that the null hypothesis is
    true. In the rejection region approach, we have the following rule:'
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: p值越小，原假设为真的可能性越小。在拒绝区域方法中，我们有以下规则：
- en: If ![](img/8e4fae50-e9dc-455d-a787-1a4a29c74196.png), reject the null hypothesis;
    otherwise, retain it.
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: 如果 ![](img/8e4fae50-e9dc-455d-a787-1a4a29c74196.png)，则拒绝原假设；否则，保留原假设。
- en: The t-test
  id: totrans-183
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: t检验
- en: The z-test is useful when the standard deviation of the population is known.
    However, in most real-world cases, this is an unknown quantity. For these cases,
    we turn to the t-test of significance.
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: z检验适用于已知总体标准差的情况。然而，在大多数实际案例中，总体标准差是未知的。对于这些情况，我们使用t检验来判断显著性。
- en: 'For the t-test, given that the standard deviation of the population is unknown,
    we replace it with the standard deviation, *s*, of the sample. The standard error
    of the mean is now as follows:'
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: 对于t检验，鉴于总体的标准差未知，我们用样本的标准差 *s* 来代替。现在的均值标准误差如下：
- en: '![](img/40588631-f2e0-4c27-b03a-527547a2f027.png)'
  id: totrans-186
  prefs: []
  type: TYPE_IMG
  zh: '![](img/40588631-f2e0-4c27-b03a-527547a2f027.png)'
- en: 'The standard deviation of the sample, *s*, is calculated as follows:'
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: 样本的标准差，*s*，计算公式如下：
- en: '![](img/d0f83fd9-a389-485b-91c7-e1cc6c79f509.png)'
  id: totrans-188
  prefs: []
  type: TYPE_IMG
  zh: '![](img/d0f83fd9-a389-485b-91c7-e1cc6c79f509.png)'
- en: The denominator is *N-1* and not *N*. This value is known as the number of degrees
    of freedom. We will now state (without an explanation) that, by the CLT, the t-distribution
    approximates the normal, Guassian, or z-distribution as *N,* and so *N-1* increases—that
    is, with increasing **degrees of freedom** (**df**). When *df* *=* ∞, the t-distribution
    is identical to the normal or z-distribution. This is intuitive since, as *df*
    increases, the sample size increases and *s* approaches ![](img/03309792-82d0-44d4-9393-cf4ba0feac4c.png),
    which is the true standard deviation of the population. There are an infinite
    number of t-distributions, each corresponding to a different value of *df*.
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
  zh: 分母是 *N-1* 而不是 *N*。这个值被称为自由度。我们现在声明（无需解释）根据中心极限定理（CLT），当 *N* 增加时，t分布会逐渐逼近正态分布、高斯分布或z分布——即，随着**自由度**（**df**）的增加，*N-1*
    也会增加。当 *df* = ∞ 时，t分布与正态分布或z分布完全相同。这是直观的，因为随着 *df* 的增加，样本量也增加，*s* 趋近于 ![](img/03309792-82d0-44d4-9393-cf4ba0feac4c.png)，即总体的真实标准差。t分布有无限多个，每一个都对应着不同的
    *df* 值。
- en: 'This can be seen in the following diagram:'
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: 这可以从以下图表中看到：
- en: '![](img/b2e48643-784e-4df8-a029-c1a924ed347e.png)'
  id: totrans-191
  prefs: []
  type: TYPE_IMG
  zh: '![](img/b2e48643-784e-4df8-a029-c1a924ed347e.png)'
- en: Diagram sourced from http://zoonek2.free.fr/UNIX/48_R/g593.png
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: 图表来源：http://zoonek2.free.fr/UNIX/48_R/g593.png
- en: A more detailed technical explanation on the relationship between t-distribution,
    z-distribution, and the degrees of freedom can be found at [http://en.wikipedia.org/wiki/Student's_t-distribution](http://en.wikipedia.org/wiki/Student's_t-distribution).
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: 关于t分布、z分布与自由度之间关系的更详细技术解释，可以参见[http://en.wikipedia.org/wiki/Student's_t-distribution](http://en.wikipedia.org/wiki/Student's_t-distribution)。
- en: Types of t-tests
  id: totrans-194
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: t检验的类型
- en: 'There are various types of t-tests. The following are the most common one.
    They typically formulate a null hypothesis that makes a claim about the mean of
    a distribution:'
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: 有多种类型的t检验。以下是最常见的一种。它们通常提出一个关于分布均值的零假设：
- en: '**One-sample independent t-test**: This is used to compare the mean of a sample
    with that of a known population mean or known value. Let''s assume that we''re
    health researchers in Australia who are concerned with the health of the aboriginal
    population and wish to ascertain whether babies born to low-income aboriginal
    mothers have lower birth weight than normal.'
  id: totrans-196
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**单样本独立t检验**：用于将样本的均值与已知的总体均值或已知值进行比较。假设我们是澳大利亚的健康研究人员，关注土著人群的健康，想了解低收入土著母亲所生婴儿的出生体重是否低于正常值。'
- en: 'An example of a null hypothesis test for a one-sample t-test would be this:
    the mean birth weight for our sample of 150 deliveries of full-term, live babies
    from low-income aboriginal mothers is no different from the mean birth weight
    of babies in the general Australian population—that is, 3,367 grams.'
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: 一个单样本t检验的零假设测试例子是：我们从低收入的土著母亲中选取150例足月活产婴儿的出生体重，假设该样本的均值与澳大利亚普通人群婴儿的均值无异——即3,367克。
- en: The reference for this information can be found at [http://www.healthinfonet.ecu.edu.au/health-facts/overviews/births-and-pregnancy-outcome](http://www.healthinfonet.ecu.edu.au/health-facts/overviews/births-and-pregnancy-outcome).
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: 该信息的参考来源可在[http://www.healthinfonet.ecu.edu.au/health-facts/overviews/births-and-pregnancy-outcome](http://www.healthinfonet.ecu.edu.au/health-facts/overviews/births-and-pregnancy-outcome)找到。
- en: '**Independent samples t-tests**: This is used to compare means from independent
    samples with each other. An example of an independent sample t-test would be a
    comparison of the fuel economy of automatic transmission versus manual transmission
    vehicles. This is what our real-world example will focus on.'
  id: totrans-199
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**独立样本t检验**：用于比较来自独立样本的均值。一个独立样本t检验的例子是自动变速器和手动变速器车辆的油耗比较。这正是我们现实世界示例的重点。'
- en: 'The null hypothesis for the t-test would be this: there is no difference between
    the average fuel efficiency of cars with manual and automatic transmissions in
    terms of their average combined city/highway mileage.'
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: t 检验的零假设是：手动变速器和自动变速器车辆的平均燃油效率在其综合城市/高速公路油耗方面没有差异。
- en: '**Paired samples t-test**: In a paired/dependent samples t-test, we take each
    data point in one sample and pair it with a data point in the other sample in
    a meaningful way. One way to do this would be to measure against the same sample
    at different points in time. An example of this would be to examine the efficacy
    of a slimming diet by comparing the weight of a sample of participants before
    and after the diet.'
  id: totrans-201
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**配对样本 t 检验**：在配对/依赖样本 t 检验中，我们将一个样本中的每个数据点与另一个样本中的数据点以有意义的方式配对。做这个的一种方式是测量同一样本在不同时间点的变化。例如，可以通过比较参与者在节食前后的体重来检查节食减肥的效果。'
- en: 'The null hypothesis, in this case, would be this: there is no difference between
    the mean weights of participants before and after going on the slimming diet,
    or more succinctly, the mean difference between paired observations is zero.'
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: 在这种情况下，零假设是：参与者在节食前后的平均体重没有差异，或者更简洁地说，配对观测值之间的平均差异为零。
- en: This information can be found at [http://en.wikiversity.org/wiki/T-test](http://en.wikiversity.org/wiki/T-test).
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: 该信息可以在[http://en.wikiversity.org/wiki/T-test](http://en.wikiversity.org/wiki/T-test)找到。
- en: A t-test example
  id: totrans-204
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: t 检验示例
- en: 'In simplified terms, to do **Null Hypothesis Significance Testing** (**NHST**),
    we need to do the following:'
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: 简单来说，要进行**零假设显著性检验**（**NHST**），我们需要做以下几步：
- en: Formulate our null hypothesis. The null hypothesis is our model of the system,
    assuming that the effect we wish to verify was actually due to chance.
  id: totrans-206
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 构建我们的零假设。零假设是我们对系统的模型，假设我们希望验证的效应实际上是由于偶然造成的。
- en: Calculate our p-value.
  id: totrans-207
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 计算我们的 p 值。
- en: Compare the calculated p-value with that of our alpha, or threshold value, and
    decide whether to reject or accept the null hypothesis. If the p-value is low
    enough (lower than the alpha), we will draw the conclusion that the null hypothesis
    is likely to be false.
  id: totrans-208
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 比较计算得出的 p 值与我们的 alpha（阈值）值，并决定是否拒绝或接受零假设。如果 p 值足够低（低于 alpha 值），我们将得出零假设可能为假的结论。
- en: 'For our real-world illustration, we want to investigate whether manual transmission
    vehicles are more fuel efficient than automatic transmission vehicles. In order
    to do this, we will make use of the Fuel Economy data that was published by the
    US government for 2014 at [http://www.fueleconomy.gov](http://www.fueleconomy.gov):'
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: 对于我们的现实世界示例，我们希望调查手动变速器车辆是否比自动变速器车辆更节能。为此，我们将利用美国政府在 2014 年发布的燃油经济性数据，网址为[http://www.fueleconomy.gov](http://www.fueleconomy.gov)：
- en: '[PRE11]'
  id: totrans-210
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: 'Now, we wish to modify the preceding series so that the values just contain
    the `Auto` and `Manual` strings. We can do this as follows:'
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，我们希望修改之前的系列，使得其中的值只包含`Auto`和`Manual`字符串。我们可以按以下方式进行：
- en: '[PRE12]'
  id: totrans-212
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: 'Now, let''s create a final modified DataFrame from Series that consists of
    the transmission type and the combined fuel economy figures:'
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，让我们从包含变速类型和综合燃油经济性数据的系列创建一个最终修改后的 DataFrame：
- en: '[PRE13]'
  id: totrans-214
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: 'We can now separate the data for vehicles with automatic transmission from
    those with manual transmission, as follows:'
  id: totrans-215
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，我们可以按以下方式将自动变速器和手动变速器的车辆数据分开：
- en: '[PRE14]'
  id: totrans-216
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: 'This shows that there were 987 vehicles with automatic transmission versus
    211 with manual transmission:'
  id: totrans-217
  prefs: []
  type: TYPE_NORMAL
  zh: 这显示了987辆自动变速器的车辆与211辆手动变速器的车辆：
- en: '[PRE15]'
  id: totrans-218
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: chi-square test
  id: totrans-219
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 卡方检验
- en: In this section, we will learn how to implement a chi-square test from scratch
    in Python and run it on an example dataset.
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们将学习如何从头开始在 Python 中实现卡方检验，并在示例数据集上运行它。
- en: A chi-square test is conducted to determine the statistical significance of
    a causal relationship of two categorical variables with each other.
  id: totrans-221
  prefs: []
  type: TYPE_NORMAL
  zh: 卡方检验用于确定两个分类变量之间因果关系的统计显著性。
- en: 'For example, in the following dataset, a chi-square test can be used to determine
    whether color preferences affect a personality type (introvert and extrovert)
    or not, and vice versa:'
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，在以下数据集中，可以使用卡方检验来确定颜色偏好是否会影响人格类型（内向和外向），反之亦然：
- en: '![](img/6c3fc09e-f64b-4e58-90dc-5a5a283d1b40.png)'
  id: totrans-223
  prefs: []
  type: TYPE_IMG
  zh: '![](img/6c3fc09e-f64b-4e58-90dc-5a5a283d1b40.png)'
- en: 'The two hypotheses for chi-square tests are as follows:'
  id: totrans-224
  prefs: []
  type: TYPE_NORMAL
  zh: 卡方检验的两个假设如下：
- en: '**H0**: Color preferences are not associated with a personality type'
  id: totrans-225
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**H0**: 颜色偏好与人格类型无关'
- en: '**Ha**: Color preferences are associated with a personality type'
  id: totrans-226
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Ha**: 颜色偏好与人格类型相关'
- en: 'To calculate the chi-square statistic, we assume that the null hypothesis is
    true. If there is no relationship between the two variables, we could just take
    the contribution (proportion) of that column as the total and multiply that with
    the row total for that cell; that would give us the expected cell. In other words,
    the absence of a specific relationship implies a simple proportional relationship
    and distribution. Therefore, we calculate the expected number in each subcategory
    (assuming the null hypothesis is true) as follows:'
  id: totrans-227
  prefs: []
  type: TYPE_NORMAL
  zh: 计算卡方统计量时，我们假设原假设为真。如果两个变量之间没有关系，我们可以将该列的贡献（比例）视为总和，并将其与该单元格的行总和相乘；这样就可以得到预期的单元格值。换句话说，缺乏特定的关系意味着一种简单的比例关系和分布。因此，我们按照以下方式计算每个子类别的预期数值（假设原假设为真）：
- en: '*Expected Frequency = (Row Total X Column Total )/ Total:*'
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
  zh: '*Expected Frequency = (Row Total X Column Total) / Total:*'
- en: '![](img/6904394e-51d6-40bc-b8e4-057b5c1b2f24.png)'
  id: totrans-229
  prefs: []
  type: TYPE_IMG
  zh: '![](img/6904394e-51d6-40bc-b8e4-057b5c1b2f24.png)'
- en: 'Once the expected frequency has been calculated, the ratio of the square of
    the difference between the expected and observed frequency, divided by the expected
    frequency, is calculated:'
  id: totrans-230
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦计算出预期频率，就可以计算预期频率和观察频率之间差异的平方与预期频率的比值：
- en: '*Chi_Square_Stat =Sum( (Expected Frequency-Observed Frequency)**2/Expected
    Frequency)*'
  id: totrans-231
  prefs: []
  type: TYPE_NORMAL
  zh: '*Chi_Square_Stat = Sum( (Expected Frequency - Observed Frequency)**2 / Expected
    Frequency)*'
- en: 'These statistics follow a chi-square distribution with a parameter called the **degree
    of freedom (DOF)**. The degree of freedom is given by the following equation:'
  id: totrans-232
  prefs: []
  type: TYPE_NORMAL
  zh: 这些统计量遵循卡方分布，具有一个称为**自由度（DOF）**的参数。自由度由以下公式给出：
- en: '*DOF = (Number of Rows -1)*(Number of Column-1)*'
  id: totrans-233
  prefs: []
  type: TYPE_NORMAL
  zh: '*DOF = (Number of Rows - 1) * (Number of Column - 1)*'
- en: 'There is a different distribution for each degree of freedom. This is shown
    in the following diagram:'
  id: totrans-234
  prefs: []
  type: TYPE_NORMAL
  zh: 每个自由度都有不同的分布，如下图所示：
- en: '![](img/076c226d-e9b8-4387-9db7-d60c01556359.png)'
  id: totrans-235
  prefs: []
  type: TYPE_IMG
  zh: '![](img/076c226d-e9b8-4387-9db7-d60c01556359.png)'
- en: Chi-square distributions at different degrees of freedoms
  id: totrans-236
  prefs: []
  type: TYPE_NORMAL
  zh: 不同自由度下的卡方分布
- en: Like any other test we've looked at, we need to decide a significance level
    and find the p-value associated with the chi-square statistics for that degree
    of freedom.
  id: totrans-237
  prefs: []
  type: TYPE_NORMAL
  zh: 像我们研究过的其他任何检验一样，我们需要决定一个显著性水平，并找到与卡方统计量相关的p值，这个p值与自由度有关。
- en: If the p-value is less than the alpha value, the null hypothesis can be rejected.
  id: totrans-238
  prefs: []
  type: TYPE_NORMAL
  zh: 如果p值小于alpha值，则可以拒绝原假设。
- en: 'This whole calculation can be done by writing some Python code. The following
    two functions calculate the chi-square statistic and the degrees of freedom:'
  id: totrans-239
  prefs: []
  type: TYPE_NORMAL
  zh: 这个完整的计算过程可以通过编写一些Python代码来实现。以下两个函数计算卡方统计量和自由度：
- en: '[PRE16]'
  id: totrans-240
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: The chi-square statistic is 71.99, while the degrees of freedom is 3\. The p-values
    can be calculated using the table found here: [https://people.smp.uq.edu.au/YoniNazarathy/stat_models_B_course_spring_07/distributions/chisqtab.pdf](https://people.smp.uq.edu.au/YoniNazarathy/stat_models_B_course_spring_07/distributions/chisqtab.pdf).
  id: totrans-241
  prefs: []
  type: TYPE_NORMAL
  zh: 卡方统计量为71.99，自由度为3。p值可以通过此处的表格计算：[https://people.smp.uq.edu.au/YoniNazarathy/stat_models_B_course_spring_07/distributions/chisqtab.pdf](https://people.smp.uq.edu.au/YoniNazarathy/stat_models_B_course_spring_07/distributions/chisqtab.pdf)。
- en: From the tables, the p-value for 71.99 is very close to 0\. Even if we choose
    alpha to be a small number, such as 0.01, the p-value is still smaller. With this,
    we can say that the null hypothesis can be rejected with a good degree of statistical
    confidence.
  id: totrans-242
  prefs: []
  type: TYPE_NORMAL
  zh: 从表格中可以看出，71.99的p值非常接近0。即使我们选择一个较小的alpha值，如0.01，p值仍然更小。基于此，我们可以说，在统计上有较高的置信度下，原假设可以被拒绝。
- en: ANOVA test
  id: totrans-243
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 方差分析（ANOVA）检验
- en: Now let's talk about another popular hypothesis test, called ANOVA. It is used
    to test whether similar data points coming from different groups or under a different
    set of experiments are statistically similar to each other or different—for example,
    the average height of different sections of a class in a school or the peptide
    length of a certain protein found in humans across different ethnicities.
  id: totrans-244
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们来谈谈另一个常见的假设检验方法，称为方差分析（ANOVA）。它用于检验来自不同组或不同实验设置下的相似数据点是否在统计上相似或不同——例如，学校不同班级的平均身高，或者不同种族群体中发现的某种蛋白质的肽段长度。
- en: 'ANOVA calculates two metrics to conduct this test:'
  id: totrans-245
  prefs: []
  type: TYPE_NORMAL
  zh: 方差分析计算两项指标来进行检验：
- en: Variance among different groups
  id: totrans-246
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 不同组之间的方差
- en: Variance within each group
  id: totrans-247
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 每组内的方差
- en: Based on these metrics, a statistic is calculated with variance among different
    groups as a numerator. If it is a statistically large enough number, it means
    that the variance among different groups is larger than the variance within the
    group, implying that the data points coming from the different groups are different.
  id: totrans-248
  prefs: []
  type: TYPE_NORMAL
  zh: 基于这些指标，计算具有不同组间方差的统计量作为分子。如果这是一个足够大的统计量，意味着不同组间的方差大于组内方差，这意味着来自不同组的数据点是不同的。
- en: 'Let''s look at how variance among different groups and variance within each
    group can be calculated. Suppose we have *k* groups that data points are coming
    from:'
  id: totrans-249
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们看看如何计算不同组之间的方差和每个组内方差。假设我们有*k*组，数据点来自这些组：
- en: The data points from group 1 are *X[11]*, *X[12]*, ......., *X*[*1n*.]
  id: totrans-250
  prefs: []
  type: TYPE_NORMAL
  zh: 第一组数据点为*X[11]*, *X[12]*, ......., *X*[*1n*.]
- en: The data points from group 2 are *X[21]*, *X[22]*, ......., *X*[*2n*.]
  id: totrans-251
  prefs: []
  type: TYPE_NORMAL
  zh: 第二组数据点为*X[21]*, *X[22]*, ......., *X*[*2n*.]
- en: This means that the data points from group *k* are *X[k1]*, *X[k2]*, .......,
    *X*[*kn*.]
  id: totrans-252
  prefs: []
  type: TYPE_NORMAL
  zh: 这意味着第*k*组的数据点为*X[k1]*, *X[k2]*, ......., *X*[*kn*.]
- en: 'Let''s use the following abbreviations and symbols to describe some features
    of this data:'
  id: totrans-253
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们使用以下缩写和符号来描述这些数据的某些特征：
- en: Variance among different groups is represented by SSAG
  id: totrans-254
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 不同组间的方差由SSAG表示
- en: Variance within each group is represented by SSWG
  id: totrans-255
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 每个组内的方差由SSWG表示
- en: Number of elements in group k is represented by *n[k]*
  id: totrans-256
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 第k组中的元素数量由*n[k]*表示
- en: Mean of data points in a group is represented by *µ[k]*
  id: totrans-257
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 组中数据点的平均值由*µ[k]*表示
- en: Mean of all data points across groups is represented by *µ*
  id: totrans-258
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 所有组的数据点的平均值由*µ*表示
- en: Number of groups is represented by *k*
  id: totrans-259
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 组数由*k*表示
- en: 'Let''s define the two hypotheses for our statistical test:'
  id: totrans-260
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们为我们的统计测试定义两个假设：
- en: '**Ho**: µ[1] = µ[2] = .....= µ[k]'
  id: totrans-261
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**零假设**: µ[1] = µ[2] = .....= µ[k]'
- en: '**Ho**: µ[1] != µ[2] != .....= µ[k]'
  id: totrans-262
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**零假设**: µ[1] != µ[2] != .....= µ[k]'
- en: In other words, the null hypothesis states that the mean of the data points
    across all the groups is the same, while the alternative hypothesis says that
    the mean of at least one group is different from the others.
  id: totrans-263
  prefs: []
  type: TYPE_NORMAL
  zh: 换句话说，零假设表明所有组中数据点的平均值相同，而备择假设表明至少一个组的平均值与其他组不同。
- en: 'This leads to the following equations:'
  id: totrans-264
  prefs: []
  type: TYPE_NORMAL
  zh: 这导致以下方程：
- en: SSAG = *(∑ n[k] * (X[k] - µ)**2) / k-1*
  id: totrans-265
  prefs: []
  type: TYPE_NORMAL
  zh: SSAG = *(∑ n[k] * (X[k] - µ)**2) / k-1*
- en: SSWG = *(∑∑(X[ki]-µ[k])**2) / n*k-k-1*
  id: totrans-266
  prefs: []
  type: TYPE_NORMAL
  zh: SSWG = *(∑∑(X[ki]-µ[k])**2) / n*k-k-1*
- en: In SSAG, the summation is over all the groups.
  id: totrans-267
  prefs: []
  type: TYPE_NORMAL
  zh: 在SSAG中，求和是在所有组上进行的。
- en: In SSWG, the first summation is across the data points from a particular group
    and the second summation is across the groups.
  id: totrans-268
  prefs: []
  type: TYPE_NORMAL
  zh: 在SSWG中，第一次求和是在来自特定组的数据点上进行的，第二次求和是在各个组之间进行的。
- en: The denominators in both cases denote the degree of freedom. For SSAG, we are
    dealing with k groups and the last value can be derived from the other *k-1* values.
    Therefore, DOF is *k-1*. For SSWG, there are *n*k* data points, but the k-1 mean
    values are restricted (or fixed) by those choices, and so the DOF is *n*k-k-1*.
  id: totrans-269
  prefs: []
  type: TYPE_NORMAL
  zh: 在两种情况下的分母均表示自由度。对于SSAG，我们处理k组，最后一个值可以从其他*k-1*个值中推导出来。因此，自由度为*k-1*。对于SSWG，有*n*k*个数据点，但*k-1*个均值受到这些选择的限制（或固定），因此自由度为*n*k-k-1*。
- en: 'Once these numbers have been calculated, the test statistic is calculated as
    follows:'
  id: totrans-270
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦计算出这些数字，测试统计量将如下计算：
- en: '*Test Statistic = SSAG/SSWG*'
  id: totrans-271
  prefs: []
  type: TYPE_NORMAL
  zh: '*检验统计量 = SSAG/SSWG*'
- en: 'This ratio of SSAG and SSWG follows a new distribution called F-distribution,
    and so the statistic is called an F statistic. It is defined by the two different
    degrees of freedom, and there is a separate distribution for each combination,
    as shown in the following graph:'
  id: totrans-272
  prefs: []
  type: TYPE_NORMAL
  zh: 这个SSAG和SSWG的比例遵循一种称为F分布的新分布，因此统计量称为F统计量。它由两个不同的自由度定义，每个组合都有一个单独的分布，如下图所示：
- en: '![](img/72aaa7fc-4367-45ce-9a20-d118c6523055.png)'
  id: totrans-273
  prefs: []
  type: TYPE_IMG
  zh: '![](img/72aaa7fc-4367-45ce-9a20-d118c6523055.png)'
- en: F-distribution based on the two DOFs, d1 =k-1 and d2=n*k-k-1
  id: totrans-274
  prefs: []
  type: TYPE_NORMAL
  zh: 基于两个自由度的F分布，其中d1 =k-1和d2=n*k-k-1
- en: Like any of the other tests we've looked at, we need to decide a significance
    level and need to find the p-value associated with the F statistics for those
    degrees of freedom. If the p-value is less than the alpha value, the null hypothesis
    can be rejected. This whole calculation can be done by writing some Python code.
  id: totrans-275
  prefs: []
  type: TYPE_NORMAL
  zh: 就像我们看过的其他任何测试一样，我们需要确定显著性水平，并找到与这些自由度对应的F统计量的p值。如果p值小于α值，则可以拒绝原假设。整个计算可以通过编写一些Python代码来完成。
- en: 'Let''s have a look at some example data and see how ANOVA can be applied:'
  id: totrans-276
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们看一些示例数据，看看如何应用ANOVA：
- en: '[PRE17]'
  id: totrans-277
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: 'This results in the following output:'
  id: totrans-278
  prefs: []
  type: TYPE_NORMAL
  zh: 这将产生以下输出：
- en: '![](img/4fd41cb4-54c5-4fc8-8239-0d42555201ef.png)'
  id: totrans-279
  prefs: []
  type: TYPE_IMG
  zh: '![](img/4fd41cb4-54c5-4fc8-8239-0d42555201ef.png)'
- en: Head of the OD data by Lot and Run
  id: totrans-280
  prefs: []
  type: TYPE_NORMAL
  zh: 按批次和运行分组的OD数据的头部
- en: 'We are interested in finding out whether the mean OD is the same for different
    lots and runs. We will apply ANOVA for that purpose, but before that, we can draw
    a boxplot to get an intuitive sense of the differences in the distributions for
    different lots and runs:'
  id: totrans-281
  prefs: []
  type: TYPE_NORMAL
  zh: 我们关心的是是否不同批次和运行的平均OD相同。为此，我们将应用方差分析（ANOVA），但在此之前，我们可以绘制箱线图，以直观地了解不同批次和运行的分布差异：
- en: '![](img/650a5a5f-161c-4b1d-a879-439bb8edb592.png)'
  id: totrans-282
  prefs: []
  type: TYPE_IMG
  zh: '![](img/650a5a5f-161c-4b1d-a879-439bb8edb592.png)'
- en: Boxplot of OD by Lot
  id: totrans-283
  prefs: []
  type: TYPE_NORMAL
  zh: 按批次分组的OD箱线图
- en: 'Similarly, a boxplot of OD grouped by Run can also be plotted:'
  id: totrans-284
  prefs: []
  type: TYPE_NORMAL
  zh: 同样，可以绘制按运行分组的OD箱线图：
- en: '![](img/89d1e6a6-7c1f-48be-9a6c-2c12249df343.png)'
  id: totrans-285
  prefs: []
  type: TYPE_IMG
  zh: '![](img/89d1e6a6-7c1f-48be-9a6c-2c12249df343.png)'
- en: Boxplot of OD by Run
  id: totrans-286
  prefs: []
  type: TYPE_NORMAL
  zh: 按运行分组的OD箱线图
- en: 'Now, let''s write the Python code to perform the calculations:'
  id: totrans-287
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，让我们编写Python代码来执行计算：
- en: '[PRE18]'
  id: totrans-288
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: The value of the F statistic comes out to be 3.84, while the degrees of freedom
    are 4 and 69, respectively.
  id: totrans-289
  prefs: []
  type: TYPE_NORMAL
  zh: F统计量的值为3.84，而自由度分别为4和69。
- en: At a significance level—that is, alpha—of 0.05, the critical value of the F
    statistic lies between 2.44 and 2.52 (from the F-distribution table found at: [http://socr.ucla.edu/Applets.dir/F_Table.html](http://socr.ucla.edu/Applets.dir/F_Table.html)).
  id: totrans-290
  prefs: []
  type: TYPE_NORMAL
  zh: 在显著性水平，即α值为0.05时，F统计量的临界值位于2.44和2.52之间（来自F分布表：[http://socr.ucla.edu/Applets.dir/F_Table.html](http://socr.ucla.edu/Applets.dir/F_Table.html)）。
- en: Since the value of the F statistic (3.84) is larger than the critical value
    of 2.52, the F statistic lies in the rejection region, and so the null hypothesis
    can be rejected. Therefore, it can be concluded that the mean OD values are different
    for different lot groups. At a significance level of 0.001, the F statistic becomes
    smaller than the critical value, and so the null hypothesis can't be rejected.
    We would have to accept that the OD means from the different groups are statistically
    the same. The same test can be performed for different run groups. This has been
    left as an exercise for you to practice with.
  id: totrans-291
  prefs: []
  type: TYPE_NORMAL
  zh: 由于F统计量的值（3.84）大于临界值2.52，因此F统计量位于拒绝区间内，零假设可以被拒绝。因此，可以得出结论，不同批次组的平均OD值是不同的。在显著性水平为0.001时，F统计量变得小于临界值，因此零假设不能被拒绝。我们必须接受不同组的OD均值在统计学上是相同的。对于不同的运行组，可以执行相同的检验。这部分作为练习留给你进行实践。
- en: Confidence intervals
  id: totrans-292
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 置信区间
- en: In this section, we will address the issue of confidence intervals. A confidence
    interval allows us to make a probabilistic estimate of the value of the mean of
    a population's given sample data.
  id: totrans-293
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们将讨论置信区间的问题。置信区间允许我们对一个总体的给定样本数据的均值进行概率估计。
- en: This estimate, called an interval estimate, consists of a range of values (intervals)
    that act as good estimates of the unknown population parameter.
  id: totrans-294
  prefs: []
  type: TYPE_NORMAL
  zh: 这种估计称为区间估计，它由一系列值（区间）组成，这些值作为对未知总体参数的良好估计。
- en: The confidence interval is bounded by confidence limits. A 95 percent confidence
    interval is defined as an interval in which the interval contains the population
    mean with a 95 percent probability. So how do we construct a confidence interval?
  id: totrans-295
  prefs: []
  type: TYPE_NORMAL
  zh: 置信区间由置信限界定。95%的置信区间定义为一个区间，其中区间包含总体均值的概率为95%。那么我们如何构建置信区间呢？
- en: 'Suppose we have a 2-tailed t-test and we want to construct a 95 percent confidence
    interval. In this case, we want the sample t-value, ![](img/bea7daa2-f67c-4259-bfde-cf790f51841e.png),
    corresponding to the mean to satisfy the following inequality:'
  id: totrans-296
  prefs: []
  type: TYPE_NORMAL
  zh: 假设我们有一个双尾t检验，并且我们想构建一个95%的置信区间。在这种情况下，我们希望样本t值 ![](img/bea7daa2-f67c-4259-bfde-cf790f51841e.png)
    与均值相对应，并满足以下不等式：
- en: '![](img/e98d2c60-01e2-458c-952f-a3950a64daaf.png)'
  id: totrans-297
  prefs: []
  type: TYPE_IMG
  zh: '![](img/e98d2c60-01e2-458c-952f-a3950a64daaf.png)'
- en: 'Given that ![](img/a7d87347-ae59-479c-a894-add67b396748.png) , we can substitute
    this in the preceding inequality relation to obtain the following equation:'
  id: totrans-298
  prefs: []
  type: TYPE_NORMAL
  zh: 给定 ![](img/a7d87347-ae59-479c-a894-add67b396748.png)，我们可以将其代入前面的不等式关系，得到以下方程：
- en: '![](img/b70a50cf-7705-4a25-8a69-f3b000639f74.png)'
  id: totrans-299
  prefs: []
  type: TYPE_IMG
  zh: '![](img/b70a50cf-7705-4a25-8a69-f3b000639f74.png)'
- en: The ![](img/ce778062-d045-4f19-9187-985877ed0186.png) interval is our 95 percent
    confidence interval.
  id: totrans-300
  prefs: []
  type: TYPE_NORMAL
  zh: '![](img/ce778062-d045-4f19-9187-985877ed0186.png)区间就是我们的95%置信区间。'
- en: Generalizing any confidence interval for any percentage, *y*, can be expressed
    as ![](img/a4721c72-a296-4dbb-8350-430f4ef60c70.png), where ![](img/736ba19b-2281-4848-ad52-13b923adb857.png) is
    the t-tailed value of *t—t*hat is, ![](img/1640980b-71b8-4e3e-bef0-b50584e5bb79.png)
    correlation to the desired confidence interval for *y*.
  id: totrans-301
  prefs: []
  type: TYPE_NORMAL
  zh: 一般化任何置信区间的百分比，*y*，可以表示为![](img/a4721c72-a296-4dbb-8350-430f4ef60c70.png)，其中![](img/736ba19b-2281-4848-ad52-13b923adb857.png)是*t—t*的t分布值——即，![](img/1640980b-71b8-4e3e-bef0-b50584e5bb79.png)与*y*所需置信区间的相关性。
- en: We will now take the opportunity to illustrate how we can calculate the confidence
    interval using a dataset from the popular statistical environment known as R.
    The `stats` models' module provides access to the datasets that are available
    in the core datasets package of R through the `get_rdataset` function.
  id: totrans-302
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们将利用一个机会，说明如何使用流行的统计环境R中的数据集来计算置信区间。`stats`模块提供通过`get_rdataset`函数访问R核心数据集包中的数据集。
- en: An illustrative example
  id: totrans-303
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 一个示例说明
- en: 'We will consider the dataset known as faithful, which consists of data that
    was obtained by observing the eruptions of the Old Faithful geyser in the Yellowstone
    National Park in the US. The two variables in the dataset are eruptions, which
    are the length of time the geyser erupts, and waiting, which is the time until
    the next eruption. There were 272 observations:'
  id: totrans-304
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将考虑一个名为faithful的数据集，该数据集来自对美国黄石国家公园老忠实间歇泉喷发的观察。数据集中的两个变量是eruptions（喷发持续时间）和waiting（到下次喷发的等待时间）。该数据集包含272个观测值：
- en: '[PRE19]'
  id: totrans-305
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: 'Let''s calculate a 95 percent confidence interval for the mean waiting time
    of the geyser. To do this, we must obtain the sample mean and standard deviation
    of the data:'
  id: totrans-306
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们计算间歇泉的95%置信区间。为此，我们必须获得数据的样本均值和标准差：
- en: '[PRE20]'
  id: totrans-307
  prefs: []
  type: TYPE_PRE
  zh: '[PRE20]'
- en: 'Now, we''ll make use of the `scipy.stats` package to calculate the confidence
    interval:'
  id: totrans-308
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，我们将利用`scipy.stats`包来计算置信区间：
- en: '[PRE21]'
  id: totrans-309
  prefs: []
  type: TYPE_PRE
  zh: '[PRE21]'
- en: Thus, we can state with 95 percent confidence that the [69.28, 72.51] interval
    contains the actual mean waiting time of the geyser.
  id: totrans-310
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，我们可以以95%的置信度声明，[69.28, 72.51]区间包含间歇泉的实际平均等待时间。
- en: This information can be found at [http://statsmodels.sourceforge.net/devel/datasets/index.html](http://statsmodels.sourceforge.net/devel/datasets/index.html)
    and [http://docs.scipy.org/doc/scipy-0.14.0/reference/generated/scipy.stats.norm.html](http://docs.scipy.org/doc/scipy-0.14.0/reference/generated/scipy.stats.norm.html).
  id: totrans-311
  prefs: []
  type: TYPE_NORMAL
  zh: 这些信息可以在[http://statsmodels.sourceforge.net/devel/datasets/index.html](http://statsmodels.sourceforge.net/devel/datasets/index.html)和[http://docs.scipy.org/doc/scipy-0.14.0/reference/generated/scipy.stats.norm.html](http://docs.scipy.org/doc/scipy-0.14.0/reference/generated/scipy.stats.norm.html)找到。
- en: Correlation and linear regression
  id: totrans-312
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 相关性与线性回归
- en: One of the most common tasks in statistics when determining the relationship
    between two variables is whether there is dependence between them. Correlation
    is the general term we use in statistics for variables that express dependence
    with each other.
  id: totrans-313
  prefs: []
  type: TYPE_NORMAL
  zh: 统计学中最常见的任务之一是确定两个变量之间是否存在依赖关系。相关性是我们在统计学中用来描述相互依赖的变量的术语。
- en: We can then use this relationship to try and predict the value of one set of
    variables from the other. This is known as regression.
  id: totrans-314
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，我们可以使用这个关系来尝试从一组变量预测另一组变量的值。这就是回归。
- en: Correlation
  id: totrans-315
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 相关性
- en: The statistical dependence that's expressed in a correlation relationship does
    not imply a causal relationship between the two variables; the famous line regarding
    this is c*orrelation does not imply causation*. Thus, the correlation between
    two variables or datasets implies just a casual rather than a causal relationship
    or dependence. For example, there is a correlation between the amount of ice cream
    purchased on a given day and the weather.
  id: totrans-316
  prefs: []
  type: TYPE_NORMAL
  zh: 表示统计依赖关系的相关性关系并不意味着两个变量之间存在因果关系；关于这一点的著名表述是：*相关性不代表因果关系*。因此，两个变量或数据集之间的相关性仅表示一种偶然关系，而不是因果关系或依赖关系。例如，购买冰淇淋的数量与当天的天气之间存在相关性。
- en: For more information on correlation and dependency, refer to [http://en.wikipedia.org/wiki/Correlation_and_dependence](http://en.wikipedia.org/wiki/Correlation_and_dependence).
  id: totrans-317
  prefs: []
  type: TYPE_NORMAL
  zh: 有关相关性和依赖性的更多信息，请参见[http://en.wikipedia.org/wiki/Correlation_and_dependence](http://en.wikipedia.org/wiki/Correlation_and_dependence)。
- en: The correlation measure, known as the correlation coefficient, is a number that
    describes the size and direction of the relationship between the two variables.
    It can vary from -1 to +1 in direction and 0 to 1 in magnitude. The direction
    of the relationship is expressed through the sign, with a *+* sign expressing
    a positive correlation and a *-* sign expressing a negative correlation. The higher
    the magnitude, the greater the correlation, with a 1 being termed as the perfect
    correlation.
  id: totrans-318
  prefs: []
  type: TYPE_NORMAL
  zh: 相关性度量，即相关系数，是描述两个变量之间关系的大小和方向的数字。其方向范围从 -1 到 +1，大小范围从 0 到 1。关系的方向通过符号表示，*+*
    符号表示正相关，*-* 符号表示负相关。大小越大，相关性越强，1 被视为完美相关。
- en: The most popular and widely used correlation coefficient is the Pearson product-moment
    correlation coefficient, known as *r*. It measures the linear correlation or dependence
    between two *x* and *y* variables and takes values between -1 and +1.
  id: totrans-319
  prefs: []
  type: TYPE_NORMAL
  zh: 最常用和广泛使用的相关系数是 Pearson 积矩相关系数，简称 *r*。它衡量两个 *x* 和 *y* 变量之间的线性相关性或依赖性，取值范围为 -1
    到 +1。
- en: 'The sample correlation coefficient, *r*, is defined as follows:'
  id: totrans-320
  prefs: []
  type: TYPE_NORMAL
  zh: 样本相关系数，*r*，定义如下：
- en: '![](img/b0bc723b-d636-416a-ac94-c27380de54b2.png)'
  id: totrans-321
  prefs: []
  type: TYPE_IMG
  zh: '![](img/b0bc723b-d636-416a-ac94-c27380de54b2.png)'
- en: 'This can also be written as follows:'
  id: totrans-322
  prefs: []
  type: TYPE_NORMAL
  zh: 这也可以写成如下形式：
- en: '![](img/07d2c249-b46c-4baf-8b1f-d913123ea43b.png)'
  id: totrans-323
  prefs: []
  type: TYPE_IMG
  zh: '![](img/07d2c249-b46c-4baf-8b1f-d913123ea43b.png)'
- en: Here, we have omitted the summation limits.
  id: totrans-324
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，我们省略了求和的范围。
- en: Linear regression
  id: totrans-325
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 线性回归
- en: As we mentioned previously, regression focuses on using the relationship between
    two variables for prediction. In order to make predictions using linear regression,
    the best-fitting straight line must be computed.
  id: totrans-326
  prefs: []
  type: TYPE_NORMAL
  zh: 如我们之前提到的，回归分析侧重于使用两个变量之间的关系来进行预测。为了利用线性回归进行预测，必须计算出最佳拟合直线。
- en: If all the points (values for the variables) lie on a straight line, then the
    relationship is deemed perfect. This rarely happens in practice and the points
    do not all fit neatly on a straight line. Because of this, the relationship is
    imperfect. In some cases, a linear relationship only occurs among log-transformed
    variables. This is a log-log model. An example of such a relationship would be
    a power law distribution in physics, where one variable varies as a power of another.
  id: totrans-327
  prefs: []
  type: TYPE_NORMAL
  zh: 如果所有的点（变量的值）都位于一条直线上，那么这种关系被认为是完美的。实际中这种情况很少发生，点并不完全整齐地落在一条直线上。因此，这种关系是不完美的。在某些情况下，线性关系仅发生在对数变换后的变量之间。这就是对数-对数模型。这样的关系的一个例子是物理中的幂律分布，其中一个变量以另一个变量的幂次方变化。
- en: Thus, an expression such as this results in the linear relationship.
  id: totrans-328
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，像这样的表达式会产生线性关系。
- en: For more information, refer to [http://en.wikipedia.org/wiki/Power_law.](http://en.wikipedia.org/wiki/Power_law)
  id: totrans-329
  prefs: []
  type: TYPE_NORMAL
  zh: 欲了解更多信息，请参阅 [http://en.wikipedia.org/wiki/Power_law.](http://en.wikipedia.org/wiki/Power_law)
- en: To construct the best-fit line, the method of least squares is used. In this
    method, the best-fit line is the optimal line that is constructed between the
    points for which the sum of the squared distance from each point to the line is
    the minimum. This is deemed to be the best linear approximation of the relationship
    between the variables we are trying to model using linear regression. The best-fit
    line in this case is called the least squares regression line.
  id: totrans-330
  prefs: []
  type: TYPE_NORMAL
  zh: 为了构造最佳拟合直线，采用最小二乘法。在这种方法中，最佳拟合直线是通过数据点构造的最优直线，其特点是从每个点到直线的平方距离之和最小。这被认为是我们试图使用线性回归模型化的变量之间关系的最佳线性近似。此时，最佳拟合直线称为最小二乘回归线。
- en: More formally, the least squares regression line is the line that has the minimum
    possible value for the sum of squares of the vertical distance from the data points
    to the line. These vertical distances are also known as residuals.
  id: totrans-331
  prefs: []
  type: TYPE_NORMAL
  zh: 更正式地说，最小二乘回归线是使得从数据点到直线的垂直距离平方和最小的直线。这些垂直距离也被称为残差。
- en: 'Thus, by constructing the least squares regression line, we''re trying to minimize
    the following expression:'
  id: totrans-332
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，通过构造最小二乘回归线，我们的目标是最小化以下表达式：
- en: '![](img/1f90155b-138a-486d-9346-dcf72ac89226.png)'
  id: totrans-333
  prefs: []
  type: TYPE_IMG
  zh: '![](img/1f90155b-138a-486d-9346-dcf72ac89226.png)'
- en: An illustrative example
  id: totrans-334
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 一个示例
- en: We will now illustrate all the preceding points with an example. Suppose we're
    doing a study in which we would like to illustrate the effect of temperature on
    how often crickets chirp. The data for this example was obtained from the book
    *The Song of Insects*, by George W Pierce, which was written in 1948\. George
    Pierce measured the frequency of chirps made by a ground cricket at various temperatures.
  id: totrans-335
  prefs: []
  type: TYPE_NORMAL
  zh: 我们现在通过一个例子来说明所有的前述要点。假设我们正在进行一项研究，旨在展示温度对蟋蟀鸣叫频率的影响。这个例子的数据显示来自乔治·W·皮尔斯（George
    W Pierce）于1948年编写的《昆虫之歌》一书。乔治·皮尔斯测量了不同温度下地面蟋蟀的鸣叫频率。
- en: We want to investigate the frequency of cricket chirps and the temperature,
    as we suspect that there is a relationship between them. The data consists of
    16 data points, and we will read it into a DataFrame.
  id: totrans-336
  prefs: []
  type: TYPE_NORMAL
  zh: 我们希望调查蟋蟀鸣叫频率与温度之间的关系，因为我们怀疑它们之间存在某种联系。数据包含16个数据点，我们将其读取到一个DataFrame中。
- en: 'The data is sourced from [http://college.cengage.com/mathematics/brase/understandable_statistics/7e/students/datasets/slr/frames/slr02.html](http://college.cengage.com/mathematics/brase/understandable_statistics/7e/students/datasets/slr/frames/slr02.html).
    Let''s take a look at it:'
  id: totrans-337
  prefs: []
  type: TYPE_NORMAL
  zh: 数据来源于[http://college.cengage.com/mathematics/brase/understandable_statistics/7e/students/datasets/slr/frames/slr02.html](http://college.cengage.com/mathematics/brase/understandable_statistics/7e/students/datasets/slr/frames/slr02.html)。我们来看看它：
- en: '[PRE22]'
  id: totrans-338
  prefs: []
  type: TYPE_PRE
  zh: '[PRE22]'
- en: 'First, let''s make a scatter plot of the data, along with a regression line,
    or line of best fit:'
  id: totrans-339
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，我们绘制数据的散点图，并加入回归线或最优拟合线：
- en: '[PRE23]'
  id: totrans-340
  prefs: []
  type: TYPE_PRE
  zh: '[PRE23]'
- en: 'As you can see from the following diagram, there seems to be a linear relationship
    between temperature and the chirp frequency:'
  id: totrans-341
  prefs: []
  type: TYPE_NORMAL
  zh: 从下面的图表中可以看到，温度和鸣叫频率之间似乎存在线性关系：
- en: '![](img/746594a9-2159-4625-bc28-fba78e040a63.png)'
  id: totrans-342
  prefs: []
  type: TYPE_IMG
  zh: '![](img/746594a9-2159-4625-bc28-fba78e040a63.png)'
- en: 'We can now proceed to investigate further by using the `statsmodels.ols` (ordinary
    least squares) method:'
  id: totrans-343
  prefs: []
  type: TYPE_NORMAL
  zh: 我们现在可以继续使用`statsmodels.ols`（普通最小二乘法）方法进一步研究：
- en: '[PRE24]'
  id: totrans-344
  prefs: []
  type: TYPE_PRE
  zh: '[PRE24]'
- en: We will ignore most of the preceding results, except for the `R-squared`, `Intercept`,
    and `chirpFrequency` values.
  id: totrans-345
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将忽略大部分前述的结果，仅保留`R-squared`、`Intercept`和`chirpFrequency`的值。
- en: From the preceding result, we can conclude that the slope of the regression
    line is `3.29` and that the intercept on the temperature axis is `25.23`. Thus,
    the regression line equation looks like `temperature = 25.23 + 3.29 * chirpFrequency`.
  id: totrans-346
  prefs: []
  type: TYPE_NORMAL
  zh: 从前述结果中我们可以得出回归线的斜率为`3.29`，并且温度轴的截距为`25.23`。因此，回归线的方程为`temperature = 25.23 +
    3.29 * chirpFrequency`。
- en: 'This means that as the chirp frequency increases by 1, the temperature increases
    by about 3.29 degrees Fahrenheit. However, note that the intercept value is not
    really meaningful as it is outside the bounds of the data. We can also only make
    predictions for values within the bounds of the data. For example, we cannot predict
    what `chirpFrequency` is at 32 degrees Fahrenheit as it is outside the bounds
    of the data; moreover, at 32 degrees Fahrenheit, the crickets would have frozen
    to death. The value of R—that is, the correlation coefficient—is given as follows:'
  id: totrans-347
  prefs: []
  type: TYPE_NORMAL
  zh: 这意味着，当鸣叫频率增加1时，温度大约增加3.29华氏度。然而，请注意，截距值并不具有实际意义，因为它超出了数据的范围。我们只能对数据范围内的值进行预测。例如，我们无法预测在32华氏度时的`chirpFrequency`，因为这超出了数据的范围；而且，在32华氏度时，蟋蟀已经冻死。R值，即相关系数，计算结果如下：
- en: '[PRE25]'
  id: totrans-348
  prefs: []
  type: TYPE_PRE
  zh: '[PRE25]'
- en: Thus, our correlation coefficient is `R = 0.835`. This would indicate that about
    84 percent of the chirp frequency can be explained by the changes in temperature.
  id: totrans-349
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，我们的相关系数为`R = 0.835`。这表明大约84%的鸣叫频率可以通过温度的变化来解释。
- en: The book containing this data, *The Song of Insects*, can be found at[http://www.hup.harvard.edu/catalog.php?isbn=9780674420663](http://www.hup.harvard.edu/catalog.php?isbn=9780674420663).
  id: totrans-350
  prefs: []
  type: TYPE_NORMAL
  zh: 包含这些数据的书籍《昆虫之歌》可以在[http://www.hup.harvard.edu/catalog.php?isbn=9780674420663](http://www.hup.harvard.edu/catalog.php?isbn=9780674420663)找到。
- en: 'For a more in-depth treatment of single and multivariable regression, refer
    to the following websites:'
  id: totrans-351
  prefs: []
  type: TYPE_NORMAL
  zh: 如需更深入了解单变量和多变量回归分析，请参考以下网站：
- en: '**Regression (Part I)**: [http://bit.ly/1Eq5kSx](http://bit.ly/1Eq5kSx)'
  id: totrans-352
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**回归分析（第一部分）**：[http://bit.ly/1Eq5kSx](http://bit.ly/1Eq5kSx)'
- en: '**Regression (Part II)**: [http://bit.ly/1OmuFTV](http://bit.ly/1OmuFTV)'
  id: totrans-353
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**回归分析（第二部分）**：[http://bit.ly/1OmuFTV](http://bit.ly/1OmuFTV)'
- en: Summary
  id: totrans-354
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 总结
- en: In this chapter, we took a brief tour of the classical or frequentist approach
    to statistics and saw how to combine pandas with the `numpy` and `stats` packages—`scipy.stats`
    and `statsmodels`—to calculate, interpret, and make inferences from statistical
    data.
  id: totrans-355
  prefs: []
  type: TYPE_NORMAL
  zh: 在这一章，我们简要介绍了经典的或频率主义的统计方法，并展示了如何将pandas与`numpy`和`stats`包（`scipy.stats`和`statsmodels`）结合使用——以便计算、解释和从统计数据中推断结论。
- en: In the next chapter, we will examine an alternative approach to statistics called
    the Bayesian approach. For a deeper look at the statistics topics that we touched
    on, take a look at *Understanding Statistics in the Behavioral Sciences*, which
    can be found at [http://www.amazon.com/Understanding-Statistics-Behavioral-Sciences-Robert/dp/0495596523](http://www.amazon.com/Understanding-Statistics-Behavioral-Sciences-Robert/dp/0495596523).
  id: totrans-356
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一章，我们将探讨一种替代的统计方法——贝叶斯方法。想要更深入了解我们触及的统计学主题，请参阅《*行为科学中的统计学理解*》，可以在[http://www.amazon.com/Understanding-Statistics-Behavioral-Sciences-Robert/dp/0495596523](http://www.amazon.com/Understanding-Statistics-Behavioral-Sciences-Robert/dp/0495596523)找到。
