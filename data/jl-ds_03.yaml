- en: Chapter 3. Data Exploration
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第3章 数据探索
- en: When we first receive a dataset, most of the times we only know what it is related
    to—an overview that is not enough to start applying algorithms or create models
    on it. Data exploration is of paramount importance in data science. It is the
    necessary process prior to creating a model because it gives a highlight of the
    dataset and definitely makes clear the path to achieving our objectives. Data
    exploration familiarizes the data scientist with the data and helps to know what
    general hypothesis we can infer from the dataset. So, we can say it is a process
    of extracting some information from the dataset, not knowing beforehand what to
    look for.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 当我们第一次接收到一个数据集时，大多数时候我们只知道它与什么相关——这种概述不足以开始应用算法或创建模型。数据探索在数据科学中至关重要。它是创建模型之前必不可少的过程，因为它展示了数据集的关键特点，并且明确了我们达成目标的路径。数据探索使数据科学家熟悉数据，并帮助我们知道可以从数据集中推导出什么一般性假设。因此，我们可以说它是从数据集中提取信息的过程，而我们事先并不知道要寻找什么。
- en: 'In this chapter, we will study:'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 在这一章中，我们将研究：
- en: Sampling, population, and weight vectors
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 抽样、总体和权重向量
- en: Inferring column types
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 推断列类型
- en: Summary of a dataset
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 数据集概述
- en: Scalar statistics
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 标量统计
- en: Measures of variation
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 变异度量
- en: Data exploration using visualizations
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用可视化进行数据探索
- en: Data exploration involves descriptive statistics. Descriptive statistics is
    a field of data analysis that finds out patterns by meaningfully summarizing data.
    This may not lead to the exact results or the model that we intend to build, but
    it definitely helps to understand the data. Suppose there are 10 million people
    in New Delhi and if we calculate the mean of the heights of 1,000 people taken
    at random living there, it wouldn't be the average height of the people of New
    Delhi, but it would definitely give an idea.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 数据探索涉及描述性统计。描述性统计是数据分析领域，通过有意义地总结数据来发现模式。虽然这可能不会直接得出我们预期的结果或模型，但它肯定有助于理解数据。假设新德里有1000万人，如果我们随机抽取1000人并计算他们的身高平均值，这个平均值可能不会代表新德里所有人的平均身高，但它肯定能给我们一个大概的概念。
- en: 'Julia can effectively be used for data exploration. Julia provides a package
    called `StatsBase.jl`, which contains the necessary functions for statistics.
    We would presume throughout the chapter that you have added the package:'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: Julia可以有效地用于数据探索。Julia提供了一个名为`StatsBase.jl`的包，其中包含了统计所需的功能。我们假设在整章中，你已经添加了这个包：
- en: '[PRE0]'
  id: totrans-11
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: Sampling
  id: totrans-12
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 抽样
- en: In the previous example, we spoke about calculating the mean height of 1,000
    people out of the 10 million people living in New Delhi. While gathering the data
    of these 10 million people, let's say we started from a particular age or community,
    or in any sequential manner. Now, if we take 1,000 people who are consecutive
    in the dataset, there is a high probability that they would have similarities
    among them. This similarity would not give us the actual highlight of the dataset
    that we are trying to achieve. So, taking a small chunk of consecutive data points
    from the dataset wouldn't give us the insight that we want to gain. To overcome
    this, we use sampling.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 在前面的例子中，我们讨论了如何计算从1000万人中随机挑选的1000人身高的平均值。假设在收集这1000万人的数据时，我们从特定的年龄段或社区开始，或者按某种顺序排列数据。现在，如果我们从数据集中选择1000个连续的人，这些人很有可能会有某些相似之处。这种相似性不会给我们展示数据集的实际特征，反而可能影响我们想要获得的洞察。因此，从数据集中抽取一小段连续的数据点，无法为我们提供有价值的信息。为了克服这个问题，我们使用抽样。
- en: Sampling is a technique to randomly select data from the given dataset such
    that they are not related to each other, and therefore we can generalize the results
    that we generate on this selected data over the complete dataset. Sampling is
    done over a population.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 抽样是一种从给定数据集中随机选择数据的技术，使得这些数据点彼此不相关，因此我们可以将从这些数据上生成的结果推广到整个数据集。抽样是在总体上进行的。
- en: Population
  id: totrans-15
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 总体
- en: A population in statistics refers to the set of all the data points that are
    there in the dataset and which have at least one common property. In the previous
    example, the people have the common property of being from the same geographic
    region.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 统计学中的总体是指数据集中所有数据点的集合，这些数据点至少具有一个共同的属性。在前面的例子中，这些人具有相同的地理区域属性。
- en: 'Let''s take the example of the iris dataset. Although it has just 150 records,
    it would give us an idea on how to take a sample from the dataset:'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们以鸢尾花数据集为例。尽管它只有150条记录，但它能给我们一个关于如何从数据集中抽取样本的概念：
- en: '[PRE1]'
  id: totrans-18
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'We will use the RDatasets package, which contains the iris dataset, and will
    load it into a DataFrame. So, this DataFrame contains the "population" and we
    want to take a sample from it:'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将使用包含鸢尾花数据集的RDatasets包，并将其加载到DataFrame中。因此，这个DataFrame包含了“总体”，我们希望从中抽取一个样本：
- en: '[PRE2]'
  id: totrans-20
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'The `sample()` function can be used to return a random value from the dataset
    or an array of randomly chosen values:'
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: '`sample()`函数可用于从数据集或数组中返回一个随机值，或者返回一组随机选择的值：'
- en: '[PRE3]'
  id: totrans-22
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'The `replace` and `ordered` arguments are used in specific cases:'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: '`replace`和`ordered`参数在特定情况下使用：'
- en: '`replace`: This is used if the replacement is done when a same value is returned
    (`default=true`)'
  id: totrans-24
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`replace`：当返回相同的值时执行替换操作时使用（`默认值=true`）'
- en: '`ordered`: This is used when the values returned are in ascending order (`default=false`)'
  id: totrans-25
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`ordered`：当返回的值按升序排列时使用（`默认值=false`）'
- en: Ideally, the sample taken from the given dataset should represent the population.
    But mostly, it under—or over—represents many groups present in the dataset. Let's
    take the earlier example, what if we were unable to gather the complete data for
    ages between 50-70 and from community X? Therefore, our dataset doesn't represent
    the exact population. Something has to be done to correct the observed dataset.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 理想情况下，从给定数据集中采样的数据应当代表整个总体。但大多数情况下，数据集中的许多群体要么被低估，要么被高估。我们来看之前的例子，如果我们无法收集到50-70岁年龄段以及社区X的完整数据怎么办？因此，我们的数据集并不能完全代表实际的总体。必须对观察到的数据集进行一些调整。
- en: Weighting adjustment is one of the very common correction techniques. In this
    technique, an adjustment weight is assigned to each record. The record or group
    that we think is under-represented gets a weight larger than 1 and the record
    or group that we think is over-represented gets a weight smaller than 1.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 权重调整是非常常见的一种修正技术。在此技术中，会为每条记录分配一个调整权重。我们认为被低估的记录或群体会获得大于1的权重，而我们认为被高估的记录或群体会获得小于1的权重。
- en: Weight vectors
  id: totrans-28
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 权重向量
- en: 'Julia has a type, WeightVec, to represent weight vectors to facilitate the
    assignment of weights to samples. The need for a specialized data type for weight
    vectors was:'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: Julia有一种类型`WeightVec`，用于表示权重向量，以便为样本分配权重。之所以需要专门的权重向量数据类型，是因为：
- en: To explicitly distinguish the role of this particular vector from other data
    vectors
  id: totrans-30
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 显式区分该向量与其他数据向量的角色
- en: To save computation cycles by storing the sum of the weights and avoiding recomputing
    the sum of the weights again
  id: totrans-31
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过存储权重总和并避免重复计算权重总和，从而节省计算周期
- en: 'Weight vectors can be constructed like this:'
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 权重向量可以这样构建：
- en: '[PRE4]'
  id: totrans-33
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: We have provided the sum of the weights as the second argument. It is optional
    and is done to save computation time.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 我们已将权重总和作为第二个参数提供。它是可选的，目的是为了节省计算时间。
- en: 'For simplicity, `WeightVec` supports a few general methods. Let `wv` be of
    the type `WeightVec`:'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 为了简化，`WeightVec`支持一些常见方法。假设`wv`的类型是`WeightVec`：
- en: '[PRE5]'
  id: totrans-36
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: '`eltype` is used to get the type of the values in `WeightVec`:'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: '`eltype`用于获取`WeightVec`中值的类型：'
- en: '[PRE6]'
  id: totrans-38
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: Other methods are self-explanatory. As the sum is already stored by `WeightVec`,
    it is returned instantaneously without any computation.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 其他方法不言自明。由于`WeightVec`已经存储了总和，因此它可以立即返回，而无需进行任何计算。
- en: Inferring column types
  id: totrans-40
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 推断列类型
- en: 'To understand the dataset and move any further, we need to first understand
    what type of data we have. As our data is stored in columns, we should know their
    type before performing any operations. This is also called creating a data dictionary:'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 要理解数据集并继续处理，我们需要首先了解我们拥有的数据类型。由于我们的数据是按列存储的，在执行任何操作之前，我们应该知道它们的类型。这也叫做创建数据字典：
- en: '[PRE7]'
  id: totrans-42
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: We have used the classic dataset of iris here. We already know the type of the
    data in these columns. We can apply the same function to any similar dataset.
    Suppose we were only given columns without labels; then it would have been hard
    to determine the type of data these columns contain. Sometimes, the dataset looks
    as if it contains numeric digits but their data type is `ASCIIString`. These can
    lead to errors in further steps. These errors are avoidable.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 我们在这里使用了经典的鸢尾花数据集。我们已经知道这些列中数据的类型。我们可以将相同的函数应用于任何类似的数据集。假设我们只给定了没有标签的列，那么就很难确定这些列中数据的类型。有时，数据集看起来像是包含数字，但它们的数据类型却是`ASCIIString`。这些可能会在后续步骤中引发错误。幸运的是，这些错误是可以避免的。
- en: Basic statistical summaries
  id: totrans-44
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 基本统计汇总
- en: Although, we are currently using RDatasets, about which we have sufficient details
    and documentation, these methods and techniques can be extended to other datasets.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管我们目前使用的是RDatasets，这些数据集有充分的细节和文档支持，但这些方法和技术也可以扩展到其他数据集。
- en: 'Let''s use a different dataset:'
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 我们使用一个不同的数据集：
- en: '![Basic statistical summaries](img/B05321_03_8.jpg)'
  id: totrans-47
  prefs: []
  type: TYPE_IMG
  zh: '![基本统计摘要](img/B05321_03_8.jpg)'
- en: 'We are using another dataset from the RDatasets package. These are exam scores
    from Inner London. To get some information about the dataset, we will use the
    `describe()` function, which we have already discussed in previous chapters:'
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 我们正在使用来自RDatasets包的另一个数据集。这些数据是来自伦敦内区的考试成绩。为了获取数据集的一些信息，我们将使用`describe()`函数，这个函数我们在之前的章节中已经讨论过：
- en: '![Basic statistical summaries](img/B05321_03_9.jpg)'
  id: totrans-49
  prefs: []
  type: TYPE_IMG
  zh: '![基本统计摘要](img/B05321_03_9.jpg)'
- en: 'The columns are described as follows:'
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 各列的描述如下：
- en: '`Length` refers to the number of records (rows).'
  id: totrans-51
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Length`指的是记录（行）的数量。'
- en: '`Type` refers to the data type of the column. Therefore, `School` is of the `Pooled
    ASCIIString` data type.'
  id: totrans-52
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Type`指的是列的数据类型。因此，`School`的类型是`Pooled ASCIIString`。'
- en: '`NA` and `NA%` refer to the number and percentage of the `NA` values present
    in the column. This is really helpful as you don''t need to manually check for
    missing records now.'
  id: totrans-53
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`NA`和`NA%`分别指的是列中`NA`值的数量和百分比。这非常有用，因为你现在不需要手动检查缺失的记录了。'
- en: '`Unique` refers to the number of unique records present in the column.'
  id: totrans-54
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Unique`指的是列中唯一记录的数量。'
- en: '`Min` and `Max` are the minimum and maximum values present in the column (this
    does not apply to columns having `ASCIIStrings`). These are the values at the
    0% and 100% of the data points. `Min` and `Max` define the range of data.'
  id: totrans-55
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Min`和`Max`是列中的最小值和最大值（这不适用于`ASCIIStrings`类型的列）。这些是数据点的0%和100%的值。`Min`和`Max`定义了数据的范围。'
- en: 1st quantile and 3rd quantile refer to the value at 25% and 75% of the data
    points respectively. Similarly, median refers to the value at the 50% of the data
    points.
  id: totrans-56
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 第一四分位数和第三四分位数分别指的是数据点的25%和75%的值。同样，中位数指的是数据点的50%的值。
- en: Calculating the mean of the array or dataframe
  id: totrans-57
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 计算数组或数据框的均值
- en: 'Julia provides different kinds of mean functions. Each has its own use case:'
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: Julia提供了不同种类的均值函数，每种函数都有其特定的使用场景：
- en: '`geomean(arr)`: This computes the geometric mean of `arr`:'
  id: totrans-59
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`geomean(arr)`：这是计算`arr`的几何均值：'
- en: '![Calculating the mean of the array or dataframe](img/B05321_03_10.jpg)'
  id: totrans-60
  prefs: []
  type: TYPE_IMG
  zh: '![计算数组或数据框的均值](img/B05321_03_10.jpg)'
- en: '`harmmean(arr)`: This computes the harmonic mean of `arr`:'
  id: totrans-61
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`harmmean(arr)`：这是计算`arr`的调和均值：'
- en: '![Calculating the mean of the array or dataframe](img/B05321_03_11.jpg)'
  id: totrans-62
  prefs: []
  type: TYPE_IMG
  zh: '![计算数组或数据框的均值](img/B05321_03_11.jpg)'
- en: '`trimmean(arr, fraction)`: This is used to compute the mean of the trimmed
    dataset. The second argument is used to provide the fraction over which the dataset
    will be trimmed. For example, if the value provided in `fraction` is 0.3, the
    mean will be computed by neglecting the top 30% and bottom 30% values. It''s generally
    used to remove outliers:'
  id: totrans-63
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`trimmean(arr, fraction)`：用于计算裁剪数据集的均值。第二个参数用于提供裁剪数据集的比例。例如，如果`fraction`的值为0.3，均值将通过忽略顶部30%和底部30%的值来计算。通常用于去除异常值：'
- en: '![Calculating the mean of the array or dataframe](img/B05321_03_12.jpg)'
  id: totrans-64
  prefs: []
  type: TYPE_IMG
  zh: '![计算数组或数据框的均值](img/B05321_03_12.jpg)'
- en: 'The mean function is also extended. It can take a weighted vector as an argument
    to compute the weighted mean:'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 均值函数也有扩展。它可以接受一个加权向量作为参数来计算加权均值：
- en: '![Calculating the mean of the array or dataframe](img/B05321_03_13.jpg)'
  id: totrans-66
  prefs: []
  type: TYPE_IMG
  zh: '![计算数组或数据框的均值](img/B05321_03_13.jpg)'
- en: Scalar statistics
  id: totrans-67
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 标量统计
- en: Various functions are provided by Julia's package to compute various statistics.
    These functions are used to describe data in different ways as required.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: Julia的包提供了各种函数来计算不同的统计数据。这些函数用于根据需要以不同的方式描述数据。
- en: Standard deviations and variances
  id: totrans-69
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 标准差和方差
- en: The mean and median we earlier computed (in the `describe()` function) are measures
    of central tendency. Mean refers to the center computed after applying weights
    to all the values and median refers to the center of the list.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 我们之前计算的均值和中位数（在`describe()`函数中）是集中趋势的度量。均值指的是在应用加权后计算出的中心，中位数指的是数据列表的中心。
- en: This is only one piece of information and we would like to know more about the
    dataset. It would be good to have knowledge about the spread of data points across
    the dataset. We cannot use just the min and max functions as we can have outliers
    in the dataset. Therefore, these min and max functions will lead to incorrect
    results.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 这只是其中一条信息，我们还希望了解更多有关数据集的信息。了解数据点在数据集中的分布是很有帮助的。我们不能仅仅使用最小值和最大值函数，因为数据集中可能会有异常值。因此，这些最小值和最大值函数会导致错误的结果。
- en: Variance is a measurement of the spread between data points in a dataset. It
    is computed by calculating the distance of numbers from the mean. Variance measures
    how far each number in the set is from the mean.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 方差是衡量数据集数据点分布程度的指标。它是通过计算数字与均值之间的距离来计算的。方差衡量数据集中每个数值与均值的偏离程度。
- en: 'The following is the formula for variance:'
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是方差的公式：
- en: '![Standard deviations and variances](img/B05321_03_14.jpg)![Standard deviations
    and variances](img/B05321_03_15.jpg)'
  id: totrans-74
  prefs: []
  type: TYPE_IMG
  zh: '![标准差与方差](img/B05321_03_14.jpg)![标准差与方差](img/B05321_03_15.jpg)'
- en: 'We can also have a variance along a specific dimension, which is useful for
    DataFrames:'
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 我们还可以沿特定维度计算方差，这对于 DataFrame 非常有用：
- en: '![Standard deviations and variances](img/B05321_03_16.jpg)'
  id: totrans-76
  prefs: []
  type: TYPE_IMG
  zh: '![标准差与方差](img/B05321_03_16.jpg)'
- en: Here, the second argument is the dimension along which we want to compute the
    variance.
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 这里，第二个参数是我们希望计算方差的维度。
- en: 'Standard deviation is the measurement of the spread or dispersion of the values
    in the dataset. It is square root of the variance. If it is close to 0, that means
    the dataset has very little dispersion from the mean. And greater values define
    high dispersion of the values from the mean. Standard deviation is different from
    variance as it has the same units as the mean:'
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 标准差是衡量数据集值的分散度或离散度的指标。它是方差的平方根。如果它接近 0，这意味着数据集的分散程度非常小，接近均值。而较大的值则定义了数据点从均值的高分散度。标准差与方差不同，因为它的单位与均值相同：
- en: '![Standard deviations and variances](img/B05321_03_17.jpg)'
  id: totrans-79
  prefs: []
  type: TYPE_IMG
  zh: '![标准差与方差](img/B05321_03_17.jpg)'
- en: We can also calculate the standard deviation along a dimension such as variance.
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 我们还可以像方差一样沿某个维度计算标准差。
- en: 'Julia provides a function to calculate mean and variance, and also mean and
    standard deviation together:'
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: Julia 提供了一个函数来计算均值和方差，也可以同时计算均值和标准差：
- en: '![Standard deviations and variances](img/B05321_03_18.jpg)'
  id: totrans-82
  prefs: []
  type: TYPE_IMG
  zh: '![标准差与方差](img/B05321_03_18.jpg)'
- en: Statistical analysis involves characterization of data based on skewness and
    kurtosis. Skewness is the measure of the lack of symmetry from the center point
    of the dataset or the distribution. So, a distribution can be skewed to the left
    or it can be skewed to the right.
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 统计分析包括基于偏度和峰度的数据特征化。偏度是衡量数据集或分布中心点对称性缺失的度量。因此，分布可以向左偏或向右偏。
- en: 'Kurtosis is the measure of the flatness of the distribution or the dataset
    as compared to a normal distribution. So, a distribution with a high peak at the
    center (mean) and a sharp decline to both the sides is said to have high kurtosis,
    and a distribution with a flatter peak at the mean is said to have low kurtosis:'
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 峰度是分布或数据集相对于正态分布的平坦程度的度量。因此，具有在中心（均值）处具有高峰并且两侧急剧下降的分布被称为具有高峰度，而均值处具有平坦峰的分布则被称为具有低峰度：
- en: '![Standard deviations and variances](img/B05321_03_19.jpg)'
  id: totrans-85
  prefs: []
  type: TYPE_IMG
  zh: '![标准差与方差](img/B05321_03_19.jpg)'
- en: 'A moment in statistics is:'
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 统计中的矩是：
- en: 0th moment is the  total probability
  id: totrans-87
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 0 阶矩是总概率
- en: 1st moment is the mean
  id: totrans-88
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 1 阶矩是均值
- en: 2nd central moment is the variance
  id: totrans-89
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 2 阶中心矩是方差
- en: 3rd moment is the skewness
  id: totrans-90
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 3 阶矩是偏度
- en: 4th moment is the kurtosis (with shift and normalization)
  id: totrans-91
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 4 阶矩是峰度（带移位和标准化）
- en: '![Standard deviations and variances](img/B05321_03_20.jpg)'
  id: totrans-92
  prefs: []
  type: TYPE_IMG
  zh: '![标准差与方差](img/B05321_03_20.jpg)'
- en: 'Here we are calculating the k-th order central moment. It is defined as:'
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 这里我们正在计算第 k 阶中心矩。它定义为：
- en: '[PRE8]'
  id: totrans-94
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: Measures of variation
  id: totrans-95
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 变化度量
- en: 'It is good to have knowledge of the variation of values in the dataset. Various
    statistical functions facilitate:'
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 了解数据集中的值的变化情况是很有帮助的。各种统计函数能够提供：
- en: '`span(arr)`: span is used to calculate the total spread of the dataset, which
    is `maximum(arr)` to `minimum(arr)`:'
  id: totrans-97
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`span(arr)`：span 用于计算数据集的总分布范围，即 `maximum(arr)` 到 `minimum(arr)`：'
- en: '![Measures of variation](img/B05321_03_21.jpg)'
  id: totrans-98
  prefs: []
  type: TYPE_IMG
  zh: '![变化度量](img/B05321_03_21.jpg)'
- en: '`variation(arr)`: Also called the coefficient of variance. It is the ratio
    of the standard deviation to the mean of the dataset. In relation to the mean
    of the population, CV denotes the extent of variability. Its advantage is that
    it is a dimensionless number and can be used to compare different datasets.'
  id: totrans-99
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`variation(arr)`：也称为变异系数。它是标准差与数据集均值的比率。相对于总体的均值，CV 表示变异性的程度。它的优点是它是一个无量纲的数字，可以用来比较不同的数据集。'
- en: '![Measures of variation](img/B05321_03_22.jpg)'
  id: totrans-100
  prefs: []
  type: TYPE_IMG
  zh: '![变异性度量](img/B05321_03_22.jpg)'
- en: 'Standard error of mean: We work on different samples drawn from the population.
    We compute the means of these samples and call them sample means. For different
    samples, we wouldn''t be having the same sample mean but a distribution of sample
    means. The standard deviation of the distribution of these sample means is called
    standard error of mean.'
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 均值的标准误差：我们对从总体中抽取的不同样本进行工作。我们计算这些样本的均值，并称之为样本均值。对于不同的样本，我们不会得到相同的样本均值，而是一个样本均值的分布。这些样本均值分布的标准差称为均值的标准误差。
- en: In Julia, we can compute standard error of mean using `sem(arr)`.
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 在 Julia 中，我们可以使用`sem(arr)`计算均值的标准误差。
- en: Mean absolute deviation is a robust measure of central tendency. Robustness
    refers to not being affected by outliers.
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 平均绝对偏差是一个稳健的集中趋势度量。稳健性是指不受离群值的影响。
- en: '![Measures of variation](img/B05321_03_23.jpg)'
  id: totrans-104
  prefs: []
  type: TYPE_IMG
  zh: '![变异性度量](img/B05321_03_23.jpg)'
- en: We can provide the center as a second argument.
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以将中心值作为第二个参数提供。
- en: Z-scores
  id: totrans-106
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Z 分数
- en: A z-score refers to the relationship with the mean of the scores. It is calculated
    by how many standard deviations an element is above or below the mean. A 0 z-score
    means it is the same as the mean.
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: z 分数指的是与分数均值的关系。它通过一个元素距离均值多少个标准差来计算。0 的 z 分数意味着它与均值相同。
- en: 'It is given by the formula *z = (X - μ) / σ*:'
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 它由公式 *z = (X - μ) / σ* 给出：
- en: '[PRE9]'
  id: totrans-109
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: 'On this dataset, we can calculate the z-score like this:'
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个数据集上，我们可以像这样计算 z 分数：
- en: '![Z-scores](img/B05321_03_24.jpg)'
  id: totrans-111
  prefs: []
  type: TYPE_IMG
  zh: '![Z 分数](img/B05321_03_24.jpg)'
- en: The mean and the standard deviation are calculated by themselves.
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 均值和标准差是自我计算的。
- en: Entropy
  id: totrans-113
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 熵
- en: Entropy is the measure of disorder in the dataset and provides the approximate
    measure of randomness in the system. It increases with randomness.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 熵是数据集中无序的度量，提供了系统随机性的近似度量。它随着随机性增加而增大。
- en: 'Let''s create a probability vector:'
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们创建一个概率向量：
- en: '![Entropy](img/B05321_03_25.jpg)'
  id: totrans-116
  prefs: []
  type: TYPE_IMG
  zh: '![熵](img/B05321_03_25.jpg)'
- en: 'We have created a rather small array:'
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 我们创建了一个相当小的数组：
- en: '![Entropy](img/B05321_03_26.jpg)'
  id: totrans-118
  prefs: []
  type: TYPE_IMG
  zh: '![熵](img/B05321_03_26.jpg)'
- en: 'The sum of the elements of the probability vector is 1\. It is tending to 1
    here. We now calculate the entropy:'
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 概率向量元素的总和为 1\。它趋近于 1。现在我们计算熵：
- en: '![Entropy](img/B05321_03_27.jpg)'
  id: totrans-120
  prefs: []
  type: TYPE_IMG
  zh: '![熵](img/B05321_03_27.jpg)'
- en: The entropy computation is done using natural logarithms. We can also provide
    the base of the logarithm if needed.
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 熵计算是使用自然对数进行的。如果需要，我们也可以提供对数的底数。
- en: '![Entropy](img/B05321_03_28.jpg)'
  id: totrans-122
  prefs: []
  type: TYPE_IMG
  zh: '![熵](img/B05321_03_28.jpg)'
- en: 'The second argument that we have provided is for the base of the logarithm.
    We can also compute cross-entropy, which is considered an effective alternative
    to a squared error:'
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 我们提供的第二个参数是对数的底数。我们还可以计算交叉熵，它被认为是平方误差的有效替代：
- en: '[PRE10]'
  id: totrans-124
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: Quantiles
  id: totrans-125
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 分位数
- en: To understand the dataset better, we want to know the lowest and highest points
    in the dataset. We can use min and max functions for that. So, we can also say
    that the min and max data points are at 0% and at 100%. If we want to find out
    any data point at n% of the dataset we use the `quantile` function.
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 为了更好地理解数据集，我们想要知道数据集中的最低点和最高点。我们可以使用 min 和 max 函数来实现。所以，我们也可以说最小和最大数据点分别位于 0%
    和 100%。如果我们想要找出数据集中的任意数据点在 n% 的位置，我们使用 `quantile` 函数。
- en: 'Quantiles can be very useful in scenarios where there are outliers. For example,
    for `a` we are analyzing the response times of various browsers for a website:
    98% of the traffic comes from the desktop and it is able to load the page in less
    than a second; 2% of the remaining traffic is from mobile, where it takes 5 seconds
    to load the page. Here, we might want to ignore this 2% (if the use case allows
    us) to analyze the actual traffic of the website.'
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 在存在离群值的情况下，分位数非常有用。例如，对于 `a` 我们正在分析多个浏览器在网站上的响应时间：98% 的流量来自桌面，且能在不到一秒的时间内加载页面；剩余
    2% 的流量来自手机，加载页面需要 5 秒。在这种情况下，如果使用场景允许，我们可能想忽略这 2%（以便分析网站的实际流量）。
- en: '![Quantiles](img/B05321_03_29.jpg)'
  id: totrans-128
  prefs: []
  type: TYPE_IMG
  zh: '![分位数](img/B05321_03_29.jpg)'
- en: 'Now, to compute the quantile:'
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，来计算分位数：
- en: '![Quantiles](img/B05321_03_30.jpg)'
  id: totrans-130
  prefs: []
  type: TYPE_IMG
  zh: '![分位数](img/B05321_03_30.jpg)'
- en: Here, we have received five values. These five values represent data points
    at 0%, 25%, 50%, 75%, and 100% of the dataset.
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 这里，我们得到了五个值。这五个值代表数据集在0%、25%、50%、75%和100%位置的数值。
- en: 'Interquartile range is the measure of the variability and is calculated by
    having the difference of the upper and lower quartiles, which is Q3-Q1\. It is
    computed as:'
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 四分位距是衡量数据变异性的一种方法，它通过上四分位数和下四分位数的差值计算，即Q3-Q1。其计算公式为：
- en: '![Quantiles](img/B05321_03_31.jpg)'
  id: totrans-133
  prefs: []
  type: TYPE_IMG
  zh: '![分位数](img/B05321_03_31.jpg)'
- en: 'Percentile is a common term in statistics and is used to represent where the
    data point falls in the dataset. It can be calculated as:'
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 百分位数是统计学中常用的术语，用于表示数据点在数据集中的位置。其计算公式为：
- en: '![Quantiles](img/B05321_03_32.jpg)'
  id: totrans-135
  prefs: []
  type: TYPE_IMG
  zh: '![分位数](img/B05321_03_32.jpg)'
- en: We have used the same dataset and calculated where 0.5 would lie in the dataset.
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 我们使用了相同的数据集，并计算了0.5在数据集中的位置。
- en: 'There is another important function, `nquantile`. It is used to create a vector
    of quantiles defined by us:'
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 还有一个重要的函数，`nquantile`。它用于创建由我们定义的分位数向量：
- en: '![Quantiles](img/B05321_03_33.jpg)'
  id: totrans-138
  prefs: []
  type: TYPE_IMG
  zh: '![分位数](img/B05321_03_33.jpg)'
- en: Modes
  id: totrans-139
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 众数
- en: 'While exploring the dataset, we would want to know which data is frequently
    repeated in the dataset. This is the value that has the maximum probability to
    come in the sample. Julia provides a function to calculate the mode:'
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 在探索数据集时，我们可能希望知道哪些数据在数据集中经常重复。这是最有可能出现在样本中的值。Julia提供了一个计算众数的函数：
- en: '![Modes](img/B05321_03_34.jpg)'
  id: totrans-141
  prefs: []
  type: TYPE_IMG
  zh: '![众数](img/B05321_03_34.jpg)'
- en: We calculated the mode on the same dataset that we used in the previous example.
    So, `0.2566` appears most often in the dataset.
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 我们在与前述示例相同的数据集上计算了众数。因此，`0.2566`在数据集中出现的频率最高。
- en: Summary of datasets
  id: totrans-143
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 数据集摘要
- en: Earlier we discussed the `describe()` function, which prints the summary of
    the dataset. Julia also provides another function, `summarystats()`.
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 之前我们讨论过`describe()`函数，它打印数据集的摘要。Julia还提供了另一个函数，`summarystats()`。
- en: Using `summarystats(a)` on the same dataset of the previous example, we get
    the following result. So, we now don't have to calculate them individually and
    it gives an idea of what kind of dataset we have.
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: 使用`summarystats(a)`函数在前述示例的同一数据集上，我们得到如下结果。因此，我们现在无需单独计算它们，且可以大致了解数据集的类型。
- en: '![Summary of datasets](img/B05321_03_35.jpg)'
  id: totrans-146
  prefs: []
  type: TYPE_IMG
  zh: '![数据集摘要](img/B05321_03_35.jpg)'
- en: Scatter matrix and covariance
  id: totrans-147
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 散点矩阵和协方差
- en: Covariance is used very often by data scientists to find out how two ordered
    sets of data follow in the same direction. It can very easily define whether the
    variables are correlated or not. To best represent this behavior, we create a
    covariance matrix. The unnormalized version of the covariance matrix is the scatter
    matrix.
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 协方差常被数据科学家用来找出两个有序数据集是否朝相同方向变化。它可以轻松地定义变量之间是否相关。为了更好地表示这种行为，我们创建了协方差矩阵。协方差矩阵的未归一化版本即为散点矩阵。
- en: To create a scatter matrix, we use the `scattermat(arr)` function.
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: 要创建散点矩阵，我们使用`scattermat(arr)`函数。
- en: 'The default behavior is to treat each row as an observation and column as a
    variable. This can be changed by providing the keyword arguments `vardim` and
    `mean`:'
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 默认行为是将每行视为一个观测值，每列视为一个变量。通过提供关键词参数`vardim`和`mean`，可以改变这一行为：
- en: '`Vardim`: `vardim=1 (default)` means each column is a variable and each row
    is an observation. vardim=2 is the reverse.'
  id: totrans-151
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Vardim`：`vardim=1（默认）`表示每列是一个变量，每行是一个观测值。`vardim=2`则为反向操作。'
- en: '`mean`: The mean is computed by `scattermat`. We can use a predefined mean
    to save compute cycles.'
  id: totrans-152
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`mean`：均值由`scattermat`计算得出。我们可以使用预定义的均值来节省计算周期。'
- en: We can also create a weighted covariance matrix using the `cov` function. It
    also takes vardim and mean as optional arguments for the same purpose.
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 我们还可以使用`cov`函数创建加权协方差矩阵。它同样接受`vardim`和`mean`作为可选参数，目的相同。
- en: Computing deviations
  id: totrans-154
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 计算偏差
- en: 'StatsBase.jl provides various functions to compute deviations between two datasets.
    This can be calculated using other functions, but to facilitate and for ease of
    use, StatsBase provides these efficiently implemented functions:'
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: StatsBase.jl提供了多种计算两个数据集之间偏差的函数。虽然也可以使用其他函数来计算，但为了简便和高效，StatsBase提供了这些高效实现的函数：
- en: '**Mean absolute deviation**: For two datasets, `a` and `b`, it is calculated
    as `meanad(x,y)` which is a wrapper over `mean(abs(x-y))`.'
  id: totrans-156
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**平均绝对偏差**：对于两个数据集`a`和`b`，它的计算方式为`meanad(x,y)`，该函数是`mean(abs(x-y))`的封装。'
- en: '**Maximum absolute deviation**: For two datasets, `a` and `b`, it is calculated
    as `maxad(x,y)`, which is a wrapper over `maximum(abs(x-y))`.'
  id: totrans-157
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**最大绝对偏差**：对于两个数据集 `a` 和 `b`，它的计算方法是 `maxad(x,y)`，该方法是 `maximum(abs(x-y))`
    的封装。'
- en: '**Mean squared deviation**: For two datasets, `a` and `b`, it is calculated
    as `msd(x,y)`, which is a wrapper over `mean(abs2(x-y))`.'
  id: totrans-158
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**均方偏差**：对于两个数据集 `a` 和 `b`，它的计算方法是 `msd(x,y)`，该方法是 `mean(abs2(x-y))` 的封装。'
- en: '**Root mean squared deviation**: For two datasets, `a` and `b`, it is calculated
    as `rmsd(a,b)`, which is a wrapper over `sqrt(msd(a, b))`.'
  id: totrans-159
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**均方根偏差**：对于两个数据集 `a` 和 `b`，它的计算方法是 `rmsd(a,b)`，该方法是 `sqrt(msd(a, b))` 的封装。'
- en: Rankings
  id: totrans-160
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 排名
- en: When a dataset is sorted in ascending order, a rank is assigned to each value.
    Ranking is a process where the dataset is transformed and values are replaced
    by their ranks. Julia provides functions for various types of rankings.
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: 当数据集按升序排序时，会为每个值分配一个排名。排名是一种过程，其中数据集被转换，值被替换为它们的排名。Julia 提供了用于各种类型排名的函数。
- en: In ordinal ranking, all items in the dataset are assigned a distinct value.
    Items that have equal values are assigned a ranking arbitrarily. In Julia, this
    is done using the `ordinalrank` function.
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 在序数排名中，数据集中的所有项都被分配了一个独特的值。具有相同值的项被任意分配排名。在 Julia 中，这是通过 `ordinalrank` 函数实现的。
- en: '![Rankings](img/B05321_03_36.jpg)'
  id: totrans-163
  prefs: []
  type: TYPE_IMG
  zh: '![Rankings](img/B05321_03_36.jpg)'
- en: 'Suppose this is our dataset and we want to do ordinal ranking:'
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 假设这是我们的数据集，我们想要进行序数排名：
- en: '![Rankings](img/B05321_03_37.jpg)'
  id: totrans-165
  prefs: []
  type: TYPE_IMG
  zh: '![Rankings](img/B05321_03_37.jpg)'
- en: Using the `ordinalrank(arr)` function, we've got the ordinal ranking. Similarly,
    StatsBase also provides functions to find other types of rankings, such as `competerank()`,
    `denserank()`, and `tiedrank()`.
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 使用 `ordinalrank(arr)` 函数，我们得到了序数排名。同样，StatsBase 也提供了用于查找其他类型排名的函数，如 `competerank()`、`denserank()`
    和 `tiedrank()`。
- en: Counting functions
  id: totrans-167
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 计数函数
- en: 'In data exploration, counting over a range is often done. It helps to find
    out the most/least occurring value. Julia provides the counts function to count
    over a range. Let''s say we have an array of values. For our convenience, we will
    now use the random function to create an array:'
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 在数据探索中，通常会对一个范围进行计数。这有助于找出出现次数最多/最少的值。Julia 提供了 `counts` 函数来对一个范围进行计数。假设我们有一个值的数组。为了方便，我们现在使用
    `random` 函数来创建一个数组：
- en: '![Counting functions](img/B05321_03_38.jpg)'
  id: totrans-169
  prefs: []
  type: TYPE_IMG
  zh: '![Counting functions](img/B05321_03_38.jpg)'
- en: 'We have created an array of 30 values ranging from 1 to 5\. Now we want to
    know how many times they occur in the dataset:'
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: 我们创建了一个包含 30 个值的数组，值的范围从 1 到 5。现在我们想知道它们在数据集中出现了多少次：
- en: '![Counting functions](img/B05321_03_39.jpg)'
  id: totrans-171
  prefs: []
  type: TYPE_IMG
  zh: '![Counting functions](img/B05321_03_39.jpg)'
- en: Using the `count` function, we found that 1(`7`), 2(`1`), 3(`5`), 4(`11`), and
    5(`6`). counts take different arguments to suit the use case.
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: 使用 `count` 函数，我们发现 1（`7`）、2（`1`）、3（`5`）、4（`11`）和 5（`6`）。计数函数根据不同的参数进行调整以适应使用场景。
- en: 'The `proportions()` function is used to compute the proportions of the values
    in the dataset and  Julia provides the function:'
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: '`proportions()` 函数用于计算数据集中值的比例，Julia 提供了该函数：'
- en: '![Counting functions](img/B05321_03_40.jpg)'
  id: totrans-174
  prefs: []
  type: TYPE_IMG
  zh: '![Counting functions](img/B05321_03_40.jpg)'
- en: We calculated proportions on the same dataset that we used in the previous examples.
    It shows that the ratio of value 1 in the dataset is `0.23333`. This can also
    be seen as the probability of finding the value in the dataset.
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: 我们对与之前示例相同的数据集计算了比例。它显示数据集中值 1 的比例为 `0.23333`。这也可以看作是在数据集中找到该值的概率。
- en: 'Other count functions include:'
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: 其他计数函数包括：
- en: '`countmap(arr)`: This is a map function that maps the values to the number
    of occurrences (or total weights) in the dataset:'
  id: totrans-177
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`countmap(arr)`：这是一个映射函数，将值映射到数据集中出现的次数（或总权重）：'
- en: '![Counting functions](img/B05321_03_41.jpg)'
  id: totrans-178
  prefs: []
  type: TYPE_IMG
  zh: '![Counting functions](img/B05321_03_41.jpg)'
- en: '`proportionmap(arr)`: This is a map function similar to `countmap(arr)` but
    maps values to their proportions:'
  id: totrans-179
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`proportionmap(arr)`：这是一个类似于 `countmap(arr)` 的映射函数，但它将值映射到它们的比例：'
- en: '![Counting functions](img/B05321_03_42.jpg)'
  id: totrans-180
  prefs: []
  type: TYPE_IMG
  zh: '![Counting functions](img/B05321_03_42.jpg)'
- en: Applying `countmap` and `proportionmap` to our dataset gave these values. Both
    these functions return a dictionary.
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: 将 `countmap` 和 `proportionmap` 应用到我们的数据集上，得到了这些值。两个函数都返回一个字典。
- en: Histograms
  id: totrans-182
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 直方图
- en: Data exploration after a basic understanding can also be done with the aid of
    visualizations. Plotting a histogram is one of the most common ways of data exploration
    through visualization. A histogram type is used to tabulate data over a real plane
    separated into regular intervals.
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: 在对数据有了基本理解之后，也可以借助可视化进行数据探索。绘制直方图是通过可视化进行数据探索的最常见方式之一。直方图用于将数据在实际平面上分成规律间隔并进行统计。
- en: 'A histogram is created using the fit method:'
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: 使用fit方法可以创建直方图：
- en: '[PRE11]'
  id: totrans-185
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: '`fit` takes the following arguments:'
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: '`fit`接受以下参数：'
- en: '`data`: Data is passed to the `fit` function in the form of a vector, which
    can either be one-dimensional or n-dimensional (tuple of vectors of equal length).'
  id: totrans-187
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`data`：数据以向量形式传递给`fit`函数，可以是一维的或n维的（由相同长度的向量组成的元组）。'
- en: '`weight`: This is the optional argument. A `WeightVec` type can be passed as
    an argument if values have different weights. The default weight of values is
    1.'
  id: totrans-188
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`weight`：这是一个可选参数。如果值具有不同的权重，可以传递一个`WeightVec`类型的参数。默认的权重值为1。'
- en: '`edges`: This is a vector used to give the edges of the bins along each dimension.'
  id: totrans-189
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`edges`：这是一个向量，用于指定每个维度上的分箱边缘。'
- en: 'It also takes a keyword argument, `nbins`, which is used to define the number
    of bins that the histogram should use along each side:'
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: 它还接受一个关键字参数`nbins`，用于定义直方图在每个维度上使用的分箱数量：
- en: '![Histograms](img/image_03_036.jpg)'
  id: totrans-191
  prefs: []
  type: TYPE_IMG
  zh: '![直方图](img/image_03_036.jpg)'
- en: 'In this example, we used two random value generators and `nbins` to define
    the number of bins. We created a histogram on the randomly generated data. Let''s
    try this on a dataset from the `RDatasets` package. This package is explained
    here: [https://stat.ethz.ch/R-manual/R-devel/library/datasets/html/sleep.html](https://stat.ethz.ch/R-manual/R-devel/library/datasets/html/sleep.html).'
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个例子中，我们使用了两个随机值生成器和`nbins`来定义直方图的分箱数量。我们在随机生成的数据上创建了直方图。接下来我们在来自`RDatasets`包的数据集上尝试一下。这个包可以在这里找到：[https://stat.ethz.ch/R-manual/R-devel/library/datasets/html/sleep.html](https://stat.ethz.ch/R-manual/R-devel/library/datasets/html/sleep.html)。
- en: '![Histograms](img/image_03_037.jpg)'
  id: totrans-193
  prefs: []
  type: TYPE_IMG
  zh: '![直方图](img/image_03_037.jpg)'
- en: 'We are using a dataset called `sleepstudy` from the `RDatasets` package. It
    contains three columns: `Reaction (Float64)`, `Days (Integer)`, and `Subject (Integer)`.
    We will create a histogram on this data.'
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
  zh: 我们正在使用一个名为`sleepstudy`的数据集，来自`RDatasets`包。它包含三列数据：`Reaction (Float64)`、`Days
    (Integer)` 和 `Subject (Integer)`。我们将基于此数据创建一个直方图。
- en: '![Histograms](img/image_03_038.jpg)'
  id: totrans-195
  prefs: []
  type: TYPE_IMG
  zh: '![直方图](img/image_03_038.jpg)'
- en: We can now realize that it is easier to understand the data through visualizations.
    Visualization is an important part of data exploration. To be actually able to
    visualize data, the necessary data munging and some understanding of variables
    are required. In this particular visualization, we can observe which areas are
    denser and the reaction times.
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: 我们现在可以意识到，通过可视化数据更容易理解数据。可视化是数据探索的重要部分。要能够有效地可视化数据，必须进行必要的数据整理，并对变量有一定的理解。在这次可视化中，我们可以观察到哪些区域更密集，以及反应时间的分布。
- en: We discussed the scatter matrix earlier. We can create a scatter plot and will
    try to find out if it helps us.
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: 我们之前讨论了散点矩阵。我们可以创建一个散点图，看看它是否能帮助我们。
- en: '![Histograms](img/image_03_039.jpg)'
  id: totrans-198
  prefs: []
  type: TYPE_IMG
  zh: '![直方图](img/image_03_039.jpg)'
- en: We can very well observe that the reaction times of the subjects are increasing
    day by day. We were able to get to this conclusion very quickly; otherwise, it
    would have taken some significant amount of time.
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以清晰地观察到，受试者的反应时间随着天数的增加而逐渐增大。我们能够很快得出这个结论；否则，可能需要花费相当长的时间。
- en: Let's drill down more into this dataset. Suppose we want to know how each individual
    subject has performed. As all the subjects are not the same, some might have performed
    quite differently from others.
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们更深入地分析这个数据集。假设我们想了解每个受试者的表现。由于所有受试者并不相同，有些受试者的表现可能与其他人有很大不同。
- en: On a large dataset, we can do a grouping or clustering; but here, as have a
    small dataset, we can individually analyze subjects.
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: 在大型数据集上，我们可以进行分组或聚类；但是在这里，由于数据集较小，我们可以单独分析各个受试者。
- en: '![Histograms](img/image_03_040.jpg)'
  id: totrans-202
  prefs: []
  type: TYPE_IMG
  zh: '![直方图](img/image_03_040.jpg)'
- en: It is evident that subject `309`, even after being deprived of sleep for many
    days, had a very low reaction time. These are small insights that we sometimes
    miss through analyzing a dataset that is exposed through visualizations.
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: 很明显，即使被剥夺了多日的睡眠，`309`号受试者的反应时间仍然非常低。这些是我们在通过可视化分析数据集时，常常忽略的小细节。
- en: We will discuss visualizations in detail in [Chapter 5](ch05.xhtml "Chapter 5. Making
    Sense of Data Using Visualization"), *Making Sense of Data Using Visualization*.
    We will explore various packages available with Julia for visualization and also
    how can we call R and Python's packages if needed for visualizations. We will
    also go through some basic D3.js examples.
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将在[第5章](ch05.xhtml "第5章. 使用可视化理解数据")中详细讨论可视化，*使用可视化理解数据*。我们将探索Julia中可用于可视化的各种包，并且如果需要，也会介绍如何调用R和Python的包进行可视化。我们还会介绍一些基本的D3.js示例。
- en: 'It is easy to create basic plots in Julia, for example:'
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: 在Julia中创建基本图形非常容易，例如：
- en: '![Histograms](img/image_03_041.jpg)'
  id: totrans-206
  prefs: []
  type: TYPE_IMG
  zh: '![直方图](img/image_03_041.jpg)'
- en: 'Let''s now try some visualizations on the iris dataset:'
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
  zh: 现在让我们对鸢尾花数据集尝试一些可视化：
- en: '[PRE12]'
  id: totrans-208
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: Although it is not completely visible now, we can see there are visible clusters.
    Maybe, we can differentiate between various species using these clusters. Therefore,
    visualizations can be very helpful in finding these kinds of insights.
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管现在它不完全可见，但我们可以看到有明显的簇存在。也许，我们可以通过这些簇区分不同的物种。因此，可视化在发现这些洞察方面非常有用。
- en: Correlation analysis
  id: totrans-210
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 相关性分析
- en: Julia provides some functions to facilitate correlation analysis. Correlation
    and dependence are two common terms in statistics. Dependence refers to one variable
    having a statistical relationship with another variable, whereas correlation is
    one variable having a much wider class of relationship with the other variable,
    which may also include dependence.
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: Julia提供了一些函数来简化相关性分析。相关性和依赖性是统计学中常见的术语。依赖性指的是一个变量与另一个变量之间具有统计关系，而相关性指的是一个变量与另一个变量之间可能存在更广泛的关系，这其中也可能包括依赖性。
- en: The `autocov(x)` function is used to compute auto-covariance of `x`. It returns
    a vector of the same size as `x`.
  id: totrans-212
  prefs: []
  type: TYPE_NORMAL
  zh: '`autocov(x)` 函数用于计算 `x` 的自协方差。它返回与 `x` 大小相同的向量。'
- en: '![Correlation analysis](img/B05321_03_50.jpg)'
  id: totrans-213
  prefs: []
  type: TYPE_IMG
  zh: '![相关性分析](img/B05321_03_50.jpg)'
- en: 'This is a dataset we generated. We can apply `autocov` on this dataset:'
  id: totrans-214
  prefs: []
  type: TYPE_NORMAL
  zh: 这是我们生成的数据集。我们可以对该数据集应用 `autocov`：
- en: '![Correlation analysis](img/B05321_03_51.jpg)'
  id: totrans-215
  prefs: []
  type: TYPE_IMG
  zh: '![相关性分析](img/B05321_03_51.jpg)'
- en: 'To compute auto-correlation, we use the `autocor` function:'
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
  zh: 要计算自相关，我们使用 `autocor` 函数：
- en: '![Correlation analysis](img/B05321_03_52.jpg)'
  id: totrans-217
  prefs: []
  type: TYPE_IMG
  zh: '![相关性分析](img/B05321_03_52.jpg)'
- en: 'Similarly, we can also compute cross-covariance and cross-correlation. For
    that, we will generate another random array of the same size:'
  id: totrans-218
  prefs: []
  type: TYPE_NORMAL
  zh: 同样，我们也可以计算交叉协方差和交叉相关性。为此，我们将生成另一个相同大小的随机数组：
- en: '![Correlation analysis](img/B05321_03_53.jpg)'
  id: totrans-219
  prefs: []
  type: TYPE_IMG
  zh: '![相关性分析](img/B05321_03_53.jpg)'
- en: Cross-covariance and cross-correlation of 2 arrays of length=6 results in arrays
    of lengths=11.
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
  zh: 2个长度为6的数组的交叉协方差和交叉相关性结果是长度为11的数组。
- en: Summary
  id: totrans-221
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 总结
- en: In this chapter, we discussed why data exploration is important and how can
    we perform exploratory analysis on datasets.
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们讨论了数据探索为何重要，以及如何对数据集进行探索性分析。
- en: 'These are the various important techniques and concepts that we discussed:'
  id: totrans-223
  prefs: []
  type: TYPE_NORMAL
  zh: 这些是我们讨论的各种重要技术和概念：
- en: Sampling is a technique to randomly select unrelated data from the given dataset
    so that we can generalize the results that we generate on this selected data over
    the complete dataset.
  id: totrans-224
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 抽样是一种从给定数据集中随机选择无关数据的技术，以便我们可以将基于选定数据生成的结果推广到整个数据集。
- en: Weight vectors are important when the dataset that we have or gather doesn't
    represent the actual data.
  id: totrans-225
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 权重向量在我们拥有或收集的数据集无法代表实际数据时非常重要。
- en: Why it is necessary to know the column types and how summary functions can be
    really helpful in getting the gist of the dataset.
  id: totrans-226
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 为什么了解列的类型非常必要，以及如何通过汇总函数帮助我们获取数据集的要点。
- en: Mean, median, mode, standard deviation, variance, and scalar statistics, and
    how they are implemented in Julia.
  id: totrans-227
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 均值、中位数、众数、标准差、方差和标量统计，以及它们在Julia中的实现。
- en: Measuring the variations in a dataset is really important and z-scores and entropy
    can be really useful.
  id: totrans-228
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 测量数据集的变化非常重要，z-分数和熵在此过程中非常有用。
- en: After some basic data cleaning and some understanding, visualization can be
    very beneficial and insightful.
  id: totrans-229
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在进行一些基本的数据清理和理解之后，可视化可以非常有益并提供洞察。
- en: References
  id: totrans-230
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 参考文献
- en: '[http://julia.readthedocs.io/en/latest/manual/](http://julia.readthedocs.io/en/latest/manual/)'
  id: totrans-231
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[http://julia.readthedocs.io/en/latest/manual/](http://julia.readthedocs.io/en/latest/manual/)'
- en: '[https://dataframesjl.readthedocs.io/en/latest/](https://dataframesjl.readthedocs.io/en/latest/)'
  id: totrans-232
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[https://dataframesjl.readthedocs.io/en/latest/](https://dataframesjl.readthedocs.io/en/latest/)'
- en: '[https://github.com/JuliaStats/StatsBase.jl](https://github.com/JuliaStats/StatsBase.jl)'
  id: totrans-233
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[https://github.com/JuliaStats/StatsBase.jl](https://github.com/JuliaStats/StatsBase.jl)'
- en: '[http://dcjones.github.io/Gadfly.jl/](http://dcjones.github.io/Gadfly.jl/)'
  id: totrans-234
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[http://dcjones.github.io/Gadfly.jl/](http://dcjones.github.io/Gadfly.jl/)'
