- en: Going Beyond the Basics
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 超越基础
- en: The assumption behind this chapter is that the you are familiar with basic chart
    types such as bar, line graph, treemap, pie, and area, and that you have used
    Tableau to build multiple charts. The intention of this chapter is to focus on
    how to improve visualization types you may already use on a regular basis, as
    well as introducing chart types with which you may be unfamiliar but that are,
    nonetheless, widely useful. I will then introduce you to Tableau Exchange, a platform
    that contains extensions, accelerators, and connectors, which offer some more
    exotic chart types.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 本章的假设是你已经熟悉诸如条形图、折线图、树图、饼图和面积图等基本图表类型，并且曾经使用Tableau构建过多个图表。本章的目的是聚焦于如何改进你可能已经经常使用的可视化类型，同时介绍一些你可能不太熟悉但仍然广泛有用的图表类型。接下来我将介绍Tableau
    Exchange，这是一个包含扩展、加速器和连接器的平台，它提供了一些更为独特的图表类型。
- en: Perhaps the most useful part of this chapter is not contained in the book at
    all but, rather, in the workbook associated with the chapter. Be sure to download
    that workbook (the link will be provided in the following section) to check out
    a wide range of visualization types.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 也许本章最有用的部分根本不在书中，而是在与本章相关的工作簿中。务必下载该工作簿（链接将在下一节提供），以查看各种各样的可视化类型。
- en: 'This chapter will explore the following visualization types and topics:'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 本章将探讨以下可视化类型和主题：
- en: Improving popular visualizations
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 改进受欢迎的可视化
- en: Custom background images
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 自定义背景图片
- en: Tableau Exchange
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Tableau Exchange
- en: Extensions
  id: totrans-7
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 扩展
- en: Accelerators
  id: totrans-8
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 加速器
- en: Connectors
  id: totrans-9
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 连接器
- en: Keep in mind that the content of your dashboard is the most important, but if
    you can have the same content with a nicer design, go for the nicer design. There
    is such a thing as **Beauty Bias** and **Design Driven Consumption**. You want
    to sell your product – make it look good! I hope the next sections will help you
    find your path and eventually make you a better dashboard designer.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 请记住，仪表盘的内容才是最重要的，但如果你能用更漂亮的设计来呈现相同的内容，那就选择更好的设计吧。确实存在**美学偏见**和**设计驱动的消费**。你想要卖出你的产品——让它看起来好看！我希望接下来的几节内容能帮助你找到自己的方向，最终让你成为更好的仪表盘设计师。
- en: Improving popular visualizations
  id: totrans-11
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 改进受欢迎的可视化
- en: Most popular visualizations are popular for good reason. Basic bar charts and
    line graphs are familiar, intuitive, and flexible and are thus widely used in
    data visualization. Other less basic visualizations such as bullet graphs and
    Pareto charts may not be something you use every day but are nonetheless useful
    additions to a data analyst’s toolbox. And while these are all good, they could
    do more. In this section, we will explore ideas for how to tweak, extend, and
    even overhaul a few popular chart types.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 最受欢迎的可视化类型之所以受欢迎，是有原因的。基本的条形图和折线图直观、灵活且易于理解，因此在数据可视化中广泛应用。其他一些不那么基础的可视化类型，如子弹图和帕累托图，可能并不是你每天都会使用的，但它们仍然是数据分析师工具箱中的有用补充。尽管这些图表都很好，但它们还有更多潜力。本节将探讨如何调整、扩展，甚至彻底改进一些受欢迎的图表类型。
- en: Bullet graphs
  id: totrans-13
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 子弹图
- en: 'The bullet graph was invented by Stephen Fewand communicated publicly in 2006
    through his book *Information Dashboard Design: The Effective Visual Communication
    of Data*. Stephen Few continues to be a strong voice in the data visualization
    space through his books and his blog, [www.perceptualedge.com](http://www.perceptualedge.com).
    Bullet graphs communicate efficiently and intuitively by packing a lot of information
    into a small space while remaining attractive and easy to read. Understandably,
    they have gained much popularity and are utilized for many purposes, as can be
    seen through a web search. The following two exercises communicate the basics
    of bullet graphs and how to improve on those basics. That is not to say that I
    have improved on the bullet graph in this chapter! The intent is merely to relay
    how this important visualization type can be more effectively used in Tableau.
    Let’s get started.'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 子弹图由Stephen Few发明，并在2006年通过他的书籍*《信息仪表盘设计：数据的有效视觉传达》*公开传播。Stephen Few通过他的书籍和博客[www.perceptualedge.com](http://www.perceptualedge.com)，依然是数据可视化领域的有力声音。子弹图通过将大量信息压缩在小空间内，同时保持吸引力和易读性，来高效直观地传达信息。可以理解的是，它们因而获得了极大的普及，并被广泛应用于许多目的，网络搜索可以看到这一点。接下来的两个练习将介绍子弹图的基本概念以及如何在此基础上加以改进。并不是说我在本章中改进了子弹图！目的是简单地传达这种重要的可视化类型如何在Tableau中得到更有效的使用。让我们开始吧。
- en: Using bullet graphs
  id: totrans-15
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 使用子弹图
- en: 'The following steps will teach you the basics of a bullet graph:'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 以下步骤将教你如何使用子弹图的基本操作：
- en: Navigate to [https://public.tableau.com/profile/marleen.meier](https://public.tableau.com/profile/marleen.meier)
    to locate and download the workbook associated with this chapter.
  id: totrans-17
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 访问[https://public.tableau.com/profile/marleen.meier](https://public.tableau.com/profile/marleen.meier)，找到并下载与本章节相关的工作簿。
- en: Navigate to the worksheet entitled `Bullet Graph` and select the `CoffeeChain`
    data source.
  id: totrans-18
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开名为`子弹图`的工作表并选择`CoffeeChain`数据源。
- en: 'Place these fields on their respective shelves: **Profit** on **Columns**,
    **Market** on **Rows**, and **BudgetProfit** on **Detail** in the **Marks** card.'
  id: totrans-19
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将以下字段放置在相应的架上：**利润**放置在**列**，**市场**放置在**行**，**预算利润**放置在**细节**中的**标记**卡片上。
- en: Right-click on the *x* axis and select **Add Reference Line**.
  id: totrans-20
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 右键点击*X*轴并选择**添加参考线**。
- en: 'From the upper left-hand corner of the **Edit Reference Line, Band or Box**
    dialog box, select **Line**. Also, set **Scope** to **Per Cell**, **Value** to
    **SUM(Budget Profit)** as **Average**, and **Label** to **None**. Click **OK**:'
  id: totrans-21
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**编辑参考线、带状图或框选**对话框的左上角，选择**线条**。同时，将**范围**设置为**按单元格**，将**值**设置为**SUM(预算利润)**并选择**平均值**，将**标签**设置为**无**。点击**确定**：
- en: '![](img/B18435_08_01.png)'
  id: totrans-22
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18435_08_01.png)'
- en: 'Figure 8.1: Reference line'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.1：参考线
- en: Let’s add another reference line. This time, as an alternative method, click
    on the **Analytics** pane and drag **Reference Line** onto your worksheet. (You
    could obviously repeat the method in *Step 4* instead.)
  id: totrans-24
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们来添加另一条参考线。这一次，作为替代方法，点击**分析**面板并将**参考线**拖到工作表中。（当然，你也可以重复*第 4 步*的方法。）
- en: 'Within the dialog box, select **Distribution** and set **Scope** to **Per Cell**.
    Set **Value** to **Percentages** with **90,95,100** and **Percent of** to **SUM(Budget
    Profit)**. Set **Label** to **None**. Click **OK**:'
  id: totrans-25
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在对话框中，选择**分布**并将**范围**设置为**按单元格**。将**值**设置为**百分比**，并输入**90,95,100**，将**百分比基准**设置为**SUM(预算利润)**。将**标签**设置为**无**。点击**确定**：
- en: '![](img/B18435_08_02.png)'
  id: totrans-26
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18435_08_02.png)'
- en: 'Figure 8.2: Percentiles'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.2：百分位数
- en: 'Create a calculated field called `Profit to Budget Profit Ratio` with the following
    code:'
  id: totrans-28
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个名为`利润与预算利润比率`的计算字段，使用以下代码：
- en: '[PRE0]'
  id: totrans-29
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'Create another calculated field called `Quota Met?` with the following code:'
  id: totrans-30
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建另一个计算字段，名为`配额达成？`，并使用以下代码：
- en: '[PRE1]'
  id: totrans-31
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE1]'
- en: Right-click on **Profit to Budget Profit Ratio** and select **Default Properties**
    | **Number Format** | **Percentage**.
  id: totrans-32
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 右键点击**利润与预算利润比率**，选择**默认属性** | **数字格式** | **百分比**。
- en: 'Place **Profit to Budget Profit Ratio** on the **Label** shelf in the **Marks**
    cardand **Quota Met?** on the **Color** shelf in the **Marks** card:'
  id: totrans-33
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将**利润与预算利润比率**放置在**标签**架上，**配额达成？**放置在**颜色**架上：
- en: '![](img/B18435_08_03.png)'
  id: totrans-34
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18435_08_03.png)'
- en: 'Figure 8.3: Preliminary bullet graph'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.3：初步子弹图
- en: 'As you survey our results thus far, you will notice that there are some important
    aspects to this visualization. For example, the reference lines and the colored
    bars clearly delineate when a quota was met and missed. Furthermore, the percentages
    communicate how close the actual profit was to the budgeted profit for each market.
    However, there are also some problems to address:'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 回顾至今的结果，你会注意到该可视化图表中有一些重要的方面。例如，参考线和颜色条清晰地标示了配额是否达成。此外，百分比显示了各市场实际利润与预算利润的差距。然而，也存在一些问题需要解决：
- en: The percentage associated with the **South** market is partially obscured.
  id: totrans-37
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 与**南方**市场相关的百分比部分被遮挡。
- en: The background colors represented by the reference distribution are obscured.
  id: totrans-38
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 由参考分布表示的背景颜色被遮挡。
- en: The colors of the bars are not intuitive. Orange is set to **True**, which signifies,
    in this case, the markets that made the quota. However, psychologically speaking,
    orange is a warning color used to communicate problems and, therefore, would be
    more intuitively associated with those markets that failed to make the quota.
    Furthermore, these colors are not easily distinguishable when presented in grayscale.
  id: totrans-39
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 条形图的颜色不直观。橙色被设置为**真**，表示在这种情况下，达成配额的市场。然而，从心理学角度看，橙色是一个警示色，用来传达问题，因此它更直观地与未达成配额的市场相关。此外，这些颜色在灰度显示时不易区分。
- en: The words **False** and **True** in the legend are not immediately intuitive.
  id: totrans-40
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 图例中的**假**和**真**这两个词并不直观。
- en: In the upcoming steps, we will address those issues and show you possible solutions.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 在接下来的步骤中，我们将解决这些问题，并为你展示可能的解决方案。
- en: Bullet graphs – beyond the basics
  id: totrans-42
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 子弹图——基础之外
- en: 'To address the problems with the graph in the previous section, take the following
    steps:'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 为了解决上一部分图表中的问题，请按照以下步骤操作：
- en: 'Continuing from the previous exercise, access the **Data** pane on the left-hand
    portion of the screen, right-click on **Quota Met?**, and adjust the calculation
    as follows:'
  id: totrans-44
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 继续上一个练习，访问屏幕左侧的**数据**窗格，右键点击**配额完成？**，并调整计算如下：
- en: '[PRE2]'
  id: totrans-45
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE2]'
- en: This calculation will create the string `Quota Met` if the profit is higher
    than the budgeted profit, or the string `Quota Missed` if the profit isn’t higher
    than the budgeted profit. These two strings can be used as a legend and are more
    intuitive than the previous **True** and **False**.
  id: totrans-46
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 这个计算会创建字符串`配额完成`，如果利润高于预算利润，或者创建字符串`配额未完成`，如果利润没有超过预算利润。这两个字符串可以作为图例，且比之前的**真**和**假**更直观。
- en: 'Create a calculated field named `Greater of Profit or Budget Profit` with the
    following code:'
  id: totrans-47
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个名为`利润与预算利润较大值`的计算字段，并输入以下代码：
- en: '[PRE3]'
  id: totrans-48
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE3]'
- en: This calculation will show the profit amount if it is more than the budgeted
    amount, or the budgeted amount if the profit is smaller. This will help us to
    always show the bigger amount of the two.
  id: totrans-49
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 这个计算会显示利润金额，如果它大于预算金额，或者显示预算金额，如果利润较小。这将帮助我们始终显示两者中较大的金额。
- en: Place **Greater of Profit or Budget Profit** on the **Columns** shelf after
    **Profit**. Also, right-click on the pill and select **Dual Axis**.
  id: totrans-50
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将**利润与预算利润较大值**放置到**利润**之后的**列**货架上。还可以右键点击该条并选择**双轴**。
- en: Right-click on the axis for **Greater of Profit or Budget Profit** and select
    **Synchronize Axis**.
  id: totrans-51
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 右键点击**利润与预算利润较大值**的轴线，选择**同步轴**。
- en: Within the **Marks** card, select the pane labeled **All** and set the mark
    type to **Bar**.
  id: totrans-52
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**标记**卡中，选择标有**全部**的窗格，并将标记类型设置为**条形图**。
- en: '![](img/B18435_08_04.png)'
  id: totrans-53
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18435_08_04.png)'
- en: 'Figure 8.4: Marks card'
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 图8.4：标记卡
- en: Remove **Measure Names** from the **Color** shelf.
  id: totrans-55
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从**颜色**货架中移除**度量名称**。
- en: Within the **Marks** card, select the pane labeled **AGG(Greater of Profit or
    Budget Profit)**.
  id: totrans-56
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**标记**卡中，选择标有**AGG(利润与预算利润较大值)**的窗格。
- en: Click on the **Color** shelf and set **Opacity** to **0%**.
  id: totrans-57
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**颜色**货架并将**不透明度**设置为**0%**。
- en: Within the **Marks** card, select the pane labeled **SUM(Profit)**.
  id: totrans-58
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**标记**卡中，选择标有**SUM(利润)**的窗格。
- en: Remove **AGG(Profit to Budget Profit Ratio)** from the **Marks** card and note
    that the percentage labels are no longer obscured.
  id: totrans-59
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从**标记**卡中移除**AGG(利润与预算利润比)**，并注意百分比标签不再被遮挡。
- en: 'Click on the **Color** shelf and select **Edit Colors**. Within the resulting
    dialog box, complete the following steps:'
  id: totrans-60
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**颜色**货架并选择**编辑颜色**。在弹出的对话框中，完成以下步骤：
- en: Double-click on **Quota Met** and set the color to white.
  id: totrans-61
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 双击**配额完成**并将颜色设置为白色。
- en: Double-click on **Quota Missed** and set the color to black.
  id: totrans-62
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 双击**配额未完成**并将颜色设置为黑色。
- en: After you have clicked **OK** for each dialog box and returned to the main screen,
    once again click on the **Color** shelf, and select black for **Border**.
  id: totrans-63
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在每个对话框点击**确定**并返回主屏幕后，再次点击**颜色**货架，并将**边框**设置为黑色。
- en: Click on the **Size** shelf to narrow the width of the bars by dragging the
    slider to the left.
  id: totrans-64
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**大小**货架，通过将滑块向左拖动来缩小条形图的宽度。
- en: 'Right-click on the **Profit** axis and select **Edit Reference Line**. Then
    set **Value** to **90%,95%,100% of Average Budget Profit**:'
  id: totrans-65
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 右键点击**利润**轴线，选择**编辑参考线**。然后将**值**设置为**平均预算利润的90%、95%、100%**：
- en: '![](img/B18435_08_05.png)'
  id: totrans-66
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18435_08_05.png)'
- en: 'Figure 8.5: Reference line'
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 图8.5：参考线
- en: 'In the same window, moving down to the **Formatting** section, set the **Fill**
    color to **Grey Light**. Click the **Fill Below** checkbox and the **Reverse**
    checkbox. Note that the background colors are now more easily distinguishable:'
  id: totrans-68
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在同一窗口中，向下滚动到**格式化**部分，将**填充**颜色设置为**浅灰色**。勾选**填充以下部分**和**反转**复选框。请注意，背景颜色现在更容易区分：
- en: '![](img/B18435_08_06.png)'
  id: totrans-69
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18435_08_06.png)'
- en: 'Figure 8.6: Background colors'
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 图8.6：背景颜色
- en: 'Right-click on the axis labeled **Greater of Profit or Budget Profit** and
    deselect **Show Header**. You may wish to make some additional tweaks, but our
    result looks as follows:'
  id: totrans-71
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 右键点击标有**利润与预算利润较大值**的轴线，取消选择**显示标题**。你可能希望做一些额外调整，但我们的结果如下：
- en: '![](img/B18435_08_07.png)'
  id: totrans-72
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18435_08_07.png)'
- en: 'Figure 8.7: Improved bullet graph'
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 图8.7：改进的子弹图
- en: 'Note that each of the aforementioned problems has now been addressed:'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意，前述问题现已得到解决：
- en: The percentage numbers are no longer obscured.
  id: totrans-75
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 百分比数字不再被遮挡。
- en: The background colors are easier to distinguish due to having narrowed the bars.
  id: totrans-76
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 由于条形变窄，背景颜色更容易区分。
- en: The color of the bars is more intuitive. Furthermore, using black, white, and
    gray has circumvented any readability problems arising from color blindness or
    grayscale print.
  id: totrans-77
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 条形图的颜色更加直观。此外，使用黑色、白色和灰色避免了由色盲或灰度打印引起的可读性问题。
- en: The words **False** and **True** in the legend have been replaced with the more
    descriptive terms **Quota Met** and **Quota Missed**.
  id: totrans-78
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 图例中的**False**和**True**已被更具描述性的术语**配额已达**和**配额未达**所取代。
- en: By completing this section, you will have learned how tweaks can improve your
    visualization and the type of graph you choose. You can do this whenever the current
    choices you have made do not tell the full story yet. In addition to that, it
    is also a selling point. Your users like a nice design and clear dashboards. By
    improving your visualization with more advanced techniques, you will be able to
    improve your storytelling and marketing.
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 完成本节内容后，你将学会如何通过调整来改善你的可视化效果以及选择的图表类型。每当你当前的选择尚未讲述完整故事时，你可以进行这些调整。除此之外，这也是一个卖点。你的用户喜欢漂亮的设计和清晰的仪表盘。通过使用更高级的技术改进你的可视化效果，你将能够提升你的讲故事技巧和营销效果。
- en: In the next section, we will continue to add complexity to known **visualizations**.
    This time we will create pie and donut charts and eventually combine the two.
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一节中，我们将继续增加已知**可视化**的复杂性。这一次，我们将创建饼图和甜甜圈图，并最终将两者结合起来。
- en: Pies and donuts
  id: totrans-81
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 饼图和甜甜圈图
- en: Pie charts are normally frowned upon in data visualization circles. They simply
    have too many drawbacks. For instance, pie charts don’t utilize space well on
    a rectangular screen. Treemaps fit much better. Also, the number of slices that
    are reasonable on a pie chart is fairly limited, perhaps six to eight at best.
    Once again, treemaps are superior because they can be sliced at a finer level
    of granularity while remaining useful. Lastly, when using pie charts, it can be
    difficult to discern which of two similarly sized slices is the largest. Treemaps
    are no better in this regard; however, if the viewer understands that treemap
    sorting is from the top left to the bottom right, that knowledge can be used to
    distinguish size differences. Of course, bar charts circumvent that particular
    problem entirely, since the eye can easily distinguish widths and heights but
    struggles with angles (pie charts) and volume (treemaps).
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 饼图在数据可视化圈中通常是不受欢迎的。它们有太多的缺点。例如，饼图在矩形屏幕上并没有很好地利用空间。树状图要适合得多。此外，饼图上合理的切片数量相当有限，最多也许是六到八个。再一次，树状图更优，因为它们可以以更精细的粒度进行切片，同时仍然保持有用。最后，在使用饼图时，可能很难分辨两个大小相似的切片哪个更大。树状图在这一点上也没有更好；然而，如果观众知道树状图的排序是从左上角到右下角，那么这一知识可以用来区分大小差异。当然，条形图完全避免了这个问题，因为眼睛可以轻松区分宽度和高度，但在分辨角度（饼图）和体积（树状图）方面却有困难。
- en: Despite these drawbacks, because of their popularity, pie charts will likely
    continue to be widely used in data visualization for years to come. People like
    them because they are different than the old, boring bar chart. Users are familiar
    with pie charts and they do not require any explanation and are a way to show
    proportions – just not the best way in my opinion. For the pessimistic Tableau
    author, the best course of action is to grin and bear it. But for one willing
    to explore and push frontier boundaries, good uses for pie charts can be discovered.
    The following exercise is one contribution to that exploration.
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管有这些缺点，但由于饼图的普及，饼图可能在未来几年仍会在数据可视化中广泛使用。人们喜欢它们，因为它们与老旧、无聊的条形图不同。用户熟悉饼图，它们无需任何解释，是展示比例的一种方式——只是我个人认为并不是最好的方式。对于悲观的Tableau作者来说，最好的做法是笑着接受并忍受它。但对于那些愿意探索并突破前沿边界的人来说，饼图的好用场景是可以被发现的。下面的练习就是这种探索的一个贡献。
- en: Pies and donuts on maps
  id: totrans-84
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 地图上的饼图和甜甜圈图
- en: Occasionally, there is a need (or perceived need) to construct pie charts atop
    a map. The process is not difficult (as you will see in the following exercise),
    but there are some shortcomings that cannot be easily overcome. We will discuss
    those shortcomings after the exercise.
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 有时，确实有需要（或认为需要）在地图上构建饼图的情况。这个过程并不困难（如你将在下面的练习中看到的那样），但是有一些缺点是无法轻易克服的。我们将在练习之后讨论这些缺点。
- en: 'The following are the steps:'
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是步骤：
- en: Within the workbook associated with this chapter, navigate to the worksheet
    entitled `Pie Map` and select the `Superstore` data source.
  id: totrans-87
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在与本章相关的工作簿中，导航到名为`Pie Map`的工作表并选择`Superstore`数据源。
- en: In the **Data** pane, double-click on **State** to create a map of the United
    States.
  id: totrans-88
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**数据**窗格中，双击**州**以创建美国地图。
- en: 'Place **Sales** on the **Color** shelf. Click on the **Color** shelf and change
    the **Palette** to **Grey**:'
  id: totrans-89
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将**销售额**放置到**颜色**架上。单击**颜色**架并将**调色板**更改为**灰色**：
- en: '![](img/B18435_08_08.png)'
  id: totrans-90
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18435_08_08.png)'
- en: 'Figure 8.8: Edit Colors'
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.8：编辑颜色
- en: 'Drag an additional copy of **Latitude (generated)** on the **Rows** shelf by
    holding *Ctrl* for Windows and *Command* for Mac and simultaneously dragging the
    pill to create two rows, each of which displays a map:'
  id: totrans-92
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 按住*Ctrl*（Windows）或*Command*（Mac），同时拖动**纬度（生成）**的副本到**行**架上，创建两行，每行显示一张地图：
- en: '![](img/B18435_08_09.png)'
  id: totrans-93
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18435_08_09.png)'
- en: 'Figure 8.9: Latitude'
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.9：纬度
- en: 'In the **Marks** card, you will notice that there are now three panes: **All**,
    **Latitude (generated)**, and **Latitude (generated) (2)**. Click on **Latitude
    (generated) (2)** and set the mark type to **Pie**:'
  id: totrans-95
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**标记**卡中，您会注意到现在有三个窗格：**全部**、**纬度（生成）**和**纬度（生成）（2）**。单击**纬度（生成）（2）**并将标记类型设置为**饼图**：
- en: '![](img/B18435_08_10.png)'
  id: totrans-96
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18435_08_10.png)'
- en: 'Figure 8.10: Marks card panes'
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.10：标记卡窗格
- en: Place **Category** on the **Color** shelf and **Sales** on the **Size** shelf.
  id: totrans-98
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将**类别**放置到**颜色**架上，将**销售额**放置到**大小**架上。
- en: 'To complete the visualization, right-click on the second instance of **Latitude
    (generated)** in the **Rows** shelf and select **Dual Axis**:'
  id: totrans-99
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为完成可视化操作，右键单击**纬度（生成）**在**行**架上的第二个实例，并选择**双轴**：
- en: '![](img/B18435_08_11.png)'
  id: totrans-100
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18435_08_11.png)'
- en: 'Figure 8.11: Pie map'
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.11：饼图地图
- en: 'Can you see issues in the visualization? Two should be immediately apparent:'
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 您能在可视化中看到问题吗？应该很快就能看到两个问题：
- en: First, the smaller pies are difficult to see. Clicking on the drop-down menu
    for the **Size** legend and selecting **Edit Sizes** could partially address this
    problem, but pies in smaller states such as **Rhode Island** will continue to
    be problematic.
  id: totrans-103
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 首先，较小的饼图很难看清。单击**大小**图例的下拉菜单并选择**编辑大小**可能部分解决这个问题，但如**罗德岛**等较小州的饼图仍然会有问题。
- en: Second, many states have the same light-gray background despite widely varying
    sales amounts.
  id: totrans-104
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 其次，许多州即使销售金额差异较大，背景仍然是相同的浅灰色。
- en: The following approach will address these issues while also adding additional
    functionality.
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 以下方法将解决这些问题，同时添加额外的功能。
- en: Pies and donuts – beyond the basics
  id: totrans-106
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 饼图与甜甜圈图——超越基础
- en: 'The following are the steps required to create a tile grid map with both a
    pie and donut chart on top of the map. By combining the different methods, we
    will be able to show more information at once without overloading the view:'
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是创建具有饼图和甜甜圈图的瓦片网格地图的步骤。通过结合不同的方法，我们将能够在不让视图过载的情况下一次性显示更多信息：
- en: Within the workbook associated with this chapter, navigate to the worksheet
    entitled `Altered Pie Map` and select the `Superstore` data source.
  id: totrans-108
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在与本章相关的工作簿中，导航到名为`Altered Pie Map`的工作表并选择`Superstore`数据源。
- en: 'Create the following calculated fields:'
  id: totrans-109
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建以下计算字段：
- en: '| **Name** | **Code** |'
  id: totrans-110
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| **名称** | **代码** |'
- en: '| `Category State Sales` |'
  id: totrans-111
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| `类别州销售额` |'
- en: '[PRE4]'
  id: totrans-112
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE4]'
- en: '|'
  id: totrans-113
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '|'
- en: '| `State Max` |'
  id: totrans-114
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| `州最大值` |'
- en: '[PRE5]'
  id: totrans-115
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE5]'
- en: '|'
  id: totrans-116
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '|'
- en: '| `Top Selling Category per State` |'
  id: totrans-117
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| `每个州的最佳销售类别` |'
- en: '[PRE6]'
  id: totrans-118
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE6]'
- en: '|'
  id: totrans-119
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '|'
- en: We need those first two **Level of Detail** (**LOD**) calculations and the last
    calculation to show the sales per category, while also showing the best-selling
    category per state.
  id: totrans-120
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们需要那前两个**细节级别**（**LOD**）计算和最后一个计算来显示每个类别的销售额，同时显示每个州的最佳销售类别。
- en: Within the **Marks** card, set the mark type to **Pie**.
  id: totrans-121
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**标记**卡中，将标记类型设置为**饼图**。
- en: Within the **Data** pane, select the **States** data source.
  id: totrans-122
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**数据**窗格中，选择**州**数据源。
- en: 'Click the chain link next to **State** in the **Data** pane to use **State**
    as a blended field:'
  id: totrans-123
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 单击**数据**窗格中**州**旁的链条图标，将**州**用作混合字段：
- en: '![](img/B18435_08_12.png)'
  id: totrans-124
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18435_08_12.png)'
- en: 'Figure 8.12: Linking dimensions'
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.12：链接维度
- en: Drag **Column** to the **Columns** shelf and **Row** to the **Rows** shelf.
  id: totrans-126
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将**列**拖动到**列**架，将**行**拖动到**行**架。
- en: From the **Superstore** data source, place **Category** on the **Color** shelf
    and **Sales** on the **Angle** shelf.
  id: totrans-127
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从**Superstore**数据源中，将**类别**放置到**颜色**架上，将**销售额**放置到**角度**架上。
- en: Place **State** on **Detail** in the **Marks** card.
  id: totrans-128
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将**州**放置在**标记**卡中的**详情**上。
- en: Click on the **Size** shelf and adjust the size as desired.
  id: totrans-129
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**大小**架并根据需要调整大小。
- en: 'At this point, you should see a rough map of the United States made up of pie
    charts. Next, we will further enhance the graphic by changing the pies into donuts:'
  id: totrans-130
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 此时，你应该能看到由饼图组成的大致美国地图。接下来，我们将通过将饼图变成甜甜圈图来进一步增强图形：
- en: '![](img/B18435_08_13.png)'
  id: totrans-131
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18435_08_13.png)'
- en: 'Figure 8.13: Map'
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.13：地图
- en: Return to the **States** data source and place another instance of **Row** on
    the **Rows** shelf.
  id: totrans-133
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 返回到**州**数据源，在**行**架中再放置一个**行**实例。
- en: In the **Marks** card, select **Row (2)** and change the view type to **Circle**.
  id: totrans-134
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**标记**卡中，选择**行 (2)**，并将视图类型更改为**圆形**。
- en: 'From the **Superstore** dataset, place **Top Selling Category per State** on
    the **Color** shelf:'
  id: totrans-135
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从**超市**数据集中，将**每个州的畅销类别**放置到**颜色**架中：
- en: '![](img/B18435_08_14.png)'
  id: totrans-136
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18435_08_14.png)'
- en: 'Figure 8.14: Map II'
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.14：地图 II
- en: 'Place **Sales** on the **Label** shelf. Right-click on the instance of **Sales**
    you just placed on the **Label** shelf and select **Format**. Make the following
    adjustments in the **Format** window:'
  id: totrans-138
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将**销售额**放置到**标签**架中。右键点击你刚刚放置在**标签**架中的**销售额**实例，并选择**格式**。在**格式**窗口中进行以下调整：
- en: Set the **Numbers** formattingto **Currency (Custom)** with **0** decimal places
    and **Display Units** set to **Thousands (K)**:![](img/B18435_08_15.png)
  id: totrans-139
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将**数字**格式设置为**货币（自定义）**，小数位数为**0**，并将**显示单位**设置为**千（K）**：![](img/B18435_08_15.png)
- en: 'Figure 8.15: Formatting'
  id: totrans-140
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 8.15：格式调整
- en: Set **Alignment** to **Middle Centre**, as shown in the following screenshot,
    so that the numbers are centered over the circles:![](img/B18435_08_16.png)
  id: totrans-141
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将**对齐方式**设置为**居中**，如下图所示，以便数字位于圆圈的正中：![](img/B18435_08_16.png)
- en: 'Figure 8.16: Alignment'
  id: totrans-142
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 8.16：对齐方式
- en: In the **Rows** shelf, right-click on the second instance of **Row** and select
    **Dual Axis**.
  id: totrans-143
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**行**架中，右键点击第二个**行**实例，选择**双轴**。
- en: Right-click on an instance of the **Row** axis and select **Synchronize Axis**.
  id: totrans-144
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 右键点击某个**行**坐标轴实例，选择**同步坐标轴**。
- en: Within the **Row (2)** instance on the **Marks** card, make sure that **Size**
    exceeds the **Size** of the **Row** instance in the **Marks** card to show the
    pie chart as an outer ring.
  id: totrans-145
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**标记**卡的**行 (2)** 实例中，确保**大小**大于**行**实例的**大小**，以便将饼图显示为外环。
- en: Within the **Row (2)** and **Row** instances of the **Marks** card, click on
    the **Color** shelf and select **Edit Colors**. Adjust the color settings as desired
    so that the color of the overlaying circle (the hole of the donut) can be distinguished
    from the underlying colors and yet continues to recognize which **Category** sold
    best. I selected the following:![](img/B18435_08_17.png)
  id: totrans-146
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**行 (2)** 和**行**实例的**标记**卡中，点击**颜色**架并选择**编辑颜色**。根据需要调整颜色设置，使得覆盖圆圈（甜甜圈的空心部分）的颜色能够与底下的颜色区分开来，同时仍然能识别出哪种**类别**卖得最好。我选择了以下设置：![](img/B18435_08_17.png)
- en: 'Figure 8.17: Color selection'
  id: totrans-147
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 8.17：颜色选择
- en: Also, within the **Color** shelf, set **Border** to the desired color. I used
    white. I also used white as the color for **Label**.
  id: totrans-148
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 同样，在**颜色**架中，将**边框**设置为所需颜色。我使用的是白色。我还将**标签**的颜色设置为白色。
- en: Right-click on each axis and deselect **Show Header**. Select **Format** | **Lines**
    and set **Grid Lines** to **None**. Make other formatting changes as desired:![](img/B18435_08_18.png)
  id: totrans-149
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 右键点击每个坐标轴，取消选择**显示标题**。选择**格式** | **线条**，并将**网格线**设置为**无**。根据需要进行其他格式调整：![](img/B18435_08_18.png)
- en: 'Figure 8.18: Tile grid map'
  id: totrans-150
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 8.18：平铺网格图
- en: At first glance, the visualization may look peculiar. It’s called a **tile grid
    map** and although it’s fairly new to the data visualization scene, it has begun
    to see usage at media outlets such as NPR. In the right setting, a tile grid map
    can be advantageous. Let’s consider a couple of advantages the preceding exercise
    gives us.
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 初看之下，这种可视化可能显得有些奇特。它被称为**平铺网格图**，尽管它在数据可视化领域相对较新，但已经开始在诸如NPR等媒体平台上得到应用。在合适的场合下，平铺网格图可以带来一些优势。让我们考虑一下前面练习中给我们带来的几个优势。
- en: First, the grid layout in combination with the **Log Sales** calculated field
    creates a map immediately evident as being the United States, while ensuring that
    the sizing of the various pie charts changes only moderately from greatest to
    least. Thus, each slice of each pie is reasonably visible; for example, the District
    of Columbia sales is as easily visible as California sales.
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，网格布局结合**对数销售额**计算字段立即创建了一个显而易见的美国地图，同时确保各种饼图的大小从最大到最小变化适度。因此，每个饼图的每一块切片都能够合理地展示；例如，哥伦比亚特区的销售额与加利福尼亚州的销售额一样容易被看到。
- en: Second, the end user can clearly see the top-selling category for each state
    via the color of the inner circle (that is, the hole of the donut). This was accomplished
    with the LOD calculations. Thanks to the LOD, we were able to differentiate the
    best-selling category from the other two. Since all three categories live in the
    same column, you need to use an LOD calculation. You can refer to *Chapter 7*,
    *Practicing Level of Detail Calculations*, for more details on LOD calculations.
    The result is an information-dense visualization that uses pie charts in a practical,
    intuitive manner.
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 其次，最终用户可以通过内圆的颜色（即甜甜圈的空洞）清楚地看到每个州的畅销类别。这是通过LOD计算实现的。感谢LOD，我们能够将畅销类别与其他两个类别区分开来。由于这三类都位于同一列，因此需要使用LOD计算。有关LOD计算的更多细节，请参阅*第7章*，*深入了解细节级别计算*。结果是一个信息密集型的可视化，它以实用、直观的方式使用饼图。
- en: This section demonstrated some more creative approaches to show data from different
    angles in the same visualization. Next, we will continue to discuss another advanced
    visualization, Pareto charts.
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: 本节展示了从不同角度在同一可视化中展示数据的一些更具创意的方法。接下来，我们将继续讨论另一种高级可视化——帕累托图。
- en: Pareto charts
  id: totrans-155
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 帕累托图
- en: In the late 19^(th) century, an Italian economist named Vilfredo Pareto observed
    that 80% of the land in Italy was owned by 20% of the people. As he looked around,
    he observed this mathematical phenomenon in many unexpected places. For example,
    he noted that 80% of the peas in his garden were produced from 20% of the peapods.
    As a result, the 80/20 rule has found its way into the popular vernacular. You
    can leverage this principle to create a clear visual hierarchy by emphasizing
    the most crucial elements or focal points. You can also use it as a tool for prioritization
    – what are your 20% most important tasks, datasets, and data quality issues? Work
    on those first. By giving priority you can focus your attention and ensure effective
    communication. But all of this requires another whole book. Let us focus first
    on how we can visualize an 80/20 phenomenon in Tableau. In the following exercise,
    we’ll discuss how to build a basic Pareto chart and then how to expand that chart
    to make it even more useful.
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: 在19世纪末，一位意大利经济学家维尔弗雷多·帕累托观察到，意大利80%的土地由20%的人拥有。环顾四周，他发现这个数学现象出现在许多意想不到的地方。例如，他注意到他花园里80%的豌豆是从20%的豌豆荚里生产出来的。因此，80/20法则已进入流行语境。你可以利用这一原则通过强调最关键的元素或焦点来创建清晰的视觉层次结构。你也可以将其作为优先排序的工具——你的20%最重要的任务、数据集和数据质量问题是什么？先处理这些。通过优先排序，你可以集中注意力，确保有效的沟通。但这一切需要一本完整的书来讲解。让我们先专注于如何在Tableau中可视化80/20现象。在以下练习中，我们将讨论如何构建基本的帕累托图，然后如何扩展该图使其更有用。
- en: Using Pareto charts
  id: totrans-157
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 使用帕累托图
- en: Of course, not every dataset is going to adhere to the 80/20 rule. Accordingly,
    the following exercise considers loan data from a community bank where 80% of
    the loan balance is not held by 20% of the bank’s customers. Nonetheless, a Pareto
    chart can still be a very helpful analytical tool.
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: 当然，并非所有数据集都会遵循80/20法则。因此，以下练习考虑了一个社区银行的贷款数据，其中80%的贷款余额并不由20%的客户持有。然而，帕累托图仍然可以是一个非常有用的分析工具。
- en: 'Take the following steps:'
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: 请按照以下步骤操作：
- en: Within the workbook associated with this chapter, navigate to the worksheet
    entitled `Pareto - Basic` and select the `Bank data source`.
  id: totrans-160
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在与本章相关的工作簿中，导航到名为`Pareto - Basic`的工作表，并选择`Bank data source`。
- en: 'In the **Data** pane, change **Account #** to **Dimension**. Place **Account
    #** on the **Columns** shelf and **Current Loan Balance** on the **Rows** shelf.'
  id: totrans-161
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**数据**面板中，将**账户号**更改为**维度**。将**账户号**放置在**列**架上，将**当前贷款余额**放置在**行**架上。
- en: Click on the **Fit** drop-down menu and choose **Entire View**.
  id: totrans-162
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**适应**下拉菜单并选择**整个视图**。
- en: 'Right-click on the **Account #** pill and select **Sort**. Set **Sort By**
    to **Field**, **Sort Order** to **Descending**, **Field Name** to **Current Loan
    Balance**, and **Aggregation** to **Sum**:'
  id: totrans-163
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 右键点击**账户号**字段，并选择**排序**。将**排序依据**设置为**字段**，**排序顺序**设置为**降序**，**字段名称**设置为**当前贷款余额**，**聚合方式**设置为**求和**：
- en: '![](img/B18435_08_19.png)'
  id: totrans-164
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18435_08_19.png)'
- en: 'Figure 8.19: Sorting'
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.19：排序
- en: 'Right-click on **SUM(Current Loan Balance)** **Δ** located on the **Rows**
    shelf and select **Add Table Calculation**. Choose the settings as shown in the
    following screenshot:'
  id: totrans-166
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 右键点击**SUM(当前贷款余额)** **Δ**，位于**行**架上，然后选择**添加表计算**。选择如下截图所示的设置：
- en: '![](img/B18435_08_20.png)'
  id: totrans-167
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18435_08_20.png)'
- en: 'Figure 8.20: Table Calculation I'
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.20：表计算 I
- en: 'Drag an instance of **Account #** to the **Detail** shelf.'
  id: totrans-169
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将**账户号**实例拖动到**详细信息**架上。
- en: Click on the **Color** shelf and set **Border** to **None**.
  id: totrans-170
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**颜色**架，并将**边框**设置为**无**。
- en: 'Right-click on the instance of **Account #** that is on the **Columns** shelf
    and select **Measure** | **Count (Distinct)**. Note that a single vertical line
    displays:'
  id: totrans-171
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 右键点击位于**列**架上的**账户号**实例，并选择**度量** | **计数（唯一）**。注意，单条垂直线会显示：
- en: '![](img/B18435_08_21.png)'
  id: totrans-172
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18435_08_21.png)'
- en: 'Figure 8.21: Pareto displaying a single vertical line'
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.21：帕累托显示单个垂直线
- en: 'Once again, right-click on the instance of **CNTD(Account #)** on the **Columns**
    shelf and select **Add Table Calculation**. Configure the settings as shown in
    the following screenshot:'
  id: totrans-174
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 再次右键点击位于**列**架上的**CNTD(账户号)**实例，并选择**添加表格计算**。按以下截图配置设置：
- en: '![](img/B18435_08_22.png)'
  id: totrans-175
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18435_08_22.png)'
- en: 'Figure 8.22: Table Calculation II'
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.22：表格计算 II
- en: 'Click the **Analytics** tab in the upper left-hand corner of the screen and
    perform the following two steps:'
  id: totrans-177
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击屏幕左上角的**分析**选项卡，并执行以下两个步骤：
- en: Drag **Constant Line** to **Table** | **SUM(Current Loan Balance)** **Δ**
  id: totrans-178
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将**常量线**拖动到**表格** | **SUM(当前贷款余额)** **Δ**
- en: In the resulting dialog box, select **Constant** and set **Value** to **0.8**,
    as shown in the following screenshot:![](img/B18435_08_23.png)
  id: totrans-179
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在弹出的对话框中，选择**常量**并将**值**设置为**0.8**，如下截图所示：![](img/B18435_08_23.png)
- en: 'Figure 8.23: Constant Line'
  id: totrans-180
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 8.23：常量线
- en: 'Repeat the previous step with the following differences:'
  id: totrans-181
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 重复前面的步骤，但有以下不同：
- en: 'Drag **Constant Line** to **Table** | **CNTD(Account #)**'
  id: totrans-182
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将**常量线**拖动到**表格** | **CNTD(账户号)**
- en: In the resulting dialog box, select **Constant** and set **Value** to **0.2**
  id: totrans-183
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在弹出的对话框中，选择**常量**并将**值**设置为**0.2**
- en: 'Drag **Current Loan Balance** to the **Rows** shelf. Place it to the right
    of the **SUM(Current Loan Balance) Δ** that is currently on the **Rows** shelf.
    Note that the axis is affected by a single loan with a much larger balance than
    the other loans:'
  id: totrans-184
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将**当前贷款余额**拖动到**行**架上。将其放置在**行**架上当前的**SUM(当前贷款余额) Δ**右侧。注意，轴受一个余额比其他贷款大得多的单笔贷款的影响：
- en: '![](img/B18435_08_24.png)'
  id: totrans-185
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18435_08_24.png)'
- en: 'Figure 8.24: Pareto Basic'
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.24：帕累托基本
- en: Right-click on the **Current Loan Balance** axis and select **Edit Axis**. In
    the resulting dialog box, set **Scale** to **Logarithmic** and close the window.
    This addresses the problem of the single large loan affecting the axis and thus
    obscuring the view of the other loans.
  id: totrans-187
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 右键点击**当前贷款余额**轴并选择**编辑轴**。在弹出的对话框中，将**刻度**设置为**对数**，然后关闭窗口。这解决了单笔大额贷款影响轴的问题，从而使得其他贷款的视图变得模糊。
- en: 'Within the **Marks** card, select the second instance of **SUM(Current Loan
    Balance) Δ** and set the mark type to **Bar**:'
  id: totrans-188
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**标记**卡中，选择第二个**SUM(当前贷款余额) Δ**实例，并将标记类型设置为**条形图**：
- en: '![](img/B18435_08_25.png)'
  id: totrans-189
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18435_08_25.png)'
- en: 'Figure 8.25: Select Bar'
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.25：选择条形图
- en: Right-click on **SUM(Current Loan Balance) Δ** on the **Rows** shelf and select
    **Dual Axis**.
  id: totrans-191
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 右键点击**SUM(当前贷款余额) Δ**在**行**架上的位置，并选择**双轴**。
- en: 'Right-click on the **% of Total Running Sum of Current Loan Balance** axis
    and select **Move Marks Card to Front**. Change the colors, tooltips, and formatting
    as desired:'
  id: totrans-192
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 右键点击**% 总计运行中的当前贷款余额**轴并选择**将标记卡移到前面**。根据需要更改颜色、工具提示和格式：
- en: '![](img/B18435_08_26.png)'
  id: totrans-193
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18435_08_26.png)'
- en: 'Figure 8.26: Pareto chart'
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.26：帕累托图
- en: There are positive aspects of this visualization to consider. First, the end
    user can quickly gain an initial understanding simply by observing both portions
    of the graph in conjunction with the values on the axes. The *y* axis on the left,
    for example, shows the percentage of each current loan in regard to the total
    amount of current loans, presented in a running sum such that we end up at 100%.
    The *y* axis on the right side shows the amount of those same loans. The *x* axis
    simply presents us with the unique account IDs or numbers. We can see that in
    this example, 20% of the accounts hold almost 60% of the loans and around 50%
    of the accounts hold 80% of the loans. Those are the two cross points of the red
    line and the two reference lines. Furthermore, the end user can hover the cursor
    over any part of the curve and see the resulting tooltip.
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: 该可视化图表有一些值得注意的积极方面。首先，最终用户可以通过观察图表的两个部分及坐标轴上的数值，迅速获得初步理解。例如，左侧的*y*轴显示了每笔当前贷款相对于总贷款余额的百分比，以累计和的方式呈现，最终达到100%。右侧的*y*轴则显示相同贷款的金额。*x*轴则展示了独特的账户ID或编号。我们可以看到，在这个例子中，20%的账户持有几乎60%的贷款，约50%的账户持有80%的贷款。这些是红色线和两条参考线的交点。此外，最终用户可以将光标悬停在曲线的任何部分，查看相应的提示框。
- en: However, there are ways this visualization could be improved. For example, adding
    parameters to the two reference lines and rewording the axis labels to be less
    verbose would be quick ways to add additional value. Therefore, in the next exercise,
    we’ll see if we can go a little beyond the current visualization.
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，这个可视化图表还有提升空间。例如，给两条参考线添加参数，重新措辞坐标轴标签以减少冗长，是增加附加值的快速方法。因此，在下一个练习中，我们将看看是否能够在当前的可视化基础上进行一些扩展。
- en: Pareto charts – beyond the basics
  id: totrans-197
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 帕累托图表 - 超越基础
- en: 'In the previous exercise, we had to take a closer look in order to figure out
    what percentage of accounts account for how many loans. The following steps will
    show us how to create a parameter that will help us to spot the intersection:'
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: 在前一个练习中，我们需要更加仔细地查看，以便找出每个账户占有多少贷款。接下来的步骤将向我们展示如何创建一个参数，帮助我们找出交点：
- en: Duplicate the sheet from the previous exercise and name the duplicate **Pareto
    - Improved**.
  id: totrans-199
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 复制前一个练习中的工作表，并将复制的工作表命名为**帕累托 - 改进版**。
- en: Remove both reference lines by selecting them and dragging them out of the worksheet.
  id: totrans-200
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过选择参考线并将其拖出工作表，移除两条参考线。
- en: Drag **SUM(Current Loan Balance) Δ** (the table calculation) from the **Rows**
    shelf to the **Data** pane. When prompted, name the field **Running % of Balance**.
  id: totrans-201
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将**SUM(当前贷款余额) Δ**（表格计算）从**行**架拖动到**数据**面板。当提示时，将该字段命名为**余额的累计百分比**。
- en: 'Create and display a parameter with the following settings. This parameter
    will allow us to set any given value between 0 and 100%, and we will be able to
    see that area on the Pareto visualization in color:'
  id: totrans-202
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建并显示一个参数，设置如下。该参数允许我们设置0到100%之间的任意值，并且我们能够在帕累托可视化图中看到该区域的颜色：
- en: '![](img/B18435_08_27.png)'
  id: totrans-203
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18435_08_27.png)'
- en: 'Figure 8.27: Editing the parameter'
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
  zh: 图8.27：编辑参数
- en: Right-click on the newly created parameter and select **Show Parameter**.
  id: totrans-205
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 右键单击新创建的参数，选择**显示参数**。
- en: 'Create the following calculated fields:'
  id: totrans-206
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建以下计算字段：
- en: '| **Name** | **Code** |'
  id: totrans-207
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| **名称** | **代码** |'
- en: '| `Running % of Loans` |'
  id: totrans-208
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| `贷款的累计百分比` |'
- en: '[PRE7]'
  id: totrans-209
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE7]'
- en: '|'
  id: totrans-210
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '|'
- en: '| `Pareto Split` |'
  id: totrans-211
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| `帕累托分割` |'
- en: '[PRE8]'
  id: totrans-212
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE8]'
- en: '|'
  id: totrans-213
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '|'
- en: '| `Pareto Split (label)` |'
  id: totrans-214
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| `帕累托分割（标签）` |'
- en: '[PRE9]'
  id: totrans-215
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE9]'
- en: '|'
  id: totrans-216
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '|'
- en: The configuration that will result in the coloring of a selected area on the
    Pareto chart needs some extra attention; therefore, we created three calculations.
    With the help of those, we can change the color of parts of the visualization
    and add some explanatory text, as well as labels.
  id: totrans-217
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对帕累托图表上选定区域的着色配置需要额外的关注；因此，我们创建了三个计算。通过这些计算，我们可以更改可视化图的部分颜色，并添加一些解释文本和标签。
- en: Select the **All** portionof the **Marks** card.
  id: totrans-218
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择**Marks**卡片中的**全部**部分。
- en: 'Drag **Pareto Split** to the **Detail** shelf. Click on the drop-down menu
    to the left of the **Pareto Split** pill on the **Marks** card and select **Color**:'
  id: totrans-219
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将**帕累托分割**拖动到**详细信息**架上。点击**Marks**卡片中**帕累托分割**右侧下拉菜单，选择**颜色**：
- en: '![Graphical user interface'
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
  zh: '![图形用户界面'
- en: Description automatically generated](img/B18435_08_28.png)
  id: totrans-221
  prefs: []
  type: TYPE_NORMAL
  zh: 自动生成的描述](img/B18435_08_28.png)
- en: 'Figure 8.28: Pareto Split to Color'
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
  zh: 图8.28：帕累托分割到颜色
- en: Select the **Running % of Balance Δ** portion of the **Marks** card. Set the
    mark type to **Line**.
  id: totrans-223
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择**Marks**卡片中的**余额的累计百分比 Δ**部分，将标记类型设置为**线**。
- en: 'Drag **Pareto Split (label)** to the **Label** shelf. Note that the expected
    label does not display:'
  id: totrans-224
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将**Pareto Split (label)**拖动到**标签**架上。请注意，预期的标签没有显示：
- en: '![A picture containing diagram'
  id: totrans-225
  prefs: []
  type: TYPE_NORMAL
  zh: '![一张包含图表的图片'
- en: Description automatically generated](img/B18435_08_29.png)
  id: totrans-226
  prefs: []
  type: TYPE_NORMAL
  zh: 自动生成的描述](img/B18435_08_29.png)
- en: 'Figure 8.29: Pareto chart with no label'
  id: totrans-227
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.29：没有标签的帕累托图
- en: To address this, first click on the **Label** shelf and select **Allow labels
    to overlap other marks**.
  id: totrans-228
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为了解决这个问题，首先点击**标签**架，并选择**允许标签与其他标记重叠**。
- en: 'Then, right-click **Pareto Split (label)** on the **Marks** card and select
    **Compute Using | Account #**. Now you will see the label:'
  id: totrans-229
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 然后，右键点击**Pareto Split (label)**，在**标记**卡片上选择**按账号#计算**。现在你会看到标签：
- en: '![A picture containing diagram'
  id: totrans-230
  prefs: []
  type: TYPE_NORMAL
  zh: '![一张包含图表的图片'
- en: Description automatically generated](img/B18435_08_30.png)
  id: totrans-231
  prefs: []
  type: TYPE_NORMAL
  zh: 自动生成的描述](img/B18435_08_30.png)
- en: 'Figure 8.30: Pareto chart with label'
  id: totrans-232
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.30：带标签的帕累托图
- en: 'Click the **Analytics** tab in the upper left-hand corner of the screen and
    perform the following two steps:'
  id: totrans-233
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击屏幕左上角的**分析**选项卡，执行以下两个步骤：
- en: Drag **Reference Line** to **Table | Δ Running % of Balance**:![A picture containing
    diagram
  id: totrans-234
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将**参考线**拖动到**表格 | Δ余额的运行百分比**：![一张包含图表的图片
- en: 'Description automatically generated](img/B18435_08_31.png)Figure 8.31: Reference
    line'
  id: totrans-235
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 自动生成的描述](img/B18435_08_31.png)图 8.31：参考线
- en: In the resulting dialog box, select **% of Balance** from the **Value** drop-down
    menu and set **Label** to **None**:![A picture containing diagram
  id: totrans-236
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在弹出的对话框中，从**值**下拉菜单中选择**余额百分比**，并将**标签**设置为**无**：![一张包含图表的图片
- en: Description automatically generated](img/B18435_08_32.png)
  id: totrans-237
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 自动生成的描述](img/B18435_08_32.png)
- en: 'Figure 8.32: Reference line II'
  id: totrans-238
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 8.32：参考线 II
- en: Change the colors, tooltips, and formatting as desired:![A picture containing
    diagram
  id: totrans-239
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 根据需要更改颜色、工具提示和格式：![一张包含图表的图片
- en: Description automatically generated](img/B18435_08_33.png)
  id: totrans-240
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 自动生成的描述](img/B18435_08_33.png)
- en: 'Figure 8.33: Pareto improved'
  id: totrans-241
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 8.33：改进后的帕累托图
- en: As you will see in the screenshot, the end user now has a single parameter slider
    (in the top-right corner) that moves the horizontal reference line on the chart.
    As the end user moves the reference line, the text updates to display the loan
    and balance percentages. The colors also update as the end user adjusts the parameter
    to vertically communicate the percentage of loans under consideration. We were
    able to achieve this by creating the calculated fields `Pareto Split` and `Pareto
    Split (Label)`, which perform calculations on the data in the view in combination
    with the parameter.
  id: totrans-242
  prefs: []
  type: TYPE_NORMAL
  zh: 如你在截图中看到的，最终用户现在有一个单一的参数滑块（位于右上角），它可以移动图表上的水平参考线。当最终用户移动参考线时，文本会更新，显示贷款和余额百分比。颜色也会更新，随着用户调整参数，垂直显示正在考虑的贷款百分比。我们通过创建计算字段`Pareto
    Split`和`Pareto Split (Label)`，在视图数据和参数的结合下进行计算，从而实现了这一点。
- en: The next section discusses a very powerful and still rarely used feature that
    will take your dashboards to the next level! Imagine a street view with houses
    in Tableau, whereby hovering over each house you will be able to see the rental/purchase
    price, the size, and maybe other characteristics. You can’t imagine how to achieve
    this in Tableau? Well, continue reading! We will discuss diverse examples of maps,
    images, and even games like chess and darts in the next section.
  id: totrans-243
  prefs: []
  type: TYPE_NORMAL
  zh: 下一节将讨论一个非常强大且仍然很少使用的功能，它将使你的仪表板提升到一个新的水平！想象一下，在 Tableau 中查看街景，房屋上方悬停时，你将能够看到租赁/购买价格、面积以及可能的其他特征。你还无法想象在
    Tableau 中如何实现这一点？好吧，继续阅读！在下一节中，我们将讨论各种地图、图像，甚至像国际象棋和飞镖这样的游戏示例。
- en: Custom background images
  id: totrans-244
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 自定义背景图像
- en: Custom background images in Tableau open a world of potential. Imagine the ability
    to visualize any space. Possibilities encompass sports, health care, engineering,
    architecture, interior design, and much, much more. Despite this wealth of potential,
    background images in Tableau seem to me to be underutilized. Why? Part of the
    reason is because of the difficulty of generating datasets that can be used with
    background images.
  id: totrans-245
  prefs: []
  type: TYPE_NORMAL
  zh: Tableau 中的自定义背景图像开启了一个充满潜力的世界。想象一下，能够可视化任何空间的能力。这个可能性涵盖了体育、医疗保健、工程、建筑、室内设计等诸多领域。尽管有如此丰富的潜力，我认为
    Tableau 中的背景图像仍然未被充分利用。为什么？部分原因是生成可以与背景图像一起使用的数据集的难度。
- en: Like the tile grid map discussed before, background images require a grid layout
    to pinpoint *x* and *y* coordinates. In the following section, we will address
    how to use Tableau to create a grid that can be superimposed on an image to instantly
    identify locations associated with *x* and *y* coordinates, and relatively quickly
    produce datasets that can be accessed by Tableau for visualization purposes.
  id: totrans-246
  prefs: []
  type: TYPE_NORMAL
  zh: 就像之前讨论的瓦片网格地图一样，背景图像需要网格布局来定位 *x* 和 *y* 坐标。在接下来的部分，我们将介绍如何使用 Tableau 创建一个可以叠加在图像上的网格，立即识别与
    *x* 和 *y* 坐标相关的位置，并相对较快地生成可以供 Tableau 用于可视化的数据集。
- en: Creating custom polygons
  id: totrans-247
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 创建自定义多边形
- en: Geographic areas for which Tableau natively provides polygons include country,
    state/province, county, and postcode/zip code. This means, for example, that a
    filled map can easily be created for the countries of the world. Simply copy a
    list of countries and paste that list into Tableau. Next, set the view type in
    Tableau to **Filled Map** and place the country list on the **Detail** shelf.
    Tableau will automatically draw polygons for each of those countries.
  id: totrans-248
  prefs: []
  type: TYPE_NORMAL
  zh: Tableau 本身提供的地理区域多边形包括国家、州/省、县和邮政编码。这意味着，举例来说，可以轻松为世界各国创建填充地图。只需复制一份国家列表并粘贴到
    Tableau 中。接着，在 Tableau 中将视图类型设置为**填充地图**，并将国家列表放置在**详细信息**架上。Tableau 会自动为每个国家绘制多边形。
- en: Furthermore, special mapping needs may arise that require polygons to be drawn
    for areas that are not typically included on maps. For example, an organization
    may define sales regions that don’t follow the usual map boundaries. Lastly, mapping
    needs may arise for custom images. A Tableau author may import an image of a basketball
    court or football pitch into Tableau and draw polygons to represent particular
    parts of the playing area. To create a filled map for each of these examples,
    for which Tableau does not natively provide polygons, custom polygons must be
    created.
  id: totrans-249
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，可能会出现特殊的映射需求，需要为通常不在地图上显示的区域绘制多边形。例如，一个组织可能会定义销售区域，这些区域的边界不符合常规地图的标准。最后，可能会有自定义图像的映射需求。Tableau
    用户可以将篮球场或足球场的图片导入到 Tableau 中，并绘制多边形来表示场地的特定部分。对于这些 Tableau 没有原生提供多边形的情况，必须创建自定义多边形，才能为每个示例创建填充地图。
- en: Drawing a square around Null Island
  id: totrans-250
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 绘制 Null Island 周围的方形区域
- en: In this section, we will start with the basics by drawing a simple square around
    the mythical Null Island, which is located at the intersection of the prime meridian
    and the equator.
  id: totrans-251
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们将从基础开始，绘制一个简单的方形，围绕位于本初子午线和赤道交点的神秘 Null Island。
- en: We will progress to a more robust example that requires drawing polygons for
    every city in Texas. There is an option in Tableau that allows an author to **Show
    Data at Default Position** for unknown locations. Selecting this option will cause
    Tableau to set latitude and longitude coordinates of 0 (zero) for all unknown
    locations, thus creating a symbol on the world map 1,600 kilometers off the western
    coast of Africa. Tableau developers affectionately refer to this area as Null
    Island.
  id: totrans-252
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将进入一个更复杂的示例，涉及为德克萨斯州的每个城市绘制多边形。Tableau 提供了一个选项，允许作者**在默认位置显示数据**，用于处理未知位置。选择此选项后，Tableau
    会将所有未知位置的纬度和经度设置为 0（零），从而在世界地图上创建一个位于非洲西海岸1600公里处的符号。Tableau 开发者亲切地称这个区域为 Null
    Island。
- en: 'Null Island even has its own YouTube video: [https://youtu.be/bjvIpI-1w84](https://youtu.be/bjvIpI-1w84).'
  id: totrans-253
  prefs: []
  type: TYPE_NORMAL
  zh: Null Island 甚至有自己的 YouTube 视频：[https://youtu.be/bjvIpI-1w84](https://youtu.be/bjvIpI-1w84)。
- en: 'In this exercise, we will draw a square around Null Island:'
  id: totrans-254
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个练习中，我们将围绕 Null Island 绘制一个方形区域：
- en: 'Recreate the following dataset in Excel:'
  id: totrans-255
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 Excel 中重新创建以下数据集：
- en: '|  | **A** | **B** | **C** |'
  id: totrans-256
  prefs: []
  type: TYPE_TB
  zh: '|  | **A** | **B** | **C** |'
- en: '| **1** | **Point** | **Latitude** | **Longitude** |'
  id: totrans-257
  prefs: []
  type: TYPE_TB
  zh: '| **1** | **点** | **纬度** | **经度** |'
- en: '| **2** | 0 | -1 | -1 |'
  id: totrans-258
  prefs: []
  type: TYPE_TB
  zh: '| **2** | 0 | -1 | -1 |'
- en: '| **3** | 1 | -1 | 1 |'
  id: totrans-259
  prefs: []
  type: TYPE_TB
  zh: '| **3** | 1 | -1 | 1 |'
- en: '| **4** | 2 | 1 | 1 |'
  id: totrans-260
  prefs: []
  type: TYPE_TB
  zh: '| **4** | 2 | 1 | 1 |'
- en: '| **5** | 3 | 1 | -1 |'
  id: totrans-261
  prefs: []
  type: TYPE_TB
  zh: '| **5** | 3 | 1 | -1 |'
- en: '| **6** | 4 | -1 | -1 |'
  id: totrans-262
  prefs: []
  type: TYPE_TB
  zh: '| **6** | 4 | -1 | -1 |'
- en: 'Copy and paste the dataset into Tableau. By doing so, a new data source called
    `Clipboard_...` will appear:'
  id: totrans-263
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将数据集复制并粘贴到 Tableau 中。这样，一个名为 `Clipboard_...` 的新数据源将会出现：
- en: '![A picture containing diagram'
  id: totrans-264
  prefs: []
  type: TYPE_NORMAL
  zh: '![一张包含图表的图片'
- en: Description automatically generated](img/B18435_08_34.png)
  id: totrans-265
  prefs: []
  type: TYPE_NORMAL
  zh: 自动生成的描述](img/B18435_08_34.png)
- en: 'Figure 8.34: Null Island coordinates'
  id: totrans-266
  prefs: []
  type: TYPE_NORMAL
  zh: 图8.34：Null Island 坐标
- en: Remove all fields from the worksheet.
  id: totrans-267
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从工作表中删除所有字段。
- en: Convert **Point** to a dimension. This can be accomplished by either right-clicking
    on **Point** and selecting **Convert to Dimension**, or by dragging it to the
    dimensions portion of the **Data** pane.
  id: totrans-268
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将 **点** 转换为维度。这可以通过右键点击 **点** 并选择 **转换为维度**，或者将其拖动到 **数据** 面板中的维度部分来完成。
- en: Double-click on **Latitude** and **Longitude**. It doesn’t matter in which order;
    Tableau will automatically place **Longitude** on the **Columns** shelf and **Latitude**
    on the **Rows** shelf.
  id: totrans-269
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 双击 **纬度** 和 **经度**。顺序不重要；Tableau 会自动将 **经度** 放到 **列** 货架上，将 **纬度** 放到 **行**
    货架上。
- en: 'Select **Map** | **Background Maps** | **Streets**. You might have to zoom
    out a bit to see the land line:'
  id: totrans-270
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择 **地图** | **背景地图** | **街道**。你可能需要稍微缩小一下视图，才能看到陆地边界：
- en: '![A picture containing diagram'
  id: totrans-271
  prefs: []
  type: TYPE_NORMAL
  zh: '![一张包含图表的图片'
- en: Description automatically generated](img/B18435_08_35.png)
  id: totrans-272
  prefs: []
  type: TYPE_NORMAL
  zh: 自动生成的描述](img/B18435_08_35.png)
- en: 'Figure 8.35: Locating Null Island'
  id: totrans-273
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.35：定位空岛
- en: 'Change the view type to **Line**, and drop **Point** on the **Path** shelf.
    You should see the following results:'
  id: totrans-274
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将视图类型更改为 **线条**，并将 **点** 拖动到 **路径** 货架上。你应该能看到以下结果：
- en: '![A picture containing diagram'
  id: totrans-275
  prefs: []
  type: TYPE_NORMAL
  zh: '![一张包含图表的图片'
- en: Description automatically generated](img/B18435_08_36.png)
  id: totrans-276
  prefs: []
  type: TYPE_NORMAL
  zh: 自动生成的描述](img/B18435_08_36.png)
- en: 'Figure 8.36: Locating Null Island II'
  id: totrans-277
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.36：定位空岛 II
- en: Go back to your Excel file, switch the rows containing data for points 1 and
    2, and copy the data again into Tableau.
  id: totrans-278
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 返回你的 Excel 文件，交换包含第 1 点和第 2 点数据的行，然后再次将数据复制到 Tableau 中。
- en: 'Follow *Steps 2–7* and observe the resulting image:'
  id: totrans-279
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 跟随 *步骤 2–7* 并观察结果图像：
- en: '![A picture containing diagram'
  id: totrans-280
  prefs: []
  type: TYPE_NORMAL
  zh: '![一张包含图表的图片'
- en: Description automatically generated](img/B18435_08_37.png)
  id: totrans-281
  prefs: []
  type: TYPE_NORMAL
  zh: 自动生成的描述](img/B18435_08_37.png)
- en: 'Figure 8.37: Incorrectly delineating Null Island'
  id: totrans-282
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.37：错误的标绘空岛
- en: This interesting but incorrect image occurred because of incorrect point ordering.
    As a rule of thumb, when determining point order, select an order that would make
    sense if you were physically drawing the polygon. If you cannot draw the desired
    polygon on a sheet of paper using a given point order, neither can Tableau.
  id: totrans-283
  prefs: []
  type: TYPE_NORMAL
  zh: 这个有趣但错误的图像是由于点的顺序不正确所致。作为经验法则，在确定点的顺序时，选择一个如果你要在纸上物理绘制多边形时会合适的顺序。如果你不能按给定的点顺序在纸上绘制出所需的多边形，那么
    Tableau 也做不到。
- en: It is likely that you found completing this exercise in Tableau relatively easy.
    The challenge is in getting the data right, particularly the polygon points. A
    useful (and free) tool to generate polygon data can be found at [http://powertoolsfortableau.com/tools/drawing-tool](http://powertoolsfortableau.com/tools/drawing-tool).
    This is one of many tools created by InterWorks that are helpful to address common
    Tableau challenges.
  id: totrans-284
  prefs: []
  type: TYPE_NORMAL
  zh: 你可能会发现，在 Tableau 中完成这个练习相对简单。挑战在于确保数据正确，特别是多边形的点。一个有用（且免费的）工具，可以用来生成多边形数据，位于
    [http://powertoolsfortableau.com/tools/drawing-tool](http://powertoolsfortableau.com/tools/drawing-tool)。这是由
    InterWorks 创建的许多工具之一，旨在帮助解决常见的 Tableau 挑战。
- en: We will use it next to show which books in our library are available and which
    aren’t.
  id: totrans-285
  prefs: []
  type: TYPE_NORMAL
  zh: 我们接下来将使用它来展示我们图书馆中哪些书籍是可用的，哪些是不可用的。
- en: Creating an interactive bookshelf using polygons
  id: totrans-286
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 使用多边形创建一个互动书架
- en: 'I am not very good at drawing myself, but I always loved the fancy polygon
    backgrounds I saw on Tableau Public, having shapes of all kinds, and being able
    to have Tableau interact with them, color them depending on a measure, or link
    an action to a specific area. Did you know, for example, that the continents can
    be reshaped to build the shape of a chicken? Well, Niccolo Cirone made a Tableau
    dashboard out of it, using polygons: [https://www.theinformationlab.co.uk/2016/06/01/polygons-people-polygon-ize-image-tableau/](https://www.theinformationlab.co.uk/2016/06/01/polygons-people-polygon-ize-image-tableau/).'
  id: totrans-287
  prefs: []
  type: TYPE_NORMAL
  zh: 我自己不太擅长绘画，但我一直很喜欢在 Tableau Public 上看到的那些精美的多边形背景，形状各异，能够让 Tableau 与它们互动，按某个度量来上色，或者将某个动作链接到特定区域。比如你知道吗，五大洲的形状可以被重新塑造，做成一只鸡的形状？嗯，Niccolo
    Cirone 就是用多边形做了一个 Tableau 仪表盘：[https://www.theinformationlab.co.uk/2016/06/01/polygons-people-polygon-ize-image-tableau/](https://www.theinformationlab.co.uk/2016/06/01/polygons-people-polygon-ize-image-tableau/)。
- en: 'Do you want to build fancy dashboards too but your drawing skills are mediocre,
    just like mine? Don’t worry! This section will give you the tools to achieve it
    anyway. InterWorks has developed a tool similar to painting by numbers – the perfect
    application to build polygons without drawing too much yourself. You can find
    it here: [https://cbistudio.interworks.com](https://cbistudio.interworks.com).
    All you need to do is find an image, upload it to the tool, and start drawing
    along the lines.'
  id: totrans-288
  prefs: []
  type: TYPE_NORMAL
  zh: 你也想制作炫酷的仪表板，但你的绘图技能平平，就像我一样吗？别担心！这一部分将为你提供实现这一目标的工具。InterWorks 开发了一款类似按数字绘画的工具——这款应用非常适合构建多边形，而无需自己进行过多的绘制。你可以在这里找到它：[https://cbistudio.interworks.com](https://cbistudio.interworks.com)。你需要做的就是找到一张图片，上传到工具中，并开始沿着线条绘制。
- en: 'For this exercise, I searched for an image of a bookshelf on the internet.
    You can do the same and find an image for this exercise or download the image
    I used, which can be downloaded here: [https://github.com/PacktPublishing/Mastering-Tableau-2023-Fourth-Edition/Chapter08/bookshelf.png](https://github.com/PacktPublishing/Mastering-Tableau-2023-Fourth-Edition/Chapter08/bookshelf.png):'
  id: totrans-289
  prefs: []
  type: TYPE_NORMAL
  zh: 对于这个练习，我在互联网上搜索了一张书架的图片。你也可以做同样的事情，找到一张图片用于本次练习，或者下载我使用的这张图片，点击这里下载：[https://github.com/PacktPublishing/Mastering-Tableau-2023-Fourth-Edition/Chapter08/bookshelf.png](https://github.com/PacktPublishing/Mastering-Tableau-2023-Fourth-Edition/Chapter08/bookshelf.png)：
- en: 'Open the free drawing tool from InterWorks and select the **Images** option:'
  id: totrans-290
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开 InterWorks 提供的免费绘图工具，选择**图片**选项：
- en: '![A picture containing diagram'
  id: totrans-291
  prefs: []
  type: TYPE_NORMAL
  zh: '![一个包含图表的图片'
- en: Description automatically generated](img/B18435_08_38.png)
  id: totrans-292
  prefs: []
  type: TYPE_NORMAL
  zh: 描述自动生成](img/B18435_08_38.png)
- en: 'Figure 8.38: CBI Studio'
  id: totrans-293
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.38：CBI Studio
- en: Upload your image and select **Polygon** in the **I’M CREATING** section.
  id: totrans-294
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 上传你的图片，并在**我正在创建**部分选择**多边形**。
- en: 'Now start at the edge of one book and click. An orange dot will appear. Now
    go to the next edge of the same book and click again. A line will be drawn along
    that edge of the book and the coordinates automatically appear in the list on
    the right-hand side:'
  id: totrans-295
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在从一本书的边缘开始点击。一个橙色的点会出现。然后移动到同一本书的下一个边缘，再次点击。书的这条边缘上会绘制一条线，坐标会自动显示在右侧列表中：
- en: '![A picture containing diagram'
  id: totrans-296
  prefs: []
  type: TYPE_NORMAL
  zh: '![一个包含图表的图片'
- en: Description automatically generated](img/B18435_08_39.png)
  id: totrans-297
  prefs: []
  type: TYPE_NORMAL
  zh: 描述自动生成](img/B18435_08_39.png)
- en: 'Figure 8.39: Drawing tool'
  id: totrans-298
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.39：绘图工具
- en: 'The last dot of a book should be on top of the first dot (which is bigger than
    the rest). Hitting the first dot again will finalize the first polygon, which
    is indicated by a green color:'
  id: totrans-299
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 书籍的最后一个点应该位于第一个点的顶部（第一个点比其他点大）。再次点击第一个点将完成第一个多边形，完成的多边形会显示为绿色：
- en: '![A picture containing diagram'
  id: totrans-300
  prefs: []
  type: TYPE_NORMAL
  zh: '![一个包含图表的图片'
- en: Description automatically generated](img/B18435_08_40.png)
  id: totrans-301
  prefs: []
  type: TYPE_NORMAL
  zh: 描述自动生成](img/B18435_08_40.png)
- en: 'Figure 8.40: Finalizing the polygon'
  id: totrans-302
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.40：完成多边形
- en: The next dot you set somewhere else will get a different shape ID and, hence,
    can be distinguished as a different shape by Tableau later on. And remember, move
    along the outside of a book and avoid crossing lines.
  id: totrans-303
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你在其他地方设置的下一个点会获得一个不同的形状 ID，因此 Tableau 后续可以将其区分为一个不同的形状。记住，要沿着书的外边缘移动，并避免交叉线条。
- en: 'When you are done outlining the books, download the data in `.csv` format and
    save the file to be used as a data source in Tableau. I did so, and in addition,
    I added **Name** and **Available** columns. You can see, furthermore, the unique
    shape ID, the point ID (the order in which you clicked on the screen), and *x*
    and *y* as a representation of the location within the image:'
  id: totrans-304
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当你完成书籍轮廓的绘制后，下载数据为 `.csv` 格式，并保存该文件，用作 Tableau 的数据源。我是这么做的，另外，我还添加了**名称**和**可用**两列。你可以看到，此外，还有唯一的形状
    ID、点 ID（即你点击屏幕的顺序）以及作为位置表示的 *x* 和 *y*：
- en: '![A picture containing diagram'
  id: totrans-305
  prefs: []
  type: TYPE_NORMAL
  zh: '![一个包含图表的图片'
- en: Description automatically generated](img/B18435_08_41.png)
  id: totrans-306
  prefs: []
  type: TYPE_NORMAL
  zh: 描述自动生成](img/B18435_08_41.png)
- en: 'Figure 8.41: Excel'
  id: totrans-307
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.41：Excel
- en: 'Next, load the data in Tableau and place **X** on **Columns** and **Y** on
    **Rows**. Can you recognize the bookshelf yet? I only used four books for this
    exercise; therefore, not all show up:'
  id: totrans-308
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，在 Tableau 中加载数据，将**X**放在**列**上，将**Y**放在**行**上。你能认出书架了吗？我这次练习只用了四本书，因此并非所有书都显示出来：
- en: '![A picture containing diagram'
  id: totrans-309
  prefs: []
  type: TYPE_NORMAL
  zh: '![一个包含图表的图片'
- en: Description automatically generated](img/B18435_08_42.png)
  id: totrans-310
  prefs: []
  type: TYPE_NORMAL
  zh: 描述自动生成](img/B18435_08_42.png)
- en: 'Figure 8.42: Bookstore'
  id: totrans-311
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.42：书店
- en: 'Before we can add the image to Tableau, we need the coordinates of the outermost
    points for the Tableau settings. Simply go back to the drawing tool and measure
    the edges. Note down the **X** and **Y** coordinates for the four edges. It might
    not be exactly the corners but the below values can be roughly translated to height
    = `400` and width = `648`:'
  id: totrans-312
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在将图像添加到 Tableau 之前，我们需要获取 Tableau 设置所需的最外层点的坐标。只需回到绘图工具并测量边缘。记录下四个边的**X**和**Y**坐标。它们可能不完全是角落位置，但以下值大致可以转换为高度
    = `400` 和宽度 = `648`：
- en: '![](img/B18435_08_43.png)'
  id: totrans-313
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18435_08_43.png)'
- en: 'Figure 8.43: Drawing tool'
  id: totrans-314
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.43：绘图工具
- en: 'Back in Tableau, click on **Map** | **Background Image** and select **The bookstore….**
    In the following popup, define a name and upload the image you used in the drawing
    tool. Also fill in the coordinates for the **X** and **Y** fields to represent
    the edges of the image:'
  id: totrans-315
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 回到 Tableau，点击**地图** | **背景图像**，并选择**书店....** 在弹出的窗口中，定义名称并上传你在绘图工具中使用的图像。同时填写**X**和**Y**字段的坐标，以表示图像的边缘：
- en: '![](img/B18435_08_44.png)'
  id: totrans-316
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18435_08_44.png)'
- en: 'Figure 8.44: Edit Background Image'
  id: totrans-317
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.44：编辑背景图像
- en: 'Click on **Options** and select **Always Show Entire Image**. Then close this
    window:'
  id: totrans-318
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**选项**并选择**始终显示完整图像**。然后关闭此窗口：
- en: '![](img/B18435_08_45.png)'
  id: totrans-319
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18435_08_45.png)'
- en: 'Figure 8.45: Edit Background Image options'
  id: totrans-320
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.45：编辑背景图像选项
- en: 'Your image should appear on your worksheet now, with matching dots surrounding
    the books:'
  id: totrans-321
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，你的图像应该出现在工作表上，书籍周围有匹配的点：
- en: '![](img/B18435_08_46.png)'
  id: totrans-322
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18435_08_46.png)'
- en: 'Figure 8.46: Bookshelf with dots'
  id: totrans-323
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.46：带点的书架
- en: 'To create a surrounding line instead of dots, change the mark type to **Line**
    and place **Shape Id** on **Detail** and **Point Id** on **Path**:'
  id: totrans-324
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要创建一个围绕线条而不是点的效果，将标记类型更改为**线条**，并将**形状 ID**放置在**详细信息**上，将**点 ID**放置在**路径**上：
- en: '![](img/B18435_08_47.png)'
  id: totrans-325
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18435_08_47.png)'
- en: 'Figure 8.47: Bookshelf with lines'
  id: totrans-326
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.47：带线条的书架
- en: To create a polygon, change the mark type to **Polygon** and set **Opacity**
    in the **Color** shelf to **0%**.
  id: totrans-327
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要创建一个多边形，将标记类型更改为**多边形**，并将**颜色**架上的**不透明度**设置为**0%**。
- en: 'In addition, you can add a tooltip with the book name and availability after
    placing both fields on the **Detail** shelf:'
  id: totrans-328
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 此外，在将书名和可用性这两个字段放置到**详细信息**架上后，你还可以添加一个带有书名和可用性的工具提示：
- en: '![](img/B18435_08_48.png)'
  id: totrans-329
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18435_08_48.png)'
- en: 'Figure 8.48: Edit tooltip'
  id: totrans-330
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.48：编辑工具提示
- en: 'If you hover over the books, you can see the name as well as the availability:'
  id: totrans-331
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果你将鼠标悬停在书籍上，你可以看到书名和可用性：
- en: '![](img/B18435_08_49.png)'
  id: totrans-332
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18435_08_49.png)'
- en: 'Figure 8.49: Using a tooltip'
  id: totrans-333
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.49：使用工具提示
- en: The best part about polygons is that they fill the whole area. In this example,
    no matter where you hover or click, the complete back of the book is covered because
    we drew an area rather than a point or a certain default shape. And this comes
    with endless options; imagine a big library where every book is a polygon, and
    you can connect live data to the polygon dataset with the up-to-date availability
    of any book. Aside from books, you can draw anything. What I have seen most in
    Tableau are floor plans, supermarket shelves, office layouts, shapes split into
    parts… polygons really allow you to get creative with your visualizations.
  id: totrans-334
  prefs: []
  type: TYPE_NORMAL
  zh: 多边形最棒的地方在于它们填充了整个区域。在这个例子中，无论你将鼠标悬停在哪里或点击哪里，书籍的完整背面都会被覆盖，因为我们绘制的是一个区域，而不是一个点或某个默认形状。这带来了无尽的选择；想象一下，一个大型图书馆，每本书都是一个多边形，你可以将实时数据连接到多边形数据集，随时获取任何书籍的可用性。除了书籍，你还可以绘制任何东西。我在
    Tableau 中最常见的是平面图、超市货架、办公室布局、分割成部分的形状……多边形真的是让你在数据可视化中尽情发挥创造力。
- en: If you don’t have an image at hand and you want to draw something very specific
    to your dashboard, you can use paid or free software like Adobe Illustrator Draw,
    Sketch, Sketsa SVG Editor, Boxy SVG, Gravit Designer, Vecteezy Editor, Vectr,
    Method Draw, Inkpad, iDesign, Affinity Designer, macSVG, Chartist.js, Plain Pattern,
    Inkscape, and many others.
  id: totrans-335
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你手头没有图像，而你又想绘制一些非常具体的内容到你的仪表板中，可以使用付费或免费的软件，如 Adobe Illustrator Draw、Sketch、Sketsa
    SVG Editor、Boxy SVG、Gravit Designer、Vecteezy Editor、Vectr、Method Draw、Inkpad、iDesign、Affinity
    Designer、macSVG、Chartist.js、Plain Pattern、Inkscape 等等。
- en: 'Let us take our dashboard one step further before we move on:'
  id: totrans-336
  prefs: []
  type: TYPE_NORMAL
  zh: 在继续之前，让我们将仪表板再推进一步：
- en: Right-click on **Name** | **Aliases…**
  id: totrans-337
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 右键点击**名称** | **别名...**
- en: 'Change the book as shown here and click **OK**:'
  id: totrans-338
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 按照这里所示的方式更改书籍并点击**确定**：
- en: '![](img/B18435_08_50.png)'
  id: totrans-339
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18435_08_50.png)'
- en: 'Figure 8.50: Picking another book'
  id: totrans-340
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.50：选择另一本书
- en: Remove the **X** and **Y** axis of `The Bookstore` worksheet.
  id: totrans-341
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 移除`书店`工作表的**X**和**Y**轴。
- en: 'Open a dashboard tab and call it **The Bookstore**:'
  id: totrans-342
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开一个仪表板标签并命名为**书店**：
- en: '![](img/B18435_08_51.png)'
  id: totrans-343
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18435_08_51.png)'
- en: 'Figure 8.51: URL'
  id: totrans-344
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.51：URL
- en: 'Drag `The Bookstore` worksheet into the upper part of the dashboard and the
    **Web Page** object into the bottom half. Type into the URL popup: [https://en.wikipedia.org/wiki/](https://en.wikipedia.org/wiki/).'
  id: totrans-345
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将`The Bookstore`工作表拖到仪表板的上半部分，将**网页**对象拖到下半部分。在 URL 弹出框中输入：[https://en.wikipedia.org/wiki/](https://en.wikipedia.org/wiki/)。
- en: Select the **Web Page Object** and click on the arrow; choose **Add URL Action…**
  id: totrans-346
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择**网页对象**并点击箭头；选择**添加 URL 操作…**
- en: '![](img/B18435_08_52.png)'
  id: totrans-347
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18435_08_52.png)'
- en: 'Figure 8.52: Add URL Action…'
  id: totrans-348
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.52：添加 URL 操作…
- en: 'In the **Actions** window, add **Name** to the URL by selecting this field
    from the arrow dropdown:'
  id: totrans-349
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**操作**窗口中，通过从箭头下拉框中选择此字段，添加**名称**到 URL：
- en: '![](img/B18435_08_53.png)'
  id: totrans-350
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18435_08_53.png)'
- en: 'Figure 8.53: Description filter'
  id: totrans-351
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.53：描述过滤器
- en: 'Click **OK** and select the different books to see the Wikipedia entry changing
    in your dashboard:'
  id: totrans-352
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**确定**，然后选择不同的书籍，查看仪表板中的 Wikipedia 条目变化：
- en: '![](img/B18435_08_54.png)'
  id: totrans-353
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18435_08_54.png)'
- en: 'Figure 8.54: Wikipedia'
  id: totrans-354
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.54：Wikipedia
- en: I am sure you have a ton of ideas by now about what to do with polygons. Perhaps
    you would like to analyze a game of chess? We will do that next!
  id: totrans-355
  prefs: []
  type: TYPE_NORMAL
  zh: 我相信你现在有很多想法想用多边形做些什么。或许你想分析一盘棋局？我们接下来就做这个！
- en: Analyzing a game of chess in Tableau
  id: totrans-356
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 在 Tableau 中分析棋局
- en: In this exercise, we will use Inkscape. But instead of drawing something in
    one of the tools, transforming it into polygons, and loading it in Tableau, we
    will create the code for an SVG file in Tableau, load it in Inkscape to see if
    it worked, then transform it into polygons, and load the converted version with
    *x* and *y* coordinates back into Tableau to analyze a game of chess. By creating
    an SVG file yourself, you will be able to recognize which **X** and **Y** coordinates
    Tableau needs, and thus, you will always be able to transform SVGs.
  id: totrans-357
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个练习中，我们将使用 Inkscape。但与其在某个工具中绘制某物，将其转换为多边形，并加载到 Tableau 中，我们将在 Tableau 中创建
    SVG 文件的代码，加载到 Inkscape 中查看是否成功，然后将其转换为多边形，再将转换后的版本带有 *x* 和 *y* 坐标的数据加载回 Tableau，用于分析一盘棋局。通过自己创建
    SVG 文件，你将能够识别 Tableau 所需的**X**和**Y**坐标，因此你将始终能够转换 SVG 文件。
- en: Creating an SVG file in Tableau
  id: totrans-358
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 在 Tableau 中创建 SVG 文件
- en: 'In this section, we will use Tableau to generate the XML required to construct
    an SVG file that can be opened with the vector graphic tool Inkscape, which is
    open source and is, thus, available free of charge. Visit [inkscape.org](http://inkscape.org)
    to download the latest version. We will also need the `Chessboard.png` image,
    available on the Packt GitHub page: [https://github.com/PacktPublishing/Mastering-Tableau-2023-Fourth-Edition/Chapter08/Chessboard.png](https://github.com/PacktPublishing/Mastering-Tableau-2023-Fourth-Edition/Chapter08/Chessboard.png).
    Please download that one as well.'
  id: totrans-359
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们将使用 Tableau 生成构建 SVG 文件所需的 XML，这个文件可以用开源的矢量图形工具 Inkscape 打开，Inkscape
    是免费的。请访问 [inkscape.org](http://inkscape.org) 下载最新版本。我们还需要 `Chessboard.png` 图像，图像可以在
    Packt 的 GitHub 页面找到：[https://github.com/PacktPublishing/Mastering-Tableau-2023-Fourth-Edition/Chapter08/Chessboard.png](https://github.com/PacktPublishing/Mastering-Tableau-2023-Fourth-Edition/Chapter08/Chessboard.png)。请也下载此文件。
- en: Usually, polygons show their power even more when used in non-linear drawings.
    Our chessboard, however, is a good example in this case, because we will create
    the locations used by Tableau ourselves – creating a square is easier than a more
    complex shape because we can work with increments. Note that a grid with 10 rows
    and 10 columns is used in the following examples, which of course generates a
    grid of 100 cells. This will perform satisfactorily in Inkscape. However, if a
    large cell count is required, a professional graphics tool such as Adobe Illustrator
    may be required.
  id: totrans-360
  prefs: []
  type: TYPE_NORMAL
  zh: 通常，多边形在非线性图形中显示出更强大的作用。然而，在此案例中，我们的棋盘是一个很好的示例，因为我们将自己创建 Tableau 使用的位置——创建一个正方形比创建一个复杂形状更容易，因为我们可以使用增量。请注意，以下示例中使用了一个包含
    10 行 10 列的网格，这当然会生成一个 100 个单元格的网格。在 Inkscape 中，这个网格的表现是令人满意的。然而，如果需要更大的单元格数量，可能需要像
    Adobe Illustrator 这样的专业图形工具。
- en: Creating a grid
  id: totrans-361
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 创建网格
- en: The following exercise serves multiple purposes. The first purpose is to demonstrate
    how to use Tableau to create a grid. This chapter provides another opportunity
    to use data scaffolding, which was discussed in *Chapter 4*, *Learning about Joins,
    Blends, and Data Structures*. The difference is that in that chapter, dates were
    used for scaffolding purposes, whereas in the following section, bins are utilized.
    Additionally, this exercise requires many table calculations that will help reinforce
    the lessons learned in *Chapter 5*, *Introducing Table Calculations*. Lastly,
    this exercise makes use of data densification, which was discussed in *Chapter
    6*, *Utilizing OData, Data Densification, Big Data, Google BigQuery.*
  id: totrans-362
  prefs: []
  type: TYPE_NORMAL
  zh: 以下练习具有多个目的。第一个目的是展示如何使用 Tableau 创建网格。本章提供了再次使用数据搭建框架的机会，数据搭建框架在*第4章*《学习连接、混合与数据结构》中有所讨论。不同之处在于，在那一章中，使用了日期来进行框架搭建，而在以下部分中，则使用了分箱（bins）。此外，本练习需要进行许多表计算，这些计算有助于巩固在*第5章*《介绍表计算》中学到的知识。最后，本练习利用了数据密集化，这在*第6章*《利用
    OData、数据密集化、大数据和 Google BigQuery》中有讨论。
- en: 'To get started, take the following steps:'
  id: totrans-363
  prefs: []
  type: TYPE_NORMAL
  zh: 要开始操作，请执行以下步骤：
- en: Open a new Tableau workbook and name the first sheet **Header**.
  id: totrans-364
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开一个新的 Tableau 工作簿，并将第一个工作表命名为**Header**。
- en: 'Using Excel or a text editor, create a **Records** dataset. The following two-row
    table represents the **Records** dataset in its entirety:'
  id: totrans-365
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用 Excel 或文本编辑器创建一个**记录**数据集。以下的两行数据表表示**记录**数据集的完整内容：
- en: '![](img/B18435_08_55.png)'
  id: totrans-366
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18435_08_55.png)'
- en: 'Figure 8.55: Excel'
  id: totrans-367
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.55：Excel
- en: 'Connect Tableau to the **Records** dataset:'
  id: totrans-368
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将 Tableau 连接到**记录**数据集：
- en: For convenience, consider copying the dataset using *Ctrl* + *C* and pasting
    it directly into Tableau using *Ctrl* + *V*.
  id: totrans-369
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 为了方便起见，可以考虑使用*Ctrl* + *C* 复制数据集，并使用 *Ctrl* + *V* 直接粘贴到 Tableau 中。
- en: Tableau will likely consider **Records** a measure. Drag **Records** to the
    **Dimensions** portion of the **Data** pane.
  id: totrans-370
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: Tableau 很可能将**记录**视为度量。将**记录**拖到**数据**窗格的**维度**部分。
- en: 'Create two parameters. Name one `Overall Pixel Count` and the other `Rows Down/Columns
    Across`. The settings for both are as follows:'
  id: totrans-371
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建两个参数。一个命名为 `Overall Pixel Count`，另一个命名为 `Rows Down/Columns Across`。两个参数的设置如下：
- en: 'Data type: **Integer**'
  id: totrans-372
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 数据类型：**整数**
- en: 'Allowable values: **All**'
  id: totrans-373
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 允许值：**所有**
- en: 'Show both parameters. Set **Rows Down/Columns Across** to `10` and **Overall**
    **Pixel Count** to `1,000`:'
  id: totrans-374
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 显示两个参数。将**Rows Down/Columns Across** 设置为 `10`，并将**Overall Pixel Count** 设置为
    `1,000`：
- en: '![](img/B18435_08_56.png)'
  id: totrans-375
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18435_08_56.png)'
- en: 'Figure 8.56: Showing the parameter'
  id: totrans-376
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.56：显示参数
- en: 'Create a calculated field named `Concatenate Header` with the following code:'
  id: totrans-377
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个名为 `Concatenate Header` 的计算字段，并使用以下代码：
- en: '[PRE10]'
  id: totrans-378
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE10]'
- en: Note that entering line breaks in the **Calculated Field** dialog box may make
    the results difficult to extract from Tableau. In other words, remove all line
    breaks.
  id: totrans-379
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 请注意，在**计算字段**对话框中输入换行符可能会导致从 Tableau 中提取结果时出现困难。换句话说，删除所有换行符。
- en: Now we have created a skeleton or template that will help us create multiple
    locations in order to draw a grid in Tableau.
  id: totrans-380
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，我们已经创建了一个框架或模板，它将帮助我们创建多个位置，以便在 Tableau 中绘制网格。
- en: Place the newly created calculated field on the **Text** shelf.
  id: totrans-381
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将新创建的计算字段放置在**文本**架上。
- en: 'In the toolbar, choose to fit to **Entire View** to view the results; you can
    see that the parameters fill in **STR([Overall Pixel Count])** from **Concatenate
    Header**:'
  id: totrans-382
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在工具栏中选择适应**整个视图**来查看结果；你可以看到参数填充了**STR([Overall Pixel Count])** 来自 **Concatenate
    Header**：
- en: '![](img/B18435_08_57.png)'
  id: totrans-383
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18435_08_57.png)'
- en: 'Figure 8.57: Concatenate Header'
  id: totrans-384
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.57：Concatenate Header
- en: Create a new worksheet named **Location Codes**.
  id: totrans-385
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个新工作表，命名为**位置代码**。
- en: 'Create the following calculated fields:'
  id: totrans-386
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建以下计算字段：
- en: '| **Name** | **Code** |'
  id: totrans-387
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| **Name** | **Code** |'
- en: '| `Rows Down/Columns Across` |'
  id: totrans-388
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| `Rows Down/Columns Across` |'
- en: '[PRE11]'
  id: totrans-389
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE11]'
- en: '|'
  id: totrans-390
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '|'
- en: '| `Which Column?` |'
  id: totrans-391
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| `Which Column?` |'
- en: '[PRE12]'
  id: totrans-392
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE12]'
- en: '|'
  id: totrans-393
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '|'
- en: '| `Which Row?` |'
  id: totrans-394
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| `Which Row?` |'
- en: '[PRE13]'
  id: totrans-395
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE13]'
- en: '|'
  id: totrans-396
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '|'
- en: '| `Grid Size` |'
  id: totrans-397
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| `Grid Size` |'
- en: '[PRE14]'
  id: totrans-398
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE14]'
- en: '|'
  id: totrans-399
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '|'
- en: '| `X` |'
  id: totrans-400
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| `X` |'
- en: '[PRE15]'
  id: totrans-401
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE15]'
- en: '|'
  id: totrans-402
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '|'
- en: '| `Y` |'
  id: totrans-403
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| `Y` |'
- en: '[PRE16]'
  id: totrans-404
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE16]'
- en: '|'
  id: totrans-405
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '|'
- en: '| `Count` |'
  id: totrans-406
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| `Count` |'
- en: '[PRE17]'
  id: totrans-407
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE17]'
- en: '|'
  id: totrans-408
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '|'
- en: '| `Decicount` |'
  id: totrans-409
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| `Decicount` |'
- en: '[PRE18]'
  id: totrans-410
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE18]'
- en: '|'
  id: totrans-411
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '|'
- en: '| `Location Codes` |'
  id: totrans-412
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| `Location Codes` |'
- en: '[PRE19]'
  id: totrans-413
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE19]'
- en: '|'
  id: totrans-414
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '|'
- en: '| `Concatenate Locations` |'
  id: totrans-415
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| `Concatenate Locations` |'
- en: '[PRE20]'
  id: totrans-416
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE20]'
- en: '|'
  id: totrans-417
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '|'
- en: The created calculated fields will be used in the next steps to create a table
    of values, similar to the table of values that we generated in the drawing tool.
    Only now, we will do it ourselves and use SVG code instead of longitude and latitude
    values.
  id: totrans-418
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建的计算字段将在接下来的步骤中用于创建一个值表，类似于我们在绘图工具中生成的值表。只不过现在我们将自己完成这一步，并使用 SVG 代码代替经度和纬度值。
- en: 'Right-click on **Count** and select **Create** | **Bins**. In the resulting
    dialog box, set **Size of bins** to **1**:'
  id: totrans-419
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 右键点击**Count**并选择**创建** | **分箱**。在弹出的对话框中，将**分箱大小**设置为**1**：
- en: '![](img/B18435_08_58.png)'
  id: totrans-420
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18435_08_58.png)'
- en: 'Figure 8.58: Count bin'
  id: totrans-421
  prefs: []
  type: TYPE_NORMAL
  zh: '图 8.58: 计数区间'
- en: 'Right-click on **Decicount** and select **Create** | **Bins**. In the resulting
    dialog box, set **Size of bins** to **1**:'
  id: totrans-422
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 右键点击**十进制计数**并选择**创建** | **区间**。在弹出的对话框中，将**区间大小**设置为**1**：
- en: '![](img/B18435_08_59.png)'
  id: totrans-423
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18435_08_59.png)'
- en: 'Figure 8.59: Count bin II'
  id: totrans-424
  prefs: []
  type: TYPE_NORMAL
  zh: '图 8.59: 计数区间 II'
- en: Place **Count (bin)**, **Decicount (bin)**, **Location Codes**, **X**, and **Y**
    on the **Rows** shelf. Be sure to place those fields in the order listed.
  id: totrans-425
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将**计数（区间）**、**十进制计数（区间）**、**位置代码**、**X**和**Y**放置在**行**架上。确保按照列出的顺序放置这些字段。
- en: 'If your fields are green (meaning continuous), right-click on each field on
    the **Rows** shelf and set it to **Discrete**. Then:'
  id: totrans-426
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果你的字段是绿色的（表示连续），右键点击每个字段并将其设置为**离散**。然后：
- en: Right-click on **Count (bin)** and **Decicount (bin)** and ensure that **Show
    Missing Values** is selected
  id: totrans-427
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 右键点击**计数（区间）**和**十进制计数（区间）**，并确保**显示缺失值**已被选中
- en: Right-click on **Location Codes** and select **Compute Using** | **Table (Down)**
  id: totrans-428
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 右键点击**位置代码**并选择**使用计算** | **表格（向下）**
- en: Set the **Compute Using** value for **X** to **Count (bin)**
  id: totrans-429
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将**X**的**使用计算**值设置为**计数（区间）**
- en: Set the **Compute Using** value for **Y** to **Decicount (bin)**![](img/B18435_08_60.png)
  id: totrans-430
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将**Y**的**使用计算**值设置为**十进制计数（区间）**！[](img/B18435_08_60.png)
- en: 'Figure 8.60: Location Codes worksheet'
  id: totrans-431
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '图 8.60: 位置代码工作表'
- en: Place **Concatenate Locations** on the **Text** shelf.
  id: totrans-432
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将**连接位置**放置在**文本**架上。
- en: Right-click on the instance of **Concatenate Locations** you just placed on
    the **Text** shelf and select **Edit Table Calculations**.
  id: totrans-433
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 右键点击刚刚放置在**文本**架上的**连接位置**实例并选择**编辑表格计算**。
- en: 'At the top of the resulting dialog box, note that there are four options under
    **Nested Calculations**: **Grid Size**, **Which Column?**, **Which Row?**, and
    **Location Codes**. Set the **Compute Using** definition for each as follows:'
  id: totrans-434
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在弹出的对话框顶部，可以看到有四个选项在**嵌套计算**下：**网格大小**、**哪个列？**、**哪个行？**和**位置代码**。为每个选项设置**使用计算**定义如下：
- en: '**Nested Calculations**: **Grid Size** > **Compute Using**: **Table (down)**'
  id: totrans-435
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**嵌套计算**: **网格大小** > **使用计算**: **表格（向下）**'
- en: '**Nested Calculations**: **Which Column?** > **Compute Using: Specific Dimensions**:
    **Decicount (bin)** > **move this dimension to the top**'
  id: totrans-436
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**嵌套计算**: **哪个列？** > **使用计算：特定维度**: **十进制计数（区间）** > **将此维度移至顶部**'
- en: '**Nested Calculations**: **Which Row?** > **Compute Using: Specific Dimensions**:
    **Count (bin)** > **move this dimension to the top**'
  id: totrans-437
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**嵌套计算**: **哪个行？** > **使用计算：特定维度**: **计数（区间）** > **将此维度移至顶部**'
- en: '**Nested Calculations**: **Location Codes** > **Compute Using**: **Table (down)**'
  id: totrans-438
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**嵌套计算**: **位置代码** > **使用计算**: **表格（向下）**'
- en: 'In the toolbar, choose **Fit Width** to view the results; you can already see
    that multiple rows have been created. Those rows will later be used to draw a
    grid:'
  id: totrans-439
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在工具栏中选择**适应宽度**以查看结果；你可以看到多个行已经被创建。这些行稍后将用于绘制网格：
- en: '![](img/B18435_08_61.png)'
  id: totrans-440
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18435_08_61.png)'
- en: 'Figure 8.61: Fit width'
  id: totrans-441
  prefs: []
  type: TYPE_NORMAL
  zh: '图 8.61: 适应宽度'
- en: Now, create a new worksheet named **Lines**.
  id: totrans-442
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，创建一个名为**Lines**的新工作表。
- en: 'Create the following calculated fields:'
  id: totrans-443
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建以下计算字段：
- en: '| **Name** | **Compute Using Setting** |'
  id: totrans-444
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| **名称** | **使用计算设置** |'
- en: '| `H Then V` |'
  id: totrans-445
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| `H Then V` |'
- en: '[PRE21]'
  id: totrans-446
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE21]'
- en: '|'
  id: totrans-447
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '|'
- en: '| `HLine` |'
  id: totrans-448
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| `HLine` |'
- en: '[PRE22]'
  id: totrans-449
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE22]'
- en: '|'
  id: totrans-450
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '|'
- en: '| `VLine` |'
  id: totrans-451
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| `VLine` |'
- en: '[PRE23]'
  id: totrans-452
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE23]'
- en: '|'
  id: totrans-453
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '|'
- en: '| `X1` |'
  id: totrans-454
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| `X1` |'
- en: '[PRE24]'
  id: totrans-455
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE24]'
- en: '|'
  id: totrans-456
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '|'
- en: '| `Y1` |'
  id: totrans-457
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| `Y1` |'
- en: '[PRE25]'
  id: totrans-458
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE25]'
- en: '|'
  id: totrans-459
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '|'
- en: '| `X2` |'
  id: totrans-460
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| `X2` |'
- en: '[PRE26]'
  id: totrans-461
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE26]'
- en: '|'
  id: totrans-462
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '|'
- en: '| `Y2` |'
  id: totrans-463
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| `Y2` |'
- en: '[PRE27]'
  id: totrans-464
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE27]'
- en: '|'
  id: totrans-465
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '|'
- en: 'Next, place the following fields on the **Rows** shelf in the following order:
    **Count (bin)**, **Decicount (bin)**, **H Then V**, **HLine**, **VLine**, **Grid
    Size**, **Which Column?**, **X1, Y1**, **X2**, and **Y2**. Note that each should
    be cast as discrete.'
  id: totrans-466
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，将以下字段按顺序放置在**行**架上：**计数（区间）**、**十进制计数（区间）**、**H Then V**、**HLine**、**VLine**、**网格大小**、**哪个列？**、**X1,
    Y1**、**X2**和**Y2**。请注意，每个字段应设置为离散型。
- en: Right-click on **Count(bin)** and **Decicount(bin)** and set each to **Show**
    **Missing Values**.
  id: totrans-467
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 右键点击**计数（区间）**和**十进制计数（区间）**，并设置每个字段为**显示缺失值**。
- en: 'Right-click on each of the remaining fields on the **Rows** shelf and select
    **Edit Table Calculations**. Set the **Compute Using** definition of each field
    as shown in the following table:'
  id: totrans-468
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 右键点击**行**架上剩余的每个字段并选择**编辑表格计算**。根据下表设置每个字段的**使用计算**定义：
- en: '| **Name** | **Nested Calculations** | **Compute Using Setting** |'
  id: totrans-469
  prefs: []
  type: TYPE_TB
  zh: '| **名称** | **嵌套计算** | **使用设置进行计算** |'
- en: '| `H Then V` | `N/A` |'
  id: totrans-470
  prefs: []
  type: TYPE_TB
  zh: '| `H Then V` | `N/A` |'
- en: '[PRE28]'
  id: totrans-471
  prefs: []
  type: TYPE_PRE
  zh: '[PRE28]'
- en: '|'
  id: totrans-472
  prefs: []
  type: TYPE_NORMAL
  zh: '|'
- en: '| `HLine` | `N/A` |'
  id: totrans-473
  prefs: []
  type: TYPE_TB
  zh: '| `HLine` | `N/A` |'
- en: '[PRE29]'
  id: totrans-474
  prefs: []
  type: TYPE_PRE
  zh: '[PRE29]'
- en: '|'
  id: totrans-475
  prefs: []
  type: TYPE_NORMAL
  zh: '|'
- en: '| `VLine` | `N/A` |'
  id: totrans-476
  prefs: []
  type: TYPE_TB
  zh: '| `VLine` | `N/A` |'
- en: '[PRE30]'
  id: totrans-477
  prefs: []
  type: TYPE_PRE
  zh: '[PRE30]'
- en: '|'
  id: totrans-478
  prefs: []
  type: TYPE_NORMAL
  zh: '|'
- en: '| `Grid Size` | `Grid Size` |'
  id: totrans-479
  prefs: []
  type: TYPE_TB
  zh: '| `网格大小` | `网格大小` |'
- en: '[PRE31]'
  id: totrans-480
  prefs: []
  type: TYPE_PRE
  zh: '[PRE31]'
- en: '|'
  id: totrans-481
  prefs: []
  type: TYPE_NORMAL
  zh: '|'
- en: '| `Grid Size` | `Which Column?` |'
  id: totrans-482
  prefs: []
  type: TYPE_TB
  zh: '| `网格大小` | `哪个列？` |'
- en: '[PRE32]'
  id: totrans-483
  prefs: []
  type: TYPE_PRE
  zh: '[PRE32]'
- en: '|'
  id: totrans-484
  prefs: []
  type: TYPE_NORMAL
  zh: '|'
- en: '| `X1, Y1, X2, Y2` | `H Then V` |'
  id: totrans-485
  prefs: []
  type: TYPE_TB
  zh: '| `X1, Y1, X2, Y2` | `H Then V` |'
- en: '[PRE33]'
  id: totrans-486
  prefs: []
  type: TYPE_PRE
  zh: '[PRE33]'
- en: '|'
  id: totrans-487
  prefs: []
  type: TYPE_NORMAL
  zh: '|'
- en: '| `X1, Y1, X2, Y2` | `Grid Size` |'
  id: totrans-488
  prefs: []
  type: TYPE_TB
  zh: '| `X1, Y1, X2, Y2` | `网格大小` |'
- en: '[PRE34]'
  id: totrans-489
  prefs: []
  type: TYPE_PRE
  zh: '[PRE34]'
- en: '|'
  id: totrans-490
  prefs: []
  type: TYPE_NORMAL
  zh: '|'
- en: '| `X1, Y1, X2, Y2` | `Which Column?` |'
  id: totrans-491
  prefs: []
  type: TYPE_TB
  zh: '| `X1, Y1, X2, Y2` | `选择列？` |'
- en: '[PRE35]'
  id: totrans-492
  prefs: []
  type: TYPE_PRE
  zh: '[PRE35]'
- en: '|'
  id: totrans-493
  prefs: []
  type: TYPE_NORMAL
  zh: '|'
- en: '| `X1, Y1, X2, Y2` | `VLine` |'
  id: totrans-494
  prefs: []
  type: TYPE_TB
  zh: '| `X1, Y1, X2, Y2` | `VLine` |'
- en: '[PRE36]'
  id: totrans-495
  prefs: []
  type: TYPE_PRE
  zh: '[PRE36]'
- en: '|'
  id: totrans-496
  prefs: []
  type: TYPE_NORMAL
  zh: '|'
- en: 'Note that some of the fields include nested table calculations. In such cases,
    the **Table Calculation** dialog box will include an extra option at the top entitled
    **Nested Calculations**:'
  id: totrans-497
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 请注意，一些字段包含嵌套表计算。在这种情况下，**表计算**对话框的顶部将包含一个额外的选项，名为**嵌套计算**：
- en: '![](img/B18435_08_62.png)'
  id: totrans-498
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18435_08_62.png)'
- en: 'Figure 8.62: Nested calculation'
  id: totrans-499
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.62：嵌套计算
- en: '**X1**, **X2**, **Y1**, and **Y2** need to be configured for four nested calculations.
    Start by opening the **X1** table calculation and then selecting **H Then V**
    from the **Nested Calculations** dropdown, and set **Compute Using** to **Count
    (bin)**. Then, in the same window, select **Grid Size** from the dropdown and
    enter the corresponding **Compute Using** setting. After all four dropdowns have
    been set, continue with **X2** and do the same.'
  id: totrans-500
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**X1**、**X2**、**Y1**和**Y2**需要为四个嵌套计算进行配置。首先打开**X1**的表格计算，然后从**嵌套计算**下拉菜单中选择**H
    Then V**，并将**计算方式**设置为**计数（分箱）**。然后，在同一窗口中，从下拉菜单中选择**网格大小**，并输入相应的**计算方式**设置。设置好所有四个下拉菜单后，继续进行**X2**并做相同的设置。'
- en: Filter **H Then V** to display only **1** and **2**.
  id: totrans-501
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 过滤**H Then V**以仅显示**1**和**2**。
- en: 'Create a calculated field called `Concatenate Lines` with the following code:'
  id: totrans-502
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个名为`Concatenate Lines`的计算字段，代码如下：
- en: '[PRE37]'
  id: totrans-503
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE37]'
- en: This calculation will create a new string by including the fields **X1**, **X2**,
    **Y1**, and **Y2**. By doing so we multiply one row of code by as many rows as
    we want, each with a specific combination of **X1**, **X2**, **Y1**, and **Y2**.
  id: totrans-504
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 此计算将通过包括**X1**、**X2**、**Y1**和**Y2**字段创建一个新字符串。通过这样做，我们将一行代码乘以所需的行数，每行包含一个特定的**X1**、**X2**、**Y1**和**Y2**组合。
- en: 'Place **Concatenate Lines** on the **Text** shelf. Your worksheet should look
    as follows:'
  id: totrans-505
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将**Concatenate Lines**放置在**文本**货架上。您的工作表应如下所示：
- en: '![](img/B18435_08_63.png)'
  id: totrans-506
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18435_08_63.png)'
- en: 'Figure 8.63: Concatenate Lines'
  id: totrans-507
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.63：连接行
- en: Export the code from the three worksheets just created.
  id: totrans-508
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 导出刚刚创建的三个工作表的代码。
- en: 'Exporting the code from the three worksheets can be tricky since Tableau may
    try to input additional quotes for string values. I found the following approach
    works best:'
  id: totrans-509
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 从三个工作表导出代码可能会比较棘手，因为 Tableau 可能会尝试为字符串值输入额外的引号。我发现以下方法效果最好：
- en: Select **1** in the **Count (bin)** Rows
  id: totrans-510
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**计数（分箱）**行中选择**1**。
- en: Press *Ctrl* + *A* (*Command* + *A* for Mac) to select all the contents of the
    worksheet.
  id: totrans-511
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 按*Ctrl* + *A*（Mac 上为*Command* + *A*）选择工作表的所有内容。
- en: Hover the cursor over the selected text in the view and pause until the tooltip
    command buttons appear.
  id: totrans-512
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将光标悬停在视图中选定的文本上，停留片刻，直到工具提示命令按钮出现。
- en: Select the **View Data** icon at the right-hand side of the tooltip.
  id: totrans-513
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在工具提示的右侧选择**查看数据**图标。
- en: In the resulting **View Data** dialog box, select **Export All**.
  id: totrans-514
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在结果的**查看数据**对话框中，选择**导出所有**。
- en: Save the CSV file using the same name as each worksheet; for instance, the data
    exported from the `Header` worksheet will be named `Header.csv`.
  id: totrans-515
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用与每个工作表相同的名称保存 CSV 文件；例如，从 `Header` 工作表导出的数据将命名为 `Header.csv`。
- en: Repeat the steps for the remaining worksheets **Header** and **Location Codes**.
  id: totrans-516
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对其余工作表**Header**和**Location Codes**重复这些步骤。
- en: Open an instance of your favorite text editor and save it as `Grid and LocationCodes.svg`.
  id: totrans-517
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开您最喜欢的文本编辑器实例，并将其保存为 `Grid and LocationCodes.svg`。
- en: 'Copy the data from the previously exported and saved `Header.csv` and paste
    it into `Grid and LocationCodes.svg`. Be sure not to include the header information;
    include only the XML code. For example, in the next screenshot, don’t copy row
    **1**, only copy row **2**:'
  id: totrans-518
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从先前导出并保存的 `Header.csv` 中复制数据，并将其粘贴到 `Grid and LocationCodes.svg` 中。确保不要包含标题信息；仅包括
    XML 代码。例如，在下图中，不要复制**第1行**，只复制**第2行**：
- en: '![](img/B18435_08_64.png)'
  id: totrans-519
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18435_08_64.png)'
- en: 'Figure 8.64: Excel'
  id: totrans-520
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.64：Excel
- en: 'Using Excel, copy the required data from `Location.csv` and paste it into `Grid
    and LocationCodes.svg`. The required data only includes the column labeled `Concatenate
    Locations`. Do not include the other columns or the header. Include only the XML
    code. For example, in the following screenshot, we only copy column **F**:'
  id: totrans-521
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用 Excel，从 `Location.csv` 中复制所需数据，并将其粘贴到 `Grid and LocationCodes.svg` 中。所需的数据仅包括标记为`Concatenate
    Locations`的列。不要包括其他列或标题。仅包括 XML 代码。例如，在下图中，我们只复制**F**列：
- en: '![](img/B18435_08_65.png)'
  id: totrans-522
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18435_08_65.png)'
- en: 'Figure 8.65: Excel II'
  id: totrans-523
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.65：Excel II
- en: Using Excel, copy the required data from `Lines.csv` and paste it into `Grid
    and LocationCodes.svg`. Again, the required data only includes the column labeled
    `Concatenate Lines`. Do not include the other columns or the header, only the
    XML code.
  id: totrans-524
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用 Excel，将所需的数据从`Lines.csv`复制并粘贴到`Grid and LocationCodes.svg`中。同样，所需的数据仅包括标有`Concatenate
    Lines`的列。不要包括其他列或标题，仅包含 XML 代码。
- en: 'Lastly, complete the SVG file by entering the `</svg>` closing tag. The full
    code has been added for your convenience on the **Generated SVG Code** tab:'
  id: totrans-525
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 最后，完成 SVG 文件，输入`</svg>`结束标签。完整的代码已经为您提供，位于**生成的 SVG 代码**标签中：
- en: '![](img/B18435_08_66.png)'
  id: totrans-526
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18435_08_66.png)'
- en: 'Figure 8.66: Full code'
  id: totrans-527
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.66：完整代码
- en: 'Now, open the SVG file in Inkscape ([https://inkscape.org/](https://inkscape.org/))
    and observe the grid:'
  id: totrans-528
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，在 Inkscape 中打开 SVG 文件 ([https://inkscape.org/](https://inkscape.org/)) 并观察网格：
- en: '![](img/Image15955.png)'
  id: totrans-529
  prefs: []
  type: TYPE_IMG
  zh: '![](img/Image15955.png)'
- en: 'Figure 8.67: Inkscape II'
  id: totrans-530
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.67：Inkscape II
- en: 'If for some reason your code does not create a grid or you instead want to
    use the version that I created, you can find the SVG file together with all the
    other datasets on the following GitHub page: [https://github.com/PacktPublishing/Mastering-Tableau-2023-Fourth-Edition/blob/main/Chapter08/GridandLocationCodes.svg](https://github.com/PacktPublishing/Mastering-Tableau-2023-Fourth-Edition/blob/main/Chapter08/GridandLocationCodes.svg).'
  id: totrans-531
  prefs: []
  type: TYPE_NORMAL
  zh: 如果由于某种原因您的代码没有创建网格，或者您想使用我创建的版本，您可以在以下 GitHub 页面找到 SVG 文件及其他所有数据集：[https://github.com/PacktPublishing/Mastering-Tableau-2023-Fourth-Edition/blob/main/Chapter08/GridandLocationCodes.svg](https://github.com/PacktPublishing/Mastering-Tableau-2023-Fourth-Edition/blob/main/Chapter08/GridandLocationCodes.svg)。
- en: We will cover an example of how to use the grid for a polygon data source in
    Tableau in the next exercise.
  id: totrans-532
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一个练习中，我们将展示如何在 Tableau 中使用网格作为多边形数据源。
- en: Using a grid to generate a dataset
  id: totrans-533
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 使用网格生成数据集
- en: 'Skilled chess players will complete a game in about 40 moves. In chess tournaments,
    data is routinely captured for each game, which provides opportunities for data
    visualization. In this exercise, we will use data from a chess game to visualize
    how often each square of a chessboard is occupied:'
  id: totrans-534
  prefs: []
  type: TYPE_NORMAL
  zh: 熟练的国际象棋选手大约在 40 步内完成一盘棋。在国际象棋比赛中，每局比赛的数据通常都会被捕获，这为数据可视化提供了机会。在本练习中，我们将使用一局棋的数据显示每个棋盘格子的占用频率：
- en: Within the workbook associated with this chapter, navigate to the worksheet
    entitled `Chessboard`.
  id: totrans-535
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在与本章关联的工作簿中，导航到名为`棋盘`的工作表。
- en: Download the `Chessboard.png` pictures from this book’s GitHub repository if
    you haven’t done so yet.
  id: totrans-536
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果您还没有下载`Chessboard.png`图片，可以从本书的 GitHub 仓库下载。
- en: Open the SVG file created in the previous exercise in Inkscape.
  id: totrans-537
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开上一个练习中创建的 SVG 文件，在 Inkscape 中查看。
- en: If you did not complete the previous exercise, you can copy the XML code located
    on the dashboard, entitled **Generated SVG Code**, in the solution workbook associated
    with this chapter. Paste that code into a text editor and save it with an SVG
    extension, then open the file with Inkscape.
  id: totrans-538
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果您没有完成之前的练习，您可以从本章关联的解决方案工作簿中复制位于仪表板上的 XML 代码，标题为**生成的 SVG 代码**。将该代码粘贴到文本编辑器中并以
    SVG 扩展名保存，然后用 Inkscape 打开该文件。
- en: Within **Inkscape**, press *Ctrl* + *A* (*Command* + *A* for Mac) to select
    all. Group the selection using *Ctrl* + *G* (*Command* + *G* for Mac).
  id: totrans-539
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**Inkscape**中，按*Ctrl* + *A*（Mac 上为*Command* + *A*）选择全部。使用*Ctrl* + *G*（Mac 上为*Command*
    + *G*）将选区分组。
- en: From the **Inkscape** menu, select **Layer** | **Layers and Objects**. The keyboard
    shortcut is *Shift* + *Ctrl* + *L* (*Shift* + *Command* + *L* for Mac).
  id: totrans-540
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**Inkscape**菜单中，选择**图层** | **图层和对象**。快捷键为*Shift* + *Ctrl* + *L*（Mac 上为*Shift*
    + *Command* + *L*）。
- en: 'Within the **Layers** palette that displays on the right-hand side of the screen,
    press the **+** icon to create a layer. Name the layer `Chessboard`. Then, create
    another layer named `Grid`:'
  id: totrans-541
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在屏幕右侧显示的**图层**面板中，按**+**图标创建一个图层。将该图层命名为`棋盘`。然后，创建另一个名为`网格`的图层：
- en: '![](img/B18435_08_68.png)'
  id: totrans-542
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18435_08_68.png)'
- en: 'Figure 8.68: Layers'
  id: totrans-543
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.68：图层
- en: Click on any line or number in the view. Right-click on that same line or number
    and select **Move to layer**. Choose the **Grid** layer.
  id: totrans-544
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 单击视图中的任何一行或数字。右键单击该行或数字，并选择**移动到图层**。选择**网格**图层。
- en: Select **File** | **Import** and choose the `Chessboard.png` image.
  id: totrans-545
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择**文件** | **导入**并选择`Chessboard.png`图片。
- en: '![](img/B18435_08_69.png)'
  id: totrans-546
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18435_08_69.png)'
- en: 'Figure 8.69: Image import'
  id: totrans-547
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.69：图像导入
- en: 'Make sure that the image is placed on the **Chessboard** layer so that the
    location code numbers are not obscured. Position the chessboard image such that
    location code **81** is centered over the top left-hand square of the chessboard.
    Since the chessboard is only composed of 64 squares, it will not encompass all
    100 squares that the grid provides:'
  id: totrans-548
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确保将图像放置在**棋盘**图层上，以免遮挡位置代码编号。将棋盘图像放置在使位置代码**81**正好位于棋盘左上角的方格上。由于棋盘只有64个方格，它无法覆盖网格所提供的全部100个方格：
- en: '![A picture containing text, electronics, screenshot, display'
  id: totrans-549
  prefs: []
  type: TYPE_NORMAL
  zh: '![包含文字、电子产品、截图、显示的图片'
- en: Description automatically generated](img/Image15984.png)
  id: totrans-550
  prefs: []
  type: TYPE_NORMAL
  zh: 自动生成的描述](img/Image15984.png)
- en: 'Figure 8.70: Chessboard'
  id: totrans-551
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.70：棋盘
- en: At this point, you can generate a dataset based on how often each location is
    occupied. For example, you might note that for one game, position 81 was occupied
    for 40 moves, in which case the player may simply have never moved that rook.
    However, in another game the position may be occupied for only 10 moves, perhaps
    indicating the player performed a castle early in the game. The point of layering
    the chess game and the square file was to identify which square belongs to which
    field on a chess board.
  id: totrans-552
  prefs: []
  type: TYPE_NORMAL
  zh: 此时，您可以根据每个位置的占用频率生成数据集。例如，您可能会注意到在一场棋局中，第81号位置被占用40次，这可能意味着玩家从未移动过那个车。然而，在另一场棋局中，该位置可能只被占用10次，这可能表明玩家在游戏早期进行了易位。叠加棋局和方格文件的目的是为了识别哪个方格属于棋盘上的哪个区域。
- en: Visualizing a chess game
  id: totrans-553
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 可视化一场棋局
- en: 'In this exercise, we will take a look at a dataset generated from a chess game
    and discover how to visualize the results based on the work done in the previous
    exercises. The following are the steps:'
  id: totrans-554
  prefs: []
  type: TYPE_NORMAL
  zh: 在本练习中，我们将查看从一场棋局生成的数据集，并学习如何根据之前的练习结果进行可视化。以下是步骤：
- en: Within the workbook associated with this chapter, navigate to the worksheet
    entitled `Chessboard` and select the `Chessboard` data source.
  id: totrans-555
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在本章相关的工作簿中，导航到名为`Chessboard`的工作表，并选择`Chessboard`数据源。
- en: 'In order to follow the next step, you will need to download the assets associated
    with this chapter. To do so, simply follow the link to the GitHub repository for
    this book: [https://github.com/PacktPublishing/Mastering-Tableau-2023-Fourth-Edition/tree/main/Chapter08](https://github.com/PacktPublishing/Mastering-Tableau-2023-Fourth-Edition/tree/main/Chapter08).'
  id: totrans-556
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 为了继续执行下一步骤，您需要下载与本章相关的资源文件。为此，只需点击以下链接访问本书的GitHub仓库：[https://github.com/PacktPublishing/Mastering-Tableau-2023-Fourth-Edition/tree/main/Chapter08](https://github.com/PacktPublishing/Mastering-Tableau-2023-Fourth-Edition/tree/main/Chapter08)。
- en: Right-click on the `Chessboard` data source and select **Edit Data Source**
    in order to examine the dataset.
  id: totrans-557
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 右键点击`Chessboard`数据源，选择**编辑数据源**以查看数据集。
- en: In the dialog box asking **Where is the data file?**, steer to the `Chessboard.xlsx`
    file provided with the assets associated with this chapter.
  id: totrans-558
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在询问**数据文件在哪里？**的对话框中，定位到本章相关的`Chessboard.xlsx`文件。
- en: 'The table named **Board Grid** contains each location code and the **X** and
    **Y** coordinates associated with each location code. This dataset was taken from
    the **Location Codes** worksheet created earlier in this chapter. The table named
    **Squares Occupied** contains the fields **Location Code** and **Moves Occupied**.
    **Board Grid** and **Squares Occupied** are connected using a left join on **Location
    Code**:'
  id: totrans-559
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 名为**棋盘网格**的表格包含每个位置代码及与之关联的**X**和**Y**坐标。这个数据集来自本章前面创建的**位置代码**工作表。名为**占用的方格**的表格包含**位置代码**和**占用的移动次数**字段。**棋盘网格**和**占用的方格**通过**位置代码**进行左连接：
- en: '![](img/B18435_08_71.png)'
  id: totrans-560
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18435_08_71.png)'
- en: 'Figure 8.71: Join'
  id: totrans-561
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.71：连接
- en: On the `Chessboard` worksheet, select **Map** | **Background Images** | **Chessboard**.
  id: totrans-562
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在`Chessboard`工作表中，选择**地图** | **背景图片** | **棋盘**。
- en: In the resulting dialog box, click **Add Image** to add a background image.
  id: totrans-563
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在结果对话框中，点击**添加图像**以添加背景图片。
- en: 'Fill out the **Edit Background Image** dialog box as shown:'
  id: totrans-564
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如下所示填写**编辑背景图片**对话框：
- en: '![](img/B18435_08_72.png)'
  id: totrans-565
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18435_08_72.png)'
- en: 'Figure 8.72: Chessboard background image'
  id: totrans-566
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.72：棋盘背景图
- en: 'Place the fields **X**, **Y** (both as **Dimension**), and **Location Code**
    on the **Columns**, **Rows**, and **Detail** shelves respectively, and the **Moves
    Occupied** field on **Color** while selecting the **Marks** type **Density**:'
  id: totrans-567
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将**X**、**Y**（两者作为**维度**）和**位置代码**字段分别放置在**列**、**行**和**详细信息**架上，将**占用的移动次数**字段放置在**颜色**架上，并选择**标记**类型为**密度**：
- en: '![](img/B18435_08_73.png)'
  id: totrans-568
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18435_08_73.png)'
- en: 'Figure 8.73: Chessboard background image II'
  id: totrans-569
  prefs: []
  type: TYPE_NORMAL
  zh: '图 8.73: 国际象棋棋盘背景图 II'
- en: Right-click on the **X** and **Y** axes and set both to **Fixed**, with a **Fixed
    start** value of **0** and a **Fixed end** value of **875**.
  id: totrans-570
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 右击**X**轴和**Y**轴，并将两者设置为**固定**，设置**固定起始值**为**0**，**固定结束值**为**875**。
- en: Edit the **Y** axis and set it to **Reversed**. Do not reverse the **X** axis.
  id: totrans-571
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 编辑**Y**轴并设置为**反向**。不要反转**X**轴。
- en: This last step was performed because the data has been structured to mirror
    the **X** and **Y** coordinate setup that is the default in most graphic tools.
    In these tools, the upper left-hand corner is where **X** and **Y** both equal
    **0**.
  id: totrans-572
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 这个最后一步之所以执行，是因为数据已经被结构化，以便反映**X**和**Y**坐标设置，这也是大多数图形工具中的默认设置。在这些工具中，左上角是**X**和**Y**都等于**0**的地方。
- en: 'Adjust **Color**, **Size**, **Shape**, and so on as desired:'
  id: totrans-573
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 根据需要调整**颜色**、**大小**、**形状**等：
- en: '![](img/B18435_08_74.png)'
  id: totrans-574
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18435_08_74.png)'
- en: 'Figure 8.74: Chessboard'
  id: totrans-575
  prefs: []
  type: TYPE_NORMAL
  zh: '图 8.74: 国际象棋棋盘'
- en: In the screenshot, the brighter the circle, the more frequently this space was
    occupied for a move. The darker the circle, the less frequently it was occupied.
    By hovering over a field, the amount of occupation will show as well.
  id: totrans-576
  prefs: []
  type: TYPE_NORMAL
  zh: 在截图中，圆圈越亮，表示这个空间在某个回合中被占用的频率越高。圆圈越暗，表示它被占用的频率越低。将鼠标悬停在某个区域时，会显示该区域的占用次数。
- en: To recap, we started off by creating an SVG file. We did so by creating three
    different code types, `Header`, `Location Codes`, and `Lines`, according to the
    standards of an SVG file. We then copied those three code pieces into a text editor
    program and saved them as an SVG file. Then we downloaded the Inkscape application
    and opened the SVG file to check and see the result of our work, a 10-by-10 square
    field.
  id: totrans-577
  prefs: []
  type: TYPE_NORMAL
  zh: 总结一下，我们首先通过创建一个 SVG 文件开始。我们通过按照 SVG 文件标准创建三种不同类型的代码：`Header`、`Location Codes`和`Lines`。然后我们将这三段代码复制到文本编辑器中并保存为
    SVG 文件。接着，我们下载了 Inkscape 应用程序并打开了这个 SVG 文件，以查看我们工作的结果——一个 10x10 的方格区域。
- en: We added an image of a chessboard to Inkscape and aligned the two. Now we can
    see which square number will be associated with which chessboard field. Just like
    in the bookshelf example, it is necessary to identify the shape ID, that is, the
    chessboard field ID. Based on the chessboard field IDs, we were able to generate
    a second dataset containing the number of moves for which a field was occupied.
    By joining the `Board Grid` dataset with the `Occupied Moves` dataset, we got
    ourselves a use case. We added a background image of a chessboard to Tableau and
    on top of it, we drew squares and colored and also sized them, depending on the
    number of moves those fields were occupied for during the chess games. The numbers
    are very specific to each game, of course, but by collecting the data for multiple
    games, we are able to visually analyze chess strategies and maybe even tell who
    the better player was. If you like chess, feel free to try it out and compare
    the different visual results per game, or see whether you usually end up with
    the same pattern and whether this is also true for your opponent.
  id: totrans-578
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将一个国际象棋棋盘的图像添加到 Inkscape 中，并对其进行了对齐。现在，我们可以看到每个棋盘上的方格编号与哪些棋盘区域相关联。就像书架示例一样，必须识别形状
    ID，也就是棋盘区域 ID。根据棋盘区域 ID，我们能够生成第二个数据集，其中包含每个区域被占用的步数。通过将`Board Grid`数据集与`Occupied
    Moves`数据集连接，我们获得了一个使用案例。我们将一个国际象棋棋盘的背景图像添加到 Tableau 中，并在其上绘制了方格，根据这些方格在国际象棋游戏中被占用的次数，进行了上色和大小调整。当然，这些数字是每场游戏特有的，但通过收集多场比赛的数据，我们可以直观地分析国际象棋策略，甚至可能判断谁是更好的玩家。如果你喜欢国际象棋，随时可以试试，比较每场游戏的不同可视化结果，或者看看你是否总是得出相同的模式，看看这是否也适用于你的对手。
- en: Talking about games, in the next exercise, we will visualize a dartboard. This
    exercise will be shorter than the chess one. Follow along with the steps and learn
    more about polygons.
  id: totrans-579
  prefs: []
  type: TYPE_NORMAL
  zh: 说到游戏，在下一个练习中，我们将可视化一个飞镖板。这个练习将比国际象棋的练习更短。请跟随步骤，了解更多关于多边形的知识。
- en: Creating polygons on a background image
  id: totrans-580
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 在背景图像上创建多边形
- en: Utilizing shapes on specific points of a visualization was sufficient for the
    previous exercise, but sometimes it may be advantageous to use polygons to outline
    shapes. In this section, we will utilize polygons on a background image, and unlike
    with the books, we will fill out the areas such that the background image is not
    needed (as much) anymore.
  id: totrans-581
  prefs: []
  type: TYPE_NORMAL
  zh: 在可视化的特定点上使用形状对于前面的练习来说是足够的，但有时使用多边形来勾画形状可能更有利。在这一部分中，我们将使用多边形在背景图像上进行操作，与书籍中的做法不同，我们将填充这些区域，以便不再需要背景图像（至少不需要那么多了）。
- en: 'The following are the required steps:'
  id: totrans-582
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是所需的步骤：
- en: Within the workbook associated with this chapter, navigate to the worksheet
    entitled `Dashboard - Polygon` and select the `Dartboard_W_Polygon` data source.
  id: totrans-583
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在与本章相关的工作簿中，导航到名为`Dashboard - Polygon`的工作表，并选择`Dartboard_W_Polygon`数据源。
- en: If you did not already do so when completing the previous exercise, download
    the images provided on GitHub. Unzip the contents to a directory of your choosing.
  id: totrans-584
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果你在完成之前的练习时还没有这样做，下载GitHub上提供的图片。将其解压到你选择的目录中。
- en: 'Select **Map** | **Background Images** | **Dartboard - Polygon**. In the **Background
    Images** dialog box, select **Add Image**. Fill out the dialog box as shown:'
  id: totrans-585
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择**地图** | **背景图片** | **Dartboard - Polygon**。在**背景图片**对话框中，选择**添加图片**。按照下图填写对话框：
- en: '![](img/B18435_08_75.png)'
  id: totrans-586
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18435_08_75.png)'
- en: 'Figure 8.75: Dartboard background image'
  id: totrans-587
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.75：飞镖板背景图像
- en: 'Create a parameter with the following configuration:'
  id: totrans-588
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个具有以下配置的参数：
- en: '![](img/B18435_08_76.png)'
  id: totrans-589
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18435_08_76.png)'
- en: 'Figure 8.76: Parameter'
  id: totrans-590
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.76：参数
- en: 'This parameter will be used to either switch between player 1: **Matthew**
    and player 2: **David** or show the dart hits of both.'
  id: totrans-591
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 这个参数将用于在玩家1：**Matthew**和玩家2：**David**之间切换，或者显示两者的飞镖击中情况。
- en: Display the parameter created in the previous step by right-clicking on it at
    the bottom of the **Data** pane and selecting **Show Parameter Control**.
  id: totrans-592
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过右键点击**数据**窗格底部创建的参数，并选择**显示参数控制**，来显示之前创建的参数。
- en: 'Create a calculated field called `Total Hits` with the following code:'
  id: totrans-593
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个名为`Total Hits`的计算字段，代码如下：
- en: '[PRE38]'
  id: totrans-594
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE38]'
- en: 'Then, create a calculated field called `Case` with the following code:'
  id: totrans-595
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 然后，创建一个名为`Case`的计算字段，代码如下：
- en: '[PRE39]'
  id: totrans-596
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE39]'
- en: Set the **Marks** card to **Polygon**.
  id: totrans-597
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将**标记**卡片设置为**多边形**。
- en: 'Survey the **Data** pane to ensure that **Point** and **Shape** are both dimensions
    (blue color). The other fields are measures:'
  id: totrans-598
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 检查**数据**窗格，确保**点**和**形状**都是维度（蓝色）。其他字段是度量：
- en: '![](img/B18435_08_77.png)'
  id: totrans-599
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18435_08_77.png)'
- en: 'Figure 8.77: Dimensions and measures'
  id: totrans-600
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.77：维度和度量
- en: 'Place the fields **X**, **Y**, **Point**, **Shape**, and **Case** on their
    respective shelves:'
  id: totrans-601
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将**X**、**Y**、**点**、**形状**和**案例**字段放置在相应的架子上：
- en: '![](img/B18435_08_78.png)'
  id: totrans-602
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18435_08_78.png)'
- en: 'Figure 8.78: Dartboard polygon'
  id: totrans-603
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.78：飞镖板多边形
- en: Right-click on each axis and set the **Range** from **0** to **650.**
  id: totrans-604
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 右键点击每个轴并将**范围**设置为**0**到**650**。
- en: 'Click on the **Color** shelf and select **Edit Colors**. Adjust the color as
    desired. One possibility is represented in the following screenshot:'
  id: totrans-605
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**颜色**架子并选择**编辑颜色**。根据需要调整颜色。以下截图展示了一种可能的选择：
- en: '![](img/B18435_08_79.png)'
  id: totrans-606
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18435_08_79.png)'
- en: 'Figure 8.79: Custom Diverging'
  id: totrans-607
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.79：自定义分歧
- en: 'Your final worksheet should look like the following:'
  id: totrans-608
  prefs: []
  type: TYPE_NORMAL
  zh: 你的最终工作表应如下所示：
- en: '![](img/B18435_08_80.png)'
  id: totrans-609
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18435_08_80.png)'
- en: 'Figure 8.80: Final dartboard polygon'
  id: totrans-610
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.80：最终飞镖板多边形
- en: The final dashboard shows a dartboard with different colors. The gray color
    means that this area has not been hit during the game, whereas the redder the
    color of a field is, the more often it has been hit. By using the parameter, you
    can compare Matthew’s score with David’s, or you can show the total hits, like
    in the preceding screenshot.
  id: totrans-611
  prefs: []
  type: TYPE_NORMAL
  zh: 最终仪表板展示了一个不同颜色的飞镖板。灰色表示该区域在游戏中没有被击中，而颜色越红，表示该区域被击中的频率越高。通过使用该参数，你可以比较Matthew和David的得分，或者像前面的截图那样显示总击中次数。
- en: You may have noticed that the curved sections of the polygons in this exercise
    aren’t quite perfect. Look, for example, at the triple ring and double ring areas
    surrounding the bullseye; you can see that the area is not 100% even. That’s simply
    the nature of working with points on a Cartesian grid in Tableau. This means that
    Tableau is based on a grid structure, so every curve we draw will still be many
    small lines connecting dots on a grid layout. The more dots you have and the shorter
    the lines between the dots, the more likely you will draw curves evenly. But if
    you followed along with the bookshelf exercise, you can see that a lot of effort
    has to go into such a background image. Nevertheless, I believe that polygons
    are absolutely worth it. Here we used fun exercises that might not add value to
    your day-to-day job, but think about a picture-perfect landing page that you designed
    in a different program. By using polygons, you can make the design elements clickable
    and interactive.
  id: totrans-612
  prefs: []
  type: TYPE_NORMAL
  zh: 你可能注意到，在本练习中多边形的弯曲部分并不完全完美。例如，看看围绕靶心的三环和双环区域；你会看到这些区域并不是 100% 平滑的。这只是使用 Tableau
    中笛卡尔网格上的点的本质。也就是说，Tableau 基于网格结构，因此我们绘制的每一条曲线仍然是许多小线段连接网格布局上的点。点越多，点与点之间的线越短，绘制的曲线就越平滑。但如果你跟着书架练习做的话，你会看到，要做到这一点需要付出很多努力。尽管如此，我认为多边形绝对值得一试。这里我们使用了一些有趣的练习，虽然它们可能不会直接对你的日常工作产生价值，但想象一下你在其他程序中设计的一个完美无瑕的着陆页。通过使用多边形，你可以让设计元素变得可点击和互动。
- en: 'The next topic is a little bit different from the rest of this chapter. Have
    you heard about Tableau Exchange yet? Tableau Exchange is a newer edition to the
    Tableau universe that combines three products: extensions, accelerators, and connectors.
    Interested? Continue with the next section!'
  id: totrans-613
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来的主题与本章的其他部分略有不同。你听说过 Tableau Exchange 吗？Tableau Exchange 是 Tableau 世界中新加入的一个版本，结合了三种产品：扩展、加速器和连接器。感兴趣吗？请继续阅读下一节！
- en: Tableau Exchange
  id: totrans-614
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Tableau Exchange
- en: 'To access Tableau Exchange, go to this website: [https://exchange.tableau.com](https://exchange.tableau.com).'
  id: totrans-615
  prefs: []
  type: TYPE_NORMAL
  zh: 要访问 Tableau Exchange，请访问此网站：[https://exchange.tableau.com](https://exchange.tableau.com)。
- en: '![](img/B18435_08_81.png)'
  id: totrans-616
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18435_08_81.png)'
- en: 'Figure 8.81: Tableau Exchange'
  id: totrans-617
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.81：Tableau Exchange
- en: Accelerators and extensions can also be accessed from within Tableau Server
    and/or Tableau Desktop. Let us dive right into Tableau Exchange and see what it
    has to offer!
  id: totrans-618
  prefs: []
  type: TYPE_NORMAL
  zh: 加速器和扩展可以从 Tableau Server 和/或 Tableau Desktop 内部访问。让我们深入了解 Tableau Exchange，看看它能提供什么！
- en: Tableau extensions
  id: totrans-619
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Tableau 扩展
- en: Extensions are the oldest product and are accessible from the **Object** pane
    on your Tableau dashboard. Basically, extensions allow you to use third-party
    tools directly in Tableau. Some selected extensions are available at [https://extensiongallery.tableau.com](https://extensiongallery.tableau.com),
    and the list is always growing.
  id: totrans-620
  prefs: []
  type: TYPE_NORMAL
  zh: 扩展是最早的产品，可以从 Tableau 仪表板上的**对象**窗格中访问。基本上，扩展允许您直接在 Tableau 中使用第三方工具。某些精选的扩展可在
    [https://extensiongallery.tableau.com](https://extensiongallery.tableau.com) 获取，并且这个列表还在不断增长。
- en: Please be aware that Tableau does not provide support or guarantees/security
    measures for extensions. Those APIs are built by external parties and should be
    treated as such. Check with your IT security team first if you want to use them
    at work.
  id: totrans-621
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意，Tableau 不提供对扩展的支持或保证/安全措施。这些 API 由外部方构建，因此应当视为第三方工具。如果您打算在工作中使用这些扩展，请先与
    IT 安全团队确认。
- en: Let’s have a look at one example from Infotopics – a Sankey chart extension.
  id: totrans-622
  prefs: []
  type: TYPE_NORMAL
  zh: 我们来看看来自 Infotopics 的一个例子——一个 Sankey 图表扩展。
- en: Using an extension
  id: totrans-623
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 使用扩展
- en: 'In the associated workbook, create a new sheet called `Show me More` and select
    the `Coffee Chain` dataset. Now reproduce the following worksheet layout by adding
    **Type** to **Columns**, **Product Type** to **Rows**, and **Profit** to the **Text**
    shelf:'
  id: totrans-624
  prefs: []
  type: TYPE_NORMAL
  zh: 在关联的工作簿中，创建一个名为 `展示更多` 的新工作表，并选择 `Coffee Chain` 数据集。现在，通过将 **类型** 添加到 **列**，将
    **产品类型** 添加到 **行**，并将 **利润** 添加到 **文本** 货架上，重新创建以下工作表布局：
- en: '![](img/B18435_08_82.png)Figure 8.82: Show me More'
  id: totrans-625
  prefs: []
  type: TYPE_NORMAL
  zh: '![](img/B18435_08_82.png)图 8.82：展示更多'
- en: We want to utilize a Sankey chartfor this worksheet, which is a kind of flow
    chart that shows, based on the size of flow-lines, how much of a given measure
    and a given dimension flows into a second given dimension. In this case, we want
    to know how much **Profit** from **Regular** type products comes from **Coffee**,
    **Espresso**, **Herbal Tea**, or **Tea**, and how much **Profit** can be associated
    with the **Decaf** types.
  id: totrans-626
  prefs: []
  type: TYPE_NORMAL
  zh: 我们想在这个工作表中使用Sankey图表，它是一种流向图，显示基于流线的大小，某个度量和维度如何流入另一个维度。在此案例中，我们想知道**常规**类型产品的**利润**中，来自**咖啡**、**浓缩咖啡**、**草本茶**或**茶**的部分，以及与**无咖啡因**类型相关的**利润**。
- en: 'Let’s say you know how to build a Sankey chart using calculated fields, but
    it is time-consuming. Instead, there is an **extension** to do so. The following
    are the steps required to use the extension and ultimately save us time when building
    a Sankey chart:'
  id: totrans-627
  prefs: []
  type: TYPE_NORMAL
  zh: 假设你已经知道如何使用计算字段构建Sankey图表，但这非常耗时。相反，有一个**扩展功能**可以帮助你完成此任务。以下是使用此扩展功能的步骤，它最终能节省我们在构建Sankey图表时所花的时间：
- en: In the associated workbook, open a **Dashboard** tab and call it `Show me More
    DB`.
  id: totrans-628
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在关联的工作簿中，打开一个**仪表板**标签并命名为`Show me More DB`。
- en: 'Drag the **Show me More DB** sheet onto the dashboard. Now also drag the **Extension**
    object onto the dashboard:'
  id: totrans-629
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将**Show me More DB**表单拖到仪表板上。现在也将**扩展功能**对象拖到仪表板上：
- en: '![](img/B18435_08_83.png)'
  id: totrans-630
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18435_08_83.png)'
- en: 'Figure 8.83: Extension'
  id: totrans-631
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.83：扩展功能
- en: 'From Tableau 2021.1, you will see the following pop-up window:'
  id: totrans-632
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从Tableau 2021.1开始，你将看到以下弹出窗口：
- en: '![](img/B18435_08_84.png)'
  id: totrans-633
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18435_08_84.png)'
- en: 'Figure 8.84: Extension Gallery'
  id: totrans-634
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.84：扩展功能库
- en: 'In the **Extension Gallery** search for the **Show Me More 2.0** extension.
    Click on it and select **Add to Dashboard** on the next screen:'
  id: totrans-635
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**扩展功能库**中搜索**Show Me More 2.0**扩展。点击它并在下一个屏幕上选择**添加到仪表板**：
- en: '![](img/B18435_08_85.png)'
  id: totrans-636
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18435_08_85.png)'
- en: 'Figure 8.85: Show Me More 2'
  id: totrans-637
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.85：查看更多 2
- en: 'Then, select **Get started** and choose the **Sankey Diagram** visualization:'
  id: totrans-638
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 然后，选择**开始使用**并选择**Sankey 图表**可视化：
- en: '![](img/B18435_08_86.png)'
  id: totrans-639
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18435_08_86.png)'
- en: 'Figure 8.86: Show Me More II'
  id: totrans-640
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.86：查看更多 II
- en: 'After selecting the Sankey diagram, configure the variables as follows. There
    are many more options, as partly shown in *Figure 8.87*; feel free to test them
    out:'
  id: totrans-641
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择Sankey图表后，按照以下方式配置变量。如*图 8.87*中部分显示的那样，还有许多其他选项；你可以随意进行测试：
- en: '![](img/B18435_08_87.png)'
  id: totrans-642
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18435_08_87.png)'
- en: 'Figure 8.87: Sankey diagram settings'
  id: totrans-643
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.87：Sankey 图表设置
- en: 'Hit the **Ok** button, and voilà, you have your Sankey diagram:'
  id: totrans-644
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**确定**按钮，瞧！你就得到了Sankey图表：
- en: '![](img/B18435_08_88.png)'
  id: totrans-645
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18435_08_88.png)'
- en: 'Figure 8.88: Sankey diagram'
  id: totrans-646
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.88：Sankey 图表
- en: Besides this Sankey chart, I would highly recommend you have a look at the extensions
    library. There are many extensions for multiple different use cases; some are
    free, some have to be paid for, but you can also build your own. It is worth taking
    a look! The next section will be dedicated to a special extension, which is the
    most advertised new feature in Tableau 2021.1, **Einstein Discovery**.
  id: totrans-647
  prefs: []
  type: TYPE_NORMAL
  zh: 除了这个Sankey图表，我强烈建议你查看扩展功能库。这里有许多不同用途的扩展；有些是免费的，有些需要付费，但你也可以自己构建。这绝对值得一看！下一节将专门介绍一个特殊的扩展功能——它是Tableau
    2021.1版本中最为宣传的新功能，**爱因斯坦发现**。
- en: Accelerators
  id: totrans-648
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 加速器
- en: 'This feature works on a more basic level: how to design, structure, and put
    together a dashboard. Accelerators are pre-defined dashboards from different sectors
    and with different focus points. Currently, there are over 100 available in multiple
    languages, catering to different departments, industries, and enterprise applications.
    Instead of starting from scratch, you can use an **Accelerator** dashboard by
    clicking on the links on your Tableau Desktop landing page, or Tableau Server:'
  id: totrans-649
  prefs: []
  type: TYPE_NORMAL
  zh: 此功能工作在更基础的层面：如何设计、构建和组合一个仪表板。加速器是来自不同领域、具有不同重点的预定义仪表板。目前，已有超过100个加速器，支持多种语言，面向不同部门、行业和企业应用。你可以通过点击Tableau
    Desktop 欢迎页面或Tableau Server上的链接，使用一个**加速器**仪表板，而不是从头开始：
- en: '![](img/B18435_08_89.png)'
  id: totrans-650
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18435_08_89.png)'
- en: 'Figure 8.89: Tableau landing page'
  id: totrans-651
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.89：Tableau 欢迎页面
- en: 'In *Figure 8.89*, the two dashboards on the left always show on the Tableau
    Desktop landing page, and you are familiar with those already: the `Superstore`
    and the `World Indicators` datasets. Next to them you can see an icon of two people
    with a headset. That is the third accelerator dashboard that I loaded. But looking
    at the top right, in the red frame, you can see a hyperlink called **More Accelerators**;
    click on it.'
  id: totrans-652
  prefs: []
  type: TYPE_NORMAL
  zh: 在*图 8.89*中，左侧的两个仪表板总是会出现在Tableau Desktop的登录页面上，你已经熟悉这些了：`Superstore` 和 `World
    Indicators` 数据集。它们旁边，你可以看到一个带耳机的两个人图标。这就是我加载的第三个加速器仪表板。看看右上方的红框，你可以看到一个名为**More
    Accelerators**的超链接；点击它。
- en: 'Imagine that you want to use financial trading data and an accelerator dashboard
    to kick-start your project. Search for *trading*:'
  id: totrans-653
  prefs: []
  type: TYPE_NORMAL
  zh: 假设你想使用金融交易数据和加速器仪表板来启动你的项目。搜索*trading*：
- en: '![](img/B18435_08_90.png)'
  id: totrans-654
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18435_08_90.png)'
- en: 'Figure 8.90: Search accelerator'
  id: totrans-655
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.90：搜索加速器
- en: By clicking on the **Trading by Tableau** dashboard, a new Tableau workbook
    will open – with a fully built trading dashboard and, even better, data mapping
    capabilities, which means that you can replace the current data with different
    data without breaking the dashboard layout and pre-build functionality. The description
    in each of the accelerator dashboards contains the *data mapping possible* or
    *impossible* information.
  id: totrans-656
  prefs: []
  type: TYPE_NORMAL
  zh: 通过点击**Trading by Tableau**仪表板，将会打开一个新的Tableau工作簿——其中包含一个完整的交易仪表板，更棒的是，它具有数据映射功能，这意味着你可以在不破坏仪表板布局和预设功能的情况下，替换当前数据为不同的数据。每个加速器仪表板中的描述都包含了*数据映射可能*或*不可能*的信息。
- en: 'When your new dashboard is open, you will see the following popup:'
  id: totrans-657
  prefs: []
  type: TYPE_NORMAL
  zh: 当你打开新的仪表板时，你会看到以下弹出窗口：
- en: '![](img/B18435_08_91.png)'
  id: totrans-658
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18435_08_91.png)'
- en: 'Figure 8.91: Data mapper'
  id: totrans-659
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.91：数据映射器
- en: Click on **Get Started** and connect your desired dataset to the accelerator
    dashboard.
  id: totrans-660
  prefs: []
  type: TYPE_NORMAL
  zh: 点击**Get Started**，将你想要的数据集连接到加速器仪表板。
- en: 'You can use this dataset as a test: [https://www.kaggle.com/datasets/georgezakharov/historical-data-on-the-trading-of-cryptocurrencies](https://www.kaggle.com/datasets/georgezakharov/historical-data-on-the-trading-of-cryptocurrencies).'
  id: totrans-661
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以使用这个数据集作为测试：[https://www.kaggle.com/datasets/georgezakharov/historical-data-on-the-trading-of-cryptocurrencies](https://www.kaggle.com/datasets/georgezakharov/historical-data-on-the-trading-of-cryptocurrencies)。
- en: '![](img/B18435_08_92.png)'
  id: totrans-662
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18435_08_92.png)'
- en: 'Figure 8.92: Data mapper II'
  id: totrans-663
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.92：数据映射器 II
- en: 'Once loaded, you can start mapping the fields one by one:'
  id: totrans-664
  prefs: []
  type: TYPE_NORMAL
  zh: 加载完成后，你可以开始逐一映射字段：
- en: '![](img/B18435_08_93.png)'
  id: totrans-665
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18435_08_93.png)'
- en: 'Figure 8.93: Mapping data'
  id: totrans-666
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.93：数据映射
- en: It is important to know that you do not have to map all fields; however, if
    visualizations in the workbook make use of an unmapped column, those instances
    will appear null.
  id: totrans-667
  prefs: []
  type: TYPE_NORMAL
  zh: 重要的是要知道，你不必映射所有字段；然而，如果工作簿中的可视化使用了未映射的列，那么这些实例将显示为空值。
- en: After the mapping is done, your dashboard is ready to use! Sample-check that
    everything looks as desired and your job is done!
  id: totrans-668
  prefs: []
  type: TYPE_NORMAL
  zh: 映射完成后，你的仪表板已准备好使用！检查一下所有内容是否符合预期，你的工作就完成了！
- en: Great, isn’t it? Such a time-saver; I really enjoy this new feature in Tableau.
  id: totrans-669
  prefs: []
  type: TYPE_NORMAL
  zh: 很棒吧？省时多了；我真的很喜欢Tableau中的这个新功能。
- en: Connectors
  id: totrans-670
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 连接器
- en: The last section that Tableau Exchange has to offer is **connectors**. Here
    you can find connectors to databases that are not listed in the **Connect** pane
    of your Tableau Desktop.
  id: totrans-671
  prefs: []
  type: TYPE_NORMAL
  zh: Tableau Exchange 提供的最后一个部分是**连接器**。在这里，你可以找到连接到Tableau Desktop中**Connect**面板中没有列出的数据库的连接器。
- en: To sum up, Tableau Exchange is a platform where you can find various tools to
    enhance your data analysis and quickly derive meaningful insights. It offers Tableau
    accelerators, which are pre-built dashboards created by experts, extensions that
    offer functionality that is not native to Tableau, and connectors, which allow
    you to connect to databases that are not listed in the default pane. A true, free
    marketplace to jump-start your Tableau successes.
  id: totrans-672
  prefs: []
  type: TYPE_NORMAL
  zh: 总结一下，Tableau Exchange 是一个平台，你可以在这里找到各种工具来增强数据分析并快速得出有意义的见解。它提供了Tableau加速器，这些是由专家创建的预构建仪表板，扩展功能提供了Tableau本身没有的功能，还有连接器，可以让你连接到默认面板中没有列出的数据库。一个真正的、免费的市场，帮助你快速启动Tableau的成功。
- en: Einstein Discovery
  id: totrans-673
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 爱因斯坦发现
- en: We discussed Tableau exchange in the previous section; however, one other similarly
    beyond-basics feature deserves some attention too. But before we continue, a bit
    of backstory. In August 2019 Tableau was acquired by Salesforce. Probably most
    of you know Salesforce and even work with it, but for all other readers, Salesforce
    is a cloud-native **Customer Relationship Management** (**CRM**) tool. Next to
    that, the company also developed an analytics portion, which allows Salesforce
    users to analyze data from a CRM system and other data sources.
  id: totrans-674
  prefs: []
  type: TYPE_NORMAL
  zh: 我们在前一节讨论了Tableau交换功能；然而，还有一个同样超出基础功能的特点也值得关注。但在继续之前，先说一下背景故事。2019年8月，Tableau被Salesforce收购。可能大多数人都知道Salesforce，甚至在使用它，但对于其他读者来说，Salesforce是一个云原生的**客户关系管理**（**CRM**）工具。除此之外，公司还开发了一个分析模块，允许Salesforce用户分析来自CRM系统和其他数据源的数据。
- en: Connecting Salesforce to Tableau was possible long before the acquisition, but
    what’s new in Tableau 2021.1 is that the analytics piece of Salesforce is available
    for integration into Tableau, as an extension and in calculated fields. The Tableau
    community is very excited about this feature because of the built-in machine learning
    capability and real-time prediction power. This piece of software is called Einstein
    Discovery.
  id: totrans-675
  prefs: []
  type: TYPE_NORMAL
  zh: 将Salesforce与Tableau连接在Salesforce收购之前就已经可以实现，但在Tableau 2021.1中的新变化是，Salesforce的分析功能可以作为扩展和计算字段集成到Tableau中。Tableau社区对此功能非常兴奋，因为它具备了内置的机器学习能力和实时预测功能。这个软件功能被称为Einstein
    Discovery。
- en: 'In order to make use of Einstein Discovery, you need a Salesforce license and,
    more specifically, the analytics license for Salesforce. The licensing details
    can be found here: [https://www.salesforce.com/editions-pricing/crm-analytics/](https://www.salesforce.com/editions-pricing/crm-analytics/).'
  id: totrans-676
  prefs: []
  type: TYPE_NORMAL
  zh: 要使用Einstein Discovery，你需要一个Salesforce许可证，特别是Salesforce的分析许可证。许可证的详细信息可以在此查看：[https://www.salesforce.com/editions-pricing/crm-analytics/](https://www.salesforce.com/editions-pricing/crm-analytics/)。
- en: Now, to give you an idea of what Einstein Discovery can do for you, I will walk
    you through an imaginary use case. On a supply chain data dashboard, you discover
    that the shipment time can be improved, but you don’t know which factors cause
    the delays. In this instance, you might decide to use Einstein Discovery for its
    analysis capabilities.
  id: totrans-677
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，为了让你了解Einstein Discovery能为你做什么，我将带你走过一个假想的用例。在供应链数据仪表板上，你发现运输时间可以改进，但你不知道哪些因素导致了延迟。在这种情况下，你可能决定使用Einstein
    Discovery来进行分析。
- en: First, you drag the **Extensions** object onto the dashboard, just like we did
    with the **Show me More** extension. You then select the **Einstein Discovery**
    item, at which point a browser window will open to ask you to log in to Salesforce.
    After you have done so, you can select which model you want to use on your Tableau
    dashboard. The model (for example, a machine learning model) has to be prepared
    in Salesforce beforehand. Then, Einstein Discovery will be a part of your dashboard,
    and your worksheet will show the output from the model running in the background
    on Salesforce. In our example, the model will more easily be able to find the
    relevant variables used on your dashboard that are best suited to predict the
    time of delivery, and it will recommend actions you can take to improve the shipment
    time.
  id: totrans-678
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，你将**扩展**对象拖到仪表板上，就像我们之前做的**Show me More**扩展一样。然后选择**Einstein Discovery**项，此时将打开一个浏览器窗口，要求你登录到Salesforce。登录后，你可以选择在Tableau仪表板上使用的模型。模型（例如，机器学习模型）必须提前在Salesforce中准备好。然后，Einstein
    Discovery将成为你仪表板的一部分，你的工作表将显示Salesforce后台运行的模型输出。在我们的示例中，模型将更容易找到仪表板上与交货时间预测最相关的变量，并推荐你可以采取的行动，以改善发货时间。
- en: A video of the described use case and another use case can be viewed at [https://youtu.be/dMWuy6mVE_o](https://youtu.be/dMWuy6mVE_o).
  id: totrans-679
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以在[https://youtu.be/dMWuy6mVE_o](https://youtu.be/dMWuy6mVE_o)观看描述的用例视频和另一个用例的视频。
- en: 'Alternatively, you can call a Salesforce model directly in a calculated field.
    How this works is described here: [https://help.tableau.com/current/pro/desktop/en-us/einstein_discovery_predictions.htm](https://help.tableau.com/current/pro/desktop/en-us/einstein_discovery_predictions.htm).'
  id: totrans-680
  prefs: []
  type: TYPE_NORMAL
  zh: 或者，你可以在计算字段中直接调用Salesforce模型。其工作原理请参见此处：[https://help.tableau.com/current/pro/desktop/en-us/einstein_discovery_predictions.htm](https://help.tableau.com/current/pro/desktop/en-us/einstein_discovery_predictions.htm)。
- en: 'If you want to try out these new features, there is a way to test out the new
    Einstein capabilities if you do not have a Salesforce license yet. It is a longer
    process to set up but for those of you who do want to try, please check out this
    video for assistance: [https://youtu.be/ZReSwXK0reo](https://youtu.be/ZReSwXK0reo).'
  id: totrans-681
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你想尝试这些新功能，如果你还没有Salesforce许可证，仍然有一种方法可以测试新的Einstein功能。虽然设置过程较长，但如果你确实想尝试，请查看这个视频以获得帮助：[https://youtu.be/ZReSwXK0reo](https://youtu.be/ZReSwXK0reo)。
- en: Those are the cornerstones of the bespoke new Einstein features in Tableau 2021.1\.
    Going into detail on the functionality of the Salesforce platform is unfortunately
    out of the scope of this book, but if you have Salesforce in place, I would most
    certainly recommend that you set up the connection and test out running some models.
    Even if you do not use Salesforce, the licensing might change over time, so hopefully
    we can all run those models soon. For the time being, don’t worry, as we will
    discuss machine learning model integration in *Chapter 15*, *Integrating Programming
    Languages*.
  id: totrans-682
  prefs: []
  type: TYPE_NORMAL
  zh: 这些是Tableau 2021.1中量身定制的新爱因斯坦功能的基石。详细讨论Salesforce平台的功能不在本书的范围之内，但如果你已经部署了Salesforce，我肯定推荐你设置连接并测试运行一些模型。即使你不使用Salesforce，许可可能会随时间发生变化，所以希望我们很快就能运行这些模型。暂时不用担心，我们将在*第15章*，*集成编程语言*中讨论机器学习模型的集成。
- en: Summary
  id: totrans-683
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: We began this chapter by considering how to tweak popular visualization types.
    Specifically, we fine-tuned a bullet graph, considered a very different approach
    to using pie charts in mapping, and ended by tweaking a Pareto chart. Next, we
    turned our attention to custom background images, where we considered how to build
    a grid using XML to generate an SVG file, to expedite generated data for use with
    background images. Then, we completed the chapter by building polygons on a background
    image and had a quick excursion into the world of Tableau Exchange. We discussed
    accelerators, extensions, and connectors but also Einstein Discovery, which is
    a separate product sold by Salesforce.
  id: totrans-684
  prefs: []
  type: TYPE_NORMAL
  zh: 我们通过考虑如何调整流行的可视化类型开始了本章。具体来说，我们微调了子弹图，考虑了在映射中使用饼图的完全不同方法，最后调整了帕累托图。接下来，我们将注意力转向了自定义背景图像，我们考虑了如何使用XML构建网格以生成SVG文件，从而加速为背景图像生成的数据。然后，我们通过在背景图像上构建多边形来完成本章，并快速进入了Tableau
    Exchange的世界。我们讨论了加速器、扩展和连接器，还讨论了Salesforce出售的一个独立产品——Einstein Discovery。
- en: 'There are too many options to cover them all in this book but since you are
    an expert in replicating by now, I added more sheets with other visualizations
    to the solutions workbook for you to play with. You will find sheets with bar
    charts, stacked bar charts, diverging stacked bar charts, crosstabs, highlight
    tables, discrete highlight tables, trend lines, area charts, sparklines, combo
    charts, dual axis, histograms, box and whisker plots, scatterplots, filled maps,
    symbol maps, treemaps, tree bar charts, Gantt charts, KPI charts, funnel charts,
    jittered distribution, calendars, bump charts, slopegraphs, waterfall, target,
    and bar-in-bar charts. Always make sure to use the chart that is most suitable
    for your data and will add value to the story you try to tell. If you still need
    a little bit of help with deciding on the appropriate visualization technique,
    I advise you to look at the following dashboard published on Tableau Public: [https://public.tableau.com/en-us/gallery/visual-vocabulary](https://public.tableau.com/en-us/gallery/visual-vocabulary).
    This dashboard was made to show you which visualization type to use, depending
    on the data you have.'
  id: totrans-685
  prefs: []
  type: TYPE_NORMAL
  zh: 本书中无法覆盖所有选项，但由于你现在已经是复制的专家，我为你添加了更多包含其他可视化效果的工作表到解决方案工作簿中，供你玩耍。你会发现包含条形图、堆积条形图、分歧堆积条形图、交叉表、高亮表、离散高亮表、趋势线、面积图、火花图、组合图、双轴图、直方图、箱线图、散点图、填充地图、符号地图、树形图、树条形图、甘特图、KPI图表、漏斗图、抖动分布、日历图、撞击图、坡度图、水流图、目标图以及条形嵌条图等工作表。务必确保使用最适合你的数据并能为你讲述的故事增值的图表。如果你仍然需要一些帮助来决定合适的可视化技术，我建议你查看Tableau
    Public上发布的以下仪表盘：[https://public.tableau.com/en-us/gallery/visual-vocabulary](https://public.tableau.com/en-us/gallery/visual-vocabulary)。此仪表盘旨在帮助你根据数据类型选择合适的可视化图表。
- en: In the next chapter, we will turn our attention to mapping, where we will consider
    how to extend Tableau’s native mapping capabilities without ever leaving the interface,
    as well as how to extend Tableau’s mapping capabilities with other technology.
  id: totrans-686
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一章中，我们将重点讨论地图功能，了解如何在不离开界面的情况下扩展Tableau的原生地图功能，以及如何结合其他技术来扩展Tableau的地图功能。
- en: Learn more on Discord
  id: totrans-687
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 在Discord上了解更多
- en: 'To join the Discord community for this book – where you can share feedback,
    ask questions to the author, and learn about new releases – follow the QR code
    below:'
  id: totrans-688
  prefs: []
  type: TYPE_NORMAL
  zh: 要加入本书的Discord社区——在这里你可以分享反馈、向作者提问并了解新版本发布——请扫描下面的二维码：
- en: '[https://packt.link/tableau](https://packt.link/tableau)'
  id: totrans-689
  prefs: []
  type: TYPE_NORMAL
  zh: '[https://packt.link/tableau](https://packt.link/tableau)'
- en: '![](img/QR_Code2044012316175764640.png)'
  id: totrans-690
  prefs: []
  type: TYPE_IMG
  zh: '![](img/QR_Code2044012316175764640.png)'
