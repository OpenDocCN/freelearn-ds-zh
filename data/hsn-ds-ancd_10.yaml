- en: Predictive Data Analytics – Modeling and Validation
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 预测性数据分析 – 建模与验证
- en: Our utmost objective in conducting various data analyses is trying to find patterns
    in order to predict what might happen in the future. For the stock market, researchers
    and professionals are conducting various tests to understand market mechanisms.
    In this case, many questions could be asked. What will the market index level
    be in the next five years? What will IBM's price range be next year? Will the
    market volatility increase or decrease in the future? What might be the impact
    if governments change their tax policies? What is the potential gain and loss
    if one country launches a trade war with another one? How do we predict a consumer's
    behavior by analyzing some related variables? Could we predict the probability
    that an undergraduate student will successfully graduate? Could we find an association
    between certain behaviors of one specific disease?
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 我们进行各种数据分析的首要目标是试图找到模式，以预测未来可能发生的事情。对于股市来说，研究人员和专业人士正在进行各种测试，以理解市场机制。在这种情况下，可能会提出许多问题。未来五年市场指数将会怎样？IBM的股价区间明年会是怎样？市场的波动性会增加还是减少？如果政府改变税收政策，可能会产生什么影响？如果一个国家与另一个国家发动贸易战，可能的盈亏是什么？通过分析一些相关变量，我们如何预测消费者的行为？我们能否预测一名本科生顺利毕业的概率？我们能否找到某些特定行为与某一特定疾病之间的关联？
- en: 'In this chapter, the following topics will be covered:'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 本章将涵盖以下主题：
- en: Understanding predictive data analytics
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 理解预测性数据分析
- en: Useful dataset
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 有用的数据集
- en: Predicting future events
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 预测未来事件
- en: Model selection
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 模型选择
- en: Granger causality test
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 格兰杰因果关系检验
- en: Understanding predictive data analytics
  id: totrans-8
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 理解预测性数据分析
- en: In terms of future events, people could have many questions. For an investor,
    if he/she could predict the future movement of a stock price, he/she could make
    more profit. For a company, if they could forecast the trend of their products,
    they could increase their stock price and products' market shares. For governments,
    if they could predict the impact of an aging population on society and the economy,
    they would have more incentive to design a better policy in terms of government
    budget and other related strategic decisions.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 关于未来事件，人们可能会有很多问题。对于投资者来说，如果他/她能够预测股票价格的未来走势，便能获得更多利润。对于公司来说，如果他们能够预测产品的趋势，就能提升股价和产品的市场份额。对于政府来说，如果他们能够预测人口老龄化对社会和经济的影响，就能更有动力设计出更好的政策，涉及政府预算和其他相关的战略决策。
- en: For universities, if they could have a good grasp of the market demand in terms
    of quality and skill sets for their graduates, they could design a set of better
    programs or launch new programs to satisfy the future needs in terms of a labor
    force.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 对于大学来说，如果他们能够很好地掌握毕业生的质量和技能需求，就能设计出更好的课程，或推出新课程以满足未来劳动力市场的需求。
- en: For a better prediction or forecast, researchers have to consider many issues.
    For example, is the sample too small? How do we remove missing variables? Is this
    dataset biased in terms of data collection procedures? How do we treat extreme
    values or outliers? What is the seasonality and how do we deal with it? What kinds
    of models should we apply? In this chapter, some of these issues will be touched
    upon. We start with the useful dataset.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 为了更好的预测或预报，研究人员必须考虑许多问题。例如，样本是否太小？我们如何处理缺失变量？数据集在数据收集过程中是否存在偏差？我们如何处理极端值或离群值？季节性是什么，我们如何应对？我们应该应用什么样的模型？本章将涉及其中的一些问题。我们从有用的数据集开始。
- en: Useful datasets
  id: totrans-12
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 有用的数据集
- en: 'One of the best data sources is the **UCI Machine Learning Repository**. When
    we go to the web page at [https://archive.ics.uci.edu/ml/datasets.html](https://archive.ics.uci.edu/ml/datasets.html),
    we see the following list:'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 最佳的数据来源之一是**UCI机器学习库**。当我们访问网页[https://archive.ics.uci.edu/ml/datasets.html](https://archive.ics.uci.edu/ml/datasets.html)时，我们会看到以下列表：
- en: '![](img/a9587907-a45b-4cbe-96dd-1311c15b3231.png)'
  id: totrans-14
  prefs: []
  type: TYPE_IMG
  zh: '![](img/a9587907-a45b-4cbe-96dd-1311c15b3231.png)'
- en: 'For example, if we click the first dataset (Abalone), we see the following.
    To save space, only the top part is shown:'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，如果我们点击第一个数据集（Abalone），我们会看到以下内容。为了节省空间，仅显示顶部部分：
- en: '![](img/acbbd129-c545-45ce-ab26-912bfaf16444.png)'
  id: totrans-16
  prefs: []
  type: TYPE_IMG
  zh: '![](img/acbbd129-c545-45ce-ab26-912bfaf16444.png)'
- en: 'From the web page, users can download the dataset and find definitions of variables
    and even citations. The code that follows can be used to download a related R
    dataset:'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 用户可以从网页上下载数据集，并找到变量定义，甚至是引用。以下代码可以用来下载相关的R数据集：
- en: '[PRE0]'
  id: totrans-18
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'The related output is shown here:'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 相关输出如下所示：
- en: '![](img/b6b6bf66-c2dd-43c9-b1a9-9ecc2ec02dab.png)'
  id: totrans-20
  prefs: []
  type: TYPE_IMG
  zh: '![](img/b6b6bf66-c2dd-43c9-b1a9-9ecc2ec02dab.png)'
- en: 'From the preceding output, we know that the dataset has `427` observations
    (dataset). For each dataset, we have `7` related features, such as `Name`, `Data_Types`,
    `Default_Task`, `Attribute_Types`, `N_Instances` (number of instances), `N_Attributes` (number
    of attributes), and `Year`. The variable called `Default_Task` could be interpreted
    as the basic usage of each dataset. For example, the first dataset, called `Abalone`,
    could be used for `Classification` problems. The `unique()` function could be
    used to find out all possible `Default_Task`, shown here:'
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 从上面的输出中，我们知道该数据集有 `427` 个观测值（数据集）。对于每个数据集，我们有 `7` 个相关特征，如 `Name`、`Data_Types`、`Default_Task`、`Attribute_Types`、`N_Instances`（实例数）、`N_Attributes`（属性数）和
    `Year`。名为 `Default_Task` 的变量可以解释为每个数据集的基本用途。例如，第一个数据集 `Abalone` 可以用于 `分类` 问题。可以使用
    `unique()` 函数来查找所有可能的 `Default_Task`，如下所示：
- en: '![](img/422f53a0-2c9e-49ec-a8e1-3dd33534925d.png)'
  id: totrans-22
  prefs: []
  type: TYPE_IMG
  zh: '![](img/422f53a0-2c9e-49ec-a8e1-3dd33534925d.png)'
- en: The AppliedPredictiveModeling R package
  id: totrans-23
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 应用预测建模 R 包
- en: 'This package includes many useful datasets that can be used for this chapter
    and others. The easiest way to find those datasets is with the `help()` function,
    shown here:'
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 该包包含了许多有用的数据集，可以用于本章节及其他章节。查找这些数据集最简单的方法是使用 `help()` 函数，如下所示：
- en: '[PRE1]'
  id: totrans-25
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'The following table shows the datasets included in this package:'
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 以下表格展示了该包中包含的数据集：
- en: '| **Data (name)** | **Names of dataset(s)** | **Explanation** |'
  id: totrans-27
  prefs: []
  type: TYPE_TB
  zh: '| **数据（名称）** | **数据集名称** | **说明** |'
- en: '| `abalone` | `abalone` | Abalone data |'
  id: totrans-28
  prefs: []
  type: TYPE_TB
  zh: '| `abalone` | `abalone` | 鲍鱼数据 |'
- en: '| `bio` | `bio` | Hepatic injury data |'
  id: totrans-29
  prefs: []
  type: TYPE_TB
  zh: '| `bio` | `bio` | 肝损伤数据 |'
- en: '| `bookTheme` | `bookTheme` | Lattice themes |'
  id: totrans-30
  prefs: []
  type: TYPE_TB
  zh: '| `bookTheme` | `bookTheme` | 格子主题 |'
- en: '| `cars2010`,`cars2011`, and `cars2012` | `cars2010`,`cars2011`, `cars2012`
    | Fuel economy data |'
  id: totrans-31
  prefs: []
  type: TYPE_TB
  zh: '| `cars2010`,`cars2011`, 和 `cars2012` | `cars2010`,`cars2011`, `cars2012` |
    燃油经济性数据 |'
- en: '| `chem` | `chem` | Hepatic injury data |'
  id: totrans-32
  prefs: []
  type: TYPE_TB
  zh: '| `chem` | `chem` | 肝损伤数据 |'
- en: '| `ChemicalManufacturingProcess` | `ChemicalManufacturingProcess` | Chemical
    manufacturing process data |'
  id: totrans-33
  prefs: []
  type: TYPE_TB
  zh: '| `ChemicalManufacturingProcess` | `ChemicalManufacturingProcess` | 化学制造过程数据
    |'
- en: '| `classes` | `classes` | Two class example data |'
  id: totrans-34
  prefs: []
  type: TYPE_TB
  zh: '| `classes` | `classes` | 两类示例数据 |'
- en: '| `concrete` | `concrete` | Compressive strength of concrete |'
  id: totrans-35
  prefs: []
  type: TYPE_TB
  zh: '| `concrete` | `concrete` | 混凝土抗压强度 |'
- en: '| `diagnosis` | `diagnosis` | Alzheimer''s disease CSF data |'
  id: totrans-36
  prefs: []
  type: TYPE_TB
  zh: '| `diagnosis` | `diagnosis` | 阿尔茨海默病脑脊液数据 |'
- en: '| `easyBoundaryFunc` | `easyBoundaryFunc` | Functions for simulating data |'
  id: totrans-37
  prefs: []
  type: TYPE_TB
  zh: '| `easyBoundaryFunc` | `easyBoundaryFunc` | 用于模拟数据的函数 |'
- en: '| `fingerprints` | `fingerprints` | Permeability data |'
  id: totrans-38
  prefs: []
  type: TYPE_TB
  zh: '| `fingerprints` | `fingerprints` | 渗透性数据 |'
- en: '| `getPackages` | `getPackages` | Install packages for each chapter |'
  id: totrans-39
  prefs: []
  type: TYPE_TB
  zh: '| `getPackages` | `getPackages` | 安装每个章节的包 |'
- en: '| `injury` | `injury` | Hepatic injury data |'
  id: totrans-40
  prefs: []
  type: TYPE_TB
  zh: '| `injury` | `injury` | 肝损伤数据 |'
- en: '| `logisticCreditPredictions` | `logisticCreditPredictions` | Credit data |'
  id: totrans-41
  prefs: []
  type: TYPE_TB
  zh: '| `logisticCreditPredictions` | `logisticCreditPredictions` | 信用数据 |'
- en: '| `mixtures` | `mixtures` | Compressive strength of concrete |'
  id: totrans-42
  prefs: []
  type: TYPE_TB
  zh: '| `mixtures` | `mixtures` | 混凝土抗压强度 |'
- en: '| `permeability` | `permeability` | Permeability data |'
  id: totrans-43
  prefs: []
  type: TYPE_TB
  zh: '| `permeability` | `permeability` | 渗透性数据 |'
- en: '| `permuteRelief` | `permuteRelief` | Permutation statistics for the relief
    algorithm |'
  id: totrans-44
  prefs: []
  type: TYPE_TB
  zh: '| `permuteRelief` | `permuteRelief` | 缓解算法的置换统计数据 |'
- en: '| `predictors` | `predictors` | Alzheimer''s disease CSF data |'
  id: totrans-45
  prefs: []
  type: TYPE_TB
  zh: '| `predictors` | `predictors` | 阿尔茨海默病脑脊液数据 |'
- en: '| `quadBoundaryFunc` | `quadBoundaryFunc` | Functions for simulating data |'
  id: totrans-46
  prefs: []
  type: TYPE_TB
  zh: '| `quadBoundaryFunc` | `quadBoundaryFunc` | 用于模拟数据的函数 |'
- en: '| `schedulingData` | `schedulingData` | HPC job scheduling data |'
  id: totrans-47
  prefs: []
  type: TYPE_TB
  zh: '| `schedulingData` | `schedulingData` | HPC作业调度数据 |'
- en: '| `scriptLocation` | `scriptLocation` | Find chapter script files |'
  id: totrans-48
  prefs: []
  type: TYPE_TB
  zh: '| `scriptLocation` | `scriptLocation` | 查找章节脚本文件 |'
- en: '| `segmentationOriginal` | `segmentationOriginal` | Cell body segmentation
    |'
  id: totrans-49
  prefs: []
  type: TYPE_TB
  zh: '| `segmentationOriginal` | `segmentationOriginal` | 细胞体分割 |'
- en: '| `solubility` | `solTestX`,`solTestXtrans`,`solTestY`,`solTrainX`,`solTrainXtrans`,`solTrainY`,
    and `trainX` | Solubility data |'
  id: totrans-50
  prefs: []
  type: TYPE_TB
  zh: '| `solubility` | `solTestX`,`solTestXtrans`,`solTestY`,`solTrainX`,`solTrainXtrans`,`solTrainY`,
    和 `trainX` | 溶解度数据 |'
- en: '| `transparentTheme` | `transparentTheme` | Lattice themes |'
  id: totrans-51
  prefs: []
  type: TYPE_TB
  zh: '| `transparentTheme` | `transparentTheme` | 格子主题 |'
- en: '| `twoClassData` | `twoClassData` | Two class example data |'
  id: totrans-52
  prefs: []
  type: TYPE_TB
  zh: '| `twoClassData` | `twoClassData` | 两类示例数据 |'
- en: Table 10.1 datasets embedded in the R package AppliedPredictiveModeling
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 表 10.1 数据集，嵌入在 R 包应用预测建模中
- en: 'Here, we show you a few examples of how to load these datasets. To load one
    set of data, we use the `data()` function. For the first dataset, called `abalone`,
    we have the following code:'
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 这里，我们展示了如何加载这些数据集的一些示例。要加载一组数据，我们使用 `data()` 函数。对于第一个数据集，名为 `abalone`，我们有以下代码：
- en: '[PRE2]'
  id: totrans-55
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'The output is as follows:'
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '![](img/bbc1cb31-46bf-404a-8870-e8b7a73b3548.png)'
  id: totrans-57
  prefs: []
  type: TYPE_IMG
  zh: '![](img/bbc1cb31-46bf-404a-8870-e8b7a73b3548.png)'
- en: 'For some, the big dataset includes a few sub-datasets:'
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 对于某些人来说，大数据集包括一些子数据集：
- en: '[PRE3]'
  id: totrans-59
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: To load each dataset, we could use the `dim()`, `head()`, `tail()`, and `summary()`
    functions.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 要加载每个数据集，我们可以使用`dim()`、`head()`、`tail()`和`summary()`函数。
- en: Time series analytics
  id: totrans-61
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 时间序列分析
- en: 'Time series can be defined as a quantity''s set of values obtained at successive
    times, often with equal intervals between them. There are different frequencies
    such as annual, quarterly, monthly, weekly, and daily. For the GDP (Gross Domestic
    Product) time series, we usually have quarterly or annual ones. For stock data,
    we usually have annual, monthly, and daily frequencies. Using the following code,
    we could upload the US GDP data for both quarterly and annual frequencies:'
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 时间序列可以定义为在连续的时间点上获得的一组值，通常它们之间有相等的间隔。时间序列有不同的频率，如年度、季度、月度、周度和日度。对于GDP（国内生产总值）时间序列，我们通常会有季度或年度数据。对于股票数据，我们通常有年度、月度和日度数据。使用以下代码，我们可以上传美国GDP的季度和年度数据：
- en: '[PRE4]'
  id: totrans-63
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: However, we have many issues for time series analysis. For example, from the
    point of view of macroeconomics, we have business or economic cycles which could
    be viewed when the economy is expanding and in recession. Industries or companies
    could have seasonality. Using the agriculture industry as an example, farmers
    would spend more during spring and fall seasons and less on winter. For the retail
    industry, they would have a huge cash inflow during the end-of-year holiday season.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，在时间序列分析中我们会遇到许多问题。例如，从宏观经济学的角度来看，我们有商业或经济周期，可以观察到经济扩张和衰退的阶段。行业或公司可能存在季节性波动。以农业行业为例，农民在春季和秋季的支出会更多，而在冬季则较少。对于零售行业来说，年末假期季节会有大量现金流入。
- en: 'To manipulate time series, we could use many useful functions included in an
    R package called `timeSeries`. For the following program, we average daily data
    with a weekly frequency:'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 要操作时间序列，我们可以使用R包`timeSeries`中包含的许多有用函数。在以下程序中，我们将按周频率对日数据进行平均：
- en: '[PRE5]'
  id: totrans-66
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'We could also use the `head()` function to see a few observations:'
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 我们还可以使用`head()`函数查看一些观察值：
- en: '[PRE6]'
  id: totrans-68
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: Predicting future events
  id: totrans-69
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 预测未来事件
- en: 'There are many techniques we could employ when trying to predict the future,
    such as **moving average** (**MA**), regression, auto-regression, and the like.
    First, let''s start with the simplest one for a moving average:'
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 在预测未来时，我们可以使用许多技术，如**移动平均**（**MA**）、回归、自回归等。首先，让我们从最简单的移动平均开始：
- en: '[PRE7]'
  id: totrans-71
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'In the preceding program, the default value for the number of periods is `10`.
    We could use the dataset called `MSFT` included in the R package called `timeSeries`
    (see the code that follows):'
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 在前面的程序中，周期数的默认值为`10`。我们可以使用名为`MSFT`的数据集，该数据集包含在R包`timeSeries`中（请参见以下代码）：
- en: '[PRE8]'
  id: totrans-73
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: Manually, we find that the average of the first three values of *x* is the same
    as the third value of *y*. In a sense, we could use the moving average to predict
    the future.
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 手动计算时，我们发现* x *的前三个值的平均值与* y *的第三个值相同。从某种意义上讲，我们可以使用移动平均来预测未来。
- en: 'In the next example, we will show you how to estimate the expected next year''s
    market return. Here, we use the S&P500 index and the historical annual average
    as our expected values. First, we could go to Yahoo!Finance to download the data.
    The symbol for the S&P500 index is `^GSPC`:'
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一个示例中，我们将展示如何估计明年市场的预期回报。在这里，我们使用标准普尔500指数和历史年均值作为我们的预期值。首先，我们可以去Yahoo!Finance下载数据。标准普尔500指数的符号是`^GSPC`：
- en: '[PRE9]'
  id: totrans-76
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: 'The output is shown here:'
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 输出如下所示：
- en: '[PRE10]'
  id: totrans-78
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: 'Now, we download the S&P500 index''s historical monthly price data from Yahoo!Finance.
    Alternatively, we could use the following code to download the R dataset. The
    first several commands are used to download the related dataset called .`sp500monthly`.
    The objective of the program is to estimate annual mean and its 90% confidence
    range:'
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，我们从Yahoo!Finance下载标准普尔500指数的历史月度价格数据。或者，我们可以使用以下代码下载R数据集。前几条命令用于下载相关的数据集`.sp500monthly`。程序的目标是估计年均值及其90%的置信区间：
- en: '[PRE11]'
  id: totrans-80
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: From the result, the historical mean annual returns for S&P500 is 9%. If we
    claimed that next year's index return would be 9% as well, it could be between
    5% and 13%, a potential huge swing.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 从结果来看，标准普尔500的历史年均回报率为9%。如果我们宣称明年的指数回报率也为9%，那么它可能在5%到13%之间波动，这是一个可能的巨大波动。
- en: Seasonality
  id: totrans-82
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 季节性
- en: 'In the next example, we will show you auto-correlation. First, we upload an
    R package called `astsa`, which stands for **Applied Statistical Time Series Analysis**.
    Then, we upload the US GDP with quarterly frequency:'
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一个例子中，我们将展示自相关。首先，我们上传一个名为`astsa`的R包，它代表**应用统计时间序列分析**。然后，我们上传美国GDP的季度频率数据：
- en: '[PRE12]'
  id: totrans-84
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: 'In the preceding program, the `diff()` function takes a difference, such as
    the current value minus the previous value. The second input value indicates the
    lag. The function called `acf2()` is used to plot and print the ACF and PACF of
    a time series. ACF stands for **auto-covariance function**, while PACF stands
    for the **partial auto-correlation function**. The related graphs are shown here:'
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 在前面的程序中，`diff()`函数计算差值，例如当前值减去前一个值。第二个输入值表示滞后期。`acf2()`函数用于绘制和打印时间序列的ACF和PACF。ACF代表**自协方差函数**，PACF代表**偏自相关函数**。相关的图表如下所示：
- en: '![](img/5e6f8677-2f47-4131-b91e-e55150949837.png)'
  id: totrans-86
  prefs: []
  type: TYPE_IMG
  zh: '![](img/5e6f8677-2f47-4131-b91e-e55150949837.png)'
- en: Visualizing components
  id: totrans-87
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 可视化组件
- en: 'It is understandable that the concepts and datasets would be much more clear
    if we could use graphs. The first example shows the fluctuation of the US GDP
    over the last five decades:'
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我们能够使用图表，理解这些概念和数据集会更加清晰。第一个例子展示了过去五十年美国GDP的波动：
- en: '[PRE13]'
  id: totrans-89
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: 'The related graph is shown here:'
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 相关的图表如下所示：
- en: '![](img/f5b79b72-a3ec-413b-ad67-27474b4d0220.png)'
  id: totrans-91
  prefs: []
  type: TYPE_IMG
  zh: '![](img/f5b79b72-a3ec-413b-ad67-27474b4d0220.png)'
- en: 'If we used log scale for the GDP, we would have the following code and graph:'
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我们使用对数尺度来表示GDP，那么我们将会得到以下的代码和图表：
- en: '[PRE14]'
  id: totrans-93
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: 'The following graph is close to a straight line:'
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 以下图表接近一条直线：
- en: '![](img/5bb7b753-57a8-42a5-b6f6-b57aec1c920e.png)'
  id: totrans-95
  prefs: []
  type: TYPE_IMG
  zh: '![](img/5bb7b753-57a8-42a5-b6f6-b57aec1c920e.png)'
- en: R package – LiblineaR
  id: totrans-96
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: R包 – LiblineaR
- en: 'This package is the linear predictive models based on the `LIBLINEAR C/C++
    Library`. Here is one example using the `iris` dataset. The program tries to predict
    which category a plant belongs to by using training data:'
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 这个包是基于`LIBLINEAR C/C++库`的线性预测模型。这里是一个使用`iris`数据集的例子。程序通过使用训练数据来预测植物属于哪个类别：
- en: '[PRE15]'
  id: totrans-98
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: 'The output is as follows. The `BCR` is the **Balanced Classification Rate**.
    For this rate, the higher, the better:'
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 输出如下。`BCR`是**平衡分类率**。对于这个率，越高越好：
- en: '[PRE16]'
  id: totrans-100
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: R package – datarobot
  id: totrans-101
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: R包 – datarobot
- en: 'The name DataRobot refers to three things: a Boston-based software company,
    the massively parallel modelling engine developed by the DataRobot company, and
    an open source R package that allows interactive R users to connect to this modelling
    engine. This vignette provides a brief introduction to the `datarobot` R package,
    highlighting the following key details of its use:'
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: DataRobot这个名字指代三件事：一家位于波士顿的软件公司，DataRobot公司开发的大规模并行建模引擎，以及一个开源的R包，允许交互式R用户连接到这个建模引擎。本文档简要介绍了`datarobot`
    R包，重点介绍其使用的以下关键细节：
- en: Connecting to the DataRobot modeling engine from an interactive R session
  id: totrans-103
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从交互式R会话连接到DataRobot建模引擎
- en: Creating a new modeling project in the DataRobot modeling engine
  id: totrans-104
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在DataRobot建模引擎中创建一个新的建模项目
- en: Retrieving the results from a DataRobot modeling project
  id: totrans-105
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从DataRobot建模项目中检索结果
- en: Generating predictions from any DataRobot model
  id: totrans-106
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从任何DataRobot模型生成预测
- en: 'To launch the package, we use the `library()` function:'
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 要启动该包，我们使用`library()`函数：
- en: '[PRE17]'
  id: totrans-108
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: 'After the previous code, there is a good chance a new user will get an error
    message, something like the following:'
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 在之前的代码执行后，新用户很有可能会收到类似以下的错误消息：
- en: '[PRE18]'
  id: totrans-110
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: 'This means that we have to register with the company to get a verified token
    key. The final one will have the following format:'
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 这意味着我们必须先在公司注册，以获得一个验证过的令牌密钥。最终的令牌格式如下所示：
- en: '[PRE19]'
  id: totrans-112
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: 'We could also use the `help()` function to find users of the package:'
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 我们也可以使用`help()`函数来查找包的用户：
- en: '[PRE20]'
  id: totrans-114
  prefs: []
  type: TYPE_PRE
  zh: '[PRE20]'
- en: R package – eclust
  id: totrans-115
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: R包 – eclust
- en: 'This package is the **Environment-Based Clustering for Interpretable Predictive
    Models in High Dimensional Data**. First, let''s look at a dataset called `simdata`,
    which contains simulated data for the package:'
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 这个包是**基于环境的可解释预测模型聚类方法，用于高维数据**。首先，让我们看一个名为`simdata`的数据集，它包含了该包的模拟数据：
- en: '[PRE21]'
  id: totrans-117
  prefs: []
  type: TYPE_PRE
  zh: '[PRE21]'
- en: 'The preceding output shows that the dimension of the data is `100` by `502`.
    `Y` is a continuous response vector, and `E` is a binary environment variable
    for the ECLUST method. *E = 0* for unexposed *(n=50)* and *E = 1* for exposed
    *(n=50)*. The following R program estimates the Fisher z-transformation of correlations.
    The definition of Fisher''s Z transformation is shown in the following code:'
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 上述输出显示数据的维度为 `100` 乘以 `502`。`Y` 是一个连续响应向量，`E` 是用于 ECLUST 方法的二元环境变量。*E = 0* 表示未暴露
    *(n=50)*，*E = 1* 表示已暴露 *(n=50)*。以下的 R 程序估计了相关性的 Fisher z 转换。Fisher的 Z 转换的定义如下代码所示：
- en: '[PRE22]'
  id: totrans-119
  prefs: []
  type: TYPE_PRE
  zh: '[PRE22]'
- en: 'The Fisher''s Z-transformation is defined here. Assuming that we have a set
    of *n* pairs of x[i] and y[i], we could estimate their correlation by applying
    the following formula:'
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: Fisher的Z转换在这里定义。假设我们有一组 *n* 对的 x[i] 和 y[i]，我们可以通过应用以下公式来估计它们的相关性：
- en: '![](img/620cdfd9-7840-43c2-a907-d09d61ae4861.png)'
  id: totrans-121
  prefs: []
  type: TYPE_IMG
  zh: '![](img/620cdfd9-7840-43c2-a907-d09d61ae4861.png)'
- en: Here, ρ is the correlation between two variables, while ![](img/53fe2075-f3dc-4564-b3a1-d5a6ab640992.png) and ![](img/7a3b0972-d6a4-4152-b5bf-9ef439ea5467.png) are
    the means of *x* and *y.* The Fisher's z value is defined as *:*
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，ρ 是两个变量之间的相关性，而 ![](img/53fe2075-f3dc-4564-b3a1-d5a6ab640992.png) 和 ![](img/7a3b0972-d6a4-4152-b5bf-9ef439ea5467.png)
    是 *x* 和 *y* 的均值。Fisher的 z 值定义为 *:*
- en: '![](img/7026ef21-8c4b-44b1-bb17-37482070aa91.png)'
  id: totrans-123
  prefs: []
  type: TYPE_IMG
  zh: '![](img/7026ef21-8c4b-44b1-bb17-37482070aa91.png)'
- en: In is the natural logarithm function and `arctanh()` is the inverse hyperbolic
    tangent function.
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 在这是自然对数函数，`arctanh()` 是反双曲正切函数。
- en: Model selection
  id: totrans-125
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 模型选择
- en: 'When finding a good model, sometimes we face under fitting and over fitting.
    The first example is borrowed; you can download the program at [http://scikit-learn.org/stable/auto_examples/model_selection/plot_underfitting_overfitting.html#sphx-glr-auto-examples-model-selection-plot-underfitting-overfitting-py](http://scikit-learn.org/stable/auto_examples/model_selection/plot_underfitting_overfitting.html#sphx-glr-auto-examples-model-selection-plot-underfitting-overfitting-py).
    It demonstrates the problems of under fitting and over fitting and how we can
    use linear regression with polynomial features to approximate nonlinear functions.
    The true function is given here:'
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 当寻找一个好的模型时，有时我们会面对欠拟合和过拟合。第一个例子是借用的；您可以在[http://scikit-learn.org/stable/auto_examples/model_selection/plot_underfitting_overfitting.html#sphx-glr-auto-examples-model-selection-plot-underfitting-overfitting-py](http://scikit-learn.org/stable/auto_examples/model_selection/plot_underfitting_overfitting.html#sphx-glr-auto-examples-model-selection-plot-underfitting-overfitting-py)下载程序。它演示了欠拟合和过拟合的问题，以及如何使用具有多项式特征的线性回归来逼近非线性函数。真实函数如下所示：
- en: '![](img/42ddbca0-48d7-4ea0-b0d4-3fba96443781.png)'
  id: totrans-127
  prefs: []
  type: TYPE_IMG
  zh: '![](img/42ddbca0-48d7-4ea0-b0d4-3fba96443781.png)'
- en: 'In the following program, we try to use linear and polynomial models to approximate
    the equation. The slightly modified code is shown here. The program tries to show
    the impact of different models in terms of under-fitting and over-fitting:'
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 在以下程序中，我们尝试使用线性和多项式模型来逼近方程。稍作修改的代码如下所示。该程序试图展示不同模型在欠拟合和过拟合方面的影响：
- en: '[PRE23]'
  id: totrans-129
  prefs: []
  type: TYPE_PRE
  zh: '[PRE23]'
- en: 'The related graphs are shown here:'
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 相关图表显示如下：
- en: '![](img/05828301-7b09-4455-ad01-0185668c1de2.png)'
  id: totrans-131
  prefs: []
  type: TYPE_IMG
  zh: '![](img/05828301-7b09-4455-ad01-0185668c1de2.png)'
- en: Note that, on the top of each graph, **MSE** stands for the **Mean Squared Error**.
    For the left-hand graph, the program tries to use a line to fit the true model
    based on the input dataset. Since it is linear, the **Degree** is **1**. Compared
    with the second model with a **Degree** of **4**, the **MSE** of this learned
    model is larger, 0.54 versus 0.0879\. This indicates that the linear model might
    under-fit the model while the second model might over-fit the model.
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意，每个图表的顶部，**MSE** 代表 **均方误差**。对于左侧的图表，该程序试图使用一条线来拟合基于输入数据集的真实模型。由于它是线性的，**Degree**
    是 **1**。与具有 **Degree** 为 **4** 的第二模型相比，这个学习模型的 **MSE** 更大，分别为 0.54 和 0.0879。这表明线性模型可能会欠拟合模型，而第二模型可能会过拟合模型。
- en: Python package – model-catwalk
  id: totrans-133
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Python 包 - model-catwalk
- en: 'One example can be found at [https://pypi.python.org/pypi/model-catwalk/0.2.1](https://pypi.python.org/pypi/model-catwalk/0.2.1)
    . Its first several lines of code are shown here:'
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 一个示例可以在[https://pypi.python.org/pypi/model-catwalk/0.2.1](https://pypi.python.org/pypi/model-catwalk/0.2.1)找到。其前几行代码如下所示：
- en: '[PRE24]'
  id: totrans-135
  prefs: []
  type: TYPE_PRE
  zh: '[PRE24]'
- en: 'The related output is shown here. To save space, only the top part is presented:'
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 相关输出显示如下。为节省空间，仅呈现顶部部分：
- en: '[PRE25]'
  id: totrans-137
  prefs: []
  type: TYPE_PRE
  zh: '[PRE25]'
- en: Python package – sklearn
  id: totrans-138
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Python 包 - sklearn
- en: Since Python `sklearn` is a very useful package, it is worthwhile to show you
    more examples of using this package. The example cited here is how to use the
    package to classify documents by topics using a bag-of-words approach.
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 由于Python的`sklearn`是一个非常有用的包，因此值得向您展示更多使用该包的示例。此处引用的示例是如何使用该包通过词袋模型按主题对文档进行分类。
- en: 'This example uses a `scipy.sparse` matrix to store the features and demonstrates
    various classifiers that can efficiently handle sparse matrices. The dataset used
    in this example is the 20 newsgroups dataset. It will be automatically downloaded,
    then cached. The ZIP file contains the input files and can be downloaded at [http://people.csail.mit.edu/jrennie/20Newsgroups/20news-bydate.tar.gz](http://people.csail.mit.edu/jrennie/20Newsgroups/20news-bydate.tar.gz).
    It has a size of about 14 MB. The code is available at the following web link: [http://scikit-learn.org/stable/auto_examples/text/document_classification_20newsgroups.html#sphx-glr-auto-examples-text-document-classification-20newsgroups-py](http://scikit-learn.org/stable/auto_examples/text/document_classification_20newsgroups.html#sphx-glr-auto-examples-text-document-classification-20newsgroups-py).
    To save space, only the first several lines are shown here:'
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 这个示例使用了一个`scipy.sparse`矩阵来存储特征，并展示了几种能够高效处理稀疏矩阵的分类器。该示例使用的数据集是20个新闻组数据集。它将自动下载并缓存。该ZIP文件包含输入文件，可以在[http://people.csail.mit.edu/jrennie/20Newsgroups/20news-bydate.tar.gz](http://people.csail.mit.edu/jrennie/20Newsgroups/20news-bydate.tar.gz)下载。文件大小约为14
    MB。代码可以通过以下网页链接访问：[http://scikit-learn.org/stable/auto_examples/text/document_classification_20newsgroups.html#sphx-glr-auto-examples-text-document-classification-20newsgroups-py](http://scikit-learn.org/stable/auto_examples/text/document_classification_20newsgroups.html#sphx-glr-auto-examples-text-document-classification-20newsgroups-py)。为了节省空间，这里仅显示前几行：
- en: '[PRE26]'
  id: totrans-141
  prefs: []
  type: TYPE_PRE
  zh: '[PRE26]'
- en: 'The related output is shown here:'
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 相关的输出显示如下：
- en: '![](img/ec6151e8-5131-4094-9450-3d875bb7860e.jpg)'
  id: totrans-143
  prefs: []
  type: TYPE_IMG
  zh: '![](img/ec6151e8-5131-4094-9450-3d875bb7860e.jpg)'
- en: 'For each method, there are three measures: **score**, **training time**, and
    **testing time**. For example, for the `RandomForestClassier` method, it uses
    lots of time for training and testing; see the longest three bars. It is understandable
    since this method uses lots of simulations.'
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 对于每种方法，有三个衡量指标：**得分**、**训练时间**和**测试时间**。例如，对于`RandomForestClassifier`方法，它在训练和测试中消耗了大量时间；请参见最长的三根条形图。这个现象是可以理解的，因为该方法需要进行大量的模拟。
- en: Julia package – QuantEcon
  id: totrans-145
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Julia包 – QuantEcon
- en: 'For predicting a future possible event, one of the tools is the Monte Carlo
    simulation. For this purpose, we could use a Julia package called `QuantEcon`.
    This package is **Quantitative Economics with Julia**. The first example is the
    Markov simulation:'
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 对于预测未来可能发生的事件，其中一个工具是蒙特卡洛模拟。为此，我们可以使用一个名为`QuantEcon`的Julia包。这个包是**使用Julia进行定量经济学**。第一个示例是马尔可夫模拟：
- en: '[PRE27]'
  id: totrans-147
  prefs: []
  type: TYPE_PRE
  zh: '[PRE27]'
- en: 'The first part of the program simulates 100,000 times of P matrix while the
    second part simulates two statuses: `employed` and `unemployed`. See the following
    output:'
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 程序的第一部分模拟了100,000次的P矩阵，而第二部分模拟了两种状态：`employed`和`unemployed`。请看以下输出：
- en: '![](img/3fda3b1a-27f1-4191-b659-126d13c59ba9.png)'
  id: totrans-149
  prefs: []
  type: TYPE_IMG
  zh: '![](img/3fda3b1a-27f1-4191-b659-126d13c59ba9.png)'
- en: 'The next example is also borrowed from the manual. The objective is to see
    how a person from one economic status transforms to another one in the future.
    First, let''s see the following graph:'
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 下一个示例也来自手册。目标是查看一个经济状态的人如何在未来转变为另一个经济状态。首先，让我们看看以下图表：
- en: '![](img/152cb150-81fe-41ec-a543-8809645ad64f.png)'
  id: totrans-151
  prefs: []
  type: TYPE_IMG
  zh: '![](img/152cb150-81fe-41ec-a543-8809645ad64f.png)'
- en: 'Let''s look at the leftmost oval with **poor** inside. It means for a **poor**
    person he/she has 90% chance to remain **poor** and 10% moves to the **middle
    class**. It could be represented by the following matrix, putting zeros where
    there''s no edge between nodes:'
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们看一下最左边的椭圆，其中写着**贫穷**。这意味着对于一个**贫穷**的人，他/她有90%的机会保持**贫穷**，10%的机会转到**中产阶级**。它可以通过以下矩阵表示，矩阵中没有节点之间的边则填充为零：
- en: '![](img/747ea972-9704-472b-92c1-c2255dfd3f64.png)'
  id: totrans-153
  prefs: []
  type: TYPE_IMG
  zh: '![](img/747ea972-9704-472b-92c1-c2255dfd3f64.png)'
- en: 'Two states, *x* and *y*, are said to communicate with each other if there exists
    positive integers *j* and *k*, such as:'
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: 两个状态，*x*和*y*，如果存在正整数*j*和*k*，则称它们可以互相通信，例如：
- en: '![](img/f2000473-f69d-4a6f-a007-a40c7398b014.png)'
  id: totrans-155
  prefs: []
  type: TYPE_IMG
  zh: '![](img/f2000473-f69d-4a6f-a007-a40c7398b014.png)'
- en: 'The stochastic matrix P is called irreducible if all states communicate; that
    is, if *x* and *y* communicate for every (*x, y*). It''s clear from the graph
    that this stochastic matrix is irreducible: we can reach any state from any other
    state eventually. The following code would confirm this:'
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: 如果所有状态都能互相通信，则称随机矩阵P是不可约的；也就是说，如果对于每一对（*x*，*y*），*x*和*y*是可达的。从图中可以看出，这个随机矩阵是不可约的：我们最终可以从任何状态到达任何其他状态。以下代码将确认这一点：
- en: '[PRE28]'
  id: totrans-157
  prefs: []
  type: TYPE_PRE
  zh: '[PRE28]'
- en: 'The following graph would represent an extreme case for irreducible since the
    future status for a **poor** person will be 100% **poor**:'
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: 以下图形将表示一个极端的不可约案例，因为一个**贫穷**的人未来将100%是**贫穷**的：
- en: '![](img/a26a6f7b-a22d-43d4-bfc7-3f9b19a746ac.png)'
  id: totrans-159
  prefs: []
  type: TYPE_IMG
  zh: '![](img/a26a6f7b-a22d-43d4-bfc7-3f9b19a746ac.png)'
- en: 'The following code would confirm this as well, as the result will be `false`:'
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: 以下代码也将确认这一点，因为结果将是`false`：
- en: '[PRE29]'
  id: totrans-161
  prefs: []
  type: TYPE_PRE
  zh: '[PRE29]'
- en: Octave package – ltfat
  id: totrans-162
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Octave包 – ltfat
- en: 'The `ltfat` package stands for **Large Time/Frequency Analysis Toolbox** and
    is a Matlab/Octave toolbox for working with time frequency analysis, wavelets,
    and signal processing. It is intended both as an educational and a computational
    tool. The toolbox provides a large number of linear transforms including Gabor
    and wavelet transforms, along with routines for constructing windows (filter prototypes)
    and manipulating coefficients. The following example is borrowed from their manual,
    which is available at [http://ltfat.github.io/doc/ltfat.pdf](http://ltfat.github.io/doc/ltfat.pdf).
    The following example shows how the function `franalasso()` produces a sparse
    representation of a test signal `greasy`:'
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: '`ltfat`包代表**大时间/频率分析工具箱**，是一个用于处理时间频率分析、小波和信号处理的Matlab/Octave工具箱。它既是一个教育工具，也是一个计算工具。该工具箱提供了大量的线性变换，包括Gabor和小波变换，以及用于构建窗（滤波原型）和操作系数的例程。以下示例取自他们的手册，手册可以在[http://ltfat.github.io/doc/ltfat.pdf](http://ltfat.github.io/doc/ltfat.pdf)找到。以下示例展示了`franalasso()`函数如何生成测试信号`greasy`的稀疏表示：'
- en: '[PRE30]'
  id: totrans-164
  prefs: []
  type: TYPE_PRE
  zh: '[PRE30]'
- en: 'The program outputs three graphs, and the last one is shown here:'
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: 程序输出了三张图，最后一张如下所示：
- en: '![](img/7d94b9e0-425d-4b52-9082-53b83bc25ce0.png)'
  id: totrans-166
  prefs: []
  type: TYPE_IMG
  zh: '![](img/7d94b9e0-425d-4b52-9082-53b83bc25ce0.png)'
- en: Granger causality test
  id: totrans-167
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Granger因果检验
- en: 'When saying that A causes B, this means that A is the reason that B happens.
    This is the common definition of causality: which one causes the next one. The
    Granger causality test is used to determine whether one time series is a factor
    and offers useful information in forecasting the second one. In the following
    code, a dataset called `ChickEgg` is used as an illustration. The dataset has
    two columns, number of chicks and number of eggs, with a timestamp:'
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 当说A引起B时，这意味着A是B发生的原因。这是因果关系的常见定义：即哪个因素引起了下一个因素。Granger因果检验用于确定一个时间序列是否是因素，并在预测第二个时间序列时提供有用信息。在以下代码中，使用了一个名为`ChickEgg`的数据集作为示例。该数据集有两列，分别是小鸡的数量和蛋的数量，并带有时间戳：
- en: '[PRE31]'
  id: totrans-169
  prefs: []
  type: TYPE_PRE
  zh: '[PRE31]'
- en: 'The question is: could we use this year''s egg numbers to predict the next
    year''s chicken numbers? If this is true, our statement will be *the number of
    chicks Granger causes the number of eggs*. If this is not true, we say *the number
    of chicks does not Granger cause the number of eggs*. Here is the related code:'
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: 问题是：我们能否利用今年的蛋的数量来预测明年的鸡的数量？如果这是正确的，我们的说法将是*小鸡的数量Granger引起蛋的数量*。如果不正确，我们说*小鸡的数量不会Granger引起蛋的数量*。下面是相关的代码：
- en: '[PRE32]'
  id: totrans-171
  prefs: []
  type: TYPE_PRE
  zh: '[PRE32]'
- en: 'In model 1, we try to use the lags of chicken plus the lags of the lags of
    egg to explain the chicken numbers. Since the P-value is quite small, it is significant
    at `0.01`. Because of this, we say that *egg Granger causes chicken*. The following
    test shows that chicken could not be used to forecast the next period''s error:'
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: 在模型1中，我们尝试使用鸡的滞后加上蛋的滞后滞后来解释鸡的数量。由于P值相当小，在`0.01`水平上具有显著性。因此，我们说*蛋Granger引起鸡*。以下测试表明，鸡不能用来预测下一期的误差：
- en: '[PRE33]'
  id: totrans-173
  prefs: []
  type: TYPE_PRE
  zh: '[PRE33]'
- en: 'In the next example, we test which one (IBM''s return or S&P500 return) could
    Granger cause the other. First, we define a return function:'
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一个示例中，我们测试哪一个（IBM的回报或S&P500的回报）可以Granger引起另一个。首先，我们定义一个回报函数：
- en: '[PRE34]'
  id: totrans-175
  prefs: []
  type: TYPE_PRE
  zh: '[PRE34]'
- en: 'Note that we use the return plus the ticker as the column name:'
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: 注意，我们使用返回值加上股票代码作为列名：
- en: '[PRE35]'
  id: totrans-177
  prefs: []
  type: TYPE_PRE
  zh: '[PRE35]'
- en: 'Now, the function could be called with the input values. The objective of the
    program is to test if we could use the lagged market returns to explain IBM''s
    returns. Similarly, we test whether the lagged IBM''s returns explain the market''s
    returns:'
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，函数可以用输入值调用。程序的目的是测试我们是否可以使用滞后的市场回报来解释IBM的回报。类似地，我们测试滞后的IBM回报是否可以解释市场回报：
- en: '[PRE36]'
  id: totrans-179
  prefs: []
  type: TYPE_PRE
  zh: '[PRE36]'
- en: 'The preceding results suggest that the S&P500 index could be used to explain
    IBM''s next period''s return, since it is statistically significant at 0.1%. The
    next line will test if the IBM lags of returns would explain S&P500 index returns:'
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: 上述结果表明，S&P500指数可以用来解释IBM下一期的回报，因为它在0.1%的显著性水平下是统计上显著的。接下来的行将测试IBM的回报滞后是否能够解释S&P500指数回报：
- en: '[PRE37]'
  id: totrans-181
  prefs: []
  type: TYPE_PRE
  zh: '[PRE37]'
- en: The result suggests that, over this period, IMB's returns could be used to explain
    the S&P500 index in the next period's returns as well.
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: 结果表明，在这个期间，IMB的回报也可以用来解释S&P500指数下一期的回报。
- en: Summary
  id: totrans-183
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 总结
- en: In this chapter, we have discussed predictive data analytics, modeling and validation,
    some useful datasets, time series analytics, how to predict future events, seasonality,
    and how to visualize our data. For Python packages, we have mentioned `prsklearn` and `catwalk`.
    For R packages, we have discussed `datarobot`, `LiblineaR`, `andeclust`. For Julia
    packages, we explained `EQuantEcon`. For Octave, we have explained `ltfat`.
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: 本章我们讨论了预测数据分析、建模与验证、一些有用的数据集、时间序列分析、如何预测未来事件、季节性，以及如何可视化我们的数据。对于Python包，我们提到了`prsklearn`和`catwalk`。对于R包，我们讨论了`datarobot`、`LiblineaR`、`andeclust`。对于Julia包，我们解释了`EQuantEcon`。对于Octave，我们介绍了`ltfat`。
- en: In the next chapter, we will discuss Anaconda Cloud. Some topics include the
    Jupyter Notebook in depth, different formats of the Jupyter Notebooks, how to
    share notebooks with your partners, how to share different projects over different
    platforms, how to share your working environments, and how to replicate others'
    environments locally.
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一章中，我们将讨论Anaconda Cloud。一些主题包括深入介绍Jupyter Notebook，Jupyter Notebooks的不同格式，如何与伙伴共享笔记本，如何跨平台共享不同项目，如何共享工作环境，以及如何在本地复制他人的环境。
- en: Review questions and exercises
  id: totrans-186
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 复习问题与练习
- en: Why do we care about predicting the future?
  id: totrans-187
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为什么我们关心预测未来？
- en: What does *seasonality* mean? How could it impact our predictions?
  id: totrans-188
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '*季节性*是什么意思？它如何影响我们的预测？'
- en: How does one measure the impact of seasonality?
  id: totrans-189
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如何衡量季节性的影响？
- en: Write an R program to use the moving average of the last five years to predict
    the next year's expected return. The source of the data is [http://fiannce.yahoo.com](http://fiannce.yahoo.com).
    You can test a few stocks such as IBM, C, and WMT. In addition, apply the same
    method to the S&P500 index. What is your conclusion?
  id: totrans-190
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 编写一个R程序，使用过去五年的移动平均来预测下一年的预期回报。数据来源为[http://fiannce.yahoo.com](http://fiannce.yahoo.com)。你可以测试一些股票，如IBM、C和WMT。此外，应用相同的方法预测S&P500指数。你的结论是什么？
- en: 'Assume that we have the following true model:'
  id: totrans-191
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 假设我们有以下真实模型：
- en: '![](img/86816f62-37f9-4548-85e8-7676d31831d3.png)'
  id: totrans-192
  prefs: []
  type: TYPE_IMG
  zh: '![](img/86816f62-37f9-4548-85e8-7676d31831d3.png)'
- en: Write a Python program to use linear and polynomial models to approximate the
    previous function and show the related graphs.
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: 编写Python程序，使用线性和多项式模型来逼近前述函数并展示相关图表。
- en: Download a market index monthly data and estimate its next year's annual return.
    The S&P500 could be used as the index and Yahoo!Finance at [finance.yahoo.com](http://finance.yahoo.com)
    could be used as the source of data. Source of data: [https://finance.yahoo.com](https://finance.yahoo.com)
  id: totrans-194
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 下载一个市场指数的月度数据，并估算其下一年的年回报。可以使用S&P500作为指数，数据来源可以参考Yahoo!Finance，网址为[finance.yahoo.com](http://finance.yahoo.com)。数据来源：[https://finance.yahoo.com](https://finance.yahoo.com)
- en: Download several countries' index data, such as the US, Canada, Hong Kong, and
    China. Estimate the returns. Conduct the Granger causality test to see which country's
    stock market index is a dominant force.
  id: totrans-195
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 下载几个国家的指数数据，如美国、加拿大、香港和中国。估算收益。进行Granger因果关系检验，查看哪个国家的股市指数是主导因素。
- en: 'From Professor French''s Data Library, download the Fama-French three-factor
    time series. Estimate the next year''s **Small Minus Big** (**SMB**) factor and
    **High Minus Low** (**HML**) factor. The web page is [http://mba.tuck.dartmouth.edu/pages/faculty/ken.french/data_library.html](http://mba.tuck.dartmouth.edu/pages/faculty/ken.french/data_library.html).
    Alternatively, a Python dataset can be downloaded at [http://canisius.edu/~yany/python/data/ffMonthly.pkl](http://canisius.edu/~yany/python/data/ffMonthly.pkl).
    A few lines of Python code are shown here:'
  id: totrans-196
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从法国教授数据库中下载Fama-French三因子时间序列。估算明年的**小盘股减大盘股**（**SMB**）因子和**高市值减低市值**（**HML**）因子。网页链接为[http://mba.tuck.dartmouth.edu/pages/faculty/ken.french/data_library.html](http://mba.tuck.dartmouth.edu/pages/faculty/ken.french/data_library.html)。另外，也可以在[http://canisius.edu/~yany/python/data/ffMonthly.pkl](http://canisius.edu/~yany/python/data/ffMonthly.pkl)下载Python数据集。以下是几行Python代码：
- en: '[PRE38]'
  id: totrans-197
  prefs: []
  type: TYPE_PRE
  zh: '[PRE38]'
- en: 'The related output is shown here:'
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: 相关输出如下所示：
- en: '[PRE39]'
  id: totrans-199
  prefs: []
  type: TYPE_PRE
  zh: '[PRE39]'
- en: What is IBM's next expected annual return?
  id: totrans-200
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: IBM 下一年度预计的年回报率是多少？
- en: What is the next three years' S&P500 index level?
  id: totrans-201
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 未来三年 S&P500 指数的水平是多少？
- en: 'Could we add the business cycle to our regression models? The dataset can be
    downloaded by using the following R code:'
  id: totrans-202
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们能否将商业周期添加到我们的回归模型中？数据集可以通过以下 R 代码下载：
- en: '[PRE40]'
  id: totrans-203
  prefs: []
  type: TYPE_PRE
  zh: '[PRE40]'
- en: A peak is defined as 1 while a trough is defined as -1\. Any months between
    a peak or trough or between a trough and peak are linearly interpolated.
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
  zh: 峰值定义为 1，谷值定义为 -1。任何位于峰值或谷值之间，或者位于谷值和峰值之间的月份，都会进行线性插值。
- en: Note that the following four questions are based on Octave machine learning
    examples. The dataset and Octave sample programs can be downloaded at [https://github.com/partharamanujam/octave-ml.](https://github.com/partharamanujam/octave-ml)
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意，以下四个问题基于 Octave 机器学习示例。数据集和 Octave 示例程序可以在[https://github.com/partharamanujam/octave-ml.](https://github.com/partharamanujam/octave-ml)下载。
- en: Run the sample Octave machine learning program called `linear_gd.m`, the dataset
    containing historical records on the change in the water level.
  id: totrans-206
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 运行名为`linear_gd.m`的示例 Octave 机器学习程序，该数据集包含关于水位变化的历史记录。
- en: Run the sample Octave machine learning program called `svm.m`. The program reads
    `spam-vocab` list into a struct `words` which occur at least 100 times in the
    spam corpus. Three input files are `spam-vocab.txt`, `spamTrain.mat`, and `spamTest.mat`.
  id: totrans-207
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 运行名为`svm.m`的示例 Octave 机器学习程序。该程序将`spam-vocab`列表读取到结构体`words`中，该列表包含至少在垃圾邮件语料库中出现
    100 次的单词。三个输入文件分别是`spam-vocab.txt`、`spamTrain.mat`和`spamTest.mat`。
- en: Run the sample Octave machine learning program called `logistic_gd.m`.
  id: totrans-208
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 运行名为`logistic_gd.m`的示例 Octave 机器学习程序。
- en: Run the sample Octave machine learning program called `pca.m`.
  id: totrans-209
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 运行名为`pca.m`的示例 Octave 机器学习程序。
- en: Install a Julia package called `EmpiricalRisks` and show a few examples by using
    this package.
  id: totrans-210
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 安装名为`EmpiricalRisks`的 Julia 包，并通过使用该包展示几个示例。
