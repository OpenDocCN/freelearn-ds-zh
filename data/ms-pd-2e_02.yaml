- en: Introduction to pandas and Data Analysis
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: pandas和数据分析简介
- en: We start the book and this chapter by discussing the contemporary data analytics
    landscape and how pandas fits into that landscape. pandas is the go-to tool for
    data scientists for data pre-processing tasks. We will learn about the technicalities
    of pandas in the later chapters. This chapter covers the context, origin, history,
    market share, and current standing of pandas.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 我们从讨论当代数据分析的景观开始，介绍pandas在其中的角色。pandas是数据科学家进行数据预处理任务的首选工具。我们将在后续章节中学习pandas的技术细节。本章涵盖了pandas的背景、起源、历史、市场份额和当前地位。
- en: 'The chapter has been divided into the following headers:'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 本章节被分成了以下标题：
- en: Motivation for data analysis
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 数据分析的动机
- en: How Python and pandas can be used for data analysis
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如何使用Python和pandas进行数据分析
- en: Description of the pandas library
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: pandas库的描述
- en: Benefits of using pandas
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用pandas的好处
- en: Motivation for data analysis
  id: totrans-7
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 数据分析的动机
- en: In this section, we discuss the trends that are making data analysis an increasingly
    important field in today's fast-moving technological landscape.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们讨论了使数据分析在当今快速发展的技术景观中成为越来越重要的趋势。
- en: We live in a big data world
  id: totrans-9
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 我们生活在一个大数据的世界里
- en: The term **big data** has become one of the hottest technology buzzwords in
    the past two years. We now increasingly hear about big data in various media outlets,
    and big data start-ups have increasingly been attracting venture capital. A good
    example in the area of retail is Target Corporation, which has invested substantially
    in big data and is now able to identify potential customers by using big data
    to analyze people's shopping habits online; refer to a related article at [http://nyti.ms/19LT8ic.](http://nyti.ms/19LT8ic.)
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: '**大数据**这个术语在过去两年中已成为最热门的技术关键词之一。我们现在越来越多地在各种媒体上听到有关大数据的报道，大数据初创公司也越来越多地吸引风险投资。在零售领域的一个好例子是Target
    Corporation，该公司在大数据投资方面投入了大量资源，现在能够利用大数据分析顾客的在线购物习惯，识别潜在顾客；参见相关文章：[http://nyti.ms/19LT8ic.](http://nyti.ms/19LT8ic.)'
- en: Loosely speaking, big data refers to the phenomenon wherein the amount of data
    exceeds the capability of the recipients of the data to process it. Here is an
    article on big data that sums it up nicely: [https://www.oracle.com/in/big-data/guide/what-is-big-data.html](https://www.oracle.com/in/big-data/guide/what-is-big-data.html).
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 简单来说，大数据指的是数据量超过数据接收者处理能力的现象。以下是一篇关于大数据的文章，概括得很好：[https://www.oracle.com/in/big-data/guide/what-is-big-data.html](https://www.oracle.com/in/big-data/guide/what-is-big-data.html)。
- en: The four V's of big data
  id: totrans-12
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 大数据的四个V
- en: 'A good way to start thinking about the complexities of big data is called the
    four dimensions, or **Four V''s of big data**. This model was first introduced
    as the three V''s by Gartner analyst Doug Laney in 2001\. The three V''s stood
    for Volume, Velocity, and Variety, and the fourth V, Veracity, was added later
    by IBM. Gartner''s official definition states the following:'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 开始思考大数据复杂性的一个好方法是称为四维或**大数据的四个V**。这个模型最初由Gartner分析师Doug Laney在2001年提出。最初的三个V代表数据量、速度和多样性，第四个V，真实性，后来由IBM添加。Gartner的官方定义如下：
- en: '"Big data is high volume, high velocity, and/or high variety information assets
    that require new forms of processing to enable enhanced decision making, insight
    discovery and process optimization."'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: '"大数据是指高数据量、高速率和/或高多样性信息资产，需要新的处理方式以实现增强决策、洞察发现和流程优化。"'
- en: 'Laney, Douglas. "The Importance of ''Big Data'': A Definition", Gartner'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: Laney, Douglas. "大数据的重要性：定义", Gartner
- en: Volume of big data
  id: totrans-16
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 大数据的数据量
- en: 'The **volume** of data in the big data age is simply mind-boggling. According
    to IBM, by 2020, the total amount of data on the planet will have ballooned to
    40 zettabytes. You heard that right! 40 zettabytes is 43 trillion gigabytes. For
    more information on this, refer to the Wikipedia page on the zettabyte: [http://en.wikipedia.org/wiki/Zettabyte](http://en.wikipedia.org/wiki/Zettabyte).'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 大数据时代的**数据量**令人惊讶。根据IBM的数据，到2020年，地球上的数据总量将激增至40泽字节。没错！40泽字节相当于43万亿吉字节。有关更多信息，请参阅维基百科关于泽字节的页面：[http://en.wikipedia.org/wiki/Zettabyte](http://en.wikipedia.org/wiki/Zettabyte)。
- en: 'To get a handle on how much data this is, let me refer to an EMC press release
    published in 2010, which stated what 1 zettabyte was approximately equal to:'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 要了解这么大的数据量，让我引用2010年EMC发布的新闻稿，该新闻稿说明了1泽字节大约等于多少：
- en: '"The digital information created by every man, woman and child on Earth ''Tweeting''
    continuously for 100 years " or "75 billion fully-loaded 16 GB Apple iPads, which
    would fill the entire area of Wembley Stadium to the brim 41 times, the Mont Blanc
    Tunnel 84 times, CERN''s Large Hadron Collider tunnel 151 times, Beijing National
    Stadium 15.5 times or the Taipei 101 Tower 23 times..."'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: “每个地球上的男人、女人和孩子在100年内‘连续发推’所创造的数字信息”或“75亿个满载16GB的苹果iPad，将填满温布利体育场41次、蒙特布朗隧道84次、CERN的大型强子对撞机隧道151次、北京国家体育场15.5次或台北101大楼23次……”
- en: EMC study projects 45× data growth by 2020
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: EMC研究预测到2020年数据将增长45倍
- en: 'The growth rate of data has been fuelled largely by a few factors, such as
    the following:'
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 数据增长的速度主要受以下几个因素的推动：
- en: The rapid growth of the internet.
  id: totrans-22
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 互联网的快速增长。
- en: The conversion from analog to digital media, coupled with an increased ability
    to capture and store data, which in turn has been made possible with cheaper and
    better storage technology. There has been a proliferation of digital data input
    devices, such as cameras and wearables, and the cost of huge data storage has
    fallen rapidly. Amazon Web Services is a prime example of the trend toward much
    cheaper storage.
  id: totrans-23
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从模拟到数字媒体的转变，加上数据捕捉和存储能力的增强，这一切得益于更便宜且更高效的存储技术。数字数据输入设备的普及，如相机和可穿戴设备，以及大容量数据存储成本的迅速下降，都是这一趋势的体现。亚马逊网络服务是这一趋势的典型例子，它推动了更便宜存储的普及。
- en: The *internetification* of devices, or rather the *Internet of Things*, is the
    phenomenon wherein common household devices, such as our refrigerators and cars,
    will be connected to the internet. This phenomenon will only accelerate the above
    trend.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 设备的*互联网化*，即*物联网*现象，是指普通家用设备，如冰箱和汽车，将连接到互联网。这个现象将进一步加速上述趋势。
- en: Velocity of big data
  id: totrans-25
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 大数据的速度
- en: From a purely technological point of view, **velocity** refers to the throughput
    of big data, or how fast the data is coming in and is being processed. This has
    ramifications on how fast the recipient of the data needs to process it to keep
    up. Real-time analytics is one attempt to handle this characteristic. Tools that
    can enable this include Amazon Web Services Elastic MapReduce.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 从纯技术角度来看，**速度**指的是大数据的吞吐量，即数据进入和处理的速度。这直接影响到接收方处理数据的速度，以跟上数据流的进度。实时分析是处理这一特征的一种尝试。能够支持这一过程的工具包括亚马逊网络服务的弹性MapReduce。
- en: At a more macro level, the velocity of data can also be regarded as the increased
    speed at which data and information can now be transferred and processed faster
    and at greater distances than ever before.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 从更宏观的角度看，数据的速度也可以看作是数据和信息传输和处理速度的提升，现在的数据传输和处理速度比以往任何时候都要快，且可以传输更远的距离。
- en: The proliferation of high-speed data and communication networks coupled with
    the advent of cell phones, tablets, and other connected devices are primary factors
    driving information velocity. Some measures of velocity include the number of
    tweets per second and the number of emails per minute.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 高速数据和通信网络的普及，以及手机、平板电脑和其他联网设备的出现，是推动信息速度的主要因素。一些速度的衡量标准包括每秒推文数和每分钟电子邮件数。
- en: Variety of big data
  id: totrans-29
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 大数据的多样性
- en: The **variety** of big data comes from having a multiplicity of data sources
    that generate data and the different formats of data that are produced.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 大数据的**多样性**源于多个数据源的存在，这些数据源产生数据并以不同格式输出数据。
- en: This results in a technological challenge for the recipients of the data who
    have to process it. Digital cameras, sensors, the web, cell phones, and so on
    are some of the data generators that produce data in differing formats, and the
    challenge is being able to handle all these formats and extract meaningful information
    from the data. The ever-changing nature of data formats with the dawn of the big
    data era has led to a revolution in the database technology industry with the
    rise of NoSQL databases, which handle what is known as *unstructured* data or
    rather data whose format is fungible or constantly changing.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 这对数据接收方构成了技术挑战，因为他们需要处理这些数据。数字相机、传感器、网络、手机等都是产生不同格式数据的数据生成者，挑战在于如何处理这些格式并从数据中提取有意义的信息。随着大数据时代的到来，数据格式的不断变化促使数据库技术行业发生了革命，NoSQL数据库应运而生，这些数据库能够处理所谓的*非结构化*数据，或是那些格式可变或不断变化的数据。
- en: Veracity of big data
  id: totrans-32
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 大数据的真实性
- en: The fourth characteristic of big data—**veracity**, which was added later—refers
    to the need to validate or confirm the *correctness* of the data or the fact that
    the data represents the truth. The sources of data must be verified and errors
    kept to a minimum. According to an estimate by IBM, poor data quality costs the
    US economy about $3.1 trillion dollars a year. For example, medical errors cost
    the United States $19.5 billion in 2008; you can refer to a related article at
    [http://www.wolterskluwerlb.com/health/resource-center/articles/2012/10/economics-health-care-quality-and-medical-errors](http://www.wolterskluwerlb.com/health/resource-center/articles/2012/10/economics-health-care-quality-and-medical-errors) for
    more information.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 大数据的第四个特征——**真实性**，是后来添加的——指的是需要验证或确认数据的*正确性*，即数据是否代表事实。数据来源必须得到验证，且错误应保持在最小范围内。根据IBM的估计，差的数据质量每年使美国经济损失约3.1万亿美元。例如，2008年，美国的医疗错误导致的损失为195亿美元；你可以参考这篇相关文章，了解更多信息：[http://www.wolterskluwerlb.com/health/resource-center/articles/2012/10/economics-health-care-quality-and-medical-errors](http://www.wolterskluwerlb.com/health/resource-center/articles/2012/10/economics-health-care-quality-and-medical-errors)。
- en: The following link provides an infographic by IBM that summarizes the four V's
    of big data: [https://www.ibmbigdatahub.com/infographic/four-vs-big-data](https://www.ibmbigdatahub.com/infographic/four-vs-big-data).
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 以下链接提供了IBM的一个信息图，概述了大数据的四个V：[https://www.ibmbigdatahub.com/infographic/four-vs-big-data](https://www.ibmbigdatahub.com/infographic/four-vs-big-data)。
- en: So much data, so little time for analysis
  id: totrans-35
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 数据如此庞大，分析时间却如此有限
- en: Data analytics has been described by Eric Schmidt, the former CEO of Google,
    as the *Future of Everything*. For more information, check out a YouTube video
    called *Why Data Analytics is the Future of Everything* at [https://www.youtube.com/watch?v=9hDnO_ykC7Y](https://www.youtube.com/watch?v=9hDnO_ykC7Y).
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 数据分析被谷歌前CEO埃里克·施密特描述为*一切的未来*。欲了解更多信息，请查看YouTube视频《为什么数据分析是未来的一切》，链接：[https://www.youtube.com/watch?v=9hDnO_ykC7Y](https://www.youtube.com/watch?v=9hDnO_ykC7Y)。
- en: The volume and velocity of data will continue to increase in the big data age.
    Companies that can efficiently collect, filter, and analyze data that results
    in information that allows them to better meet the needs of their customers in
    a much quicker timeframe will gain a significant advantage over their competitors.
    For example, data analytics (the *Culture of Metrics*) plays a very key role in
    the business strategy of Amazon. For more information, refer to the *Amazon.com
    case study* by Smart Insights at [http://bit.ly/1glnA1u](http://bit.ly/1glnA1u).
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 在大数据时代，数据的量和速度将继续增加。能够高效地收集、筛选和分析数据，从而获得有助于他们更快满足客户需求的信息的公司，将在竞争中占据显著优势。例如，数据分析（*度量文化*）在亚马逊的商业战略中起着至关重要的作用。欲了解更多信息，请参阅Smart
    Insights提供的*亚马逊案例研究*，链接：[http://bit.ly/1glnA1u](http://bit.ly/1glnA1u)。
- en: The move towards real-time analytics
  id: totrans-38
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 向实时分析的转变
- en: As technologies and tools have evolved to meet the ever-increasing demands of
    business, there has been a move towards what is known as real-time analytics.
    More information on this is available from Intel in their *Insight Everywhere* whitepaper
    at [http://intel.ly/1899xqo](http://intel.ly/1899xqo).
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 随着技术和工具的不断发展，以应对企业日益增长的需求，出现了所谓的实时分析趋势。更多信息可参考英特尔发布的*随处可得的洞察*白皮书，链接：[http://intel.ly/1899xqo](http://intel.ly/1899xqo)。
- en: 'In the big data internet era, here are some examples of real-time analytics
    on big data:'
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 在大数据互联网时代，以下是一些大数据实时分析的例子：
- en: Online businesses demand instantaneous insights into how the new products/features
    they have introduced online are doing and can adjust their online product mix
    accordingly. Amazon is a prime example of this with their *Customers Who Viewed
    This Item Also Viewed* feature.
  id: totrans-41
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在线企业要求即时了解他们在网上推出的新产品/功能的表现，并根据反馈调整在线产品组合。亚马逊是这一点的典型例子，特别是其*查看此商品的客户还查看了*功能。
- en: In finance, risk management and trading systems demand almost instantaneous
    analysis in order to make effective decisions based on data-driven insights.
  id: totrans-42
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在金融领域，风险管理和交易系统几乎要求进行即时分析，以便根据数据驱动的洞察做出有效决策。
- en: Data analytics pipeline
  id: totrans-43
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 数据分析管道
- en: Data modeling is the process of using data to build predictive models. Data
    can also be used for descriptive and prescriptive analysis. But before we make
    use of data, it has to be fetched from several sources, stored, assimilated, cleaned,
    and engineered to suit our goal. The sequential operations that need to be performed
    on data are akin to a manufacturing pipeline, where each subsequent step adds
    value to the potential end product and each progression requires a new person
    or skill set.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 数据建模是利用数据构建预测模型的过程。数据还可以用于描述性分析和规范性分析。但在我们使用数据之前，必须先从多个来源获取数据，存储、整合、清洗并处理，以适应我们的目标。对数据进行的顺序操作类似于制造流水线，每个后续步骤为潜在的最终产品增加价值，并且每一步进展都需要新的人员或技能。
- en: 'The various steps in a data analytics pipeline are shown in the following diagram:'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 数据分析流程中的各个步骤如下图所示：
- en: '![](img/d51a85a7-77a2-42ea-a3bf-f5148367af80.png)'
  id: totrans-46
  prefs: []
  type: TYPE_IMG
  zh: '![](img/d51a85a7-77a2-42ea-a3bf-f5148367af80.png)'
- en: Steps in data analytics pipeline
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 数据分析流程中的步骤
- en: Extract Data
  id: totrans-48
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 提取数据
- en: Transform Data
  id: totrans-49
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 转换数据
- en: Load Data
  id: totrans-50
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 加载数据
- en: Read & Process Data
  id: totrans-51
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 读取与处理数据
- en: Exploratory Data Analysis
  id: totrans-52
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 探索性数据分析
- en: Create Features
  id: totrans-53
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建特征
- en: Build Predictive Models
  id: totrans-54
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 构建预测模型
- en: Validate Models
  id: totrans-55
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 验证模型
- en: Build Products
  id: totrans-56
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 构建产品
- en: 'These steps can be combined into three high-level categories: data engineering,
    data science, and product development.'
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 这些步骤可以归纳为三个高级类别：数据工程、数据科学和产品开发。
- en: '**Data Engineering**: *Step 1* to *Step 3* in the preceding diagram fall into
    this category. It deals with sourcing data from a variety of sources, creating
    a suitable database and table schema, and loading the data in a suitable database.
    There can be many approaches to this step depending on the following:'
  id: totrans-58
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**数据工程**：前图中的*步骤1*到*步骤3*属于此范畴。它涉及从各种来源获取数据，创建适合的数据库和表结构，并将数据加载到合适的数据库中。根据以下因素，可以有多种方法来执行此步骤：'
- en: '**Type of data**: Structured (tabular data) versus unstructured (such as images
    and text) versus semi-structured (such as JSON and XML)'
  id: totrans-59
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**数据类型**：结构化数据（表格数据）与非结构化数据（如图像和文本）与半结构化数据（如JSON和XML）'
- en: '**Velocity of data upgrade**: Batch processing versus real-time data streaming'
  id: totrans-60
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**数据升级速度**：批处理与实时数据流'
- en: '**Volume of data**: Distributed (or cluster-based) storage versus single instance
    databases'
  id: totrans-61
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**数据量**：分布式（或基于集群的）存储与单实例数据库'
- en: '**Variety of data**: Document storage, blob storage, or data lake'
  id: totrans-62
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**数据种类**：文档存储、二进制大对象存储或数据湖'
- en: '**Data Science**: *Step 4* to *Step 8* in figure 1.2 fall into the category
    of data science. This is the phase where the data is made usable and used to predict
    the future, learn patterns, and extrapolate these patterns. Data science can further
    be sub-divided into two phases.'
  id: totrans-63
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**数据科学**：图1.2中的*步骤4*到*步骤8*属于数据科学范畴。这是数据被处理为可用数据并用于预测未来、学习模式和推断这些模式的阶段。数据科学还可以进一步分为两个阶段。'
- en: '*Step 4* to *Step 6* comprise the first phase, wherein the goal is to understand
    the data better and make it usable. Making the data usable requires considerable
    effort to clean it by removing invalid characters and missing values. It also
    involves understanding the nitty-gritty of the data at hand—what is the distribution
    of data, what is the relationship between different data variables, is there a
    causatory relationship between the input and outcome variable, and so on. It also
    involves exploring numerical transformations (features) that might explain this
    causation (between input and outcome variables) better. This phase entails the
    real forensic effort that goes into the ultimate use of data. To use an analogy,
    bamboo seeds remain buried in the soil for years with no signs of a sapling growing,
    and suddenly a sapling grows, and within months a full bamboo tree is ready. This
    phase of data science is akin to the underground preparation the bamboo seeds
    undergo before the rapid growth. This is like the stealth mode of a start up wherein
    a lot of time and effort is committed. And this is where the `pandas` library,
    protagonist of this book, finds it raison d''etre and sweet spot.'
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: '*第4步*到*第6步*构成了第一阶段，其目标是更好地理解数据并使其可用。使数据可用需要付出大量的努力来清理数据，包括删除无效字符和缺失值。这还涉及对数据的细致理解——数据的分布是什么，不同数据变量之间有什么关系，输入和输出变量之间是否存在因果关系，等等。这还包括探索能够更好解释这种因果关系（输入和输出变量之间）的数值转换（特征）。这个阶段涉及的是最终使用数据的真正法医工作。用一个类比来说，竹子种子在土壤中埋藏多年，表面看不到任何幼苗的迹象，但突然间一颗幼苗长出来，并且几个月内一棵完整的竹子就准备好了。数据科学的这一阶段就类似于竹子种子在迅速生长之前所经历的地下准备工作。这就像是初创公司的隐形模式，在这个阶段投入了大量的时间和努力。而这也是本书主角`pandas`库找到其存在意义和最佳定位的地方。'
- en: '*Step 7* to *Step 8* constitute the part where patterns (the parameters of
    a mathematical expression) are learned from historic data and extrapolated to
    future data. It involves a lot of experimentation and iterations to get to the
    optimal results. But if *Step 4* to *Step 6* have been done with the utmost care,
    this phase can be implemented pretty quickly thanks to the number of packages
    in Python, R, and many other data science tools. Of course, it requires a sound
    understanding of the math and algorithms behind the applied model in order to
    tweak its parameters to perfection.'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: '*第7步*到*第8步*是学习历史数据中的模式（数学表达式的参数）并将其外推到未来数据的部分。这需要大量的实验和迭代以达到最佳结果。但是，如果*第4步*到*第6步*已经非常小心地完成，这一阶段可以通过Python、R及许多其他数据科学工具中的多个包快速实现。当然，这也需要对所应用模型背后的数学和算法有扎实的理解，以便微调其参数，达到完美效果。'
- en: '**Product Development**: This is the phase where all the hard work bears fruit
    and all the insights, results, and patterns are served to the users in a way that
    they can consume, understand, and act upon. It might range from building a dashboard
    on data with additional derived fields to an API that calls a trained model and
    returns an output on incoming data. A product can also be built to encompass all
    the stages of the data pipeline, from extracting the data to building a predictive
    model or creating an interactive dashboard.'
  id: totrans-66
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**产品开发**：这是所有辛勤工作结出果实的阶段，所有的洞察、结果和模式都以用户能够消费、理解并付诸实践的方式呈现。它可能包括从构建带有附加派生字段的数据仪表板，到一个调用训练模型并在接收到数据时返回输出的API。一个产品还可以构建成涵盖数据管道所有阶段的形式，从提取数据到构建预测模型或创建互动式仪表板。'
- en: Apart from these steps in the pipeline, there are some additional steps that
    might come into the picture. This is due to the highly evolving nature of the
    data landscape. For example, deep learning, which is used extensively to build
    intelligent products around image, text, and audio data, often requires the training
    data to be labeled into a category or augmented if the quantity is too small to
    create an accurate model.
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 除了这些管道步骤外，还有一些额外的步骤可能会出现在过程中。这是由于数据领域的高度发展性。例如，深度学习广泛用于构建围绕图像、文本和音频数据的智能产品，通常需要将训练数据进行分类标注，或者当数据量太小无法构建准确模型时进行增强。
- en: For example, an object detection task on video data might require the creation
    of training data for object boundaries and object classes using some tools, or
    even manually. Data augmentation helps with image data by creating slightly perturbed
    data (rotated or grained images, for example) and adding it to training data.
    For a supervised learning task, labels are mandatory. This label is generally
    generated together with the data. For example, to train a churn model, a dataset
    with customer descriptions and when they churned out is required. This information
    is generally available in the company's CRM tool.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，视频数据中的目标检测任务可能需要使用一些工具或甚至手动创建训练数据，标注目标边界和目标类别。数据增强通过创建轻微变动的数据（例如旋转或颗粒化的图像）并将其添加到训练数据中，帮助改善图像数据。在监督学习任务中，标签是必需的。这个标签通常是与数据一起生成的。例如，要训练一个客户流失预测模型，需要一个包含客户描述及其流失时间的数据集。这些信息通常可以通过公司的CRM工具获得。
- en: How Python and pandas fit into the data analytics pipeline
  id: totrans-69
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Python和pandas如何融入数据分析流程
- en: 'The **Python** programming language is one of the fastest-growing languages
    today in the emerging field of data science and analytics. Python was created
    by Guido van Rossum in 1991, and its key features include the following:'
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: '**Python**编程语言是当前数据科学和分析新兴领域中增长最快的语言之一。Python由Guido van Rossum于1991年创建，其主要特点包括：'
- en: Interpreted rather than compiled
  id: totrans-71
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 解释型语言，而非编译型语言
- en: Dynamic type system
  id: totrans-72
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 动态类型系统
- en: Pass by value with object references
  id: totrans-73
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过值传递与对象引用
- en: Modular capability
  id: totrans-74
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 模块化功能
- en: Comprehensive libraries
  id: totrans-75
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 综合性库
- en: Extensibility with respect to other languages
  id: totrans-76
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对其他语言的扩展性
- en: Object orientation
  id: totrans-77
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 面向对象
- en: 'Most of the major programming paradigms: procedural, object-oriented, and,
    to a lesser extent, functional'
  id: totrans-78
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 支持大多数主要的编程范式：过程式、面向对象式，以及在一定程度上，函数式编程
- en: For more information, refer to the following article on Python at [https://www.python.org/about/](https://www.python.org/about/).
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 欲了解更多信息，请参阅以下关于Python的文章：[https://www.python.org/about/](https://www.python.org/about/)
- en: 'Among the characteristics that make Python popular for data science are its
    very user-friendly (human-readable) syntax, the fact that it is interpreted rather
    than compiled (leading to faster development time), and it has very comprehensive
    libraries for parsing and analyzing data, as well as its capacity for numerical
    and statistical computations. Python has libraries that provide a complete toolkit
    for data science and analysis. The major ones are as follows:'
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 使Python在数据科学中受欢迎的特点之一是其非常友好的（人类可读的）语法，此外，它是解释型语言而非编译型语言（这意味着开发时间更短），并且拥有非常全面的库来解析和分析数据，以及其在数值和统计计算方面的能力。Python拥有提供完整数据科学和分析工具包的库，主要包括以下几种：
- en: '**NumPy**: The general-purpose array functionality with an emphasis on numeric
    computation'
  id: totrans-81
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**NumPy**: 强调数值计算的一般数组功能'
- en: '**SciPy**: Numerical computing'
  id: totrans-82
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**SciPy**: 数值计算'
- en: '**Matplotlib**: Graphics'
  id: totrans-83
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Matplotlib**: 图形绘制'
- en: '**pandas**: Series and data frames (1D and 2D array-like types)'
  id: totrans-84
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**pandas**: 序列和数据框（1D和2D数组类型）'
- en: '**Scikit-learn**: Machine learning'
  id: totrans-85
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Scikit-learn**: 机器学习'
- en: '**NLTK**: Natural language processing'
  id: totrans-86
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**NLTK**: 自然语言处理'
- en: '**Statstool**: Statistical analysis'
  id: totrans-87
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Statstool**: 统计分析'
- en: For this book, we will be focusing on the fourth library in the preceding list,
    pandas.
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 本书将重点介绍前述列表中的第四个库——pandas。
- en: What is pandas?
  id: totrans-89
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 什么是pandas？
- en: The pandas we are going to obsess over in this book are not the cute and lazy
    animals that also do kung fu when needed.
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 本书中我们将重点研究的pandas可不是那些可爱且懒惰的动物，尽管它们有时也能在需要时施展功夫。
- en: '**pandas** is a high-performance open source library for data analysis in Python
    developed by Wes McKinney in 2008\. pandas stands for **panel data**, a reference
    to the tabular format in which it processes the data. It is available for free
    and is distributed with a 3-Clause BSD License under the open source initiative.'
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: '**pandas**是由Wes McKinney于2008年开发的一个高性能开源数据分析库，专为Python设计。pandas代表**面板数据**，是指它处理数据时使用的表格格式。它是免费的，并在开源倡议下以3条款BSD许可证发布。'
- en: Over the years, it has become the de-facto standard library for data analysis
    using Python. There's been great adoption of the tool, and there's a large community
    behind it, (1,200+ contributors, 17,000+ commits, 23 versions, and 15,000+ stars)
    rapid iteration, features, and enhancements are continuously made.
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 多年来，pandas已经成为使用Python进行数据分析的事实标准库。该工具得到了广泛的应用，背后有着庞大的社区支持（1,200+位贡献者，17,000+次提交，23个版本，15,000+个星标），并且该库在快速迭代、功能和增强方面持续更新。
- en: 'Some key features of pandas include the following:'
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: pandas 的一些关键功能包括：
- en: 'It can process a variety of datasets in different formats: time series, tabular
    heterogeneous, and matrix data.'
  id: totrans-94
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 它可以处理各种格式的数据集：时间序列、异构表格数据和矩阵数据。
- en: It facilitates loading/importing data from varied sources, such as CSV and databases
    such as SQL.
  id: totrans-95
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 它便于从各种来源加载/导入数据，例如 CSV 和 SQL 数据库。
- en: 'It can handle myriad operations on datasets: subsetting, slicing, filtering,
    merging, groupBy, re-ordering, and re-shaping.'
  id: totrans-96
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 它可以对数据集执行各种操作：子集、切片、过滤、合并、分组、重新排序和重塑。
- en: It can deal with missing data according to rules defined by the user/developer,
    such as ignore, convert to 0, and so on.
  id: totrans-97
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 它可以根据用户/开发者定义的规则处理缺失数据，例如忽略、转换为0等。
- en: It can be used for parsing and munging (conversion) of data as well as modeling
    and statistical analysis.
  id: totrans-98
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 它可以用于数据的解析和转换（munging），以及建模和统计分析。
- en: It integrates well with other Python libraries such as statsmodels, SciPy, and
    scikit-learn.
  id: totrans-99
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 它与其他 Python 库（如 statsmodels、SciPy 和 scikit-learn）集成良好。
- en: It delivers fast performance and can be sped up even more by making use of **Cython**
    (C extensions to Python).
  id: totrans-100
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 它提供快速的性能，并且通过使用 **Cython**（Python 的 C 扩展）可以进一步加速。
- en: For more information, go through the official pandas documentation at [http://pandas.pydata.org/pandas-docs/stable/](http://pandas.pydata.org/pandas-docs/stable/).
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 如需更多信息，请查阅官方 pandas 文档：[http://pandas.pydata.org/pandas-docs/stable/](http://pandas.pydata.org/pandas-docs/stable/)。
- en: Where does pandas fit in the pipeline?
  id: totrans-102
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: pandas 在数据分析管道中扮演什么角色？
- en: 'As discussed in the previous section, pandas can be used to perform *Step 4* to *Step
    6* in the pipeline. And *Step 4* to *Step 6* are the backbone of any data science
    process, application, or product:'
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 如前所述，pandas 可用于在管道中执行 *第 4 步* 到 *第 6 步*。*第 4 步* 到 *第 6 步* 是任何数据科学过程、应用或产品的核心。
- en: '![](img/4404c842-6d14-486e-ab09-14a6578a40fb.png)'
  id: totrans-104
  prefs: []
  type: TYPE_IMG
  zh: '![](img/4404c842-6d14-486e-ab09-14a6578a40fb.png)'
- en: Where does pandas fit in the data analytics pipeline?
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: pandas 在数据分析管道中扮演什么角色？
- en: The *Step 1* to *Step 6* can be performed in pandas by some methods. Those in
    the *Step 4* to *Step 6* are the primary tasks while the *Step 1* to *Step 3*
    can also be done in some way or other in pandas.
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: '*第 1 步* 到 *第 6 步* 可以通过 pandas 的某些方法执行。*第 4 步* 到 *第 6 步* 是主要任务，而 *第 1 步* 到 *第
    3 步* 也可以通过某种方式在 pandas 中完成。'
- en: pandas is an indispensable library if you're working with data, and it would
    be near impossible to find code for data modeling that doesn't import pandas into
    the working environment. Easy-to-use syntax in Python and the availability of
    a spreadsheet-like data structure called a dataframe make it amenable even to
    users who are too comfortable and too unwilling to move away from Excel. At the
    same time, it is loved by scientists and researchers to handle exotic file formats
    such as parquet, feather file, and many more. It can read data in batch mode without
    clogging all the machine's memory. No wonder the famous news aggregator Quartz
    called it *the* **most important tool in data science**.
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: pandas 是处理数据时不可或缺的库，几乎不可能找到不导入 pandas 的数据建模代码。Python 中易于使用的语法以及类似电子表格的数据结构——DataFrame
    的存在，使其即便是对于那些习惯于并不愿意脱离 Excel 的用户来说也很友好。同时，它深受科学家和研究人员的喜爱，能够处理诸如 Parquet、Feather
    文件等特殊文件格式。它可以批量读取数据，而不会占用所有机器的内存。难怪著名新闻聚合网站 Quartz 称它为 *数据科学中的**最重要工具**。
- en: 'pandas is suited well for the following types of dataset:'
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: pandas 非常适用于以下类型的数据集：
- en: Tabular with heterogeneous type columns
  id: totrans-109
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 具有异构类型列的表格数据
- en: Ordered and unordered time series
  id: totrans-110
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 有序和无序时间序列
- en: Matrix/array data with labeled or unlabeled rows and columns
  id: totrans-111
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 带有标签或未标签行列的矩阵/数组数据
- en: 'pandas can perform the following operations on data with finesse:'
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: pandas 能够巧妙地执行以下数据操作：
- en: Easy handling of missing and NaN data
  id: totrans-113
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 简单处理缺失和 NaN 数据
- en: Addition and deletion of columns
  id: totrans-114
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 列的添加和删除
- en: Automatic and explicit data alignment with labels
  id: totrans-115
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 自动和显式的数据对齐与标签
- en: GroupBy for aggregating and transforming data using split-apply-combine
  id: totrans-116
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用 split-apply-combine 进行数据的聚合和转换（GroupBy）
- en: Converting differently indexed Python or NumPy data to DataFrame
  id: totrans-117
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将不同索引的 Python 或 NumPy 数据转换为 DataFrame
- en: Slicing, indexing, hierarchical indexing, and subsetting of data
  id: totrans-118
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 切片、索引、层次化索引和数据子集的操作
- en: Merging, joining, and concatenating data
  id: totrans-119
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 合并、连接和拼接数据
- en: I/O methods for flat files, HDF5, feather, and parquet formats
  id: totrans-120
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 支持平面文件、HDF5、Feather 和 Parquet 格式的 I/O 方法
- en: Time series functionality
  id: totrans-121
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 时间序列功能
- en: Benefits of using pandas
  id: totrans-122
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用 pandas 的好处
- en: pandas forms a core component of the Python data analysis corpus. The distinguishing
    feature of pandas is that the suite of data structures that it provides is naturally
    suited to data analysis, primarily the DataFrame and, to a lesser extent, series
    (1-D vectors) and panel (3D tables).
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: pandas是Python数据分析库的核心组成部分。pandas的一个显著特点是它提供的一系列数据结构天然适用于数据分析，主要是DataFrame，以及在较小程度上，series（一维向量）和panel（三维表格）。
- en: Simply put, pandas and statstools can be described as Python's answer to R,
    the data analysis and statistical programming language that provides both data
    structures, such as R-dataframes, and a rich statistical library for data analysis.
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 简单来说，pandas和statstools可以被描述为Python对R语言的回应，R是一种用于数据分析和统计编程的语言，提供了数据结构（如R的数据框）和丰富的统计库来进行数据分析。
- en: 'The benefits of pandas compared to using a language such as Java, C, or C++
    for data analysis are manifold:'
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 与使用像Java、C或C++这样的语言进行数据分析相比，pandas的好处是显而易见的：
- en: '**Data representation**: It can easily represent data in a form that''s naturally
    suited for data analysis via its DataFrame and series data structures in a concise
    manner. Doing the equivalent in Java/C/C++ requires many lines of custom code
    as these languages were not built for data analysis but rather networking and
    kernel development.'
  id: totrans-126
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**数据表示**：它可以轻松以自然适合数据分析的形式表示数据，通过其DataFrame和series数据结构简洁地展示。用Java/C/C++做相同的事需要编写大量的自定义代码，因为这些语言并不是为数据分析而设计的，而是为网络和内核开发而设计的。'
- en: '**Data subsetting and filtering**: It permits easy subsetting and filtering
    of data, procedures that are a staple of doing data analysis.'
  id: totrans-127
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**数据子集和过滤**：它允许轻松对数据进行子集化和过滤，这是数据分析中常见的操作。'
- en: '**Concise and clear code**: Its concise and clear API allows the user to focus
    more on their core goal, rather than having to write a lot of scaffolding code
    in order to perform routine tasks. For example, reading a CSV file into a DataFrame
    data structure in memory takes two lines of code, while doing the same task in
    Java/C/C++ requires many more lines of code or calls to non-standard libraries,
    as illustrated below. Let''s suppose that we had the following data to read:'
  id: totrans-128
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**简洁清晰的代码**：它简洁明了的API让用户能够更加专注于核心目标，而不需要编写大量的模板代码来执行常规任务。例如，将一个CSV文件读取到DataFrame数据结构中只需要两行代码，而用Java/C/C++做同样的任务则需要更多行代码或调用非标准库，下面将会展示。假设我们有以下数据需要读取：'
- en: '| **Country** | **Year** | **CO2Emissions** | **PowerConsumption** | **FertilityRate**
    | **InternetUsagePer1000People** | **LifeExpectancy** | **Population** |'
  id: totrans-129
  prefs: []
  type: TYPE_TB
  zh: '| **国家** | **年份** | **CO2排放** | **能源消耗** | **生育率** | **每千人互联网使用率** | **预期寿命**
    | **人口** |'
- en: '| Belarus | 2000 | 5.91 | 2988.71 | 1.29 | 18.69 | 68.01 | 1.00E+07 |'
  id: totrans-130
  prefs: []
  type: TYPE_TB
  zh: '| 白俄罗斯 | 2000 | 5.91 | 2988.71 | 1.29 | 18.69 | 68.01 | 1.00E+07 |'
- en: '| Belarus | 2001 | 5.87 | 2996.81 |  | 43.15 |  | 9970260 |'
  id: totrans-131
  prefs: []
  type: TYPE_TB
  zh: '| 白俄罗斯 | 2001 | 5.87 | 2996.81 |  | 43.15 |  | 9970260 |'
- en: '| Belarus | 2002 | 6.03 | 2982.77 | 1.25 | 89.8 | 68.21 | 9925000 |'
  id: totrans-132
  prefs: []
  type: TYPE_TB
  zh: '| 白俄罗斯 | 2002 | 6.03 | 2982.77 | 1.25 | 89.8 | 68.21 | 9925000 |'
- en: '| Belarus | 2003 | 6.33 | 3039.1 | 1.25 | 162.76 |  | 9873968 |'
  id: totrans-133
  prefs: []
  type: TYPE_TB
  zh: '| 白俄罗斯 | 2003 | 6.33 | 3039.1 | 1.25 | 162.76 |  | 9873968 |'
- en: '| Belarus | 2004 |  | 3143.58 | 1.24 | 250.51 | 68.39 | 9824469 |'
  id: totrans-134
  prefs: []
  type: TYPE_TB
  zh: '| 白俄罗斯 | 2004 |  | 3143.58 | 1.24 | 250.51 | 68.39 | 9824469 |'
- en: '| Belarus | 2005 |  |  | 1.24 | 347.23 | 68.48 | 9775591 |'
  id: totrans-135
  prefs: []
  type: TYPE_TB
  zh: '| 白俄罗斯 | 2005 |  |  | 1.24 | 347.23 | 68.48 | 9775591 |'
- en: 'In a CSV file, this data that we wish to read would look like the following:'
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 在CSV文件中，我们希望读取的数据会像下面这样：
- en: '[PRE0]'
  id: totrans-137
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: The data here is taken from World Bank Economic data, available at [http://data.worldbank.org](http://data.worldbank.org).
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 这些数据来自世界银行经济数据，网址为[http://data.worldbank.org](http://data.worldbank.org)。
- en: 'In Java, we would have to write the following code:'
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 在Java中，我们需要编写以下代码：
- en: '[PRE1]'
  id: totrans-140
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'But, using pandas, it would take just two lines of code:'
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 但是，使用pandas，只需两行代码：
- en: '[PRE2]'
  id: totrans-142
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: In addition, pandas is built upon the NumPy library and hence inherits many
    of the performance benefits of this package, especially when it comes to numerical
    and scientific computing. One oft-touted drawback of using Python is that as a
    scripting language, its performance relative to languages such as Java/C/C++ has
    been rather slow. However, this is not really the case for pandas.
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，pandas是建立在NumPy库之上，因此继承了该库在数值和科学计算方面的许多性能优势。使用Python的一个常被提及的缺点是，作为一种脚本语言，相较于Java/C/C++等语言，它的性能比较慢。然而，对于pandas来说，这种情况并不成立。
- en: History of pandas
  id: totrans-144
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: pandas历史
- en: The basic version of pandas was built in 2008 by Wes McKinney, an MIT grad with
    heavy quantitative finance experience. Now a celebrity in his own right, thanks
    to his open source contributions and the wildly popular book called **Data Analysis
    with Python**, he was reportedly frustrated with the time he had to waste doing
    simple data manipulation tasks at his job, such as reading a CSV file, with the
    popular tools at that time. He said he quickly fell in love with Python for its
    intuitive and accessible nature after not finding Excel and R suitable for his
    needs. But he found that it was missing key features that would make it the go-to
    tool for data analysis—for example, an intuitive format to deal with spreadsheet
    data or to create new calculated columns from existing columns.
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: pandas的基础版本由Wes McKinney于2008年构建，他是麻省理工学院的毕业生，拥有丰富的量化金融经验。如今，由于他的开源贡献以及广受欢迎的书籍《**使用Python进行数据分析**》，他已成为名副其实的名人。据报道，他在工作中不得不使用当时流行的工具进行简单的数据操作任务（例如读取CSV文件）时感到非常沮丧。他表示，在发现Excel和R不适合自己的需求后，他很快爱上了Python，因为它直观且易于上手。但他也发现，Python缺少一些关键特性，这些特性本可以使它成为数据分析的首选工具——例如，处理电子表格数据的直观格式，或从现有列中创建新计算列的能力。
- en: 'According to an interview he gave to Quartz, the design considerations and
    vision that he had in mind while creating the tool were the following:'
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 根据他接受Quartz采访时所述，在创建该工具时，他心中有以下设计考虑和愿景：
- en: Quality of data is far more important than any fancy analysis
  id: totrans-147
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 数据质量远比任何华丽的分析更为重要
- en: Treating in-memory data like a SQL table or an Excel spreadsheet
  id: totrans-148
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将内存中的数据视作SQL表或Excel电子表格
- en: Intuitive analysis and exploration with minimal and elegant code
  id: totrans-149
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用简洁且优雅的代码进行直观分析和探索
- en: Easier compatibility with other libraries used for the same or different steps
    in the data pipeline
  id: totrans-150
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 与用于数据管道中相同或不同步骤的其他库的兼容性更强
- en: After building the basic version, he went on to pursue a PhD at Duke University
    but dropped out in a quest to make the tool he had created a cornerstone for data
    science and Python. With his dedicated contribution, together with the release
    of popular Python visualization libraries such as Matplotlib, followed by machine
    learning libraries such as Scikit-Learn and interactive user interfaces such as
    Jupyter and Spyder, pandas and eventually Python became the hottest tool in the
    armory of any data scientist.
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 在构建基础版本后，他继续攻读杜克大学的博士学位，但在追求将他所创建的工具成为数据科学和Python的基石的过程中辍学。凭借他专注的贡献，再加上Matplotlib等流行的Python可视化库的发布，随后是Scikit-Learn等机器学习库和Jupyter、Spyder等交互式用户界面的出现，pandas以及最终的Python成为了任何数据科学家武器库中最炙手可热的工具。
- en: Wes is heavily invested in the constant improvement of the tool he created from
    scratch. He coordinates the development of new features and the improvement of
    existing ones. The data science community owes him big time.
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: Wes全身心投入到他从零开始创建的工具的不断改进中。他协调新特性的发展以及现有功能的改进。数据科学社区欠他一份大恩。
- en: Usage pattern and adoption of pandas
  id: totrans-153
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: pandas的使用模式和普及
- en: 'The popularity of Python has skyrocketed over the years, especially after 2012;
    a lot of this can be attributed to the popularity of pandas. Python-related questions
    make up around 12% of the total questions asked from high-income countries on
    Stack Overflow, a popular platform for developers to ask questions and get answers
    from other people in the community about how to get things done and fix bugs in
    different programming languages. Given that there are hundreds of programming
    languages, one language occupying 12% of market share is an extraordinary achievement:'
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: Python的流行度近年来飙升，特别是2012年之后；这在很大程度上要归功于pandas的流行。Python相关的问题占Stack Overflow这一开发者问答平台上来自高收入国家问题总数的约12%。Stack
    Overflow是一个开发者互相提问和获取解决方案的平台，涵盖如何完成任务和修复不同编程语言中的错误。考虑到有数百种编程语言，一个语言占据12%的市场份额是一个非凡的成就：
- en: '![](img/154f809b-e614-409f-be73-7bc25c80f495.png)'
  id: totrans-155
  prefs: []
  type: TYPE_IMG
  zh: '![](img/154f809b-e614-409f-be73-7bc25c80f495.png)'
- en: The most popular data analytics tools based on a survey of Kaggle users conducted
    in 2017-18
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: 2017-18年Kaggle用户调查结果显示的最受欢迎的数据分析工具
- en: According to this survey conducted by Kaggle, 60% of the respondents said that
    they were aware of or have used Python for their data science jobs.
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 根据Kaggle进行的一项调查，60%的受访者表示他们了解或已经使用Python从事数据科学工作。
- en: According to the data recorded by Stack Overflow about the types of question
    asked on their platform, Python and pandas have registered steady growth year
    on year, while some of the other programming languages, such as Java and C, have
    declined in popularity and are playing catch-up. Python has almost caught up with
    the number of questions asked about Java on the platform, while the number for
    Java has shown a negative trend. pandas has been showing constant growth in numbers.
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: 根据Stack Overflow记录的数据，关于平台上提问的类型，Python和pandas每年都在稳步增长，而其他一些编程语言，如Java和C，已经逐渐失去人气，正处于追赶阶段。Python几乎赶上了Java在该平台上的提问数量，而Java的提问数量呈负增长趋势。pandas的提问数量则一直在稳步增长。
- en: 'The following chart is based on data gathered from the SQL API exposed by Stack
    Overflow. The *y *axis represents the number of questions asked about that topic
    on Stack Overflow in a particular year:'
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: 以下图表基于从Stack Overflow的SQL API收集的数据。*y*轴表示在特定年份，Stack Overflow上关于该话题的提问数量：
- en: '![](img/24b428f6-51f9-4c83-b19d-73578d9ab05d.png)'
  id: totrans-160
  prefs: []
  type: TYPE_IMG
  zh: '![](img/24b428f6-51f9-4c83-b19d-73578d9ab05d.png)'
- en: 'Popularity of tools across years based on the # questions asked on Stack Overflow'
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: 基于Stack Overflow提问数量的工具流行度，按年份统计
- en: Google Trend also shows a surge in popularity for pandas, as demonstrated in
    the following chart. Numbers represent surge in interest for pandas relative to
    the highest point (historically) on the chart for the given region and time.
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: Google Trends也展示了pandas流行度的激增，以下图表展示了这一点。图中的数字表示相对于该地区和时间的历史最高点，pandas兴趣的激增程度。
- en: '![](img/a8aef353-9e13-40a4-93da-bd7416acf0a5.png)'
  id: totrans-163
  prefs: []
  type: TYPE_IMG
  zh: '![](img/a8aef353-9e13-40a4-93da-bd7416acf0a5.png)'
- en: Popularity of pandas based on data from Google Trends
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 基于Google Trends数据，pandas的流行度
- en: 'The geographical split of the popularity of pandas is even more interesting.
    The highest interest has come from China, which might be an indicator of the high
    adoption of open source tools and/or a very high inclination towards building
    powerful tech for data science:'
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: pandas的地理分布更为有趣。最高的关注度来自中国，这可能表明开源工具的广泛采用和/或对构建强大数据科学技术的高度倾向：
- en: '![](img/f600e5cd-7f18-4ed7-bd34-561ea3f345b5.png)'
  id: totrans-166
  prefs: []
  type: TYPE_IMG
  zh: '![](img/f600e5cd-7f18-4ed7-bd34-561ea3f345b5.png)'
- en: Popularity of pandas across geographies based on Google Trends data
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: 基于Google Trends数据，pandas在不同地区的流行程度
- en: 'Apart from the popularity with its users, pandas (owing to its open source
    origins) also has a thriving community that is committed to constantly improving
    it and making it easier for the users to get answers about the issues. The following
    chart shows the weekly modifications (additions/deletions) to the pandas source
    code by the contributors:'
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 除了在用户中广受欢迎外，pandas（由于其开源的起源）还有一个充满活力的社区，致力于不断改进它并使用户更容易找到相关问题的答案。以下图表显示了贡献者每周对pandas源代码的修改（增加/删除）情况：
- en: '![](img/c8d4a903-ff0e-4f2a-ae95-2ff8a3159a10.png)'
  id: totrans-169
  prefs: []
  type: TYPE_IMG
  zh: '![](img/c8d4a903-ff0e-4f2a-ae95-2ff8a3159a10.png)'
- en: Number of additions/deletions done to the pandas source code by contributors
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: 贡献者对pandas源代码所做的增加/删除次数
- en: pandas on the technology adoption curve
  id: totrans-171
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: pandas在技术采用曲线中的位置
- en: 'According to a popular framework called **Gartner Hype Cycle**, there are five
    phases in the process of the proliferation and adoption of technologies:'
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: 根据一个叫做**Gartner Hype Cycle**的流行框架，技术的普及和采用过程分为五个阶段：
- en: Technology trigger
  id: totrans-173
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 技术触发
- en: Peak of inflated expectations
  id: totrans-174
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 期望膨胀的顶峰
- en: Trough of disillusionment
  id: totrans-175
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 幻灭低谷
- en: Slope of enlightenment
  id: totrans-176
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 启蒙的斜坡
- en: Plateau of productivity
  id: totrans-177
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 生产力高原
- en: The following link contains a chart that shows different technologies and the
    stage they are at on the technology adoption curve [https://blogs-images.forbes.com/gartnergroup/files/2012/09/2012Emerging-Technologies-Graphic4.gif](https://blogs-images.forbes.com/gartnergroup/files/2012/09/2012Emerging-Technologies-Graphic4.gif).
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: 以下链接包含一张图表，展示了不同技术及其在技术采用曲线中的阶段：[https://blogs-images.forbes.com/gartnergroup/files/2012/09/2012Emerging-Technologies-Graphic4.gif](https://blogs-images.forbes.com/gartnergroup/files/2012/09/2012Emerging-Technologies-Graphic4.gif)。
- en: As can be seen, Predictive Analytics has already reached the steady plateau
    of productivity, which is where the optimum and stable return on investment can
    be extracted from a technology. Since pandas is an essential component of most
    predictive analytics initiatives, it is safe to say that pandas has reached the
    plateau of productivity.
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: 如图所示，预测分析已经达到了生产力的稳定高原，这是从技术中提取最佳和稳定投资回报的阶段。由于pandas是大多数预测分析项目的关键组成部分，可以安全地说，pandas已经达到了生产力的高原。
- en: Popular applications of pandas
  id: totrans-180
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: pandas 的流行应用
- en: 'pandas is built on top of NumPy. Some of the noteworthy uses of the pandas,
    apart from every other data science project of course, are the following:'
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: pandas 构建于 NumPy 之上。除了所有其他数据科学项目外，pandas 的一些显著应用包括：
- en: pandas is a dependency of statsmodels ([http://www.statsmodels.org/stable/index.html](http://www.statsmodels.org/stable/index.html)),
    making it a significant part of Python's numerical computing ecosystem.
  id: totrans-182
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: pandas 是 statsmodels 的依赖库（[http://www.statsmodels.org/stable/index.html](http://www.statsmodels.org/stable/index.html)），使其成为
    Python 数值计算生态系统的重要组成部分。
- en: pandas has been used extensively in the production of many financial applications.
  id: totrans-183
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: pandas 已被广泛应用于许多金融应用程序的开发中。
- en: Summary
  id: totrans-184
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: We live in a big data era characterized by the four V's- volume, velocity, variety,
    and veracity. The volume and velocity of data are set to increase for the foreseeable
    future. Companies that can harness and analyze big data to extract information
    and take actionable decisions based on this information will be the winners in
    the marketplace. Python is a fast-growing, user-friendly, extensible language
    that is very popular for data analysis.
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: 我们生活在一个大数据时代，其特点是四个 V —— 数据的体量（volume）、速度（velocity）、多样性（variety）和真实性（veracity）。数据的体量和速度在可预见的未来将持续增长。能够利用和分析大数据，从中提取信息并根据这些信息做出可行决策的公司，将在市场竞争中获胜。Python
    是一种快速发展的、用户友好的、可扩展的语言，在数据分析领域非常受欢迎。
- en: pandas is a core library of the Python toolkit for data analysis. It provides
    features and capabilities that make it much easier and faster than many other
    popular languages, such as Java, C, C++, and Ruby.
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: pandas 是 Python 数据分析工具包中的核心库。它提供了许多功能，使其在许多流行的编程语言（如 Java、C、C++ 和 Ruby）中显得更加易用且高效。
- en: Thus, given the strengths of Python outlined in this chapter as a choice for
    the analysis of data and the popularity it has gained from users, contributors,
    and industry leaders, data analysis practitioners utilizing Python should become
    adept at pandas in order to become more effective. This book aims to help you
    achieve this goal.
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，考虑到本章中阐述的 Python 作为数据分析工具的优势，以及它在用户、贡献者和行业领袖中的广泛应用，使用 Python 进行数据分析的从业者应该熟练掌握
    pandas，以提高效率。本书旨在帮助你实现这一目标。
- en: In the next chapter, we proceed towards this goal by first setting up the infrastructure
    required to run pandas on your computer. We will also see different ways and scenarios
    in which pandas can be used and run.
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一章中，我们将通过首先搭建所需的基础设施来实现这一目标，以便在你的计算机上运行 pandas。我们还将看到 pandas 可以应用和运行的不同方式和场景。
- en: References
  id: totrans-189
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 参考文献
- en: '[https://activewizards.com/blog/top-20-python-libraries-for-data-science-in-2018/](https://activewizards.com/blog/top-20-python-libraries-for-data-science-in-2018/)'
  id: totrans-190
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[https://activewizards.com/blog/top-20-python-libraries-for-data-science-in-2018/](https://activewizards.com/blog/top-20-python-libraries-for-data-science-in-2018/)'
- en: '[https://qz.com/1126615/the-story-of-the-most-important-tool-in-data-science/](https://qz.com/1126615/the-story-of-the-most-important-tool-in-data-science/)'
  id: totrans-191
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[https://qz.com/1126615/the-story-of-the-most-important-tool-in-data-science/](https://qz.com/1126615/the-story-of-the-most-important-tool-in-data-science/)'
