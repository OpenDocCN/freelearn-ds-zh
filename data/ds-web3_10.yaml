- en: '10'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '10'
- en: A Primer on Security and Fraud Detection
  id: totrans-1
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 安全与欺诈检测概述
- en: “All warfare is based on deception.” - Sun Tzu
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: “所有战争都基于欺骗。” —— 孙子
- en: The history of fraud is as old as time. Fraud in the crypto world comes as no
    surprise, and as crypto gains mainstream adoption, it becomes increasingly necessary
    to be aware of the different forms of fraud in order to be able to identify it.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 欺诈的历史与人类历史一样悠久。在加密世界中，欺诈并不令人惊讶，随着加密货币的主流化，意识到不同形式的欺诈变得愈加重要，以便能够识别它。
- en: Fraud is a significant issue for businesses in general, for governments, and
    for the blockchain industry in particular. According to the 2022 PwC Global Annual
    Review on fraud, 46% of surveyed organizations reported experiencing some form
    of fraud or economic crime within the last 24 months.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 欺诈是企业、政府以及区块链行业尤其面临的重大问题。根据2022年普华永道全球欺诈年度报告，46%的受访组织表示在过去24个月内遭遇过某种形式的欺诈或经济犯罪。
- en: Governments are aware of the issue for tax purposes, as well as to combat money
    laundering and terrorism financing. Relevant agencies have a mandate to enforce
    the law and combat such illicit activity even if cryptocurrencies are involved.
    Due diligence is required for all subjects associated with financial activity
    or money services businesses, a concept that has expanded to include centralized
    exchanges. That is the reason why major **centralized exchanges** (**CEXs**) only
    open accounts for new users when the person behind the ID is validated. Compliance
    with certain quality standards is essential, and failure to comply can lead to
    sanctions.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 政府出于税务目的以及打击洗钱和恐怖主义融资的需要，已经意识到这个问题。相关机构有责任执行法律，打击此类非法活动，即使涉及加密货币。对于所有涉及金融活动或货币服务业务的主体，都需要进行尽职调查，这一概念已扩展至包括集中式交易所。因此，主要的**集中式交易所**（**CEXs**）仅在验证身份证背后的人身份后才会为新用户开设账户。遵守一定的质量标准至关重要，未能遵守可能导致制裁。
- en: The crypto industry is also interested in solidifying trust in compliance with
    robust smart contracts and a seamless experience while transacting. Smart contract
    breaches, scam schemes, and the use of cryptocurrencies as payment for hacks have
    not helped in this pursuit. Data science has been helping to solve this issue
    for some time now. The challenge has been adapting the data science practice for
    the blockchain dataset, which is rather different and pseudo-anonymous. Some interesting
    companies such as Chainalysis, Elliptic, and CipherTrace are at the forefront
    of forensic data science in blockchain, helping authorities in investigations
    and supporting general user trust.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 加密行业也有兴趣通过合规的智能合约和无缝交易体验来巩固信任。智能合约漏洞、欺诈计划以及将加密货币作为支付手段来进行黑客攻击的行为并未助力这一目标。数据科学在解决这个问题方面已经有一段时间了，挑战在于如何将数据科学实践应用于区块链数据集，因为它具有较大的差异性且是伪匿名的。一些有趣的公司，如
    Chainalysis、Elliptic 和 CipherTrace，处于区块链法医数据科学的前沿，帮助相关部门进行调查并支持用户的普遍信任。
- en: In this chapter, we will examine the transaction behavior of addresses to train
    a machine learning model that can determine whether or not we are dealing with
    a scammer.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将研究地址的交易行为，训练一个机器学习模型，以确定我们是否遇到骗子。
- en: 'Particularly, we will cover the following topics:'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 特别地，我们将覆盖以下主题：
- en: What illicit activity looks like on Ethereum
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 以太坊上的非法活动表现
- en: Exploratory data analysis of transactional data on Ethereum
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 以太坊交易数据的探索性数据分析
- en: Preparation, model training, and evaluation to flag fraudulent transactions
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 准备工作、模型训练和评估以标记欺诈交易
- en: Technical requirements
  id: totrans-12
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 技术要求
- en: You can find all the data and code files for this chapter in the book’s GitHub
    repository at [https://github.com/PacktPublishing/Data-Science-for-Web3/tree/main/Chapter10](https://github.com/PacktPublishing/Data-Science-for-Web3/tree/main/Chapter10).
    We recommend that you read through the code files in the `Chapter10` folder to
    follow along.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以在本书的 GitHub 仓库中找到本章的所有数据和代码文件，网址为[https://github.com/PacktPublishing/Data-Science-for-Web3/tree/main/Chapter10](https://github.com/PacktPublishing/Data-Science-for-Web3/tree/main/Chapter10)。我们建议你浏览`Chapter10`文件夹中的代码文件，以便跟随学习。
- en: In this chapter, we will use the Ethereum Utilities library (`eth-utils`), which
    contains commonly used utility functions for Python developers working with Ethereum.
    Depending on our environment, we may need to import additional low-level libraries
    that are utilized by `eth-utils`.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将使用以太坊实用程序库（`eth-utils`），该库包含用于与以太坊合作的Python开发人员常用的实用函数。根据我们的环境，我们可能需要导入其他低级别库，这些库由`eth-utils`使用。
- en: 'If you haven’t installed `eth-utils` yet, you can do so using the following
    code snippet:'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您尚未安装`eth-utils`，可以使用以下代码片段进行安装：
- en: '[PRE0]'
  id: totrans-16
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: The documentation for `eth-utils` is available at [https://eth-utils.readthedocs.io/en/stable/](https://eth-utils.readthedocs.io/en/stable/).
    If the installation fails due to a lack of supporting libraries, you can find
    the complete list of required libraries that need to be pre-installed in `Chapter10/EDA.ipynb`.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: '`eth-utils`的文档可在[https://eth-utils.readthedocs.io/en/stable/](https://eth-utils.readthedocs.io/en/stable/)找到。如果由于缺少支持库而安装失败，您可以在`Chapter10/EDA.ipynb`中找到需要预先安装的完整库列表。'
- en: A primer on illicit activity on Ethereum
  id: totrans-18
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 以太坊非法活动入门
- en: There is a technical difference between fraud and a scam. A scam is an act where
    we unknowingly pay for a fake item, transfer money, or provide our private keys
    to a criminal. Conversely, fraud refers to any suspicious activity on our address
    that we did not authorize. In this book, we will use both terms interchangeably.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 欺诈和骗局之间存在技术上的差异。骗局是一种行为，我们在不知情的情况下支付虚假物品、转移资金或向犯罪分子提供我们的私钥。相反，欺诈指的是我们的地址上出现的任何未经授权的可疑活动。在本书中，我们将两个术语互换使用。
- en: 'The Ethereum Security blog has three key messages for anyone starting in the
    crypto industry:'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 以太坊安全博客为刚入行加密行业的人提供了三条关键信息：
- en: '*Always* *be skeptical*'
  id: totrans-21
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*始终* *持怀疑态度*'
- en: '*No one is going to give you free or* *discounted ETH*'
  id: totrans-22
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*没有人会免费或* *打折ETH*'
- en: '*No one needs access to your private keys or* *personal information*'
  id: totrans-23
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*没有人需要访问您的私钥或* *个人信息*'
- en: 'As of today, some of the most common scams include the following:'
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 截至今日，一些最常见的欺诈行为包括以下几种：
- en: '**Giveaway scams**: These basically work by criminals promising that if we
    send *X* amount of crypto to an address, it will be returned to us but doubled
    in amount. These schemes are often psychological, offering the victim only a limited
    amount of time to participate in this “opportunity,” generating a **fear of missing
    out** (**FOMO**) effect. This scheme often uses high-profile X (formerly Twitter)
    accounts, videos of celebrities, and so on.'
  id: totrans-25
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**赠送骗局**: 这些骗局基本上通过犯罪分子承诺，如果我们向某个地址发送*X*数量的加密货币，它将被以加倍的金额返回给我们。这些方案通常是心理上的，只为受害者提供有限的时间参与这个“机会”，产生**错失良机**
    (**FOMO**) 的效果。此方案通常利用高调的X（前身为Twitter）账户、名人视频等。'
- en: '**IT support scams**: These scammers impersonate IT support or admin personnel
    from blockchain services, such as wallets, exchanges, marketplaces, or even a
    chain. They may ask for some information from us or to validate our ID and, in
    general, will try to get the minimum necessary information to extract our funds.
    These sorts of scammers can be found mostly on Discord discussion channels or
    Telegram. It is very usual to see next to real people’s names the phrase “*Never
    DM first*.” Scammers will write first, trying to generate a connection and trust.
    It is worth remembering that Web3 is a decentralized landscape, so it is unlikely
    that support teams will be scanning the internet to answer our questions. If we
    were interacting with a centralized platform with a support team in place, the
    team would always contact us through official channels.'
  id: totrans-26
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**IT支持骗局**: 这些骗子冒充区块链服务（如钱包、交易所、市场等）的IT支持或管理员人员。他们可能会向我们索要一些信息或验证我们的身份，并且通常会试图获取提取我们资金所需的最少信息。这类骗子主要出现在Discord讨论频道或Telegram上。通常可以在真实人名旁边看到短语“*永远不要主动私信*”。骗子会主动发起对话，试图建立联系和信任。值得记住的是，Web3是一个去中心化的领域，因此不太可能看到支持团队在互联网上回答我们的问题。如果我们与一个有支持团队的集中式平台进行交互，团队将始终通过官方渠道联系我们。'
- en: '**Phishing scams**: This is a type of social engineering attack that uses impersonation
    through email to convince the victim to provide the necessary information to commit
    the fraud. The email will usually contain links that redirect to fake websites
    or download malicious malware. As we saw in [*Chapter 3*](B19446_03.xhtml#_idTextAnchor114),
    when detailing where to go for off-chain data, we should try to access websites
    following a trusted link – for example, through CoinMarketCap or CoinGecko. There
    are many ways to detect phishing, but the reality is that they are becoming more
    creative over time.'
  id: totrans-27
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**网络钓鱼诈骗**：这是一种社交工程攻击，通过电子邮件伪装来诱使受害者提供必要的信息以实施诈骗。邮件通常包含指向假网站的链接或下载恶意软件。正如我们在[*第3章*](B19446_03.xhtml#_idTextAnchor114)中所看到的，在详细说明如何访问链外数据时，我们应该尝试通过受信任的链接访问网站——例如，通过CoinMarketCap或CoinGecko。检测网络钓鱼有很多方法，但事实是它们随着时间的推移变得越来越有创意。'
- en: '**Broker scams**: These are trading brokers with a lot of followers on social
    media who allegedly generate outstanding profits. A real person is behind the
    account of a broker, who will interact with the victim until the latter sends
    their funds to be “managed” by the broker. Once sent, those funds are lost.'
  id: totrans-28
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**经纪人诈骗**：这些是拥有大量社交媒体粉丝的交易经纪人，声称能够创造出色的利润。经纪人账户背后有一个真实的人物，他会与受害者互动，直到后者将资金转给经纪人“管理”。一旦资金转出，这些资金就会丢失。'
- en: 'Each of these scams is further explained with real-life examples on this blog:
    [https://ethereum.org/en/security/](https://ethereum.org/en/security/).'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 每种诈骗都通过实际案例在这个博客中进一步解释：[https://ethereum.org/en/security/](https://ethereum.org/en/security/)。
- en: Regardless of the fraudulent scheme, money will be transferred through a transaction
    and saved in an account. In the next section, we will analyze account behavior
    to try to determine which account can be trusted and which should be flagged as
    a scam.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 无论欺诈方案如何，资金都会通过交易转移并保存在账户中。在接下来的部分，我们将分析账户行为，尝试确定哪些账户可以信任，哪些账户应该被标记为诈骗。
- en: Preprocessing
  id: totrans-31
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 预处理
- en: We will be working with a balanced dataset that was used in the paper *Detection
    of illicit accounts over the Ethereum blockchain*. You can find the link to the
    paper in the *Further reading* section. This dataset is a balanced dataset, with
    48 columns or features that combine licit and illicit accounts. The dataset was
    created by using the CryptoScamDB database and Etherscan; the latter is a tool
    that we are already familiar with. [cryptoscamdb.org](http://cryptoscamdb.org)
    manages an open source dataset that tracks malicious URLs and their associated
    addresses.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将使用在论文《以太坊区块链上非法账户的检测》中使用的平衡数据集。你可以在*进一步阅读*部分找到该论文的链接。这个数据集是一个平衡数据集，包含48列或特征，结合了合法和非法账户。该数据集通过使用CryptoScamDB数据库和Etherscan创建，后者是我们已经熟悉的工具。[cryptoscamdb.org](http://cryptoscamdb.org)管理一个开源数据集，跟踪恶意网址及其关联地址。
- en: 'The columns and their description as follows:'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 列及其描述如下：
- en: '| **Feature** | **Description** |'
  id: totrans-34
  prefs: []
  type: TYPE_TB
  zh: '| **特征** | **描述** |'
- en: '| --- | --- |'
  id: totrans-35
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| `Avg_min_between_sent_tnx` | The average time between sent transactions for
    an account in minutes |'
  id: totrans-36
  prefs: []
  type: TYPE_TB
  zh: '| `Avg_min_between_sent_tnx` | 账户发送交易之间的平均时间（分钟） |'
- en: '| `Avg_min_between_received_tnx` | The average time between received transactions
    for an account in minutes |'
  id: totrans-37
  prefs: []
  type: TYPE_TB
  zh: '| `Avg_min_between_received_tnx` | 账户接收交易之间的平均时间（分钟） |'
- en: '| `Time_Diff_between_first_and_last(Mins)` | The time difference between the
    first and last transaction |'
  id: totrans-38
  prefs: []
  type: TYPE_TB
  zh: '| `Time_Diff_between_first_and_last(Mins)` | 第一次和最后一次交易之间的时间差（分钟） |'
- en: '| `Sent_tnx` | The total number of sent normal transactions |'
  id: totrans-39
  prefs: []
  type: TYPE_TB
  zh: '| `Sent_tnx` | 发送的普通交易总数 |'
- en: '| `Received_tnx` | The total number of received normal transactions |'
  id: totrans-40
  prefs: []
  type: TYPE_TB
  zh: '| `Received_tnx` | 接收到的普通交易总数 |'
- en: '| `Number_of_Created_Contracts` | The total number of created contract transactions
    |'
  id: totrans-41
  prefs: []
  type: TYPE_TB
  zh: '| `Number_of_Created_Contracts` | 创建的合约交易总数 |'
- en: '| `Unique_Received_From_Addresses` | The total unique addresses from which
    the account received transactions |'
  id: totrans-42
  prefs: []
  type: TYPE_TB
  zh: '| `Unique_Received_From_Addresses` | 账户收到交易的唯一地址总数 |'
- en: '| `Unique_Sent_To_Addresses` | The total unique addresses from which the account
    sent transactions |'
  id: totrans-43
  prefs: []
  type: TYPE_TB
  zh: '| `Unique_Sent_To_Addresses` | 账户发送交易的唯一地址总数 |'
- en: '| `Min_Value_Received` | The minimum value in Ether ever received |'
  id: totrans-44
  prefs: []
  type: TYPE_TB
  zh: '| `Min_Value_Received` | 曾经接收到的最小以太币金额 |'
- en: '| `Max_Value_Received` | The maximum value in Ether ever received |'
  id: totrans-45
  prefs: []
  type: TYPE_TB
  zh: '| `Max_Value_Received` | 曾经接收到的最大以太币金额 |'
- en: '| `Avg_Value_Received` | The average value in Ether ever received |'
  id: totrans-46
  prefs: []
  type: TYPE_TB
  zh: '| `Avg_Value_Received` | 曾经接收到的平均以太币金额 |'
- en: '| `Min_Val_Sent` | The minimum value of Ether ever sent |'
  id: totrans-47
  prefs: []
  type: TYPE_TB
  zh: '| `Min_Val_Sent` | 发送过的最小 Ether 值 |'
- en: '| `Max_Val_Sent` | The maximum value of Ether ever sent |'
  id: totrans-48
  prefs: []
  type: TYPE_TB
  zh: '| `Max_Val_Sent` | 发送过的最大 Ether 值 |'
- en: '| `Avg_Val_Sent` | The average value of Ether ever sent |'
  id: totrans-49
  prefs: []
  type: TYPE_TB
  zh: '| `Avg_Val_Sent` | 发送的 Ether 平均值 |'
- en: '| `Min_Value_Sent_To_Contract` | The minimum value of Ether sent to a contract
    |'
  id: totrans-50
  prefs: []
  type: TYPE_TB
  zh: '| `Min_Value_Sent_To_Contract` | 发送到合约的最小 Ether 值 |'
- en: '| `Max_Value_Sent_To_Contract` | The maximum value of Ether sent to a contract
    |'
  id: totrans-51
  prefs: []
  type: TYPE_TB
  zh: '| `Max_Value_Sent_To_Contract` | 发送到合约的最大 Ether 值 |'
- en: '| `Avg_Value_Sent_To_Contract` | The average value of Ether sent to contracts
    |'
  id: totrans-52
  prefs: []
  type: TYPE_TB
  zh: '| `Avg_Value_Sent_To_Contract` | 发送到合约的 Ether 平均值 |'
- en: '| `Total_Transactions(Including_Tnx_to_Create_Contract)` | The total number
    of transactions |'
  id: totrans-53
  prefs: []
  type: TYPE_TB
  zh: '| `Total_Transactions(Including_Tnx_to_Create_Contract)` | 总交易数量（包括创建合约的交易）
    |'
- en: '| `Total_Ether_Sent` | The total Ether sent for an account address |'
  id: totrans-54
  prefs: []
  type: TYPE_TB
  zh: '| `Total_Ether_Sent` | 发送的总 Ether 数量（针对某个账户地址） |'
- en: '| `Total_Ether_Received` | The total Ether received for an account address
    |'
  id: totrans-55
  prefs: []
  type: TYPE_TB
  zh: '| `Total_Ether_Received` | 接收的总 Ether 数量（针对某个账户地址） |'
- en: '| `Total_Ether_Sent_Contracts` | The total Ether sent to contract addresses
    |'
  id: totrans-56
  prefs: []
  type: TYPE_TB
  zh: '| `Total_Ether_Sent_Contracts` | 发送到合约地址的总 Ether 数量 |'
- en: '| `Total_Ether_Balance` | The total Ether balance following enacted transactions
    |'
  id: totrans-57
  prefs: []
  type: TYPE_TB
  zh: '| `Total_Ether_Balance` | 执行交易后的总 Ether 余额 |'
- en: '| `Total_ERC20_Tnxs` | The total number of ERC20 token transfer transactions
    |'
  id: totrans-58
  prefs: []
  type: TYPE_TB
  zh: '| `Total_ERC20_Tnxs` | ERC20 代币转账交易的总数 |'
- en: '| `ERC20_Total_Ether_Received` | The total ERC20 token-received transactions
    in Ether |'
  id: totrans-59
  prefs: []
  type: TYPE_TB
  zh: '| `ERC20_Total_Ether_Received` | 接收到的 ERC20 代币交易总量（以 Ether 计算） |'
- en: '| `ERC20_Total_Ether_Sent` | The total ERC20 token-sent transactions in Ether
    |'
  id: totrans-60
  prefs: []
  type: TYPE_TB
  zh: '| `ERC20_Total_Ether_Sent` | 总共发送的 ERC20 代币交易数量（以 Ether 计算） |'
- en: '| `ERC20_Total_Ether_Sent_Contract` | The total number of ERC20 tokens transferred
    to other contracts in Ether |'
  id: totrans-61
  prefs: []
  type: TYPE_TB
  zh: '| `ERC20_Total_Ether_Sent_Contract` | 发送到其他合约的 ERC20 代币总量（以 Ether 计算） |'
- en: '| `ERC20_Uniq_Sent_Addr` | The number of ERC20 token transactions sent to unique
    account addresses |'
  id: totrans-62
  prefs: []
  type: TYPE_TB
  zh: '| `ERC20_Uniq_Sent_Addr` | 发送到唯一账户地址的 ERC20 代币交易数量 |'
- en: '| `ERC20_Uniq_Rec_Addr` | The number of ERC20 token transactions received from
    unique addresses |'
  id: totrans-63
  prefs: []
  type: TYPE_TB
  zh: '| `ERC20_Uniq_Rec_Addr` | 从唯一地址接收的 ERC20 代币交易数量 |'
- en: '| `ERC20_Uniq_Rec_Contract_Addr` | The number of ERC20 token transactions received
    from unique contract addresses |'
  id: totrans-64
  prefs: []
  type: TYPE_TB
  zh: '| `ERC20_Uniq_Rec_Contract_Addr` | 从唯一合约地址接收的 ERC20 代币交易数量 |'
- en: '| `ERC20_Avg_Time_Between_Sent_Tnx` | The average time between ERC20 token-sent
    transactions in minutes |'
  id: totrans-65
  prefs: []
  type: TYPE_TB
  zh: '| `ERC20_Avg_Time_Between_Sent_Tnx` | ERC20 代币发送交易之间的平均时间（以分钟计算） |'
- en: '| `ERC20_Avg_Time_Between_Rec_Tnx` | The average time between ERC20 token-received
    transactions in minutes |'
  id: totrans-66
  prefs: []
  type: TYPE_TB
  zh: '| `ERC20_Avg_Time_Between_Rec_Tnx` | ERC20 代币接收交易之间的平均时间（以分钟计算） |'
- en: '| `ERC20_Avg_Time_Between_Contract_Tnx` | The average time ERC20 token between
    sent token transactions |'
  id: totrans-67
  prefs: []
  type: TYPE_TB
  zh: '| `ERC20_Avg_Time_Between_Contract_Tnx` | ERC20 代币发送交易之间的平均时间（针对合约交易） |'
- en: '| `ERC20_Min_Val_Rec` | The minimum value in Ether received from ERC20 token
    transactions for an account |'
  id: totrans-68
  prefs: []
  type: TYPE_TB
  zh: '| `ERC20_Min_Val_Rec` | 从 ERC20 代币交易中接收到的最小 Ether 值 |'
- en: '| `ERC20_Max_Val_Rec` | The maximum value in Ether received from ERC20 token
    transactions for an account |'
  id: totrans-69
  prefs: []
  type: TYPE_TB
  zh: '| `ERC20_Max_Val_Rec` | 从 ERC20 代币交易中接收到的最大 Ether 值 |'
- en: '| `ERC20_Avg_Val_Rec` | The average value in Ether received from ERC20 token
    transactions for an account |'
  id: totrans-70
  prefs: []
  type: TYPE_TB
  zh: '| `ERC20_Avg_Val_Rec` | 从 ERC20 代币交易中接收到的平均 Ether 值 |'
- en: '| `ERC20_Min_Val_Sent` | The minimum value in Ether sent from ERC20 token transactions
    for an account |'
  id: totrans-71
  prefs: []
  type: TYPE_TB
  zh: '| `ERC20_Min_Val_Sent` | 从 ERC20 代币交易中发送的最小 Ether 值 |'
- en: '| `ERC20_Max_Val_Sent` | The maximum value in Ether sent from ERC20 token transactions
    for an account |'
  id: totrans-72
  prefs: []
  type: TYPE_TB
  zh: '| `ERC20_Max_Val_Sent` | 从 ERC20 代币交易中发送的最大 Ether 值 |'
- en: '| `ERC20_Avg_Val_Sent` | The average value in Ether sent from ERC20 token transactions
    for an account |'
  id: totrans-73
  prefs: []
  type: TYPE_TB
  zh: '| `ERC20_Avg_Val_Sent` | 通过 ERC20 代币交易发送的平均 Ether 值 |'
- en: '| `ERC20_Uniq_Sent_Token_Name` | The number of unique ERC20 tokens transferred
    |'
  id: totrans-74
  prefs: []
  type: TYPE_TB
  zh: '| `ERC20_Uniq_Sent_Token_Name` | 发送的唯一 ERC20 代币数量 |'
- en: '| `ERC20_Uniq_Rec_Token_Name` | The number of unique ERC20 tokens received
    |'
  id: totrans-75
  prefs: []
  type: TYPE_TB
  zh: '| `ERC20_Uniq_Rec_Token_Name` | 接收的唯一 ERC20 代币的数量 |'
- en: '| `ERC20_Most_Sent_Token_Type` | The most sent token for an account via an
    ERC20 transaction |'
  id: totrans-76
  prefs: []
  type: TYPE_TB
  zh: '| `ERC20_Most_Sent_Token_Type` | 通过 ERC20 交易发送最多的代币类型 |'
- en: '| `ERC20_Most_Rec_Token_Type` | The most received token for an account via
    an ERC20 transaction |'
  id: totrans-77
  prefs: []
  type: TYPE_TB
  zh: '| `ERC20_Most_Rec_Token_Type` | 通过 ERC20 交易接收最多的代币类型 |'
- en: Table 10.1 – An explanation of each dataset column (source – from page 10 of
    the paper, Detection of illicit accounts over the Ethereum blockchain)
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 表 10.1 – 每列数据集的解释（来源 – 《检测以太坊区块链上的非法账户》论文第 10 页）
- en: 'In `Chapter10/EDA.ipynb`, we analyzed the dataset and came to the following
    conclusions:'
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 在`Chapter10/EDA.ipynb`中，我们分析了数据集并得出了以下结论：
- en: There are 4,681 accounts and 48 features. Within these addresses, there are
    five duplicated addresses and five invalid addresses.
  id: totrans-80
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 数据中有4,681个账户和48个特征。在这些地址中，有五个重复地址和五个无效地址。
- en: To determine whether an address is valid or invalid, we use part of the code
    of EIP-55, combined with a custom formula named `address_validation()`.
  id: totrans-81
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 为了判断一个地址是否有效或无效，我们使用了EIP-55的一部分代码，并结合一个名为`address_validation()`的自定义公式。
- en: '`address_validation()` function, we add an additional condition to count the
    characters of each address, discarding those that are not 42 characters.'
  id: totrans-82
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在`address_validation()`函数中，我们添加了一个额外的条件来计算每个地址的字符数，丢弃那些不是42个字符的地址。
- en: 'If both conditions are met, the address is considered valid, and the checksummed
    version is returned. Otherwise, a `not an ethereum address` flag is returned:'
  id: totrans-83
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果满足两个条件，则认为地址有效，并返回带有校验和的版本。否则，返回`not an ethereum address`标志：
- en: '[PRE1]'
  id: totrans-84
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE1]'
- en: There are some missing values from columns 25 to 49\. The percentage of null
    values is 17.7%. We identify any missing values in the dataframe, calculating
    the percentage of missing values for each column in the dataframe.
  id: totrans-85
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 第25到49列有一些缺失值，缺失值的百分比为17.7%。我们识别数据框中的任何缺失值，并计算每列的缺失值百分比。
- en: 'We use the following code snippet:'
  id: totrans-86
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 我们使用以下代码片段：
- en: '[PRE2]'
  id: totrans-87
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE2]'
- en: The fraudulent transactions and missing values are at the top of the dataset.
    The most fraudulent accounts seem to have missing values. Refer to the heatmap
    at `Chapter10/EDA.ipynb`.
  id: totrans-88
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 欺诈交易和缺失值位于数据集的顶部。看起来最具欺诈性的账户似乎有缺失值。请参阅`Chapter10/EDA.ipynb`中的热力图。
- en: 'There are 12 columns with little variance (and only one value, which is zero).
    Columns with little variance may not be helpful for our training. These columns
    are as follows:'
  id: totrans-89
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 有12列数据方差较小（且只有一个值，即零）。方差较小的列可能对我们的训练没有帮助。这些列如下：
- en: '`[''min_value_sent_to_contract'', ''max_val_sent_to_contract'', ''avg_value_sent_to_contract'',
    ''total_ether_sent_contracts'', ''ERC20_avg_time_between_sent_tnx'', ''ERC20_avg_time_between_rec_tnx'',
    ''ERC20_avg_time_between_rec_2_tnx'', ''ERC20_avg_time_between_contract_tnx'',
    ''ERC20_min_val_sent_contract'', ''``ERC20_max_val_sent_contract'', ''ERC20_avg_val_sent_contract'']`'
  id: totrans-90
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '`[''min_value_sent_to_contract'', ''max_val_sent_to_contract'', ''avg_value_sent_to_contract'',
    ''total_ether_sent_contracts'', ''ERC20_avg_time_between_sent_tnx'', ''ERC20_avg_time_between_rec_tnx'',
    ''ERC20_avg_time_between_rec_2_tnx'', ''ERC20_avg_time_between_contract_tnx'',
    ''ERC20_min_val_sent_contract'', ''ERC20_max_val_sent_contract'', ''ERC20_avg_val_sent_contract'']`'
- en: 'We identify these columns using the following code snippet:'
  id: totrans-91
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 我们使用以下代码片段来识别这些列：
- en: '[PRE3]'
  id: totrans-92
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE3]'
- en: After cleaning duplicates and invalids, there are 2,497 non-fraudulent accounts
    and 2,179 fraudulent accounts.
  id: totrans-93
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 清理重复项和无效项后，有2,497个非欺诈账户和2,179个欺诈账户。
- en: 'We ran a correlation matrix and discovered that five columns are heavily correlated.
    These columns are as follows:'
  id: totrans-94
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们运行了相关矩阵，并发现有五列数据高度相关。这些列如下：
- en: '`[''ERC20_max_val_rec'', ''ERC20_min_val_sent'', ''ERC20_max_val_sent'', ''``ERC20_avg_val_sent'',
    ''ERC20_uniq_rec_token_name'']`'
  id: totrans-95
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '`[''ERC20_max_val_rec'', ''ERC20_min_val_sent'', ''ERC20_max_val_sent'', ''ERC20_avg_val_sent'',
    ''ERC20_uniq_rec_token_name'']`'
- en: Dropping columns with similar information is important because redundant information
    does not add value to our training; rather, it can make our algorithm learn slower
    and complicate the interpretability of our model if we have to explain it. Multicollinearity
    can also affect certain models, such as linear models. Refer to the heatmap for
    correlations at `Chapter10/EDA.ipynb`.
  id: totrans-96
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 删除具有相似信息的列非常重要，因为冗余信息不会为我们的训练增加价值，反而可能使我们的算法学习变慢，并且如果我们需要解释模型，可能会使模型的可解释性变得更复杂。多重共线性也会影响某些模型，如线性模型。请参阅`Chapter10/EDA.ipynb`中的相关热力图。
- en: The two columns with categorical data (`ERC20_most_sent_token_type` and `ERC20_most_rec_token_type`)
    are heavily sparse, with most tokens appearing only once or being blank.
  id: totrans-97
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 两列包含分类数据（`ERC20_most_sent_token_type` 和 `ERC20_most_rec_token_type`）非常稀疏，大多数代币只出现一次或为空。
- en: When we group by ERC token, there is no clear category that could be useful.
    One-hot-encoding these columns may result in a heavily sparse training dataset.
    Additionally, new tokens are being minted every day, and adding this information
    to our model would create a variable that becomes outdated quickly.
  id: totrans-98
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 当我们按ERC代币进行分组时，没有明显的类别可以用来提供帮助。对这些列进行独热编码可能会导致一个稀疏的训练数据集。此外，每天都有新的代币被铸造，将这些信息加入我们的模型将创造一个很快过时的变量。
- en: 'Based on the conclusions reached from the preceding analysis, we cleaned up
    the data to adapt it to our needs. The following steps were taken:'
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 基于前面分析得出的结论，我们清理了数据以使其适应我们的需求。采取的步骤包括：
- en: We dropped duplicated addresses.
  id: totrans-100
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们删除了重复的地址。
- en: We tried to populate missing values from Etherscan.
  id: totrans-101
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们尝试从 Etherscan 填充缺失值。
- en: We dropped low-variance columns.
  id: totrans-102
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们删除了低方差的列。
- en: We dropped columns with 0.95 or more correlation.
  id: totrans-103
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们删除了相关性为 0.95 或更高的列。
- en: We dropped the `object`-type columns.
  id: totrans-104
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们删除了 `object` 类型的列。
- en: We dropped the `Address` column.
  id: totrans-105
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们删除了 `Address` 列。
- en: We refilled NaNs with the median.
  id: totrans-106
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们用中位数填充了 NaN 值。
- en: Let’s expand the preprocessing from *step 2*, which involves populating missing
    values from Etherscan. Real-life datasets tend to be incomplete. It is the job
    of data analysts or data scientists to complement those columns that are partially
    complete. There are several methodologies to do that, and we explored the traditional
    ones in [*Chapter 5*](B19446_05.xhtml#_idTextAnchor168) when no further data is
    available.
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们扩展一下 *步骤 2* 的预处理工作，涉及从 Etherscan 填充缺失值。现实中的数据集往往不完整，数据分析师或数据科学家的职责就是填补那些部分完成的列。填补的方式有很多种，我们在
    [*第 5 章*](B19446_05.xhtml#_idTextAnchor168)中探讨了传统方法，适用于当没有更多数据可用时。
- en: In `Chapter10_Rebuilding`, we tried another methodology that involves going
    to the source and looking for the missing data. Throughout this book, we have
    listed multiple sources, and as more progress is made in this area, new sources
    of on-chain data will become available, helping us complete our datasets. Additionally,
    specialization in Web3 will enable us to make inferences over data because we
    can understand it. This is particularly helpful when the data point we need to
    reflect in the dataset is indirect or does not stem directly from on-chain data.
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 在 `Chapter10_Rebuilding` 中，我们尝试了另一种方法论，即直接访问数据源，查找缺失的数据。全书中，我们列出了多个数据源，随着这一领域的不断发展，新的链上数据源将逐步可用，帮助我们完善数据集。此外，Web3
    的专业化将使我们能够对数据进行推断，因为我们能理解这些数据。当我们需要在数据集里反映的某个数据点是间接的，或者并非直接来源于链上数据时，这一点尤其重要。
- en: In the dataset extracted from the paper, *Detection of illicit accounts over
    the Ethereum blockchain*, 17% of the rows had missing data. To complement the
    paper, we used one of the data sources we have been analyzing for some time now
    – Etherscan. We leveraged the free tier of their API and were able to complement
    most of the rows. The link to the API documentation is [https://docs.etherscan.io/](https://docs.etherscan.io/).
    The steps to complement those columns are outlined in `Chapter10_Rebuilding`,
    where we extracted the missing data points and appended them to the dataframe.
    If Etherscan has no trace, we can infer that the address did not carry out such
    a transaction.
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 在从论文《检测以太坊区块链上的非法账户》中提取的数据集里，有 17% 的行缺失数据。为了补充这部分数据，我们使用了一个我们已经分析了一段时间的数据源——Etherscan。我们利用了他们免费
    API 的免费层，能够补充大部分缺失的行。API 文档链接为 [https://docs.etherscan.io/](https://docs.etherscan.io/)。补充这些列的步骤在
    `Chapter10_Rebuilding` 中进行了说明，我们提取了缺失的数据点并将其添加到数据框中。如果 Etherscan 没有记录，我们可以推断该地址并未进行过该交易。
- en: After this process, a few null rows remained that we complemented with the median
    of the column. With this final step, we have a complete dataset ready for training.
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 经过这一过程后，仍然留下了一些空值行，我们用列的中位数进行了填充。通过这最后一步，我们获得了一个完整的数据集，准备好进行训练。
- en: '`.csv` file has been uploaded to the book''s GitHub and is accessible at `final.csv`.'
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: '`.csv` 文件已上传至本书的 GitHub，并可通过 `final.csv` 访问。'
- en: A note on great preprocessing
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 关于优秀预处理的一些说明
- en: A great example of data building and preprocessing in this space is related
    to a dataset constructed for the paper *Exploiting Blockchain Data to Detect Smart
    Ponzi Schemes on Ethereum* (the link to the paper is provided in the *Further
    reading* section). The aim of the paper is to train a machine learning algorithm
    to classify Ponzi schemes’ smart contracts. To achieve this, the researchers built
    a dataset comprising 200 Ponzi smart contracts and 3,580 non-Ponzi ones. For each
    contract, they extracted the bytecodes, transaction data, and internal transactions.
    Since internal transactions are not stored on-chain, the research team reran an
    Ethereum client to reproduce them. Additionally, to convert bytecodes into meaningful
    features or categories, the team translated them to opcode and included the frequency
    of each one in the smart contract.
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 在该领域，关于数据构建和预处理的一个典型例子是与论文 *Exploiting Blockchain Data to Detect Smart Ponzi
    Schemes on Ethereum* 相关的一个数据集（论文链接在 *进一步阅读* 部分提供）。该论文的目的是训练一个机器学习算法来分类庞氏骗局的智能合约。为了实现这一目标，研究人员构建了一个包含200个庞氏骗局智能合约和3,580个非庞氏骗局智能合约的数据集。对于每个合约，他们提取了字节码、交易数据和内部交易。由于内部交易没有存储在链上，研究团队重新运行了一个以太坊客户端来重现这些交易。此外，为了将字节码转换为有意义的特征或类别，团队将其转换为操作码并记录了每种操作码在智能合约中的频率。
- en: Training the model
  id: totrans-114
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 训练模型
- en: Once we have finished cleaning and preprocessing the data, we shuffle the dataset
    and then split it into separate train and test datasets. Then, we iterate through
    several models that have performed well on binary classification tasks, including
    `KNeighborsClassifier`, `DecisionTreeClassifier`, `AdaBoostClassifier`, `GradientBoostingClassifier`,
    and `RandomForestClassifier`.
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦我们完成了数据清洗和预处理，我们将数据集进行洗牌，然后将其分割为训练集和测试集。接着，我们遍历在二分类任务中表现良好的多个模型，包括 `KNeighborsClassifier`、`DecisionTreeClassifier`、`AdaBoostClassifier`、`GradientBoostingClassifier`
    和 `RandomForestClassifier`。
- en: However, just because a model performs well on one dataset doesn’t mean it will
    work well on another. This is where tuning the model becomes important. Machine
    learning models have hyperparameters that need to be modified to adapt to the
    specific data. Customizing these hyperparameters to our dataset will improve the
    performance of the model. In order to execute this optimization, there are some
    available tools, such as scikit-learn GridSearchCV.
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，仅仅因为一个模型在某个数据集上表现良好，并不意味着它在另一个数据集上也能取得相同效果。这时，调整模型变得非常重要。机器学习模型有一些超参数，需要调整以适应特定数据。定制这些超参数来适应我们的数据集，将提高模型的性能。为了执行这种优化，有一些可用的工具，比如
    scikit-learn 中的 GridSearchCV。
- en: '`best_estimator_` returned by the `GridSearchCV` will be contained within it.
    In cases where we have no idea which parameters to choose, we can run `RandomizedSearchCV`
    defines a search space and randomly tests it. The documentation for both classes
    can be found at [https://scikit-learn.org/stable/modules/generated/sklearn.model_selection.RandomizedSearchCV.xhtml](https://scikit-learn.org/stable/modules/generated/sklearn.model_selection.RandomizedSearchCV.xhtml)
    and [https://scikit-learn.org/stable/modules/generated/sklearn.model_selection.GridSearchCV.xhtml](https://scikit-learn.org/stable/modules/generated/sklearn.model_selection.GridSearchCV.xhtml).'
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: '`GridSearchCV` 返回的 `best_estimator_` 将包含在其中。如果我们不知道选择哪些参数，可以运行 `RandomizedSearchCV`，它会定义一个搜索空间并随机测试。两个类的文档可以在
    [https://scikit-learn.org/stable/modules/generated/sklearn.model_selection.RandomizedSearchCV.xhtml](https://scikit-learn.org/stable/modules/generated/sklearn.model_selection.RandomizedSearchCV.xhtml)
    和 [https://scikit-learn.org/stable/modules/generated/sklearn.model_selection.GridSearchCV.xhtml](https://scikit-learn.org/stable/modules/generated/sklearn.model_selection.GridSearchCV.xhtml)
    中找到。'
- en: Both `GridSearchCV` and `RandomizedSearchCV` have a `cv` parameter that refers
    to cross-validation. `K` bins of equal size to run `K` number of learning experiments.
    The results are then averaged to reduce the randomness of a model’s performance
    and make it more robust. This class is typically contained in other implementations
    such as grid search. However, it can also be used independently.
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: '`GridSearchCV` 和 `RandomizedSearchCV` 都有一个 `cv` 参数，表示交叉验证。`K` 个大小相等的区间用于运行
    `K` 次学习实验。然后将结果平均化，以减少模型性能的随机性并提高其稳健性。该类通常包含在其他实现中，例如网格搜索。然而，它也可以独立使用。'
- en: There are variations such as Stratified *K* fold, which ensures that each split
    contains the same proportion of observations of each class, and Repeated *K* fold,
    which repeats the exercise for each fold but shuffles each partition to make it
    a new sample every time. The documentation for these procedures can be found at
    [https://scikit-learn.org/stable/modules/generated/sklearn.model_selection.KFold.xhtml](https://scikit-learn.org/stable/modules/generated/sklearn.model_selection.KFold.xhtml).
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 有一些变化，例如分层*K*折叠，它确保每个分割包含每个类别相同比例的观察值，以及重复*K*折叠，它为每个折叠重复操作，但每次都会打乱每个分区，使其成为一个新的样本。有关这些过程的文档可以在[https://scikit-learn.org/stable/modules/generated/sklearn.model_selection.KFold.xhtml](https://scikit-learn.org/stable/modules/generated/sklearn.model_selection.KFold.xhtml)找到。
- en: The result of our training shows a best-performing model on `GradientBoostingClassifier`.
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 我们的训练结果显示`GradientBoostingClassifier`模型表现最好。
- en: Evaluating the results
  id: totrans-121
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 评估结果
- en: We will use a confusion matrix to show the model’s performance, as it is highly
    useful for binary classification problems. The choice of evaluation metric will
    depend on the type of problem being addressed. In the case of fraud detection,
    we want to ensure that the false negative rate is minimized, so we will use **recall**
    as the evaluation metric. A detailed explanation of evaluation metrics was provided
    in [*Chapter 5*](B19446_05.xhtml#_idTextAnchor168).
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将使用混淆矩阵来展示模型的表现，因为它对于二分类问题非常有用。评估指标的选择将取决于所处理问题的类型。在欺诈检测的情况下，我们希望确保最小化假阴性率，因此我们将使用**召回率**作为评估指标。有关评估指标的详细解释，参见[*第5章*](B19446_05.xhtml#_idTextAnchor168)。
- en: The result is 95.6% in the overall project, which is a good number.
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 结果在整个项目中的得分是95.6%，这是一个不错的数字。
- en: An imbalanced dataset
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 一个不平衡的数据集
- en: A similar dataset is also available on Kaggle and was initially analyzed by
    us in [*Chapter 6*](B19446_06.xhtml#_idTextAnchor210). This dataset is in an imbalanced
    form, as only 20% of the rows are fraudulent. It is common for fraud detection
    tasks to be associated with imbalanced data, as there are typically more regular
    transactions than fraudulent ones. Some models may overlook minority classes,
    which can sometimes include the specific class we are interested in detecting.
    To address imbalanced data, there is a traditional approach of resampling the
    dataset in both directions, either by oversampling the minority class or randomly
    deleting rows of the majority class in an undersampling exercise. More documentation
    on these procedures is provided in the *Further* *reading* section.
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 一个类似的数据集也可以在Kaggle上找到，最初我们在[*第6章*](B19446_06.xhtml#_idTextAnchor210)中进行了分析。这个数据集是一个不平衡的形式，因为只有20%的行是欺诈性的。欺诈检测任务通常与不平衡数据有关，因为通常合法交易的数量要多于欺诈交易。某些模型可能会忽视少数类，而少数类有时正是我们感兴趣的需要检测的特定类别。为了处理不平衡数据，传统的方法是通过双向重采样数据集，或者通过过采样少数类或随机删除多数类行来进行欠采样。关于这些过程的更多文档可以在*进一步阅读*部分找到。
- en: Presenting results
  id: totrans-126
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 展示结果
- en: Data practitioners must possess strong communication skills to ensure that their
    findings are easily comprehensible for decision-making colleagues, clients, and
    in general, anyone who consumes these insights. It’s crucial to tailor the presentation
    of findings based on the audience.
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 数据实践者必须具备强大的沟通能力，以确保他们的发现能够让决策同事、客户以及所有使用这些见解的人容易理解。根据观众的不同，定制结果的展示方式至关重要。
- en: We can present the analysis with a **dashboard**, which we learned earlier in
    the book how to build with Dune analytics, Flipside, or Covalent. It’s worth noting
    that not all visual analytics platforms offer the flexibility to query on-chain
    data; some are restricted to traditional databases. Platforms such as Tableau
    and Power BI are highly flexible, connecting with APIs and handling complex SQL
    queries from on-chain data.
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以通过**仪表盘**来展示分析结果，之前在本书中我们学习了如何使用Dune analytics、Flipside或Covalent来构建仪表盘。值得注意的是，并非所有的可视化分析平台都能灵活查询链上数据；有些平台仅限于传统数据库。像Tableau和Power
    BI这样的平台非常灵活，能够连接API并处理来自链上数据的复杂SQL查询。
- en: 'We can also make use of corporate **slide** presentations, and informal **X
    (formerly Twitter) threads** can be employed to convey the results of data analysis.
    Regardless of the chosen medium, the goal is to capture and maintain the audience’s
    interest. Starting with a compelling question and introductory sentence, keeping
    sentences concise, and delving into details only if the audience shows interest
    are key principles. A valuable resource on crafting engaging stories can be found
    in this X thread: [https://twitter.com/alexgarcia_atx/status/1381066483330117632](https://twitter.com/alexgarcia_atx/status/1381066483330117632).'
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 我们还可以利用公司**幻灯片**演示文稿，并且可以通过非正式的**X（前身为Twitter）讨论串**来传达数据分析的结果。无论选择何种媒介，目标都是捕获并保持观众的兴趣。以一个引人注目的问题和引言开始，保持句子简洁，只有在观众表现出兴趣时才深入细节，这些都是关键原则。一份关于创作引人入胜故事的宝贵资源可以在这个X讨论串中找到：[https://twitter.com/alexgarcia_atx/status/1381066483330117632](https://twitter.com/alexgarcia_atx/status/1381066483330117632).
- en: Regardless of the presentation platform, storytelling skills are paramount in
    delivering findings with a compelling narrative.
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 无论演示平台如何，讲故事的技巧在传递发现时至关重要，要有吸引力的叙事。
- en: Summary
  id: totrans-131
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: In conclusion, we have identified and discussed one of the key threats in the
    cryptocurrency space, highlighting the need for effective transaction monitoring
    and identification. To this end, we have undertaken a machine learning exercise
    at the Ethereum address level, where we have leveraged Etherscan to complete our
    dataset.
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 总结来说，我们已经识别并讨论了加密货币领域的一个关键威胁，突出了有效交易监控和识别的必要性。为此，我们在以太坊地址层面开展了机器学习实验，利用Etherscan完成了我们的数据集。
- en: We have evaluated and compared various machine learning models, optimizing their
    performance through grid search hyperparameter tuning and cross-validation. By
    undertaking this project, we have dived into a subject matter where forensics
    professionals are active and remains a current news topic.
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 我们评估并比较了各种机器学习模型，通过网格搜索超参数调优和交叉验证优化其性能。通过开展这个项目，我们深入探讨了一个法医专业人员活跃的主题，并且这个话题仍然是当前的新闻焦点。
- en: Blockchain forensics is one of the more innovative areas in data science applications,
    as models need to scale and keep evolving in order to adapt, to be able to spot
    new types of fraud and scams.
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 区块链取证是数据科学应用中较为创新的领域之一，因为模型需要扩展并不断发展以适应新的变化，能够发现新类型的欺诈和诈骗。
- en: In the next chapter, we will dive into predicting prices.
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一章中，我们将深入探讨价格预测。
- en: Further reading
  id: totrans-136
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 进一步阅读
- en: 'Following is a list of sources for your further reading purposes:'
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是供您进一步阅读的资源列表：
- en: PwC. (2022). PwC’s Global Economic Crime and Fraud Survey 2022\. [https://www.pwc.com/gx/en/forensics/gecsm-2022/PwC-Global-Economic-Crime-and-Fraud-Survey-2022.pdf](https://www.pwc.com/gx/en/forensics/gecsm-2022/PwC-Global-Economic-Crime-and-Fraud-Survey-2022.pdf)
  id: totrans-138
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: PwC. (2022). PwC全球经济犯罪与欺诈调查报告2022\. [https://www.pwc.com/gx/en/forensics/gecsm-2022/PwC-Global-Economic-Crime-and-Fraud-Survey-2022.pdf](https://www.pwc.com/gx/en/forensics/gecsm-2022/PwC-Global-Economic-Crime-and-Fraud-Survey-2022.pdf)
- en: 'Furneaux, N. (2018). *Investigating cryptocurrencies: Understanding, extracting,
    and analyzing blockchain evidence*. John Wiley & Sons. Page 268.'
  id: totrans-139
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Furneaux, N. (2018). *研究加密货币：理解、提取和分析区块链证据*. John Wiley & Sons. 第268页。
- en: 'Sfarrugia15/Ethereum_Fraud_Detection. (n.d.). GitHub: [https://github.com/sfarrugia15/Ethereum_Fraud_Detection](https://github.com/sfarrugia15/Ethereum_Fraud_Detection)'
  id: totrans-140
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'Sfarrugia15/Ethereum_Fraud_Detection. (无日期). GitHub: [https://github.com/sfarrugia15/Ethereum_Fraud_Detection](https://github.com/sfarrugia15/Ethereum_Fraud_Detection)'
- en: 'Steven Farrugia, Joshua Ellul, George Azzopardi, *Detection of illicit accounts
    over the Ethereum blockchain, Expert Systems with Applications*, volume 150, 2020,
    113318, ISSN 0957-4174: [https://doi.org/10.1016/j.eswa.2020.113318](https://doi.org/10.1016/j.eswa.2020.113318).'
  id: totrans-141
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'Steven Farrugia, Joshua Ellul, George Azzopardi, *检测以太坊区块链上的非法账户，《专家系统与应用》*,
    第150卷, 2020, 113318, ISSN 0957-4174: [https://doi.org/10.1016/j.eswa.2020.113318](https://doi.org/10.1016/j.eswa.2020.113318).'
- en: '*Exploiting Blockchain data to detect Smart Contract Ponzi Schemes on Ethereum*.
    (2019, March 18). IEEE Xplore: [https://ieeexplore.ieee.org/stamp/stamp.jsp?arnumber=8668768](https://ieeexplore.ieee.org/stamp/stamp.jsp?arnumber=8668768)'
  id: totrans-142
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*利用区块链数据检测以太坊上的智能合约庞氏骗局*。（2019年3月18日）。IEEE Xplore: [https://ieeexplore.ieee.org/stamp/stamp.jsp?arnumber=8668768](https://ieeexplore.ieee.org/stamp/stamp.jsp?arnumber=8668768)'
- en: Ethereum security and scam prevention. (n.d.). ethereum.org. [https://ethereum.org/en/security/](https://ethereum.org/en/security/)
  id: totrans-143
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 以太坊安全与防诈骗. (无日期). ethereum.org. [https://ethereum.org/en/security/](https://ethereum.org/en/security/)
- en: 'Senilov, I. (2021, September 27). *Approaching anomaly detection in transactional
    data*. Medium: [https://towardsdatascience.com/approaching-anomaly-detection-in-transactional-data-744d132d524e](https://towardsdatascience.com/approaching-anomaly-detection-in-transactional-data-744d132d524e)'
  id: totrans-144
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'Senilov, I.（2021年9月27日）。*接近事务数据中的异常检测*。Medium: [https://towardsdatascience.com/approaching-anomaly-detection-in-transactional-data-744d132d524e](https://towardsdatascience.com/approaching-anomaly-detection-in-transactional-data-744d132d524e)'
- en: 'Janiobachmann. (2019, July 3). *Credit fraud || Dealing with Imbalanced datasets*.
    Kaggle: Your Machine Learning and Data Science Community: [https://www.kaggle.com/code/janiobachmann/credit-fraud-dealing-with-imbalanced-datasets](https://www.kaggle.com/code/janiobachmann/credit-fraud-dealing-with-imbalanced-datasets)'
  id: totrans-145
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Janiobachmann.（2019年7月3日）。*信用欺诈 || 处理不平衡数据集*。Kaggle：您的机器学习与数据科学社区：[https://www.kaggle.com/code/janiobachmann/credit-fraud-dealing-with-imbalanced-datasets](https://www.kaggle.com/code/janiobachmann/credit-fraud-dealing-with-imbalanced-datasets)
- en: 'Jason Brownlee. (2020). *Random Oversampling and Undersampling for Imbalanced
    Classification*. Machine Learning Mastery: [https://machinelearningmastery.com/random-oversampling-and-undersampling-for-imbalanced-classification/](https://machinelearningmastery.com/random-oversampling-and-undersampling-for-imbalanced-classification/)'
  id: totrans-146
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jason Brownlee.（2020年）。*用于不平衡分类的随机过采样与欠采样*。机器学习精通：[https://machinelearningmastery.com/random-oversampling-and-undersampling-for-imbalanced-classification/](https://machinelearningmastery.com/random-oversampling-and-undersampling-for-imbalanced-classification/)
- en: '**Clustering**: Once we have clustered addresses, it is possible to build an
    anomaly detection identifier that takes as normality the parameters of the cluster
    to which each address belongs.'
  id: totrans-147
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**聚类**：一旦我们完成了地址的聚类，就可以构建一个异常检测标识符，使用每个地址所属聚类的参数作为正常性标准。'
- en: 'Price, W. (2021, May 28). *Clustering Ethereum addresses*. Medium: [https://towardsdatascience.com/clustering-ethereum-addresses-18aeca61919d](https://towardsdatascience.com/clustering-ethereum-addresses-18aeca61919d)'
  id: totrans-148
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 'Price, W.（2021年5月28日）。*聚类以太坊地址*。Medium: [https://towardsdatascience.com/clustering-ethereum-addresses-18aeca61919d](https://towardsdatascience.com/clustering-ethereum-addresses-18aeca61919d)'
- en: Ethereum_clustering/main.ipynb at master · willprice221/ethereum_clustering.
    (n.d.). GitHub. [https://github.com/willprice221/ethereum_clustering/blob/master/main.ipynb](https://github.com/willprice221/ethereum_clustering/blob/master/main.ipynb)
  id: totrans-149
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ethereum_clustering/main.ipynb at master · willprice221/ethereum_clustering.（无日期）。GitHub。
    [https://github.com/willprice221/ethereum_clustering/blob/master/main.ipynb](https://github.com/willprice221/ethereum_clustering/blob/master/main.ipynb)
- en: 'Storytelling resource: Insider. (2019, June 21). *Pixar’s Secret Formula For
    Making Perfect Films | The Art Of Film* [Video]. YouTube: [https://www.youtube.com/watch?v=Y34eshkxE5o](https://www.youtube.com/watch?v=Y34eshkxE5o)'
  id: totrans-150
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '故事讲述资源：Insider.（2019年6月21日）。*皮克斯制作完美电影的秘密公式 | 电影艺术* [视频]。YouTube: [https://www.youtube.com/watch?v=Y34eshkxE5o](https://www.youtube.com/watch?v=Y34eshkxE5o)'
