- en: '1'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '1'
- en: Where Data and Web3 Meet
  id: totrans-1
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 数据与 Web3 相遇的地方
- en: As we assume no prior knowledge of data or blockchain, this chapter introduces
    the basic concepts of both topics. A good understanding of these concepts is essential
    to tackle Web3 data science projects, as we will refer to them. A Web3 data science
    project tries to solve a business problem or unlock new value with data; it is
    an example of applied science. It has two main components, the data science ingredients
    and the blockchain ingredients, which we will cover in this chapter.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 由于我们假设读者没有数据或区块链的先验知识，本章将介绍这两个主题的基本概念。充分理解这些概念对于处理 Web3 数据科学项目至关重要，因为我们将在后续内容中提到它们。Web3
    数据科学项目旨在通过数据解决商业问题或释放新的价值；它是应用科学的一个例子。它有两个主要组成部分：数据科学成分和区块链成分，这两部分我们将在本章中讲解。
- en: In the *Exploring the data ingredients* section, we will analyze the concept
    of data science, available data tools, and the general steps we will follow, and
    provide a gentle practical introduction to Python. In the *Understanding the blockchain
    ingredients* section, we will cover what blockchain is, its main characteristics,
    and why it is called the internet of value.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 在*探索数据成分*部分，我们将分析数据科学的概念、可用的数据工具以及我们将遵循的一般步骤，并提供一个轻松的 Python 实践入门。在*理解区块链成分*部分，我们将介绍区块链是什么，它的主要特性，以及为什么它被称为价值的互联网。
- en: In the final part of this chapter, we will dive into some industry concepts
    and how to use them. We will also analyze challenges related to the quality and
    standardization of data and concepts, respectively. Lastly, we will briefly review
    the concept of APIs and describe the ones that we will be using throughout the
    book.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章的最后部分，我们将深入探讨一些行业概念及如何使用它们。我们还将分析与数据和概念的质量和标准化相关的挑战。最后，我们将简要回顾 API 的概念，并描述我们将在全书中使用的
    API。
- en: 'In this chapter, we will cover the following topics:'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将涵盖以下主题：
- en: What is a business data science project?
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 什么是商业数据科学项目？
- en: What are data ingredients?
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 什么是数据成分？
- en: Introducing the blockchain ingredients
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 介绍区块链成分
- en: Approaching relevant industry metrics
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 接近相关行业指标
- en: The challenges with data quality and standards
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 数据质量和标准化的挑战
- en: Classifying the APIs
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 分类 API
- en: Technical requirements
  id: totrans-12
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 技术要求
- en: We will utilize Web3.py, a library designed for interacting with EVM-based blockchains
    such as Ethereum. Originally a JavaScript library, it has since evolved “*towards
    the needs and creature comforts of Python developers*,” as stated in its documentation.
    Web3.py is a library that facilitates connection and interaction with the blockchain.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将使用 Web3.py，这是一款为与基于 EVM 的区块链（如以太坊）交互而设计的库。最初是一个 JavaScript 库，后来它“*向着 Python
    开发者的需求和习惯舒适度*”发展，如其文档所述。Web3.py 是一个简化连接和与区块链交互的库。
- en: 'If you have not worked with Web3.py before, it can be installed with the following
    code:'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你以前没有使用过 Web3.py，它可以通过以下代码进行安装：
- en: '[PRE0]'
  id: totrans-15
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: The blockchain data is reached after connecting to a copy of the blockchain
    hosted on a node. **Infura** serves as a cloud-based infrastructure provider that
    streamlines our connection to the Ethereum network, eliminating the need to run
    our own nodes. Detailed steps for creating an account and obtaining an API key
    are provided in the *Appendix* 1.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 区块链数据是通过连接到托管在节点上的区块链副本来访问的。**Infura** 作为云基础设施提供商，简化了我们与以太坊网络的连接，省去了自己运行节点的需求。创建帐户并获取
    API 密钥的详细步骤请参见*附录* 1。
- en: Additionally, we will employ **Ganache**, a program that creates a local blockchain
    on our computer for testing and developing purposes. This tool allows us to simulate
    the behavior of a real blockchain without the necessity of spending real cryptocurrency
    for interactions. For a comprehensive guide on how to utilize Ganache, please
    refer to the *Appendix* 1\.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，我们将使用**Ganache**，这是一款能够在计算机上创建本地区块链用于测试和开发的程序。这个工具使我们能够模拟真实区块链的行为，而无需为交互支付真实的加密货币。有关如何使用
    Ganache 的详细指南，请参见*附录* 1\。
- en: You can find all the data and code files for this chapter in the book’s GitHub
    repository at [https://github.com/PacktPublishing/Data-Science-for-Web3/tree/main/Chapter01](https://github.com/PacktPublishing/Data-Science-for-Web3/tree/main/Chapter01).
    We recommend that you read through the code files in the `Chapter01` folder to
    follow along.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以在本书的 GitHub 仓库中找到本章的所有数据和代码文件，链接为[https://github.com/PacktPublishing/Data-Science-for-Web3/tree/main/Chapter01](https://github.com/PacktPublishing/Data-Science-for-Web3/tree/main/Chapter01)。我们建议你通读`Chapter01`文件夹中的代码文件，以便跟上进度。
- en: Exploring the data ingredients
  id: totrans-19
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 探索数据的组成部分
- en: Important note
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: If you have a background in data science, you may skip this section.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你有数据科学背景，可以跳过这一部分。
- en: However, if you do not, this basic introduction is essential to understand the
    concepts and tools discussed throughout the book.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，如果你没有相关背景，这一基础介绍对于理解本书中讨论的概念和工具至关重要。
- en: Data science is an interdisciplinary field that combines mathematics, statistics,
    programming, and machine learning with specific subject matter knowledge to extract
    meaningful insights.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 数据科学是一个跨学科领域，它结合了数学、统计学、编程和机器学习与特定学科知识，旨在提取有意义的洞察。
- en: Imagine you work at a top-tier bank that is considering making its first investment
    in a blockchain protocol, and they have asked you to present a shortlist of protocols
    to invest in based on relevant metrics. You may have some ideas about what metrics
    to consider, but how do you know which metric and value is the most relevant to
    determine which protocol should make it on your list? And once you know the metric,
    how do you find the data and calculate it?
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 假设你在一家顶级银行工作，该银行正在考虑首次投资区块链协议，他们要求你根据相关指标提出一个投资协议的候选清单。你可能有一些关于应该考虑哪些指标的想法，但你如何知道哪个指标和数值最相关，从而决定哪些协议应该进入候选名单？一旦你确定了指标，如何找到数据并进行计算呢？
- en: This is where data science comes in. By analyzing transaction data (on-chain
    data) and data that is not on-chain (off-chain data), we can identify patterns
    and insights that will help us make informed decisions. For example, we might
    find that certain protocols are more active during business hours in a time zone
    different from where the bank is located. In this case, the bank can decide whether
    they are ready to make an investment in a product serving clients in a different
    time zone. We may also check the value locked in the protocol to assess the general
    investors’ trust in that smart contract, among many other metrics.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 这就是数据科学的作用。通过分析交易数据（链上数据）和非链上的数据（链外数据），我们可以识别出有助于我们做出明智决策的模式和洞察。例如，我们可能会发现某些协议在与银行所在时区不同的时间段内更为活跃。在这种情况下，银行可以决定是否准备好投资于服务不同时间区客户的产品。我们还可以检查协议中锁定的价值，以评估普通投资者对该智能合约的信任度，以及其他许多指标。
- en: But data science is not just about analyzing past data. We can also use predictive
    modeling to forecast future trends and add those trends to our assessment. For
    instance, we could use machine learning algorithms to predict the price range
    of the token issued by the protocol based on its price history.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 但数据科学不仅仅是分析过去的数据。我们还可以使用预测建模来预测未来趋势，并将这些趋势纳入我们的评估。例如，我们可以使用机器学习算法基于协议的价格历史预测该协议发行的代币的价格范围。
- en: For this data analysis, we require the right tools, skills, and business knowledge.
    We’ll need to know how to collect and clean our data, how to analyze it using
    statistical techniques, how to separate what is business-relevant from what is
    not, and how to visualize our findings so we can communicate them effectively.
    Making data-driven decisions is the most effective way to improve all the relevant
    metrics for a business, which is more valuable than ever in this competitive world.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 对于这项数据分析，我们需要合适的工具、技能和业务知识。我们需要知道如何收集和清理数据，如何使用统计技术分析数据，如何分辨哪些数据对业务相关，哪些数据不相关，以及如何将我们的发现可视化以便有效沟通。做出数据驱动的决策是提高所有相关业务指标的最有效方式，而在这个竞争激烈的世界中，这比以往任何时候都更具价值。
- en: Due to the fast pace of data creation and the shortage of data scientists on
    the market, data scientist has been referred to as “*the sexiest job of the 21st
    century*” by the Harvard Business Review. The data economy has opened the door
    to multiple roles, such as data analyst, data scientist, data engineer, data architect,
    Business Intelligence (BI) analyst, and machine learning engineer. Depending on
    the complexity of the problem and the size of the data, we can see them playing
    a role in a typical data science project.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 由于数据生成速度快且市场上数据科学家稀缺，《哈佛商业评论》将数据科学家称为“*21世纪最性感的职业*”。数据经济为多个角色打开了大门，例如数据分析师、数据科学家、数据工程师、数据架构师、商业智能（BI）分析师和机器学习工程师。根据问题的复杂性和数据的规模，我们可以看到他们在一个典型的数据科学项目中扮演着不同的角色。
- en: 'A typical Web3 data science project involves the following steps:'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 一个典型的 Web3 数据科学项目包括以下步骤：
- en: '**Problem definition**: At this stage, we try to answer the question of whether
    the problem can be solved with data, and if so, what data would be useful to answer
    it. Collaboration between data scientists and business users is crucial in defining
    the problem, as the latter are the specialists and those who will use what the
    data scientist produces. BI tools such as Tableau, Looker, and Power BI, or Python
    data visualization libraries such as Seaborn and Matplotlib, are useful in meetings
    with business stakeholders. It is worth noting that while many BI tools currently
    provide optimization packages for commonly used data sources, such as Facebook
    Ads or HubSpot, as of the time of writing, I have not seen any optimization for
    on-chain data. Therefore, it is preferable to choose highly flexible data visualization
    tools that can adapt to any visualization needs.'
  id: totrans-30
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**问题定义**：在这个阶段，我们试图回答一个问题，即这个问题是否可以通过数据来解决，如果可以，哪些数据对回答这个问题会有帮助。数据科学家与业务用户之间的协作在定义问题时至关重要，因为后者是专家，是那些将使用数据科学家所产出结果的人。BI工具，如Tableau、Looker和Power
    BI，或Python数据可视化库，如Seaborn和Matplotlib，在与业务利益相关者的会议中非常有用。值得注意的是，尽管许多BI工具目前为常用数据源提供优化包，如Facebook广告或HubSpot，但截至写作时，我尚未看到针对链上数据的优化。因此，最好选择那些高度灵活的数据可视化工具，能够适应任何可视化需求。'
- en: '**Investigation and data ingestion**: At this stage, we try to answer the question:
    where can we find the necessary data to use for this project? Throughout this
    book, especially *Chapters 2* and *3*, we will list multiple data sources related
    to Web3 that will help answer this question. Once we find where the data is, we
    need to build an ingestion pipeline for consumption by the data scientist. This
    process is called **ETL**, which stands for **extract, transform, and load**.
    These steps are necessary to make clean and organized data available to the data
    analyst or data scientist.'
  id: totrans-31
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**调查与数据获取**：在这个阶段，我们试图回答这样一个问题：我们在哪里可以找到可以用于该项目的必要数据？在本书中，尤其是*第2章*和*第3章*，我们将列出多个与Web3相关的数据源，帮助回答这个问题。一旦我们找到了数据所在的位置，就需要构建一个数据摄取管道，供数据科学家使用。这个过程被称为**ETL**，即**提取、转换、加载**。这些步骤对于将干净且有组织的数据提供给数据分析师或数据科学家是必要的。'
- en: Data collection or **extraction** is the first step of the ETL process and can
    include manual entry, web scraping, live streaming from devices, or a connection
    to an API. Data can be presented in a structured format, meaning that it is stored
    in a predefined way, or an unstructured format, meaning that it has no predefined
    storage format and is simply stored in its native way. **Transformation** consists
    of modifying the raw data to be stored or analyzed. Some of the activities that
    data transformation can involve include data normalization, data deduplication,
    and data cleaning. Finally, **loading** is the act of moving the transformed data
    into data storage and making it available. There are a few additional aspects
    to consider when referring to data availability, such as storing data in the correct
    format, including all related metadata, providing the correct access privileges
    to the right team members, and ensuring the data is up to date, accurate, or enough
    to fulfill the data scientist’s needs. The ETL process is generally led by the
    data engineer, but the business owner and the data scientist will have a say when
    identifying the data source.
  id: totrans-32
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 数据收集或**提取**是ETL过程的第一步，可以包括手动输入、网页抓取、设备的实时流式传输或与API的连接。数据可以以结构化格式呈现，意味着它是以预定义的方式存储的，或以非结构化格式呈现，意味着它没有预定义的存储格式，只是以其本地方式存储。**转换**包括修改原始数据，以便进行存储或分析。数据转换可能涉及的活动包括数据归一化、数据去重和数据清洗。最后，**加载**是将转换后的数据移入数据存储并使其可用的过程。在谈到数据可用性时，还需要考虑一些额外的方面，如以正确的格式存储数据、包括所有相关元数据、为合适的团队成员提供正确的访问权限，并确保数据是最新的、准确的或足以满足数据科学家的需求。ETL过程通常由数据工程师主导，但在确定数据源时，业务所有者和数据科学家也会有发言权。
- en: '**Analysis/modeling**: In this stage, we analyze the data to extract conclusions
    and may need to model it to try to predict future outcomes. Once the data is available,
    we can perform the following:'
  id: totrans-33
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**分析/建模**：在这个阶段，我们分析数据以提取结论，并可能需要对其建模，尝试预测未来的结果。一旦数据可用，我们可以执行以下操作：'
- en: '**Descriptive analysis**: This uses data analysis and methods to describe what
    the data shows, gaining insights into trends, composition, distribution, and more.
    For example, a descriptive analysis of a **Decentralized Finance** (**DeFi**)
    protocol can reveal when its clients are most active and the **Total Value Locked**
    (**TVL**) and how the locked value has evolved over time.'
  id: totrans-34
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**描述性分析**：这使用数据分析和方法来描述数据展示的内容，深入了解趋势、组成、分布等。例如，对**去中心化金融**（**DeFi**）协议的描述性分析可以揭示其客户最活跃的时段以及**总价值锁定**（**TVL**）和锁定价值随时间的变化情况。'
- en: '**Diagnostic analysis**: This uses data analysis to explain the reasons behind
    the occurrence of certain matters. Techniques such as data composition, correlations,
    and drill-down are used in these types of analyses. For example, a blockchain
    analyst may try to understand the correlation between a peak in new addresses
    and the activity of certain addresses to identify the applications that these
    users give to the chain.'
  id: totrans-35
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**诊断性分析**：这使用数据分析解释某些事件发生的原因。这类分析通常采用数据组成、相关性分析和深入挖掘等技术。例如，一位区块链分析师可能会试图理解新地址激增与某些地址活动之间的相关性，以识别这些用户在链上所用的应用。'
- en: '**Predictive analysis**: This uses historical data to make forecasts about
    trends or events in the future. Techniques can include machine learning, cluster
    analysis, and time series forecasting. For example, a trader may try to predict
    the evolution of a certain cryptocurrency based on its historical performance.'
  id: totrans-36
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**预测性分析**：这利用历史数据来预测未来的趋势或事件。技术方法包括机器学习、聚类分析和时间序列预测。例如，一位交易员可能会根据某种加密货币的历史表现，试图预测其未来的走势。'
- en: '**Prescriptive analysis**: This uses the result of predictive analysis as an
    input to suggest the optimum response or best course of action. For example, a
    bot can suggest whether to sell or buy certain cryptocurrency.'
  id: totrans-37
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**规范性分析**：这使用预测分析的结果作为输入，建议最佳的响应或最佳行动方案。例如，一个机器人可以建议是否买入或卖出某种加密货币。'
- en: '**Generative AI**: This uses machine learning techniques and huge amounts of
    data to learn patterns and generates new and original outputs. Artificial intelligence
    can create images, videos, audio, text, and more. Applications of generative models
    include ChatGPT, Leonardo AI, and Midjourney.'
  id: totrans-38
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**生成式 AI**：这使用机器学习技术和大量数据来学习模式，并生成新的原创输出。人工智能可以创建图像、视频、音频、文本等内容。生成模型的应用包括ChatGPT、Leonardo
    AI和Midjourney等。'
- en: '**Evaluation**: In this stage, the result of our analysis or modeling is evaluated
    and tested to confirm it meets the project goals and provides value to the business.
    Any bias or weakness of our models is identified, and if necessary, the process
    starts again to address those errors.'
  id: totrans-39
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**评估**：在这个阶段，我们的分析或建模结果会被评估和测试，以确认它是否符合项目目标并为企业提供价值。我们会识别出模型中的任何偏差或弱点，如果需要，整个过程将重新开始，以解决这些错误。'
- en: '**Presentation/deployment**: The final stage of the process depends on the
    problem. If it is an analysis from which the company will make a decision, our
    job will probably conclude with a presentation and explanation of our findings.
    Alternatively, if we are working as part of a larger software pipeline, our model
    will most likely be deployed or integrated into the data pipeline.'
  id: totrans-40
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**展示/部署**：这个过程的最终阶段取决于问题的性质。如果是一个需要公司做出决策的分析，我们的工作可能会以展示和解释我们的发现为结束。或者，如果我们是作为更大软件管道的一部分工作，我们的模型很可能会被部署或集成到数据管道中。'
- en: This is an iterative process, meaning that many times, especially in *step 4*,
    we will receive valuable feedback from the business team about our analysis, and
    we will change the initial conclusions accordingly. What is true for traditional
    data science is reinforced for the Web3 industry as this is one of the industries
    where data plays a key role in building trust, leading investments, and, in general,
    unlocking new value.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 这是一个迭代过程，这意味着，尤其在*步骤4*中，我们常常会从业务团队那里收到有价值的反馈，进而根据反馈调整初步结论。传统数据科学的规律同样适用于Web3行业，因为这是一个数据在建立信任、推动投资和一般性地解锁新价值方面发挥关键作用的行业。
- en: Although data science is not a programming career, it heavily relies on programming
    because of the large amount of data available. In this book, we will work with
    the **Python** language and some **SQL** to query databases. Python is a general-purpose
    programming language commonly used by the data science community, and it is easy
    to learn due to its simple syntax. An alternative to Python is R, which is a statistical
    programming language commonly used for data analysis, machine learning, scientific
    research, and data visualization. A simple way to access Python or R and their
    associated libraries and tools is to install the Anaconda distribution. It includes
    popular data science libraries (such as NumPy, pandas, and Matplotlib for Python)
    and simplifies the process of setting up an environment to start working on data
    analysis and machine learning projects.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管数据科学不是一个编程职业，但由于可用的数据量巨大，它在很大程度上依赖于编程。在本书中，我们将使用**Python**语言和一些**SQL**来查询数据库。Python是一种通用编程语言，数据科学社区常用它，它因其简单的语法而容易学习。Python的替代品是R，R是一种统计编程语言，通常用于数据分析、机器学习、科学研究和数据可视化。访问Python或R及其相关库和工具的一种简单方法是安装Anaconda发行版。它包括流行的数据科学库（如Python的NumPy、pandas和Matplotlib），并简化了设置环境的过程，以便开始进行数据分析和机器学习项目。
- en: 'The activities in this book will be carried out in three work environments:'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 本书中的活动将在三个工作环境中进行：
- en: '`.ipynb` format and are very useful for data analysis or training models. We
    will use Colab notebooks in the machine learning chapters due to the access it
    provides to GPU resources in its free tier.'
  id: totrans-44
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`.ipynb`格式非常适合用于数据分析或训练模型。在机器学习章节中，我们将使用Colab笔记本，因为它为用户提供了免费层次的GPU资源。'
- en: '`.py` format and are very useful for building applications. Most IDEs allow
    the user to download extensions to work with notebook files.'
  id: totrans-45
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`.py`格式非常适合用于构建应用程序。大多数IDE允许用户下载扩展插件来处理笔记本文件。'
- en: '**Query platforms**: In [*Chapter 2*](B19446_02.xhtml#_idTextAnchor073), we
    will access on-chain data platforms that have built-in query systems. Examples
    of those platforms are Dune Analytics, Flipside, Footprint Analytics, and Increment.'
  id: totrans-46
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**查询平台**：在[*第2章*](B19446_02.xhtml#_idTextAnchor073)中，我们将访问具有内置查询系统的链上数据平台。那些平台的例子包括Dune
    Analytics、Flipside、Footprint Analytics和Increment。'
- en: Anaconda Jupyter notebooks and IDEs use our computer resources (e.g., RAM),
    while Google Colaboratory uses cloud services (more on resources can be found
    in the *Appendix* 1).
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: Anaconda Jupyter笔记本和IDE使用我们的计算机资源（如RAM），而Google Colaboratory使用云服务（有关资源的更多信息，请参见*附录*1）。
- en: Please refer to the *Appendix* 1 to install any of the environments mentioned
    previously.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 请参阅*附录*1以安装之前提到的任何环境。
- en: Once we have a clean notebook, we will warm up our Python skills with the `Chapter01/Python_warm_up`
    notebook, which follows a tutorial by [https://learnxinyminutes.com/docs/python/](https://learnxinyminutes.com/docs/python/).
    For a more thorough study of Python, we encourage you to check out *Data Science
    with Python,* by Packt Publishing, or *Python Data Science Handbook*, both of
    which are listed in the *Further reading* section of this chapter.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦我们有了干净的笔记本，我们将通过`Chapter01/Python_warm_up`笔记本来热身我们的Python技能，该笔记本遵循[https://learnxinyminutes.com/docs/python/](https://learnxinyminutes.com/docs/python/)的教程。为了更深入学习Python，我们鼓励你阅读Packt
    Publishing的《*Data Science with Python*》或《*Python Data Science Handbook*》，这两本书都列在本章的*进一步阅读*部分。
- en: Once we have completed the warm-up exercise, we will initiate the Web3 client
    using the Web3.py library. Let’s learn about these concepts in the following section.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦我们完成热身练习，我们将使用Web3.py库启动Web3客户端。让我们在接下来的章节中了解这些概念。
- en: Understanding the blockchain ingredients
  id: totrans-51
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 了解区块链成分
- en: If you have a background in blockchain development, you may skip this section.
    Web3 represents a new generation of the World Wide Web that is based on decentralized
    databases, permissionless and trustless interactions, and native payments. This
    new concept of the internet opens up various business possibilities, some of which
    are still in their early stages.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你有区块链开发背景，可以跳过本节内容。Web3代表了基于去中心化数据库、无权限和无需信任的互动以及本地支付的下一代万维网。这个互联网的新概念开辟了各种商业可能性，其中一些仍处于早期阶段。
- en: '![Figure 1.1 – Evolution of the web](img/B19446_01_01.jpg)'
  id: totrans-53
  prefs: []
  type: TYPE_IMG
  zh: '![图1.1 – 网络的演变](img/B19446_01_01.jpg)'
- en: Figure 1.1 – Evolution of the web
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 图1.1 – 网络的演变
- en: Currently, we are in the Web2 stage, where centralized companies store significant
    amounts of data sourced from our interactions with apps. The promise of Web3 is
    that we will interact with **Decentralized Apps** (**dApps**) that store only
    the relevant information on the blockchain, accessible to everyone.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 目前，我们正处于 Web2 阶段，在这一阶段，集中式公司存储着大量来自我们与应用程序互动的数据。Web3 的承诺是，我们将与**去中心化应用**（**dApps**）进行互动，这些应用仅将相关信息存储在区块链上，且所有人都可以访问。
- en: 'As of the time of writing, Web3 has some limitations recognized by the Ethereum
    organization:'
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 在撰写本文时，Web3 存在一些以以太坊组织为代表的局限性：
- en: '**Velocity**: The speed at which the blockchain is updated poses a scalability
    challenge. Multiple initiatives are being tested to try to solve this issue.'
  id: totrans-57
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**速度**：区块链更新的速度构成了可扩展性挑战。正在测试多个方案以尝试解决这个问题。'
- en: '**Intuition**: Interacting with Web3 is still difficult to understand. The
    logic and user experience are not as intuitive as in Web2 and a lot of education
    will be necessary before users can start utilizing it on a massive scale.'
  id: totrans-58
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**直觉**：与 Web3 互动仍然很难理解。其逻辑和用户体验不如 Web2 直观，且在用户能够大规模使用之前，需要进行大量的教育工作。'
- en: '**Cost**: Recording an entire business process on the chain is expensive. Having
    multiple smart contracts as part of a dApp costs a lot for the developer and the
    user.'
  id: totrans-59
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**成本**：将整个业务流程记录在链上是昂贵的。作为 dApp 一部分的多个智能合约对开发者和用户来说都花费巨大。'
- en: Blockchain technology is a foundational technology that underpins Web3\. It
    is based on **Distributed Ledger Technology** (**DLT**), which stores information
    once it is cryptographically verified. Once reflected on the ledger, each transaction
    cannot be modified and multiple parties have a complete copy of it.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 区块链技术是支撑 Web3 的基础技术。它基于**分布式账本技术**（**DLT**），该技术在信息经过加密验证后进行存储。一旦记录在账本中，每笔交易都无法修改，并且多个方拥有其完整副本。
- en: 'Two structural characteristics of the technology are the following:'
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 该技术的两个结构特征如下：
- en: It is structured as a set of blocks, where each block contains information (cryptographically
    hashed – we will learn more about this in this chapter) about the previous block,
    making it impossible to alter it at a later stage. Each block is chained to the
    previous one by this cryptographic sharing mechanism.
  id: totrans-62
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 它是由一组区块构成的，每个区块包含关于前一个区块的信息（经过加密哈希处理——我们将在本章进一步了解这一点），使得后期无法修改。每个区块通过这一加密共享机制与前一个区块相链。
- en: '![Figure 1.2 – Representation of a set of blocks](img/B19446_01_02.jpg)'
  id: totrans-63
  prefs: []
  type: TYPE_IMG
  zh: '![图 1.2 – 一组区块的表示](img/B19446_01_02.jpg)'
- en: Figure 1.2 – Representation of a set of blocks
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.2 – 一组区块的表示
- en: It is decentralized. The copy of the entire ledger is distributed among several
    servers, which we will call nodes. Each node has a complete copy of the ledger
    and verifies consistency every time it adds a new block on top of the blockchain.
  id: totrans-65
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 它是去中心化的。整个账本的副本分布在多个服务器上，我们称这些服务器为节点。每个节点都有一份完整的账本副本，并且在每次添加新块到区块链上时都会验证一致性。
- en: This structure provides the solution to double spending, enabling for the first
    time the decentralized transfer of value through the internet. This is why Web3
    is known as the *internet* *of value*.
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 该结构为双重支付问题提供了解决方案，使得首次通过互联网实现了去中心化的价值转移。这就是为什么 Web3 被称为*价值* *互联网*的原因。
- en: Since the complete version of the ledger is distributed among all the participants
    of the blockchain, any new transaction that contradicts previously stored information
    will not be successfully processed (there will be no consensus to add it). This
    characteristic facilitates transactions among parties that do not know each other
    without the need for an intermediary acting as a guarantor between them, which
    is why this technology is known as trustless.
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 由于完整的账本版本分布在区块链的所有参与者之间，任何与先前存储信息相矛盾的新交易都不会被成功处理（无法达成共识添加它）。这一特性使得不相识的各方能够在无需中介担任担保人角色的情况下进行交易，这就是为什么这项技术被称为无信任技术。
- en: The decentralized storage also takes control away from each server and, thus,
    there is no sole authority with sufficient power to change any data point once
    the transaction is added to the blockchain. Since taking down one node will not
    affect the network, if a hacker wants to attack the database, they would require
    such high computing power that the attempt would be economically unfeasible. This
    adds a security level that centralized servers do not have.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 去中心化存储也将控制权从每个服务器中移除，因此，一旦交易被添加到区块链中，就没有单一的权威能够更改任何数据点。由于摧毁一个节点不会影响网络，如果黑客想要攻击数据库，他们将需要极高的计算能力，尝试的成本将变得经济上不可行。这为区块链带来了集中式服务器所没有的安全级别。
- en: Three generations of blockchain
  id: totrans-69
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 三代区块链
- en: 'The first-generation blockchain is **Bitcoin**, which is based on Satoshi Nakamoto’s
    paper *Bitcoin: A Peer-to-Peer Electronic Cash System*. The primary use case of
    this blockchain is financial. Although the technology was initially seen as a
    way to bypass intermediaries such as banks, currently, traditional financial systems
    and the crypto world are starting to work together, especially with regard to
    Bitcoin because it is now considered a digital store of value, a sort of digital
    gold. Notwithstanding the preceding, there are still many regulatory and practical
    barriers to the integration of the two systems.'
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 第一代区块链是**比特币**，它基于中本聪的论文《*比特币：一种点对点的电子现金系统*》。该区块链的主要用途是金融。尽管最初这项技术被视为绕过银行等中介机构的方式，但现在，传统金融系统和加密货币世界开始合作，尤其是在比特币方面，因为它现在被视为一种数字价值储存手段，一种数字黄金。尽管如此，两者系统的整合仍面临许多监管和实际障碍。
- en: The second-generation blockchain added the concept of smart contracts to the
    database structure described previously, and **Ethereum** was the first to introduce
    this. With Ethereum, users can agree on terms and conditions before a transaction
    is carried out. This chain started the smart contracts era, and as Nick Szabo
    describes it, the smart contract logic is that of a vending machine that can execute
    code autonomously, including the management of digital assets, which is a real
    revolution. To achieve this, the network has an **Ethereum Virtual Machine** (**EVM**)
    that can execute arbitrary code.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 第二代区块链在之前描述的数据库结构中加入了智能合约的概念，**以太坊**是第一个引入这一概念的区块链。通过以太坊，用户可以在交易执行之前就达成协议条款。这个链开启了智能合约的时代，正如尼克·萨博所描述的，智能合约的逻辑就像自动售货机，可以自主执行代码，包括数字资产的管理，这是一场真正的革命。为了实现这一点，网络中有一个**以太坊虚拟机**（**EVM**），它可以执行任意代码。
- en: Lastly, the third-generation blockchain builds upon the previous generations
    and aims to solve scalability and interoperability problems. When referring to
    *on-chain* data in this book, we will be talking about data generated by the second-
    and third-generation blockchains that are EVM compatible, as this is where most
    development is being carried out at the time of writing (e.g., Ethereum, BSC,
    or Rootstock). Consequently, Bitcoin data and non-EVM structures are not covered.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，第三代区块链是在前两代区块链的基础上进行构建，旨在解决可扩展性和互操作性问题。本书中提到的*链上*数据，指的是由第二代和第三代区块链生成的、与EVM兼容的数据，因为在本书写作时，这正是大多数开发工作进行的地方（例如，以太坊、BSC或Rootstock）。因此，比特币数据和非EVM结构不在讨论范围内。
- en: Introducing the blockchain ingredients
  id: totrans-73
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 引入区块链要素
- en: Now, let’s understand some important additional concepts regarding blockchain.
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，让我们来了解一些与区块链相关的重要附加概念。
- en: Gas
  id: totrans-75
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: Gas（燃料）
- en: 'In order to make a car move forward, we use gas as fuel. This enables us to
    reach our desired destination, but it comes at a cost. The price of gas fluctuates
    based on various factors, such as oil prices and transportation costs. The same
    concept applies to the blockchain technology. To save a transaction on a chain,
    it is necessary to pay for gas. In short, gas is the instruction cost paid to
    the network to carry out our transactions. The purpose of establishing a cost
    is twofold: the proceedings of the gas payment go to the miners/validators as
    a payment for their services and as an incentive to continue being integrated
    into the blockchain; it also sets a price for users to be mindful of when using
    resources, encouraging the use of the blockchain to record only what is worth
    more than the gas value paid. This concept is universal to all networks we will
    study in this book.'
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 为了让汽车前进，我们使用汽油作为燃料。这使我们能够到达期望的目的地，但也需要付出代价。汽油价格根据油价和运输成本等因素波动。区块链技术中也有类似的概念。为了在链上保存一个交易，必须支付一定的燃气费用。简而言之，燃气是支付给网络的指令费用，用以执行我们的交易。建立这种费用的目的有两个：一是燃气费用支付给矿工/验证者，作为他们服务的报酬，并激励他们继续融入区块链；二是为用户设定一个费用标准，使他们在使用资源时更加谨慎，鼓励区块链只记录那些价值高于支付燃气费用的内容。本书中我们将学习的所有网络都适用这一概念。
- en: Gas has several cost implications. As the price of gas is paid in the network’s
    native coin, if the price increases, the cost of using the network can become
    excessively expensive, discouraging adoption. This is what happened with Ethereum,
    which led to multiple changes to its internal rules to solve this issue.
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 燃气费用具有多重成本含义。由于燃气费用是用网络的原生币支付的，如果价格上涨，使用网络的成本可能变得过于昂贵，从而抑制了其采用。这正是以太坊所经历的情况，导致它对内部规则进行了多次更改，以解决这一问题。
- en: As mentioned earlier, each interaction with the blockchain incurs a cost. Therefore,
    not everything needs to be stored in it and the adoption of such a database as
    blockchain needs to be validated by business requirements.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 如前所述，每次与区块链的互动都会产生费用。因此，并不是所有内容都需要存储在区块链中，采用这种数据库（区块链）需要根据业务需求进行验证。
- en: Cryptocurrencies can be divided into smaller units of that cryptocurrency, just
    like how a dollar can be divided into cents. The smaller unit of a Bitcoin is
    a Satoshi and the smaller denomination of an Ether is Wei. The following is a
    chart with the denominations, which will be useful for tracking gas costs.
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 加密货币可以被划分为更小的单位，就像美元可以划分为美分一样。比特币的最小单位是Satoshi，以太坊的最小单位是Wei。以下是一个单位和面值的表格，便于跟踪燃气费用。
- en: '| **Unit name** | **Wei** | **Ether** |'
  id: totrans-80
  prefs: []
  type: TYPE_TB
  zh: '| **单位名称** | **Wei** | **Ether** |'
- en: '| Wei | 1 | 10-18 |'
  id: totrans-81
  prefs: []
  type: TYPE_TB
  zh: '| Wei | 1 | 10-18 |'
- en: '| Kwei | 1,000 | 10-15 |'
  id: totrans-82
  prefs: []
  type: TYPE_TB
  zh: '| Kwei | 1,000 | 10-15 |'
- en: '| Mwei | 1,000,000 | 10-12 |'
  id: totrans-83
  prefs: []
  type: TYPE_TB
  zh: '| Mwei | 1,000,000 | 10-12 |'
- en: '| Gwei | 1,000,000,000 | 10-9 |'
  id: totrans-84
  prefs: []
  type: TYPE_TB
  zh: '| Gwei | 1,000,000,000 | 10-9 |'
- en: '| Microether | 1,000,000,000,000 | 10-6 |'
  id: totrans-85
  prefs: []
  type: TYPE_TB
  zh: '| 微以太 | 1,000,000,000,000 | 10-6 |'
- en: '| Milliether | 1,000,000,000,000,000 | 10-3 |'
  id: totrans-86
  prefs: []
  type: TYPE_TB
  zh: '| Milliether | 1,000,000,000,000,000 | 10-3 |'
- en: '| Ether | 1,000,000,000,000,000,000 | 1 |'
  id: totrans-87
  prefs: []
  type: TYPE_TB
  zh: '| Ether | 1,000,000,000,000,000,000 | 1 |'
- en: Table 1.1 – Unit denominations and their values
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 表1.1 – 单位面值及其数值
- en: Address
  id: totrans-89
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 地址
- en: When we use a payment method other than cash, we transmit a sequence of letters
    or numbers, or a combination of both, to transfer our funds. This sequence of
    characters is essential for identifying the country, bank, and account of the
    recipient, for the entity that holds our funds. Similarly, an address performs
    a comparable function and serves as an identification number on the blockchain.
    It is a string of letters and numbers that can *send or receive* cryptocurrency.
    For example, Ethereum addresses consist of 42 hexadecimal characters. An address
    is the public key hash of an asymmetric key pair, which is all the information
    required by a third party to transfer cryptocurrency. This public key is derived
    from a private key, but the reverse process (deriving the private key from a public
    key) cannot be performed. The private key is required to authorize/sign transactions
    or access the funds stored in the account.
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 当我们使用除现金之外的支付方式时，我们传输一串字母或数字，或两者的组合，以便转移我们的资金。这串字符对于识别收款方的国家、银行和账户，以及持有我们资金的实体至关重要。类似地，地址执行了相似的功能，并作为区块链上的标识号码。它是一串字母和数字，可以*发送或接收*加密货币。例如，以太坊地址由42个十六进制字符组成。地址是一个非对称密钥对的公钥哈希，它包含了第三方转移加密货币所需的所有信息。这个公钥是从私钥派生的，但反向过程（从公钥推导私钥）是不可执行的。私钥用于授权/签署交易或访问存储在账户中的资金。
- en: 'Addresses can be classified into two categories: **Externally Owned Addresses**
    (**EOAs**) and contract accounts. Both of them can receive, hold, and send funds
    and interact with smart contracts. EOAs are owned by users who hold the private
    key, and users can create as many as they need. Contract accounts are those where
    smart contracts are deployed and are controlled by their contract code. Another
    difference between them is the cost of creating them. Creating an EOA does not
    cost gas but creating a smart contract address has to pay for gas. Only EOA accounts
    can initiate transactions.'
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 地址可以分为两类：**外部拥有地址**（**EOA**）和合约账户。它们都可以接收、持有和发送资金，并与智能合约交互。EOA由持有私钥的用户拥有，用户可以根据需要创建任意数量的EOA。合约账户是部署了智能合约的地址，并由合约代码控制。它们之间的另一个区别是创建成本。创建EOA不需要支付gas费用，而创建智能合约地址需要支付gas费用。只有EOA账户能够发起交易。
- en: There is another product in the market known as smart accounts that leverage
    the account abstraction concept. The idea behind this development is to facilitate
    users to program more security and better user experiences into their accounts,
    such as setting rules on daily spending limits or selecting the token to pay for
    gas. These are programmable smart contracts.
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 市场上还有一种产品，叫做智能账户，它利用了账户抽象概念。该开发背后的理念是方便用户在账户中编程更多的安全性和更好的用户体验，例如设置每日消费限额或选择支付gas的代币。这些都是可编程的智能合约。
- en: Although the terms “wallet” and “address” are often used interchangeably, there
    is a technical distinction between them. As mentioned before, an address is the
    public key hash of an asymmetric key pair. On the other hand, a wallet is the
    abstract location where the public and private keys are stored together. It is
    a software interface or application that simplifies interacting with the network
    and facilitates querying our accounts, transaction signing, and more.
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管“钱包”和“地址”这两个术语常常互换使用，但它们之间存在技术上的区别。如前所述，地址是非对称密钥对的公钥哈希。另一方面，钱包是存储公钥和私钥的抽象位置。它是一个简化与网络交互的软件接口或应用程序，便于查询账户、签署交易等。
- en: Consensus protocols
  id: totrans-94
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 共识协议
- en: When multiple parties work together, especially if they do not know each other,
    it is necessary to agree on a set of rules to work sustainably. In the blockchain
    case, it is necessary to determine how to add transactions to a block and alter
    its state. This is where the consensus protocol comes into play. Consensus refers
    to the agreement reached by all nodes of the blockchain to change the state of
    the chain by adding a new block to it. The protocol comprises a set of rules for
    participation, rewards/penalties to align incentives, and more. The more nodes
    participate, the more decentralized the network becomes, making it more secure.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 当多个方一起合作时，特别是当他们彼此不认识时，需要达成一套可持续工作的规则。在区块链的情况下，需要确定如何将交易添加到区块中并改变其状态。这就是共识协议的作用所在。共识是指区块链所有节点达成一致，通过向链中添加新区块来改变链的状态。协议包含一套参与规则、奖励/惩罚以对齐激励机制等内容。参与的节点越多，网络越去中心化，安全性也越高。
- en: Consensus can be reached in several ways, but two main concepts exist in open
    networks.
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 共识可以通过几种方式达成，但在开放网络中存在两个主要概念。
- en: Proof of Work (PoW)
  id: totrans-97
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 工作量证明（PoW）
- en: This is the consensus protocol used by Bitcoin. It involves solving mathematical
    equations that vary in difficulty depending on how congested the network is.
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 这是比特币使用的共识协议。它涉及解决数学方程，方程的难度取决于网络的拥堵程度。
- en: Solving these puzzles consumes a lot of energy, resulting in a hardware-intensive
    competition. Parties trying to solve the puzzle are known as miners.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 解决这些谜题消耗大量能源，导致硬件密集型竞争。试图解决谜题的各方被称为矿工。
- en: The winning party finds an integer that complies with the equation rules and
    informs the other nodes of the answer. The other parties verify that the answer
    is correct and add the block to their copy of the blockchain. The winning party
    gets the reward for solving the puzzle, which is a predefined amount of cryptocurrency.
    This is how the system issues Bitcoin that has never been spent and is known as
    a Coinbase transaction.
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 胜利方找到符合方程规则的整数并通知其他节点答案。其他方验证答案是否正确，并将该区块添加到他们的区块链副本中。胜利方因解决谜题而获得奖励，这是一种预定数量的加密货币。这就是系统发行从未被花费的比特币的方式，称为Coinbase交易。
- en: In Bitcoin protocol, the reward is halved every 21,000 blocks.
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 在比特币协议中，奖励每21,000个区块减半。
- en: Proof of Stake (PoS)
  id: totrans-102
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 权益证明（PoS）
- en: This is the current protocol used by the Ethereum blockchain (up to September
    15, 2022, the consensus protocol was PoW) and many others, such as Cardano.
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 这是以太坊区块链（截至2022年9月15日，共识协议为PoW）以及许多其他区块链（如Cardano）目前使用的协议。
- en: The rationale behind PoS is that parties become validators in the blockchain
    by staking their own cryptocurrency in exchange for the chance to validate transactions,
    update the blockchain, and earn rewards. Generally, there is a minimum amount
    of cryptocurrency that must be staked to become a validator. It is “at stake”
    because the rules include potential penalizations or “slashing” of the deposited
    cryptocurrency if the validator (node that processes transactions and adds new
    blocks to the chain) goes offline or behaves poorly. Slashing means losing a percentage
    of the deposited cryptocurrency.
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: PoS背后的原理是，参与方通过将自己的加密货币抵押在区块链中，获得验证交易、更新区块链并赚取奖励的机会。通常，成为验证者需要抵押一定数量的加密货币。之所以称为“在押”，是因为规则包括对验证者（处理交易并向区块链添加新区块的节点）如果离线或行为不当时的潜在处罚或“削减”。削减意味着失去一部分存入的加密货币。
- en: As we can see, there are rewards and penalties to align the incentives of all
    participants toward a single version of the blockchain.
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 正如我们所看到的，通过奖励和处罚机制，所有参与者的激励得以对齐，朝着单一版本的区块链发展。
- en: The list of consensus protocols is continuously evolving, reflecting the ongoing
    search to solve some of the limitations identified in Web3, such as speed or cost.
    Some alternative consensus protocols include proof of authority – where a small
    number of nodes have the power to validate transactions and add blocks to the
    chain – and proof of space – which uses disk space to validate transactions.
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 共识协议的列表在不断发展，反映了人们为解决Web3中的一些局限性（如速度或成本）而持续努力的过程。一些替代的共识协议包括权威证明（Proof of Authority）——在这种协议下，少数节点有权验证交易并将区块添加到区块链中——以及空间证明（Proof
    of Space）——它利用磁盘空间来验证交易。
- en: Making the first transaction
  id: totrans-107
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 进行第一次交易
- en: With these concepts in mind, we will now carry out a transaction on our local
    environment with local Ethereum from Ganache.
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 有了这些概念后，我们现在将在本地环境中使用Ganache中的本地以太坊执行一笔交易。
- en: To get started, let’s open a local Jupyter notebook and a quick-start version
    of Ganache.
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，让我们打开一个本地的Jupyter笔记本，并启动Ganache的快速入门版本。
- en: 'Here is the information we need:'
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 这里是我们需要的信息：
- en: '![Figure 1.3 – Ganache main page and relevant information to connect](img/B19446_01_03.jpg)'
  id: totrans-111
  prefs: []
  type: TYPE_IMG
  zh: '![图1.3 – Ganache主页面及连接所需的相关信息](img/B19446_01_03.jpg)'
- en: Figure 1.3 – Ganache main page and relevant information to connect
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 图1.3 – Ganache主页面及连接所需的相关信息
- en: 'Let’s look at the code:'
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们看一下代码：
- en: 'Import the Web3.py library:'
  id: totrans-114
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 导入Web3.py库：
- en: '[PRE1]'
  id: totrans-115
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'Connect to the blockchain running on the port described in our Ganache page
    (item 1):'
  id: totrans-116
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 连接到在我们Ganache页面（第1项）中描述的端口上运行的区块链：
- en: '[PRE2]'
  id: totrans-117
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'Define the receiving and sending addresses (item 2):'
  id: totrans-118
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 定义接收和发送地址（第2项）：
- en: '[PRE3]'
  id: totrans-119
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'Define the transaction. In this case, we are transferring 30 ether between
    the accounts defined previously:'
  id: totrans-120
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 定义交易。在这种情况下，我们将在先前定义的账户之间转移30个以太币：
- en: '[PRE4]'
  id: totrans-121
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'We can review the account balances before and after the transaction with the
    following code snippet:'
  id: totrans-122
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们可以通过以下代码片段查看交易前后的账户余额：
- en: '[PRE5]'
  id: totrans-123
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE5]'
- en: Congratulations! If you have never before transferred value on a blockchain,
    you have achieved your first milestone. The complete code can be found in `Chapter01/First_transaction`.
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 恭喜！如果你从未在区块链上转移过价值，那么你已经达成了第一个里程碑。完整的代码可以在`Chapter01/First_transaction`中找到。
- en: A word on CBDC
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 关于CBDC的说明
- en: What is **CBDC**? The acronym stands for **Central Bank Digital Currency**.
    It is a new form of electronic money issued by the central banks of countries.
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 什么是**CBDC**？这个缩写代表**中央银行数字货币**。它是一种由各国中央银行发行的全新形式的电子货币。
- en: Many countries are at different stages in this roadmap. On January 20, 2022,
    the Federal Reserve Board issued discussion papers about CBDC, and prior to the
    COVID-19 pandemic, they also informed of ongoing research regarding the benefits
    that could be brought to their system. As of July 2022, there were 100 CBDCs in
    research and development. Countries are looking for the best infrastructure, studying
    the impact on their communities, and are mindful of a new range of risks that
    this new way of transferring value will pose to financial systems that may be
    reluctant to change.
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 很多国家在这一发展路线图中处于不同的阶段。2022年1月20日，美国联邦储备委员会发布了关于CBDC的讨论文件，在COVID-19疫情之前，他们还通报了关于CBDC可能带给系统的益处的持续研究。截至2022年7月，已有100种CBDC处于研究和开发阶段。各国正在寻找最佳的基础设施，研究其对社区的影响，并且关注这种新的价值转移方式可能给金融系统带来的新风险，这些系统可能对变革持保守态度。
- en: 'Some of the concepts that we have covered in this chapter will be useful for
    the CBDC era, but depending on the project and its characteristics, not all of
    them will be present. It will be especially interesting to see how they solve
    centralization issues. A very informative tracker on the status of the projects
    is available at the following link: [https://cbdctracker.org/](https://cbdctracker.org/).'
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 我们在本章中介绍的一些概念将对CBDC时代有用，但根据项目及其特点，并非所有概念都会出现。特别有趣的是，看看它们如何解决集中化问题。以下链接提供了一个非常有用的项目状态追踪器：[https://cbdctracker.org/](https://cbdctracker.org/)。
- en: In this section, we analyzed the fundamentals of blockchain technology, including
    key concepts such as gas, addresses, and consensus protocols, and explored the
    evolution of Web3\. We also executed a transaction using Ganache and Web3.py.
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们分析了区块链技术的基础，包括燃气费、地址和共识协议等关键概念，并探讨了Web3的演变。我们还使用Ganache和Web3.py执行了一笔交易。
- en: With this basic understanding of the transaction flow, we will now shift our
    focus toward analyzing initial metrics and gaining a better understanding of the
    data challenges in this industry.
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 在对交易流有了基础理解后，我们现在将重点转向分析初始指标，并更好地理解这一行业中的数据挑战。
- en: Approaching Web3 industry metrics
  id: totrans-131
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 接近Web3行业指标
- en: There are some metrics that are pretty standard on every Web3 dashboard that
    we review in this section. However, this is just a basic layer, and each player
    in the industry will add additional metrics relevant to them.
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们回顾了一些在每个Web3仪表板中都非常标准的指标。然而，这仅仅是一个基础层次，每个行业参与者都会添加与其相关的额外指标。
- en: To extract information from the Ethereum blockchain, we need to establish a
    connection to the blockchain through a node that holds a copy of it. There are
    multiple ways to connect to the blockchain, which we will explore in more detail
    in [*Chapter 2*](B19446_02.xhtml#_idTextAnchor073). For the following metrics,
    we will make use of **Infura**. *For a step by step guide to connect to Infura,
    refer to the* *Appendix 1*.
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 为了从以太坊区块链中提取信息，我们需要通过一个节点建立与区块链的连接，该节点持有区块链的副本。有多种方式可以连接到区块链，我们将在[*第2章*](B19446_02.xhtml#_idTextAnchor073)中更详细地探讨这个问题。对于以下指标，我们将使用**Infura**。*有关如何连接到Infura的逐步指南，请参阅*
    *附录1*。
- en: Block height
  id: totrans-134
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 区块高度
- en: 'This refers to the current block on the blockchain. The Genesis block is commonly
    referred to as block 0 and subsequent blocks are numbered accordingly. To check
    the block height, use the following code snippet:'
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 这指的是区块链上的当前区块。创世区块通常被称为区块0，之后的区块按顺序编号。要检查区块高度，可以使用以下代码片段：
- en: '[PRE6]'
  id: totrans-136
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: The block number can be used as the ID of the block. Tracking it can be useful
    to determine the number of confirmations a transaction has, which is equivalent
    to the number of additional blocks that were mined or added after the block of
    interest. The deeper a transaction is in the chain, the safer and more irreversible
    it becomes.
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 区块号可以作为区块的ID。追踪它有助于确定交易已获得多少次确认，这相当于在感兴趣的区块之后开采或添加了多少个附加区块。交易在链上的位置越深，安全性和不可逆性越高。
- en: Time
  id: totrans-138
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 时间
- en: When discussing time in the context of blockchain, two concepts need to be taken
    into account. The first is the time between blocks, which varies depending on
    the blockchain. In Ethereum, after the recent protocol change, there are 12-second
    slots. Each validator is given a slot to propose a block during that time, and
    if all validators are online, there will be no empty slots, resulting in a new
    block being added every 12 seconds. The second concept is the timestamp for when
    a block was added to the blockchain, which is typically stored in Unix timestamp
    format. The Unix timestamp is a way of tracking the time elapsed as a running
    total of seconds from January 1, 1970, in UTC.
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 在讨论区块链中的时间时，需要考虑两个概念。第一个是区块之间的时间间隔，这取决于区块链的不同。在以太坊中，经过最近的协议更改，每个时间段为12秒。每个验证者都在这段时间内获得一个插槽来提议一个区块，如果所有验证者都在线，将不会有空白插槽，从而每12秒就会添加一个新区块。第二个概念是区块被添加到区块链时的时间戳，通常以Unix时间戳格式存储。Unix时间戳是一种追踪时间流逝的方式，记录自1970年1月1日（UTC时间）以来的秒数总和。
- en: 'To extract the block timestamps, use the following code snippet:'
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 要提取区块时间戳，请使用以下代码片段：
- en: '[PRE7]'
  id: totrans-141
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: Tokenomics
  id: totrans-142
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 代币经济学
- en: Tokenomics refers to the characteristics of the internal economy of token projects
    on the blockchain, including supply, demand, and inflation. This involves determining
    how many digital assets will be issued, whether there is a cap on the total offer,
    the use cases of the token, and the burning schema to control the number of assets
    in circulation.
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 代币经济学指的是区块链上代币项目内部经济的特征，包括供应、需求和通货膨胀。这涉及到确定将发行多少数字资产，是否对总量有所限制，代币的使用场景，以及控制流通资产数量的销毁机制。
- en: The token white paper typically contains the official explanation for basic
    tokenomics questions.
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 代币白皮书通常包含了关于基本代币经济学问题的官方解释。
- en: Bitcoin tokenomics
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: 比特币代币经济学
- en: The Bitcoin supply is capped at 21 million Bitcoins, and this amount cannot
    be exceeded. New Bitcoin enters circulation through mining, and miners are rewarded
    each time they successfully add a block to the chain.
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 比特币的供应量被限制为2100万个比特币，这一数量不能超过。新的比特币通过挖矿进入流通，矿工每次成功添加一个区块到链上时都会获得奖励。
- en: Each block is mined approximately every 10 minutes, so all 21 million Bitcoins
    will be in circulation by 2140.
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 每个区块大约每10分钟挖掘一次，因此到2140年，所有2100万个比特币将全部流通。
- en: The number of Bitcoins rewarded is halved every time 210,000 blocks are mined,
    resulting in a halving approximately every four years. Once all 21 million Bitcoins
    have been mined, miners will no longer receive block rewards and will rely solely
    on transaction fees for revenue.
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 每挖掘210,000个区块，获得的比特币奖励数量就会减半，这样每大约四年就会发生一次减半。直到所有2100万个比特币被挖掘完毕，矿工将不再收到区块奖励，而将完全依赖交易费用来获得收入。
- en: Tokens, and therefore their tokenomics, play a fundamental role in the functioning
    and sustainability of DeFi platforms. One of the industries most impacted by this
    technology is the financial industry, which has given birth to a new concept known
    as **Decentralized Finance**, or **DeFi**. DeFi consists of peer-to-peer financial
    solutions built on public blockchains. These initiatives offer services that are
    similar to those offered by banks and other financial institutions, such as earning
    interest on deposits, lending, and trading assets, without the intervention of
    banks or other centralized financial institutions. This is achieved through a
    set of smart contracts (or protocols) that are open to anyone with an address
    to participate.
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: 代币，因此它们的代币经济学，在去中心化金融（DeFi）平台的运作和可持续性中起着基础性作用。受此技术影响最大的行业之一是金融行业，它催生了一个新的概念，即**去中心化金融**，或称**DeFi**。DeFi由建立在公共区块链上的点对点金融解决方案组成。这些计划提供类似银行及其他金融机构的服务，如存款利息、贷款和资产交易，且无需银行或其他中心化金融机构的介入。通过一套开放的智能合约（或协议），任何拥有地址的人都可以参与其中。
- en: One concrete example of DeFi is Aave, a lending and borrowing platform that
    allows users to lend and borrow various cryptocurrencies without intermediaries
    such as banks. For instance, if Jane wants to borrow 10 ETH, she can go to Aave,
    create a borrowing request, and wait for the smart contract to match her request
    with available lenders who are willing to lend ETH. The borrowed ETH is lent with
    an interest rate percentage that reflects supply and demand levels. The money
    lent comes from a liquidity pool where lenders deposit their cryptocurrencies
    to earn interest on them. With Aave’s decentralized platform, borrowers and lenders
    can transact directly with each other without needing to go through a traditional
    financial institution.
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: DeFi 的一个具体例子是 Aave，这是一个借贷平台，允许用户在没有银行等中介的情况下借贷各种加密货币。例如，如果 Jane 想要借 10 个 ETH，她可以去
    Aave，创建借贷请求，并等待智能合约将她的请求与愿意借出 ETH 的可用借款人匹配。借出的 ETH 会按照反映供需水平的利率借出。借出的资金来自一个流动性池，借款人将他们的加密货币存入该池以赚取利息。通过
    Aave 的去中心化平台，借款人和贷方可以直接交易，无需通过传统金融机构。
- en: We will dive deep into DeFi in [*Chapter 5*](B19446_05.xhtml#_idTextAnchor168).
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将在[*第 5 章*](B19446_05.xhtml#_idTextAnchor168)深入探讨 DeFi。
- en: Total Value Locked (TVL)
  id: totrans-152
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 锁仓总值（TVL）
- en: TVL refers to the total value of assets currently locked in a specific DeFi
    protocol. It measures the health of a certain protocol by the amount of money
    users secure in it. The TVL will increase when users deposit more assets in the
    protocol, and vice versa, it will decrease when the users withdraw it. It is calculated
    by summing the value of the assets locked in the protocol and multiplying them
    by the current price.
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: TVL 是指当前在特定 DeFi 协议中锁仓的资产总值。它通过用户在协议中存入的资金量来衡量某个协议的健康状况。当用户在协议中存入更多资产时，TVL 会增加；反之，当用户取出资产时，TVL
    会减少。它的计算方法是将协议中锁仓的资产价值相加，并乘以当前价格。
- en: Different DeFi protocols may have specific ways of measuring their TVL, and
    accurately calculating it requires an understanding of how each protocol works.
    A website that specializes in measuring TVL is DefiLlama (available at [https://defillama.com/](https://defillama.com/)).
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: 不同的 DeFi 协议可能有不同的 TVL 计算方式，准确的计算需要了解每个协议的运作方式。一个专门测量 TVL 的网站是 DefiLlama（可访问
    [https://defillama.com/](https://defillama.com/)）。
- en: TVL also helps traders determine whether a certain token is undervalued or not
    by dividing that number by the market cap (or total supply in circulation) of
    the token issued by said protocol.
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: TVL 还可以通过将该数字除以该协议发行的代币的市值（或流通中的总供应量）来帮助交易者判断某个代币是否被低估。
- en: This metric helps compare DeFi protocols with each other.
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: 这个指标有助于将不同的 DeFi 协议进行比较。
- en: Total market cap
  id: totrans-157
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 总市值
- en: Market capitalization represents the size of the market for a certain token
    and is closely related to traditional financial concepts. It is calculated by
    multiplying the number of coins or tokens issued by their current market price.
    The **circulating supply** is the sum of tokens currently held by public holders.
    To get this number, we calculate the tokens in all addresses that are not the
    minting and burning addresses and subtract the value held by addresses that we
    know are controlled by the protocol or are allocated to the development team or
    some investors, and so on.
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: 市值代表某个代币市场的规模，与传统金融概念密切相关。市值的计算方法是将发行的代币数量乘以其当前市场价格。**流通供应量**是当前由公众持有的代币总和。要获得这个数字，我们需要计算所有不是铸造和销毁地址的地址中的代币，并减去我们已知由协议控制或分配给开发团队或一些投资者的地址所持有的价值。
- en: The **max supply** or **total supply** of tokens is the total number of tokens
    that will be issued by a certain smart contract. Multiplying the max supply by
    the current price will result in a fully diluted market cap. There are two ways
    to get the total supply, with state data and transactional data.
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: '**最大供应量**或**总供应量**是由某个智能合约发行的代币总数。将最大供应量乘以当前价格将得到完全稀释的市值。获取总供应量有两种方法，分别是通过状态数据和交易数据。'
- en: In [*Chapter 2*](B19446_02.xhtml#_idTextAnchor073), we will learn how to access
    state data as tokens as smart contracts have a function that can be queried with
    Web3.py. To do this, we will need the `Chapter01/Relevant` `metrics II.ipynb`.
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: 在[*第 2 章*](B19446_02.xhtml#_idTextAnchor073)中，我们将学习如何访问状态数据，因为代币的智能合约有一个可以通过
    Web3.py 查询的功能。为此，我们需要 `Chapter01/Relevant` `metrics II.ipynb` 文件。
- en: Another way to access the transactions database and calculate the total supply
    is by summing all the minting events of a smart contract and subtracting the burning
    events with SQL. We will learn how to do this in [*Chapter 5*](B19446_05.xhtml#_idTextAnchor168).
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: 另一种访问交易数据库并计算总供应量的方法是通过SQL对智能合约的所有铸币事件进行求和，然后减去销毁事件。在[*第5章*](B19446_05.xhtml#_idTextAnchor168)中，我们将学习如何做这件事。
- en: The market cap value is dynamic, as it can change as the market price and the
    supply of tokens fluctuate. A token market cap is widely used in the cryptocurrency
    industry as a benchmark for the performance of different tokens.
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 市值是动态的，因为随着市场价格和代币供应量的波动，市值也会变化。代币市值在加密货币行业中被广泛用作衡量不同代币表现的基准。
- en: In `Chapter01/Relevant metrics II.ipynb`, we analyze the **Wrapped BTC** (**WBTC**)
    token, which is one of those cases where the TVL and total market cap coincide,
    as the token is pegged 1:1 with the collateral.
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: 在`Chapter01/Relevant metrics II.ipynb`中，我们分析了**Wrapped BTC**（**WBTC**）代币，这是一个TVL和总市值重合的案例，因为该代币与抵押品按1:1的比例挂钩。
- en: One of the biggest challenges data scientists will face is agreeing on common
    definitions and finding trustworthy data sources. We may have a good grasp of
    mathematical formulas to calculate complex financial indicators, but without reliable
    data and community consensus on standards, our ability to communicate our findings
    will be constrained. In the next section, we will explore these challenges and
    discuss ways to overcome them.
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 数据科学家将面临的最大挑战之一是达成共识，定义共同的标准并找到可信的数据源。我们可能对计算复杂金融指标的数学公式有很好的掌握，但如果没有可靠的数据和社区共识的标准，我们传达研究结果的能力将会受到限制。在下一节中，我们将探讨这些挑战并讨论如何克服它们。
- en: Data quality challenges
  id: totrans-165
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 数据质量挑战
- en: In this section, we will discuss the challenges of data quality, which are not
    unique to Web3 but relevant to all professionals who make decisions based on data.
    Data quality challenges range from access to incomplete, inaccurate, or inconsistent
    data to matters of data security, privacy, or governance. However, one of the
    most important challenges that a Web3 data analyst will face is the reliability
    of sources.
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们将讨论数据质量的挑战，这些挑战不仅仅是Web3特有的，而是所有基于数据做出决策的专业人士都需要面对的问题。数据质量的挑战包括从获取不完整、不准确或不一致的数据到数据安全、隐私或治理等问题。然而，Web3数据分析师将面临的一个最重要的挑战是数据源的可靠性。
- en: 'For instance, the market cap is the result of a simple multiplication of two
    data sources: the blockchain data that informs the total supply of tokens in circulation
    and the market price. However, the result of such multiplication varies depending
    on the source. Let’s take an example of the market cap for USDT. In one source,
    the following information appears:'
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，市值是通过将两个数据源进行简单乘法运算得出的：区块链数据提供了流通中的代币总供应量，市场价格则提供了相应的价格。然而，这种乘法运算的结果会根据不同的来源而有所不同。让我们以USDT的市值为例。在一个来源中，出现了以下信息：
- en: '![Figure 1.4 – USDT market cap information (source: https://etherscan.io/token/0xdac17f958d2ee523a2206206994597c13d831ec7)](img/B19446_01_04.jpg)'
  id: totrans-168
  prefs: []
  type: TYPE_IMG
  zh: '![图 1.4 – USDT 市值信息（来源：https://etherscan.io/token/0xdac17f958d2ee523a2206206994597c13d831ec7）](img/B19446_01_04.jpg)'
- en: 'Figure 1.4 – USDT market cap information (source: https://etherscan.io/token/0xdac17f958d2ee523a2206206994597c13d831ec7)'
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.4 – USDT 市值信息（来源：https://etherscan.io/token/0xdac17f958d2ee523a2206206994597c13d831ec7）
- en: On the CoinMarketCap website, for the same token, the fully diluted market cap
    is $70,158,658,274 (https://coinmarketcap.com/currencies/tether/).
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: 在CoinMarketCap网站上，对于同一代币，完全稀释后的市值为70,158,658,274美元（https://coinmarketcap.com/currencies/tether/）。
- en: As we see from the example, the same concept is shown differently depending
    on the source we review. So, how do we choose when we have multiple sources of
    information?
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: 从这个例子中我们可以看到，相同的概念根据我们查看的来源显示方式不同。那么，当我们有多个信息来源时，如何选择呢？
- en: The most trustworthy and comprehensive source of truth regarding blockchain
    activity is the *full copy of a node*. Accessing a node ensures that we will always
    have access to the latest version of the blockchain. Some services index the blockchain
    to facilitate access and querying, such as Google BigQuery, Covalent, or Dune,
    continuously updating their copies. These copies are controlled and centralized.
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: 关于区块链活动，最可信和最全面的真实数据来源是*节点的完整副本*。访问一个节点可以确保我们始终能够访问区块链的最新版本。一些服务会对区块链进行索引，以便方便地访问和查询，比如Google
    BigQuery、Covalent或Dune，它们会不断更新自己的副本。这些副本是受控制和集中的。
- en: When it comes to prices, there are numerous sources. A common approach to sourcing
    prices is connecting to an online marketplace for cryptocurrencies, commonly known
    as exchanges, such as **Binance** or **Kraken**, to extract their market prices.
    However, commercialization in these markets can be halted for various reasons.
    For example, during the well-known **Terra USD** (**TUSD**) de-peg incident, when
    the stablecoin lost its 1:1 peg to the US dollar, many exchanges ceased commercialization,
    citing consumer protection concerns. If our workflow relies on such data, it can
    be disrupted or show inaccurate old prices. To solve this issue, it is advisable
    to source prices from sources that average the prices from multiple exchanges,
    providing more robust information.
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: 当谈到价格时，有很多来源。获取价格的常见方法是连接到在线加密货币市场，通常称为交易所，如**币安**或**Kraken**，以提取它们的市场价格。然而，由于各种原因，这些市场的商业化可能会被暂停。例如，在著名的**Terra
    USD**（**TUSD**）脱钩事件中，当稳定币失去了与美元的1:1挂钩时，许多交易所停止了商业化，理由是消费者保护问题。如果我们的工作流程依赖于此类数据，就可能受到干扰或显示不准确的旧价格。为了解决这个问题，建议从多个交易所平均价格的来源获取数据，这样可以提供更强大的信息。
- en: At this stage, it is crucial to understand what constitutes quality for our
    company. Do we prioritize fast and readily available information updated by the
    second, or do we value highly precise information with relatively slower access?
    While it may not be necessary to consider this for every project, deciding on
    certain sources and standardizing processes will save us time in the future.
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: 在这一阶段，理解什么构成对我们公司来说的高质量信息至关重要。我们是优先考虑快速且实时更新的信息，还是更注重相对较慢但精准的信息？虽然在每个项目中不一定需要考虑这一点，但决定某些来源并标准化流程将为我们节省未来的时间。
- en: Once we have determined the quality of the information we will consume, we need
    to agree on the concepts we want to analyze.
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦我们确定了要使用的信息质量，我们需要商定我们想要分析的概念。
- en: Data standards challenges
  id: totrans-176
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 数据标准挑战
- en: As a young industry, there is still no complete consensus on the meaning of
    many concepts. Let’s examine a few examples.
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: 作为一个年轻的行业，许多概念的含义仍没有完全达成共识。让我们来看几个例子。
- en: Retail
  id: totrans-178
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 零售
- en: 'Within the cryptocurrency space, there is a complete aquatic ecosystem used
    to categorize addresses based on the amount of cryptocurrencies they hold. Larger
    addresses are often referred to as “whales,” while smaller addresses have their
    own names. Please refer to the following illustration for reference:'
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: 在加密货币领域，有一个完整的水生生态系统，用于根据地址持有的加密货币数量对其进行分类。较大的地址通常被称为“鲸鱼”，而较小的地址则有自己的名称。请参见以下插图以供参考：
- en: '![Figure 1.5 – Sizes of crypto holdings and their aquatic equivalent](img/B19446_01_05.jpg)'
  id: totrans-180
  prefs: []
  type: TYPE_IMG
  zh: '![图 1.5 – 加密货币持有量及其水生等价物](img/B19446_01_05.jpg)'
- en: Figure 1.5 – Sizes of crypto holdings and their aquatic equivalent
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.5 – 加密货币持有量及其水生等价物
- en: While there is a consensus on the aquatic equivalents used for categorization,
    there is no unified agreement on the specific number of Bitcoins that each category
    represents. A quick Google search will reveal varying criteria for what constitutes
    an address in one category or another.
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管在分类中使用的水生等价物有共识，但对于每个类别代表的比特币数量，并没有统一的协议。快速的谷歌搜索会揭示出对于什么构成某一类别的地址标准各不相同。
- en: 'Another classification, which is particularly valuable for analysts, distinguishes
    between retail addresses (small investors) and professional addresses. The challenge
    lies in determining the threshold that distinguishes one from the other. Various
    approaches are in use, and we can follow the aquatic equivalent definition as
    mentioned previously or opt for the definition proposed by a forensic company
    called Chainalysis, which states: “*Retail traders (…) deposit less than $10,000
    USD worth of Bitcoin at a time* *on exchanges*.”'
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: 另一种分类，尤其对于分析师来说非常有价值，是区分零售地址（小投资者）和专业地址。挑战在于确定区分二者的阈值。目前有多种方法可供使用，我们可以遵循前面提到的水生等价物定义，或者采用由一家名为Chainalysis的法务公司提出的定义：“*零售交易者（…）每次在交易所存入的比特币价值少于10,000美元*。”
- en: Confirmations
  id: totrans-184
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 确认
- en: In a traditional bank or centralized organization, when a user sends a transaction,
    once received, it is confirmed and can be considered complete. In the blockchain
    space, the decentralized nature of the network introduces a different dynamic
    and, consequently, it is common to see the number of confirmations required for
    transactions of different amounts to be considered valid.
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: 在传统银行或中心化机构中，当用户发送一笔交易时，一旦交易被接收，就会得到确认并视为完成。而在区块链领域，由于网络的去中心化特性，产生了不同的动态，因此，通常需要不同数量的确认，才能将不同金额的交易视为有效。
- en: Within a decentralized network, it is entirely possible for two blocks to be
    mined simultaneously in different parts of the world. The protocol waits for the
    next block to be mined and, depending on where it attaches, determines which chain
    is the longest (the longest chain is deemed the valid one). A block in Bitcoin
    that doesn’t become part of the longest chain is referred to as a **stale block**,
    while in Ethereum (prior to the merge), they were known as **uncle blocks**. Once
    a transaction is incorporated into a block, it is assigned one confirmation. If
    our transaction finds its way into a stale block, it will be reversed and return
    to the mempool in Bitcoin or be added to another block in Ethereum, resuming the
    count of confirmations.
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: 在去中心化网络中，完全有可能在世界的不同地方同时开采出两个区块。协议会等待下一个区块被挖掘出来，并根据其附加的位置来判断哪条链是最长的（最长的链被视为有效链）。在比特币中，未能成为最长链一部分的区块被称为**过时区块**，而在以太坊（合并前）中，它们被称为**叔块**。一旦交易被包含进一个区块，它会被赋予一次确认。如果我们的交易进入了一个过时区块，它将在比特币中被逆转并返回到内存池，或在以太坊中被添加到另一个区块中，重新开始确认计数。
- en: Given the possibility of reversal, however slim, it has become customary for
    transaction counterparties to request a certain number of confirmations before
    accepting that their transactions are irreversible. The longer the chain grows
    after the block that included our transaction, the less likely it is to be reversed.
    Following the merge in Ethereum (which took place at block `15537394`), uncle
    blocks ceased to be generated, but some of these practices persist among market
    participants.
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，考虑到逆转的可能性，尽管非常小，交易对手方通常会要求在确认交易不可逆转之前，获得一定数量的确认。随着包含我们交易的区块之后链条的增长，交易被逆转的可能性越小。在以太坊合并后（发生在区块`15537394`），叔块不再生成，但一些做法在市场参与者中依然存在。
- en: There are no universal standards for the number of confirmations required. Recommendations
    can vary, with some suggesting six confirmations for Bitcoin and only two for
    small transfer amounts. For Ethereum, the range was typically between 20 and 40
    confirmations. Notably, centralized exchanges such as Coinbase may still require
    two confirmations for Bitcoin and 35 for Ethereum.
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: 对于所需确认数量没有统一标准。建议可能有所不同，有些建议比特币需要六次确认，而小额转账则只需两次确认。对于以太坊，通常的确认次数在20次到40次之间。值得注意的是，像Coinbase这样的中心化交易所仍然可能要求比特币确认两次，或以太坊确认35次。
- en: '![Figure 1.6– Stale and valid transactions](img/B19446_01_06.jpg)'
  id: totrans-189
  prefs: []
  type: TYPE_IMG
  zh: '![图1.6 – 过时交易与有效交易](img/B19446_01_06.jpg)'
- en: Figure 1.6– Stale and valid transactions
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: 图1.6 – 过时交易与有效交易
- en: NFT Floor Price
  id: totrans-191
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: NFT地板价
- en: The NFT Floor Price serves as a metric for determining the minimum price at
    which any NFT within a collection can be sold, providing market participants with
    valuable insights into a project’s fair pricing.
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: NFT地板价作为一个衡量指标，用于确定集合中任何NFT的最低售价，为市场参与者提供有关项目公正定价的宝贵见解。
- en: There is no universally accepted method for its calculation. One basic approach
    involves finding the minimum price at which an NFT within a collection has previously
    been sold. However, due to the presence of multiple marketplaces, each with its
    unique pricing structure, an alternative approach is to consider prices from the
    most prominent art marketplaces or to aggregate prices from various sources, giving
    more weight to the significant marketplaces.
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: 计算方法没有普遍接受的标准。一个基本的方法是找出在某个集合中，NFT曾经卖出的最低价格。然而，由于存在多个市场，每个市场有其独特的定价结构，另一种方法是考虑来自最主要艺术市场的价格，或者从多个来源聚合价格，并给重要市场更多的权重。
- en: Furthermore, it is crucial to account for practices such as wash trading, which
    artificially inflates the metric under analysis. We will analyze more of this
    concept in [*Chapter 4*](B19446_04.xhtml#_idTextAnchor145).
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，必须考虑像“洗盘交易”这样的做法，它会人为地夸大所分析的指标。我们将在[*第4章*](B19446_04.xhtml#_idTextAnchor145)中进一步分析这一概念。
- en: The concept of “lost”
  id: totrans-195
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: “丢失”这一概念
- en: Suppose we need to calculate the circulating supply of Bitcoins for the next
    five years. For such a calculation, we must take into account not only how much
    will be mined but also how many Bitcoins can be considered “lost.” How do we determine
    that a certain amount of crypto is lost?
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: 假设我们需要计算未来五年内比特币的流通供应量。在这样的计算中，我们不仅要考虑将开采多少比特币，还要考虑有多少比特币可以被视为“丢失”。我们如何确定一定数量的加密货币已丢失？
- en: To move assets on the blockchain, we need to sign the transfer with our private
    key. If that private key is lost, we cannot access those assets, and therefore,
    those assets have to be counted as lost. With this information in mind, it is
    safe to assume that some of the Bitcoin supplied as of today is already lost or
    will be. When reading the blockchain, we can see those funds in possession of
    a certain address, but it is entirely possible that such an address is unable
    to dispose of them. Since this is a pseudo-anonymous system, we cannot contact
    the Bitcoin holders and ask them to verify whether they have access to their funds;
    there is no centralized way to do it.
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: 要在区块链上转移资产，我们需要使用私钥签名该转移。如果该私钥丢失，我们将无法访问这些资产，因此，这些资产必须视为丢失。考虑到这一点，我们可以安全地假设，目前提供的一部分比特币已经丢失或将会丢失。在查看区块链时，我们可以看到某个地址拥有这些资金，但完全有可能该地址无法处置这些资金。由于这是一个伪匿名系统，我们无法联系比特币持有者并询问他们是否可以访问自己的资金；也没有集中式的方式来验证这一点。
- en: The forensics company named Chainalysis proposed the definition that “*Bitcoin
    that has not moved for five years now is considered lost*.” The consequence of
    such a definition is that 20% of the mined bitcoins would be lost. This is a proposed
    concept, and it is yet to be seen whether it becomes a standard.
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: 名为 Chainalysis 的取证公司提出了“*五年内未动过的比特币被视为丢失*”这一定义。根据这一定义，20% 的已开采比特币将被视为丢失。这是一个提议的概念，尚需观察它是否成为标准。
- en: 'In conclusion, we can agree on three ideal ways of approaching data in Web3:'
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: 总结来说，我们可以达成三种理想的 Web3 数据处理方法：
- en: Deep dive into the metrics that will be available in our dashboards or the data
    that will be consumed by our model. Read the concepts and documentation thoroughly.
  id: totrans-200
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 深入了解将在仪表板上展示的指标或将被我们的模型消耗的数据。彻底阅读相关概念和文档。
- en: Be open to finding different approaches to the same market subject. Since the
    industry is growing, there is no established way of doing some things.
  id: totrans-201
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 保持开放的心态，寻找同一市场主题的不同处理方式。由于行业还在增长，某些事情还没有固定的做法。
- en: Be prepared to witness concepts change as the industry matures and fine-tunes
    its best practices.
  id: totrans-202
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 准备好见证随着行业成熟和精细化最佳实践，概念的变化。
- en: To understand the technical aspects of smart contracts, the OpenZeppelin documentation
    is a valuable reference. Similarly, for market-related concepts, as mentioned
    previously, Chainalysis defines many concepts and can help as a starting point.
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: 要了解智能合约的技术方面，OpenZeppelin 文档是一个宝贵的参考。同样，对于市场相关的概念，正如之前提到的，Chainalysis 定义了许多概念，并可以作为起点帮助理解。
- en: A brief overview of APIs
  id: totrans-204
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '**API** 简要概述'
- en: '**APIs**, or **application programming interfaces**, facilitate communication
    between two software services through a series of requests and responses. For
    instance, when we receive a notification about a token’s price drop in our telephone
    app, it means that our app is communicating with a price provider such as CoinMarketCap
    via an API. To structure a request for the desired response, we must always refer
    to the relevant API documentation.'
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: '**API**（应用程序接口）通过一系列请求和响应促进两个软件服务之间的通信。例如，当我们在电话应用中收到有关代币价格下跌的通知时，这意味着我们的应用通过
    API 与价格提供者（如 CoinMarketCap）进行通信。为了构造请求以获得所需的响应，我们必须始终参考相关的 API 文档。'
- en: For a more comprehensive understanding of APIs, we can find additional information
    in the book *Python API Development Fundamentals* by Packt Publishing . Since
    we will frequently interact with APIs to extract information, it’s beneficial
    to review the primary characteristics of different APIs. This will greatly assist
    us when we aim to programmatically access information.
  id: totrans-206
  prefs: []
  type: TYPE_NORMAL
  zh: 为了更全面地理解 API，我们可以参考 Packt 出版社的《*Python API 开发基础*》一书。由于我们将频繁与 API 交互以提取信息，因此复习不同
    API 的主要特性将大有裨益。这将大大帮助我们在编程时访问信息。
- en: 'For this purpose, we will focus on the following:'
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
  zh: 为此，我们将重点关注以下内容：
- en: '**Remote Procedure Call (RPC) APIs**: In RPC APIs, the client initiates a function
    on the server, and the server sends back the output. In practice, we include the
    method (endpoints) of the function in the URL and the arguments in the query string.
    In this case, the client needs to possess all the information about the endpoints,
    and sometimes it involves constructing a workflow with information queried from
    other URLs. An example of an RPC API encoded in JSON format is the Infura suite,
    which we have utilized in previous sections.'
  id: totrans-208
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**远程过程调用（RPC）API**：在 RPC API 中，客户端在服务器上启动一个函数，服务器返回输出。实际上，我们将函数的方法（端点）包含在 URL
    中，将参数包含在查询字符串中。在这种情况下，客户端需要掌握有关端点的所有信息，有时还需要构建一个包含从其他 URL 查询的信息的工作流。一个用 JSON 格式编码的
    RPC API 示例是我们在前面章节中使用的 Infura 套件。'
- en: '`GET`, `POST`, `PUT`, or `DELETE`, and the server responds, typically in JSON
    format. A REST request typically comprises the HTTP method, endpoint, headers,
    and body. The endpoint identifies the resource online, headers provide server
    information, such as authentication, and the body contains the information the
    sender wishes to transmit to the server as a request.'
  id: totrans-209
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`GET`、`POST`、`PUT` 或 `DELETE`，服务器响应通常以 JSON 格式返回。一个 REST 请求通常包括 HTTP 方法、端点、头部和主体。端点标识在线资源，头部提供服务器信息，如身份验证，主体包含发送方希望传输到服务器的请求信息。'
- en: An alternative approach was developed by Facebook as an open source query language
    named **GraphQL**. The key difference from the aforementioned APIs is that GraphQL
    is a query language, whereas REST is an architectural concept for software. GraphQL
    is a syntax for data retrieval that empowers the client to specify the required
    information, unlike the REST infrastructure, where queries return fixed datasets
    for each endpoint (sometimes including more information than necessary).
  id: totrans-210
  prefs: []
  type: TYPE_NORMAL
  zh: Facebook 开发了一种替代方法，名为开源查询语言 **GraphQL**。与前述的 API 最大的区别是，GraphQL 是一种查询语言，而 REST
    是一种软件架构概念。GraphQL 是一种数据检索语法，允许客户端指定所需信息，而不像 REST 基础设施那样，查询返回每个端点的固定数据集（有时包括比必要更多的信息）。
- en: A noteworthy feature of GraphQL is its ability to construct requests that fetch
    data from multiple resources using a single API call. The **Graph** is an indexer
    and query protocol for the Ethereum network that is queried using GraphQL; we
    will delve into it further in [*Chapter 2*](B19446_02.xhtml#_idTextAnchor073).
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: GraphQL 的一个显著特点是能够通过单次 API 调用从多个资源中获取数据。**Graph** 是以 GraphQL 查询的以太坊网络索引器和查询协议，我们将在
    [*第二章*](B19446_02.xhtml#_idTextAnchor073) 中进一步深入探讨。
- en: Summary
  id: totrans-212
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 总结
- en: In this chapter, we provided an overview of data science and Web3 concepts,
    covering fundamental aspects such as the typical steps involved in a data science
    project, the evolution of Web3, and essential concepts such as consensus, addresses,
    and gas. We also delved into prevalent metrics and challenges that exist in the
    rapidly evolving field of Web3.
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们概述了数据科学和 Web3 的概念，涵盖了数据科学项目的典型步骤、Web3 的发展以及共识、地址和 gas 等基本概念。我们还深入探讨了
    Web3 这一快速发展的领域中存在的普遍度量和挑战。
- en: In the forthcoming chapter, we will take a deeper dive into on-chain data, the
    primary dataset of Web3\. Our exploration will encompass a detailed examination
    of blocks and transactions. We will also discuss various methods for accessing
    this invaluable data. By the end of that chapter, you will have acquired a robust
    understanding of on-chain data and how to effectively navigate and utilize it.
  id: totrans-214
  prefs: []
  type: TYPE_NORMAL
  zh: 在接下来的章节中，我们将深入探讨链上数据，这是 Web3 的主要数据集。我们的探索将包括对区块和交易的详细分析。我们还将讨论访问这些宝贵数据的各种方法。在该章节结束时，你将对链上数据及如何有效地浏览和利用它有一个扎实的理解。
- en: Further reading
  id: totrans-215
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 进一步阅读
- en: 'To complement this chapter, the following links may help:'
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
  zh: 为了补充本章内容，以下链接可能会有所帮助：
- en: 'The data ingredients:'
  id: totrans-217
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 数据要素：
- en: 'Style guide for Python code: [https://peps.python.org/pep-0008/](https://peps.python.org/pep-0008/)'
  id: totrans-218
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: Python 代码风格指南： [https://peps.python.org/pep-0008/](https://peps.python.org/pep-0008/)
- en: '*Data Science with* *Python*: [https://www.packtpub.com/product/data-science-with-python/9781789346251](https://www.packtpub.com/product/data-science-with-python/9781789346251)'
  id: totrans-219
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*数据科学与* *Python*： [https://www.packtpub.com/product/data-science-with-python/9781789346251](https://www.packtpub.com/product/data-science-with-python/9781789346251)'
- en: '*Python Data Science* *Handbook*: [https://jakevdp.github.io/PythonDataScienceHandbook/](https://jakevdp.github.io/PythonDataScienceHandbook/)'
  id: totrans-220
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*Python 数据科学* *手册*： [https://jakevdp.github.io/PythonDataScienceHandbook/](https://jakevdp.github.io/PythonDataScienceHandbook/)'
- en: 'Web3.py documentation: [https://web3py.readthedocs.io/en/latest/#](https://web3py.readthedocs.io/en/latest/#)'
  id: totrans-221
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: Web3.py 文档： [https://web3py.readthedocs.io/en/latest/#](https://web3py.readthedocs.io/en/latest/#)
- en: 'The blockchain ingredients:'
  id: totrans-222
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 区块链构成：
- en: 'The EVM documentation: [https://ethereum.org/en/developers/docs/evm/](https://ethereum.org/en/developers/docs/evm/)'
  id: totrans-223
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: EVM 文档： [https://ethereum.org/en/developers/docs/evm/](https://ethereum.org/en/developers/docs/evm/)
- en: 'Satoshi Nakamoto’s paper: [https://bitcoin.org/bitcoin.pdf](https://bitcoin.org/bitcoin.pdf)'
  id: totrans-224
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 中本聪的论文： [https://bitcoin.org/bitcoin.pdf](https://bitcoin.org/bitcoin.pdf)
- en: 'EVM explanation: [https://www.youtube.com/watch?v=GPoze5RmDVU](https://www.youtube.com/watch?v=GPoze5RmDVU)'
  id: totrans-225
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: EVM 解释： [https://www.youtube.com/watch?v=GPoze5RmDVU](https://www.youtube.com/watch?v=GPoze5RmDVU)
- en: 'The gas documentation: [https://ethereum.org/en/developers/docs/gas/](https://ethereum.org/en/developers/docs/gas/)'
  id: totrans-226
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: gas 文档： [https://ethereum.org/en/developers/docs/gas/](https://ethereum.org/en/developers/docs/gas/)
- en: Wackerow, P. et. al, 2022\. Web2 vs Web3 | ethereum.org. [online] ethereum.org.
    Available at [https://ethereum.org/en/developers/docs/web2-vs-web3/](https://ethereum.org/en/developers/docs/web2-vs-web3/)
  id: totrans-227
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: Wackerow, P. 等人, 2022\. Web2 与 Web3 | ethereum.org. [在线] ethereum.org. 可在 [https://ethereum.org/en/developers/docs/web2-vs-web3/](https://ethereum.org/en/developers/docs/web2-vs-web3/)
    获取
- en: 'Szabo, N., 2022\. Smart Contracts: Building Blocks for Digital Markets. [online]
    Fon.hum.uva.nl. Available at [https://www.fon.hum.uva.nl/rob/Courses/InformationInSpeech/CDROM/Literature/LOTwinterschool2006/szabo.best.vwh.net/smart_contracts_2.xhtml](https://www.fon.hum.uva.nl/rob/Courses/InformationInSpeech/CDROM/Literature/LOTwinterschool2006/szabo.best.vwh.net/smart_contracts_2.xhtml)'
  id: totrans-228
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: Szabo, N., 2022\. 智能合约：数字市场的构建模块。 [在线] Fon.hum.uva.nl. 可在 [https://www.fon.hum.uva.nl/rob/Courses/InformationInSpeech/CDROM/Literature/LOTwinterschool2006/szabo.best.vwh.net/smart_contracts_2.xhtml](https://www.fon.hum.uva.nl/rob/Courses/InformationInSpeech/CDROM/Literature/LOTwinterschool2006/szabo.best.vwh.net/smart_contracts_2.xhtml)
    获取
- en: Stanley, A., 2022\. THE ASCENT OF CBDCS. [online]. Available at <[https://www.imf.org/en/Publications/fandd/issues/2022/09/Picture-this-The-ascent-of-CBDCs](https://www.imf.org/en/Publications/fandd/issues/2022/09/Picture-this-The-ascent-of-CBDCs)>
  id: totrans-229
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: Stanley, A., 2022\. CBDC的崛起。 [在线]. 可在 <[https://www.imf.org/en/Publications/fandd/issues/2022/09/Picture-this-The-ascent-of-CBDCs](https://www.imf.org/en/Publications/fandd/issues/2022/09/Picture-this-The-ascent-of-CBDCs)>
    获取
- en: Covalent. 2022\. Covalent Blockchain Data API Reference – Covalent [online].
    Available at [https://www.covalenthq.com/docs/api/#/0/0/USD/1](https://www.covalenthq.com/docs/api/#/0/0/USD/1).
  id: totrans-230
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: Covalent. 2022\. Covalent 区块链数据 API 参考 – Covalent [在线]. 可在 [https://www.covalenthq.com/docs/api/#/0/0/USD/1](https://www.covalenthq.com/docs/api/#/0/0/USD/1)
    获取。
- en: Ethereum-etl.readthedocs.io. 2022\. Google BigQuery – Ethereum ETL [online].
    Available at [https://ethereum-etl.readthedocs.io/en/latest/google-bigquery/](https://ethereum-etl.readthedocs.io/en/latest/google-bigquery/)
  id: totrans-231
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ethereum-etl.readthedocs.io. 2022\. Google BigQuery – Ethereum ETL [在线]. 可在
    [https://ethereum-etl.readthedocs.io/en/latest/google-bigquery/](https://ethereum-etl.readthedocs.io/en/latest/google-bigquery/)
    获取。
- en: 'Relevant industry metrics:'
  id: totrans-232
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 相关行业指标：
- en: 'More on gas calculation: [https://growingdata.com.au/how-to-calculate-gas-fees-on-ethereum/](https://growingdata.com.au/how-to-calculate-gas-fees-on-ethereum/)'
  id: totrans-233
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 更多关于 gas 费用计算的信息： [https://growingdata.com.au/how-to-calculate-gas-fees-on-ethereum/](https://growingdata.com.au/how-to-calculate-gas-fees-on-ethereum/)
- en: 'Ethereum yellow paper: [https://ethereum.github.io/yellowpaper/paper.pdf](https://ethereum.github.io/yellowpaper/paper.pdf)'
  id: totrans-234
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 以太坊黄皮书： [https://ethereum.github.io/yellowpaper/paper.pdf](https://ethereum.github.io/yellowpaper/paper.pdf)
- en: '*Smart Corpus: An Organized Repository of Ethereum Smart Contracts Source Code
    and* *Metrics*: [https://arxiv.org/pdf/2011.01723.pdf](https://arxiv.org/pdf/2011.01723.pdf)'
  id: totrans-235
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*智能语料库：以太坊智能合约源代码及* *指标的组织化存储库*： [https://arxiv.org/pdf/2011.01723.pdf](https://arxiv.org/pdf/2011.01723.pdf)'
- en: 'Evolution of NFT floor price: [https://chain.link/education-hub/what-is-an-nft-floor-price](https://chain.link/education-hub/what-is-an-nft-floor-price)'
  id: totrans-236
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: NFT 地板价的演变： [https://chain.link/education-hub/what-is-an-nft-floor-price](https://chain.link/education-hub/what-is-an-nft-floor-price)
- en: Team, Chainalysis., 2022\. *60% of Bitcoin is Held Long Term as Digital Gold.
    What About the Rest?* Available at <[https://blog.chainalysis.com/reports/bitcoin-market-data-exchanges-trading/](https://blog.chainalysis.com/reports/bitcoin-market-data-exchanges-trading/)>
    [accessed 12 October 2022]
  id: totrans-237
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: Team, Chainalysis., 2022\. *60%的比特币被长期持有，作为数字黄金。剩下的呢？* 可在 <[https://blog.chainalysis.com/reports/bitcoin-market-data-exchanges-trading/](https://blog.chainalysis.com/reports/bitcoin-market-data-exchanges-trading/)>
    获取 [访问时间：2022年10月12日]
- en: 'Liiv, Innar (2021) *Data Science Techniques for Cryptocurrency Blockchains*.
    Springer’s Collection on Behaviormetrics: Quantitative Approaches to Human Behavior'
  id: totrans-238
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'Liiv, Innar (2021) *加密货币区块链的数据科学技术*。Springer’s Collection on Behaviormetrics:
    定量研究人类行为的方法'
