前言

Python 在科学计算领域具有巨大的潜力。本书更新版《*Python 科学计算*》增加了关于图形用户界面、高效数据处理和并行计算的新章节，帮助你使用 Python 高效地进行数学和科学计算。

本书将帮助你探索新的 Python 语法特性，并利用科学计算原理创建不同的模型。本书将 Python 与数学应用相结合，展示了如何在计算中应用 Python 概念，并通过涉及 Python 3.8 的示例来说明。你将使用 pandas 进行基本的数据分析，以理解现代科学计算的需求，并涵盖数据模块的改进和内置特性。你还将探索像 NumPy 和 SciPy 这样的数值计算模块，它们可以快速访问高效的数值算法。通过学习使用绘图模块 Matplotlib，你将能够在报告和出版物中展示你的计算结果。特别章节介绍了 SymPy，这是一种用于桥接符号计算和数值计算的工具。本书还介绍了用于消息传递并行编程的 Python 包装器 mpi4py。

在本书结束时，你将对任务自动化有一个扎实的理解，并且能够在科学计算中实现和测试数学算法。

# 第一章：本书适合的人群

本书适用于具有数学背景的学生、设计现代编程课程的大学教师、数据科学家、研究人员、开发者以及任何希望在 Python 中进行科学计算的人。本书源自于 13 年的 Python 教学经验，涵盖了本科科学与工程项目中的课程、行业内专门的内部课程以及针对高中教师的专业化课程。典型的读者需要在数学、大数据处理、机器学习和仿真等领域使用 Python。因此，具备向量和矩阵的基本知识，以及收敛性和迭代过程等概念将是有益的。

# 本书所涵盖的内容

第一章，*入门*，介绍了 Python 的主要语言元素，而不深入细节。这里我们将对所有内容进行简要浏览。对于那些想要直接开始的人来说，这是一个很好的起点；对于那些想要复习函数等基础构造的读者来说，它是一个快速参考。

第二章，*变量和基本类型*，介绍了 Python 中最重要和最基础的类型。浮动类型是科学计算中最重要的数据类型，另外还有特殊的数字 nan 和 inf。布尔类型、整数、复合数据类型和字符串是本书中将会使用的其他基本数据类型。

第三章，*容器类型*，解释了如何使用容器类型，主要是列表。字典和元组也会被解释，包括索引和遍历容器对象。偶尔，我们还可以使用集合作为一种特殊的容器类型。

第四章，*线性代数 - 数组*，涵盖了线性代数中最重要的对象——向量和矩阵。本书选择了 NumPy 数组作为描述矩阵甚至更高阶张量的核心工具。数组具有许多高级特性，并且允许通用函数逐元素地作用于矩阵或向量。本书重点讨论了数组索引、切片以及点积，作为大多数计算任务中的基本操作。通过一些线性代数示例，展示了如何使用 SciPy 的`linalg`子模块。

第五章，*高级数组概念*，解释了一些数组的高级概念。详细解释了数组副本和视图之间的区别，因为视图使得使用数组的程序非常快速，但常常是难以调试的错误源。演示了如何使用布尔数组编写高效、紧凑且易于阅读的代码。最后，通过与函数上的操作进行比较，解释了数组广播的技术——这是 NumPy 数组的独特特性。

第六章，*绘图*，展示了如何制作图表，主要是经典的*x*/*y*图表，也包括 3D 图表和直方图。科学计算需要良好的工具来可视化结果。Python 的`matplotlib`模块被引入，从其`pyplot`子模块中的方便绘图命令开始。通过创建图形对象（如坐标轴），可以对图表进行微调和修改。我们将展示如何更改这些对象的属性，并如何进行标注。

第七章，*函数*，讨论了函数，函数是编程中的基本构建块，紧密关联于一些基本的数学概念。函数定义和函数调用被解释为设置函数参数的不同方式。匿名的 lambda 函数被引入，并在全书的多个示例中使用。

第八章，*类*，将对象定义为类的实例，我们为其提供方法和属性。在数学中，类属性通常相互依赖，这需要特殊的编程技术来处理 setter 和 getter 函数。可以为特殊的数学数据类型定义基本的数学操作，如加法。继承和抽象是反映面向对象编程的数学概念。我们通过使用一个简单的求解常微分方程的类来演示继承的使用。

第九章，*迭代*，介绍了使用循环和迭代器进行迭代。本书中没有一章不涉及循环和迭代，但在这一章，我们将讨论迭代器的原理，并创建自己的生成器对象。在本章中，你将学习为什么生成器可能会被耗尽，以及如何编写无限循环。Python 的`itertools`模块是本章的有用伴侣。

第十章，*序列和数据框 – 使用 pandas*，简要介绍了 pandas。本章将教你如何在 Python 中处理各种时间序列，DataFrames 的概念，以及如何访问和可视化数据。本章还将讲解 NumPy 数组概念如何扩展到 pandas DataFrames。

第十一章，*通过图形用户界面进行通信*，展示了 GUI 编程的基本原理。

Matplotlib。解释了事件、滑块移动或鼠标点击的作用，以及它们与所谓的回调函数的交互，附带了一些示例。

第十二章，*错误和异常处理*，讲解了错误和异常以及如何发现和修复它们。错误或异常是中断程序单元执行的事件。本章将展示遇到这种情况时应该怎么办，也就是说，如何处理异常。你将学习如何定义自己的异常类，并提供有价值的信息来捕获这些异常。错误处理不仅仅是打印错误信息。

第十三章，*命名空间、作用域和模块*，讲解了 Python 模块。什么是局部变量和全局变量？一个变量何时对程序单元可见，何时不可见？这一章讨论了这个问题。变量可以通过参数列表传递给函数，也可以通过利用其作用域隐式传递。当应该应用这种技术时，何时又不应该应用？本章尝试回答这个核心问题。

第十四章，*输入和输出*，讲解了处理数据文件的一些选项。数据文件用于存储和提供特定问题的数据，通常是大规模的测量数据。本章描述了如何使用不同的格式访问和修改这些数据。

第十五章，*测试*，专注于科学编程中的测试。关键工具是`unittest`，它允许自动化测试和参数化测试。通过考虑数值数学中的经典二分法算法，我们举例说明了设计有意义的测试的不同步骤，这些步骤还间接提供了代码使用的文档。仔细的测试提供了测试协议，在调试复杂代码时，这些协议可以提供帮助，尤其是当代码由许多不同的程序员编写时。

第十六章，*符号计算 – SymPy*，完全专注于符号计算。科学计算主要是针对不精确数据和近似结果的数值计算。这与符号计算的形式化操作形成对比，符号计算旨在通过封闭式表达式寻找精确解。在本章中，我们介绍了 Python 中的这一技术，它常用于推导和验证理论上的数学模型和数值结果。我们专注于符号表达式的高精度浮点运算。

第十七章，*与操作系统的交互*，展示了 Python 脚本与系统命令的交互。本章基于 Linux 系统，如 Ubuntu，仅作为概念和可能性的展示。它将科学计算任务放在应用上下文中，其中不同的软件通常需要结合使用，甚至硬件组件也可能参与其中。

第十八章，*Python 并行计算*，介绍了并行计算和`mpi4py`模块。本章展示了如何在不同处理器上并行执行相同脚本的副本。本章中提供的命令是由`mpi4py` Python 模块提供的，这是一个 Python 包装器，用于实现 C 语言中的 MPI 标准。通过学习本章内容，你将能够独立编写并行编程的脚本，并且会发现我们这里只描述了最基础的命令和概念。

第十九章，*综合实例*，展示了一些全面的、较长的示例，并简要介绍了它们的理论背景和完整实现。这些示例使用了本书迄今为止展示的所有构造，并将它们置于一个更大、更复杂的背景中。读者可以在此基础上进行扩展。

# 为了充分利用这本书

本书面向初学者或具有一定编程经验的读者。你可以从第一页读到最后一页，也可以选择自己感兴趣的部分。对 Python 的先验知识不是必须的。

| **本书涉及的软件/硬件** | **操作系统要求** |
| --- | --- |
| Python 3.8 | Windows/Linux/macOS |

你需要安装 Ubuntu（或其他 Linux 操作系统）系统，才能进行第十七章，*与操作系统交互*。

**如果你使用的是本书的数字版，我们建议你亲自输入代码，或者通过 GitHub 仓库访问代码（链接在下一部分提供）。这样可以帮助你避免因复制粘贴代码而产生的潜在错误。**

## 下载示例代码文件

你可以从 GitHub 上下载本书的示例代码文件，地址是：[`github.com/PacktPublishing/Scientific-Computing-with-Python-Second-Edition`](https://github.com/PacktPublishing/Scientific-Computing-with-Python-Second-Edition)。如果代码有更新，GitHub 仓库中的现有代码会随时更新。

我们还有来自我们丰富书籍和视频目录的其他代码包，欢迎访问**[`github.com/PacktPublishing/`](https://github.com/PacktPublishing/)**。快去看看吧！

## 下载彩色图片

我们还提供了一份 PDF 文件，其中包含本书中使用的截图/图表的彩色图片。你可以在这里下载： [`static.packt-cdn.com/downloads/9781838822323_ColorImages.pdf`](https://static.packt-cdn.com/downloads/9781838822323_ColorImages.pdf)。

## 使用的约定

本书中使用了一些文本约定。

`CodeInText`：表示文本中的代码字、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟网址、用户输入以及 Twitter 用户名。例子：“`for`语句有两个重要的关键字：`break`和`else`。”

代码块设置如下：

```py
t=symbols('t')
x=[0,t,1]
# The Vandermonde Matrix
V = Matrix([[0, 0, 1], [t**2, t, 1], [1, 1,1]])
y = Matrix([0,1,-1]) # the data vector
a = simplify(V.LUsolve(y)) # the coefficients
# the leading coefficient as a function of the parameter
a2 = Lambda(t,a[0])
```

# 获取联系

我们始终欢迎读者的反馈。

**一般反馈**：如果你对本书的任何方面有疑问，请在邮件主题中注明书名，并通过`customercare@packtpub.com`联系我们。

**勘误**：虽然我们已经尽力确保内容的准确性，但错误难免发生。如果你发现本书中有错误，感谢你向我们报告。请访问[www.packtpub.com/support/errata](https://www.packtpub.com/support/errata)，选择你的书籍，点击勘误提交表单链接，并填写详细信息。

**盗版**：如果你在互联网上发现任何形式的非法复制品，感谢你提供相关位置地址或网站名称。请通过`copyright@packt.com`与我们联系，并提供相关材料的链接。

**如果你有兴趣成为一名作者**：如果你在某个领域拥有专业知识，并且有兴趣编写或贡献书籍内容，请访问[authors.packtpub.com](http://authors.packtpub.com/)。

## 评论

请留下评论。阅读并使用本书后，为什么不在您购买该书的网站上留下评论呢？潜在的读者可以看到并参考您的公正意见来做出购买决策，我们在 Packt 也能了解您对我们产品的看法，而我们的作者也能看到您对他们书籍的反馈。谢谢！

欲了解更多关于 Packt 的信息，请访问 [packt.com](http://www.packt.com/)。
