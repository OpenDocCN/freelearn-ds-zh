# 前言

R 已经成为统计分析的通用语言，它不仅在起源地超过 20 年的学术领域被广泛和积极地使用，还已经在许多其他行业中得到了积极和广泛的应用。如今，越来越多的企业开始在生产中使用 R，它已经成为数据分析师和科学家最常用的工具之一，提供了访问数千个用户贡献的包的便捷途径。

*用 R 掌握数据分析*将帮助您熟悉这个开源生态系统以及一些统计背景知识，尽管对数学问题的关注相对较少。我们将主要关注如何使用 R 实际完成工作。

由于数据科学家大部分时间都在进行数据获取、清洗和重构，因此这里给出的第一个实战示例主要集中在从文件、数据库和在线来源加载数据。然后，本书将重点转向数据重构和清洗——仍然没有进行实际的数据分析。后面的章节描述了特殊的数据类型，然后还涵盖了经典的统计模型，以及一些机器学习算法。

# 本书涵盖的内容

第一章, *你好，数据！*，从每个数据相关任务中最重要的任务开始：从文本文件和数据库中加载数据。本章涵盖了使用改进的 CSV 解析器、预过滤数据和比较各种数据库后端支持来将大量数据加载到 R 中的一些问题。

第二章, *从网络获取数据*，扩展了您使用旨在与 Web 服务和 API 通信的包导入数据的知识，展示了如何从主页抓取和提取数据，并给出了处理 XML 和 JSON 数据格式的一般概述。

第三章, *过滤和汇总数据*，通过介绍多种过滤和聚合数据的方法和方式，继续讲解数据处理的基础知识，并对备受推崇的`data.table`和`dplyr`包的性能和语法进行了比较。

第四章, *数据重构*，涵盖了更复杂的数据转换，例如在数据集的子集上应用函数、合并数据以及将数据转换为长表和宽表格式，以完美匹配您所需的数据工作流程与源数据。

第五章"), *构建模型（由 Renata Nemeth 和 Gergely Toth 撰写)*，是第一章节，它处理实际的统计模型，并介绍了回归和一般模型的概念。这一简短的章节解释了如何通过在一个实际数据集上构建线性多元回归模型来测试模型的假设并解释结果。

第六章"), *超越线性趋势线（由 Renata Nemeth 和 Gergely Toth 撰写)*，基于前一章的内容，但涵盖了预测变量非线性关联的问题，并提供了关于广义线性模型（如逻辑回归和泊松回归）的进一步示例。

第七章, *非结构化数据*，介绍了新的数据类型。这些数据可能不会以结构化的方式包含任何信息。在这里，你将学习如何通过一些关于文本挖掘算法的实际示例，使用统计方法来处理此类非结构化数据，并可视化结果。

第八章, *数据抛光*，涵盖了原始数据源中另一个常见问题。大多数时候，数据科学家处理脏数据问题，例如尝试从错误、异常值和其他异常中净化数据。另一方面，也很重要去填补或最小化缺失值的影响。

第九章, *从大数据到小数据*，假设你的数据已经加载、清洗并转换为正确的格式。现在你可以开始分析通常数量众多的变量，为此我们涵盖了关于降维和其他连续变量数据转换的统计方法，例如主成分分析、因子分析和多维尺度。

第十章, *分类和聚类*，讨论了使用监督和未监督的统计和机器学习方法（如层次聚类和 k-means 聚类、潜在类别模型、判别分析、逻辑回归和 k 近邻算法以及分类和回归树）对样本中的观测值进行分组的方法。

第十一章, *R 生态系统的社会网络分析*，专注于一种特殊的数据结构，并介绍了网络分析的基本概念和可视化技术，特别关注`igraph`包。

第十二章, *时间序列分析*，展示了如何处理时间日期对象，并通过平滑、季节分解和 ARIMA 分析相关值，包括一些预测和异常值检测。

第十三章, *周围的数据*，涵盖了数据的另一个重要维度，主要关注使用主题、交互式、等高线和 Voronoi 地图来可视化空间数据。

第十四章，*分析 R 社区*提供了一个更完整的案例研究，它结合了前几章的许多不同方法，以突出您在本书中学到的内容以及您可能在未来的项目中遇到的问题和挑战。

附录，*参考文献*提供了对所使用 R 包的引用以及每个上述章节的一些进一步建议阅读材料。

# 您需要这本书什么

本书提供的所有代码示例都应该在 R 控制台中运行，该控制台需要安装在您的计算机上。您可以免费下载软件，并在[`r-project.org`](http://r-project.org)找到所有主要操作系统的安装说明。

虽然我们不会涵盖高级主题，例如如何在集成开发环境（IDE）中使用 R，但除了其他编辑器之外，还有许多出色的插件和扩展适用于 Emacs、Eclipse、vi 和 Notepad++。此外，我们强烈建议您尝试 RStudio，这是一个免费且开源的 IDE，专门用于 R，您可以在[`www.rstudio.com/products/RStudio`](https://www.rstudio.com/products/RStudio)找到它。

除了一个工作的 R 安装之外，我们还将使用一些用户贡献的 R 包。在大多数情况下，这些包可以轻松地从综合 R 档案网络（CRAN）安装。本书中所需包的来源和用于生成输出的版本列表在附录，*参考文献*中。

要从 CRAN 安装包，您需要一个互联网连接。要下载二进制文件或源代码，请在 R 控制台中使用`install.packages`命令，如下所示：

```py
> install.packages('pander')

```

本书提到的某些包目前尚未在 CRAN 上提供，但可以从 Bitbucket 或 GitHub 安装。这些包可以通过`devtools`包中的`install_bitbucket`和`install_github`函数安装。Windows 用户应首先从[`cran.r-project.org/bin/windows/Rtools`](https://cran.r-project.org/bin/windows/Rtools)安装`rtools`。

安装完成后，在您开始使用之前，应将包加载到当前的 R 会话中。所有必需的包都在附录中列出，但代码示例在每个章节的第一次出现时也包括每个包的相关 R 命令：

```py
> library(pander)

```

我们强烈建议下载本书的代码示例文件（参考*下载示例代码*部分），这样您就可以轻松地将命令复制粘贴到 R 控制台，而无需显示示例和书中输出的 R 提示符。

如果您没有 R 的经验，您应该从 R 主页上的免费入门文章和手册开始，本书附录中也提供了一份建议材料清单。

# 这本书面向谁

如果您是一位想要探索和优化 R 高级功能和工具的数据科学家或 R 开发者，那么这本书就是为您准备的。需要具备 R 的基本知识，以及数据库逻辑的理解。如果您是一位想要探索和优化 R 高级功能的数据科学家、工程师或分析师，这本书也是为您准备的。尽管需要具备 R 的基本知识，但本书通过提供入门材料的参考，可以帮助您快速上手。

# 惯例

您将找到许多不同风格的文本，以区分不同类型的信息。以下是一些这些风格的示例及其含义的解释。

函数名、参数、变量和其他在文本中的代码引用如下所示："`read.big.matrix`函数的`header`参数默认为`FALSE`"。

在 R 控制台中显示的任何命令行输入或输出都按照以下方式编写：

```py
> set.seed(42)
> data.frame(
+   A = runif(2),
+   B = sample(letters, 2))
 A B
1 0.9148060 h
2 0.9370754 u

```

`>`字符代表提示符，这意味着 R 控制台正在等待评估命令。多行表达式以第一行的相同符号开始，但所有其他行在开头都有一个`+`符号，以表明最后一个 R 表达式尚未完成（例如，缺少关闭括号或引号）。输出返回时没有额外的前置字符，且使用相同的等宽字体样式。

**新术语**和**重要词汇**以粗体显示。

### 注意

警告或重要注意事项以如下方框形式出现。

### 小贴士

小技巧和窍门以如下形式出现。

# 读者反馈

我们始终欢迎读者的反馈。请告诉我们您对这本书的看法——您喜欢或不喜欢的地方。读者反馈对我们来说很重要，因为它帮助我们开发出您真正能从中获得最大价值的标题。

要向我们发送一般反馈，请简单地发送电子邮件至`<feedback@packtpub.com>`，并在邮件主题中提及书籍的标题。

如果您在某个主题领域有专业知识，并且您有兴趣撰写或为书籍做出贡献，请参阅我们的作者指南[www.packtpub.com/authors](http://www.packtpub.com/authors)。

# 客户支持

既然您已经是 Packt 图书的骄傲拥有者，我们有一些事情可以帮助您从您的购买中获得最大价值。

## 下载示例代码

您可以从您在[`www.packtpub.com`](http://www.packtpub.com)的账户中下载示例代码文件，适用于您购买的所有 Packt 出版图书。如果您在其他地方购买了这本书，您可以访问[`www.packtpub.com/support`](http://www.packtpub.com/support)并注册，以便直接将文件通过电子邮件发送给您。

## 下载本书的颜色图像

我们还为您提供了一个包含本书中使用的截图/图表彩色图像的 PDF 文件。这些彩色图像将帮助您更好地理解输出中的变化。您可以从[`www.packtpub.com/sites/default/files/downloads/1234OT_ColorImages.pdf`](http://www.packtpub.com/sites/default/files/downloads/1234OT_ColorImages.pdf)下载此文件。

## 勘误

尽管我们已经尽一切努力确保内容的准确性，但错误仍然可能发生。如果您在我们的书中发现错误——可能是文本或代码中的错误——如果您能向我们报告这一点，我们将不胜感激。通过这样做，您可以避免其他读者的挫败感，并帮助我们改进本书的后续版本。如果您发现任何勘误，请通过访问[`www.packtpub.com/submit-errata`](http://www.packtpub.com/submit-errata)，选择您的书籍，点击**勘误提交表单**链接，并输入您的勘误详情来报告它们。一旦您的勘误得到验证，您的提交将被接受，勘误将被上传到我们的网站或添加到该标题的勘误部分下的现有勘误列表中。

要查看之前提交的勘误，请访问[`www.packtpub.com/books/content/support`](https://www.packtpub.com/books/content/support)，并在搜索字段中输入书籍名称。所需信息将出现在**勘误**部分下。

## 侵权

在互联网上，版权材料的侵权是一个跨所有媒体的持续问题。在 Packt，我们非常重视保护我们的版权和许可证。如果您在互联网上遇到任何形式的我们作品的非法副本，请立即向我们提供位置地址或网站名称，以便我们可以寻求补救措施。

请通过`<copyright@packtpub.com>`与我们联系，并提供疑似侵权材料的链接。

我们感谢您在保护我们作者和我们为您提供有价值内容的能力方面的帮助。

## 问题

如果您对本书的任何方面有问题，您可以通过`<questions@packtpub.com>`联系我们，我们将尽力解决问题。
