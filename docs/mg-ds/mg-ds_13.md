# 第十章：创建产品和提高可复用性

本章将通过探讨如何帮助产品成长并提高可复用性来结束*管理数据科学项目*部分。本章关注那些为客户提供定制解决方案的团队。如果你的团队帮助公司内部的业务利益相关者或希望购买专业知识、服务和软件解决方案的外部客户，你会觉得本章的内容非常有用。产品思维和可复用性的好处在咨询阶段通常被低估，而如果你的团队正在开发一个专注于市场细分的产品，这些好处则变得更加明显。

在本章中，我们将讨论以下主题：

+   将项目视为产品

+   确定项目的阶段

+   提高可复用性

+   寻找和构建产品

# 将项目视为产品

要从本章的思想中获益，你必须将你的工作视为产品开发。尽管许多公司将软件产品交付市场，但你提供的是服务。我们可以将服务视为一种产品；它们同样遵循供求法则，并且不同类型的服务有各自的市场。

就像软件产品一样，你可以将你的活动拆解成服务特征。你团队擅长的服务方面将把你们的部门或公司与竞争对手区分开来，但你也可能会发现这些方面在其他专注于某一特定类型服务的组织中滞后。例如，一个数据科学咨询公司可能在创建定制模型方面表现突出，但他们的**用户界面**（**UIs**）可能比专门从事 UI 开发的公司差。这些权衡是市场需求的合理反映：那些希望购买定制模型开发服务的公司，通常不需要同一团队来提供高端的 UI。

将服务视为产品开启了改进的新可能性。你可以分析你最佳的服务特性，并思考可以引入的改进，使你的服务变得更好、更有利可图，从而开启持续服务质量改进的新机遇。

在大多数情况下，最好的团队能在更短的时间内、更低的成本下交付更多功能，且其产品在可定制性和质量上优于那些面向更广泛市场优化的产品。作为服务提供者，你可以做一件产品无法做到的事：为客户的特定问题提供高度专业化的解决方案。问题是，我们如何在不失去提供定制解决方案的关键优势的同时，让定制解决方案更容易实现？

将项目视为产品的第一步是考虑项目的阶段。在接下来的部分，我们将从不同的项目类型和阶段来考虑可复用性的概念。

# 确定项目的阶段

要制定服务改进的行动计划，你需要确定你正在进行的项目的类型和阶段。我们可以将项目分为两个主要类别：

+   产品

+   定制解决方案

虽然产品天生是可重用的，但定制解决方案往往不是。然而，定制解决方案可以通过可重用的组件来构建，同时不失定制软件的特点。为了在每个项目阶段发展这些内部组件并提高重用性，你需要关注它们：

+   **最小可行产品**（**MVP**）：思考你在之前的项目中可以重用的结果，同时尽可能少地投入时间。即使从零开始构建此功能看起来更容易，创建一个可重用组件也能在较长的时间跨度内为你节省更多的时间。

+   **开发**：思考你在构建的系统中可以包含哪些可重用组件。决定你正在构建的新功能是否可以转化为可重用组件。

+   **生产**：稳定并整合任何现有技术。

提高重用性的下一个重要步骤是管理研究。此时，问题出现了：我们如何决定一个项目何时需要一个研究阶段？首先，我们来看看在数据科学项目中可以做哪些类型的研究：

+   **数据**：通过执行**探索性数据分析**（**EDA**）来提升对客户数据的理解，并从数据中寻找洞察。

+   **模型和算法**：改进你的模型并寻找解决问题的新方法。

+   **技术**：研究新技术以改善你的解决方案。技术可以直接应用于你的项目，也可以通过改善操作、需求管理、代码或数据版本控制等来补充开发过程。

研究很难规划和估算，但它对成功完成数据科学项目至关重要。它为你打开新机遇，提供洞察并改变流程。找到研究与实施之间的正确平衡对项目成功至关重要。为了高效管理研究，你可以将项目分为两个逻辑子项目：研究和解决方案开发。

你可以通过多种方式将研究阶段整合到解决方案开发项目中，如下所示：

+   **与解决方案开发并行**：这种方法需要一个全职的独立研究团队。它很有用，因为研究过程会在主项目的背景下提供结果。来自研究积压的那些取得良好成果的项目会被转化为主项目积压中的研究整合任务。此种研究管理方式对于数据和模型研究非常有用，因为这些活动通常需要较长时间才能完成，而且大多数情况下能够直接集成到主代码库中。

+   **每次开发迭代前或后**：这种方法要求您的团队将注意力从解决方案开发转移到研究上，当研究的结果能够影响长期的系统构建方法时，这种方法最为有效。技术研究是这一整合方式的最佳候选。您可以将技术研究与软件设计阶段结合，使您的团队能够在受控的方式下将新技术集成到项目中。

总结一下，让我们看看如何将研究与实施结合起来。

# 案例研究 – 构建服务台路由系统

Lucas 在一家大型零售公司担任数据科学团队负责人。他的任务是构建一个系统，帮助减轻支持部门的负担，从而每天解决 1 万个零售店的问题。部门支持门户中的问题创建流程如下：

1.  选择问题类别。

1.  填写模板表单。

1.  等待解决方案或信息查询。

1.  如果您不知道问题类别，请在表单中选择"无分类"，并在自由文本框中描述问题。

团队发现，"无分类"问题是支持团队最难且最耗时的解决问题类型。这是因为自由描述通常缺少模板要求的信息，因此支持工程师需要询问大量额外信息，以确定问题类别，并自己填写模板表单。解决思路是利用历史数据对即将到来的"无分类"问题进行分类，并在将问题发送给支持部门之前，要求用户填写模板所需的信息。

该项目面临两个主要挑战：

+   构建一个能够处理大量问题分类（超过 1,000 个）的文本分类器

+   创建一个能够可靠地在 24/7 时间内运行的分类系统，并将该系统与公司的支持门户进行集成

Lucas 认为，项目实际上包含两个子项目：研究和系统实施。研究项目没有固定的时间范围，需要团队中的数据科学家构建各种文本分类器并评估其质量。系统实施项目的主要目标是构建一个高可用性的模型服务器，并更改公司支持门户的代码，以便将该模型集成到问题创建工作流中。

Lucas 为每个项目创建了两个项目组，并为它们创建了独立的任务积压：

+   **研究团队**：文本分类任务并不标准，也没有直接的解决方案，因为大多数预构建的文本分类模型只能处理非常有限的类别数量，而这个项目要求模型能稳定地处理 1000 个类别。研究团队有一个团队负责人，负责管理和优先排序研究任务，以便团队只关注最具成本效益和前景的想法。每个人都明白这项研究没有明确的截止日期，因此团队决定采用总体项目截止日期这一人为约束。目标是在时间限制和公司数据的前提下，训练出尽可能好的文本分类器。

+   **实施团队**：他们专注于构建软件解决方案。团队由机器学习工程师、后端软件开发人员、UI 软件开发人员、系统分析员和团队负责人组成。Lucas 决定在这一部分项目中最好使用 Scrum 方法。团队讨论了截止日期，设定了固定数量的冲刺，并确保能够在时间框架内完成所有工作。从技术角度来看，这项任务很明确，不需要广泛的研究或原型设计。团队之前已经构建过模型服务器，因此他们决定重用现有的技术并添加一些缺失的功能。

最后一个悬而未决的问题是，如何将新的研究成果集成到系统中而不破坏现有系统。这个集成过程很容易成为项目的瓶颈，因为研究团队不断切换数据预处理方法和机器学习框架，以寻找最佳的项目结果。Lucas 决定，研究团队需要将他们的模型提供为一个具有固定接口的软件库，并且该接口需要与实施团队共同设计和文档化。这一接口将建立研究团队与实施团队之间的通信契约，以便通过简单地更新研究团队的库版本，便可更换新的模型版本。

在你决定了最佳的研究集成方式，并且理清了解决方案开发过程后，再考虑你可以从哪些可重用组件中受益，就可以继续前进，看看你的团队如何逐步提高交付技术的可重用性。

# 提高可重用性

提高可重用性是一个定制的项目开发设置，在该设置中，你可以开发并重用内部组件，从而更快速地构建更好的解决方案。看看你在所有项目中重复的部分。对许多公司来说，这通常是模型部署和服务；对于其他公司来说，则是构建基于模型的仪表盘。

将开源项目作为起点。在许多领域，最佳的工具通常由商业公司提供。幸运的是，数据科学社区是一个非常开放的群体，你能找到的最佳工具往往是开源的。当然，也有很棒的商业产品，但你可以通过开源解决方案构建出生产级系统，且这些系统使用的是最先进的模型。它们将为你提供一个非常坚实的基础。

看看你是否能利用这些工具来减少团队在不同项目中花费在类似重复活动上的总时间。如果你发现没有开源解决方案能够解决你的问题，那么你有两个选择：从零开始构建一个可重用的软件组件，或者购买一个产品。但如何选择购买一个现成的解决方案还是自己构建一个呢？预构建的产品最适合解决数据科学团队的常见问题。相反，定制内部的可重用解决方案应该留给那些对你的团队和公司来说是独特的过程部分。为了找到解决问题的方案，你应该首先考虑开源解决方案，其次是市场上的产品，最后考虑在内部构建新技术。

请记住，可重用的组件需要特别关注。随着工具链的增长，你的团队将需要投入更多时间来支持它。可重用工具需要设计能够经得起时间考验的 API 和工作流程。维护在多个项目中使用的可重用工具并不是一项容易的任务，但它将使你的团队能够在此基础上不断发展，从而使每一个后续项目都比前一个更加高效。

**是构建还是购买？** 你的团队常常会面临这个两难选择。你可以自己构建某些东西，使用开源解决方案，或者购买商业产品。这个决定从来不容易，并且会有长远的影响。从零开始自己构建需要大量的投资。你可以通过使用开源解决方案来节省成本，但你可能会遇到一些限制或漏洞，这些问题将迫使你的团队深入开发这个开源组件。尝试修复漏洞或为大量由全球各地的人编写的现有代码添加新功能，将需要大量的工程努力，并且会让切换到其他技术变得更加困难。商业产品是三者中最不具备定制性的，因此你的团队必须投入时间来决定哪个产品最符合你的需求。

如果你以分析的方式来处理这个决定，事情会变得更容易。定义成功标准，思考你打算构建、使用或购买的组件或技术的战略重要性。定义、记录并权衡所有的利弊，形成一个完整的视图。最后，与尽可能多的利益相关者讨论这个问题，包括你的团队成员和管理层。

可复用的组件可以让你的团队更加高效，而不会使解决方案过于通用，这样每个客户都能得到定制化服务。有时，你会发现一个机会，通过将高需求的定制解决方案转化为产品，可以让你的团队进入一个完全不同的商业模式。在接下来的章节中，我们将看到如何寻找和构建产品。

# 寻找和构建产品

随着时间的推移，团队会自然专注于开发你们可复用工具链中最复杂和最受欢迎的部分。如果你有一个经过多次项目考验且由经验丰富团队支持的可复用组件，值得考虑将其转化为产品。

另一个你应该将项目转化为产品的迹象是，有很高的需求要求你构建某种类型的定制解决方案。如果每个客户都要求你构建一个客户支持聊天机器人，而你已经做了几十个，为什么不做一个产品，方便大家的生活呢？

如果你的公司没有向市场交付新产品的经验，认真对待这个任务，并准备好进入一个全新的领域。如果你想避免犯错，花时间阅读与产品管理相关的文献，考虑聘请或咨询有相关经验的产品经理。产品开发与制作定制解决方案不同。实际上，这是一个完全不同的业务，拥有与咨询项目经理可能觉得奇怪的流程和价值观。

最后，请记住，构建产品是有风险且成本高昂的。产品团队需要付出大量努力，将任何内部代码库转化为市场-ready 产品。如果这个创意没有真正的市场需求，那么这项工作将是徒劳的。

从商业角度来看，好的产品创意非常有吸引力。然而，如果你为不同的客户提供服务，在将项目转化为面向广泛市场的产品之前，你应该始终考虑隐私问题。

# 隐私问题

对每个数据科学团队来说，隐私至关重要，特别是对于那些受到其他企业信任的团队。当你考虑基于自己的内部代码库或数据构建新产品时，务必检查你计划使用的所有内容是否可以出售给其他客户。如果不能，你可能最终需要从头开始构建产品，这将大大增加开发成本。请咨询公司法律团队，确保所有相关的保密协议（NDA）和合同允许计划中的使用场景。

你还需要考虑许可你的内部可复用组件，以便在不同项目中合法复用它们。本书不是法律顾问，如果你计划复用软件组件并构建产品，别犹豫，咨询专业的法律顾问。

# 总结

在本章中，我们探讨了在定制项目开发环境中产品思维的好处。我们研究了为什么可重用性如此重要，以及如何在数据科学项目的每个阶段构建和集成可重用的软件组件。我们还讨论了如何找到研究与实现之间的正确平衡。最后，我们探讨了提升项目可重用性的策略，并探索了基于经验构建独立产品的条件。

在本书的下一部分，我们将讨论如何构建开发基础设施，并选择一个能够简化数据科学项目开发和交付的技术栈。我们将从 ModelOps 入手，它是一套自动化模型交付流水线的实践方法。
