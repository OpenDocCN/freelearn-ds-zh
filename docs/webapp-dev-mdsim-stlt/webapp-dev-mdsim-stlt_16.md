

# 第十六章：总结与结论

我们一起走过了相当长的一段路。从学习如何创建工作环境开始，我们经历了 Streamlit 使用的基础知识。之后，我们成为了更高级的用户，并学习了创建 Web 应用程序的非常专业的方法。

此外，我们还看到如何将我们的创作部署并发布到云端。从宏观角度来看，我们还掌握了一些非常有用的技能，例如自动文件检测和上传、数据库连接、登录和注册页面创建与账户管理、主题设置、会话状态、表单以及子域名——一段非常漫长的旅程！

还有很多可供总结的要点，这些可以使未来 Web 应用的创建更加轻松：

+   创建一个非常便宜（免费的）且有效的开发环境的技能

+   带有菜单和装饰的 Web 应用框架工作模板

+   在云端部署和上传 Web 应用的技能

+   关于 Web 应用的有用知识（带有工作框架模板）和图片

+   创建、填充和在 Web 应用中使用数据库的非常强大的技术

+   实现会话状态和多页面应用程序的非常重要的技能（带有工作代码示例）

+   对主要和高级 Streamlit 小部件的深入了解

+   容易理解框架的未来版本和改进的能力

在本章中，我们将涵盖以下主要主题：

+   如何以及何时使用我们的 Web 应用工作模板

+   如何以及何时使用数据库和高级技能

+   如何将 Web 应用部署到云端

# 如何以及何时使用我们的 Web 应用工作模板

有一些操作是我们必须始终进行的，例如准备虚拟环境并安装所有适当的库。这些操作是我们进行 Web 应用创建活动的真正基础。

一旦我们的环境准备好，我们就可以开始编写代码了。这项活动需要对我们要解决的问题有深刻的理解，并且要有明确的实现策略。在这一阶段，我们一起开发并用来构建 NLP 应用和 Covid-19 检测工具的模板或框架成为了我们最强大的伙伴。它非常适合将问题分解为多个子问题，并将每个子问题分配给特定的函数。所有必需函数的列表将在侧边栏的菜单中显示，用户可以选择特定的函数并继续执行。我们还看到，在模板中，已经包含了一些非常好的装饰器，例如标题、图标和图片。

如果我们想更具体一点，可以说，了解如何以及何时使用 Web 应用模板，比如我们一起制作的这个模板，对于高效和有效的 Web 应用开发至关重要。

下面是如何使用此类模板的步骤：

+   **安装和设置**：打开模板后，你会找到库的安装和设置说明。按照这些步骤创建项目目录，安装依赖项，并在需要时配置你的开发环境。

+   **定制内容**：根据你的具体需求修改模板。这可能包括更改用户界面、添加或删除功能，或者更改默认内容。模板通常设计为可定制的，因此你可以根据项目需求进行调整。

+   **添加应用逻辑**：实现应用程序的业务逻辑，这是使你的项目与其他项目区分开来的核心功能。这可能包括数据处理、计算、数据可视化或任何与你的应用程序相关的任务。

+   **样式和主题**：定制应用程序的视觉元素，例如颜色、字体和布局，以符合你的品牌或设计偏好。许多模板提供样式和主题的选项。

+   **测试**：彻底测试你的应用程序，确保它按预期工作，并且没有任何漏洞或问题。这包括测试用户交互、数据处理和响应性。

+   **持续改进**：随着你的应用程序不断发展，你可以重新审视模板以进行更新或改进。模板被设计为灵活可变，能够适应项目的变化。

了解如何使用网页应用模板后，接下来我们来看何时使用它：

+   **原型设计**：模板非常适合快速原型设计。你可以将模板作为起点，来可视化你的概念并收集反馈。

+   **学习与教育**：如果你是网页开发或某个特定框架（如 Streamlit）的新手，模板可以作为一种教育工具。你可以分析模板的代码，学习不同组件和功能是如何工作的。

+   **快速开发**：当时间有限时，使用模板可以帮助加速开发。你可以利用预先构建的组件和功能，更快地启动你的应用程序。

+   **项目间的一致性**：如果你参与多个项目或在团队中工作，使用模板可以确保设计和结构的一致性。在维护应用程序组合时，这一点尤为重要。

+   **关注独特功能**：模板处理常见的任务和功能，让你可以专注于实现独特的功能或解决与你的项目相关的特定问题。

总结来说，网页应用模板/骨架是一个有价值的开发工具，提供了一个结构化且高效的方法来构建网页应用。当你想节省时间、确保一致性、进行原型设计或加速开发时，使用它。并且，可以根据你的具体项目需求进行定制。模板特别适用于与你的项目目标相符，并减少重新发明常见组件和功能的需求。

模板是保持组织和加速工作的一种基本方式。另一个极为重要的功能是将信息保存到数据库中。

# 如何以及何时使用数据库和高级技能

在 *第十三章* 中，当我们讨论登录和注册时，我们解释了如何在 Streamlit 中处理数据库，而在 *第十四章* 和 *第十五章* 中，我们介绍了自定义页面、多页面、主题、表单、子域和会话状态等主题。

现在，这听起来可能微不足道，但当您需要为 Web 应用程序存储和管理数据时，应考虑在 Streamlit 中使用数据库。数据库在以下情况下非常有用：

+   **持久化数据**：保存信息（如用户档案、用户生成的内容或应用程序设置），以便即使关闭 Web 应用程序后仍然可用。

+   **访问大量数据**：高效地处理和检索大量数据，例如销售数据库中的记录或网站上的用户评论。

+   **协作**：在多个用户或设备之间共享和更新数据。数据库帮助您保持信息一致并及时更新。

在 Streamlit 或任何 Web 应用程序中处理数据库时，遵循最佳安全实践非常重要，以下是一些关键做法：

+   `sqlite3` 允许您处理数据库。

+   **安全存储数据库凭证**：将您的数据库凭证（如用户名和密码）存储在安全的环境中，如环境变量或配置文件中。切勿将其硬编码到代码中。

+   **实施认证**：如果您的应用程序允许用户访问或修改数据，请实施用户身份验证和授权，以控制谁能在您的应用程序中执行什么操作。

+   **定期更新和修补**：保持您的数据库软件和库是最新的，以修复安全漏洞。这对您的应用程序和数据库系统本身都非常重要。

+   **数据加密**：如果数据库中存储了敏感数据，请确保在静态存储（存储在服务器上时）和传输过程中（数据在应用程序和数据库之间传输时）都对其进行加密。

简而言之，数据库就像是您应用程序数据的有组织存储空间。它们对于安全地保存、访问和管理信息非常有用。为了在 Streamlit 中安全地使用数据库，请遵循最佳实践，以保护您的数据并确保应用程序顺利运行。避免常见的错误，如未处理错误、暴露敏感数据或使数据库超负荷。

这是一些高级 Streamlit 功能的简要回顾：

+   **自定义页面**：Streamlit 允许您在 Web 应用程序中创建自定义页面。每个页面可以具有独特的内容、布局和功能。当您想将应用程序组织成不同的部分，例如主页、仪表板和设置页面时，这个功能非常有用。您可以使用 Streamlit 的布局组件来设计和构建每个页面。

+   **多页面**：Streamlit 提供了创建具有多个互联页面的 Web 应用程序的功能。这使得你可以构建具有不同视图、导航和交互的复杂应用程序。你可以使用 Streamlit 内建的导航元素，例如按钮或链接，在应用的不同页面之间切换。多页面应用程序非常适合创建具有层次结构的应用，或者在你需要引导用户通过不同步骤时使用。

+   **主题**：Streamlit 提供了通过主题定制应用程序外观的功能。主题是预定义样式和颜色的集合，你可以将其应用到你的应用程序中。这个功能让你能够创建一致且具有视觉吸引力的设计，与你的品牌或个人偏好相匹配。

+   **表单**：Streamlit 允许你在 Web 应用程序中创建互动表单。表单是通过文本输入框、滑块和复选框等小部件收集用户输入的一种方式。你可以使用表单收集用户的数据、设置或偏好，并在应用程序中处理这些信息。

+   **子域名**：Streamlit 中的子域名让你可以从网站的不同子域名提供不同的应用程序或应用部分。当你希望在不同的 URL 下托管多个 Streamlit 应用程序，每个应用具有不同的功能或内容时，这一点尤其有用。子域名有助于为你的 Web 应用程序创建模块化和有序的结构，允许高效的导航和可扩展性。

+   **会话状态**：Streamlit 中的会话状态让你能够在用户的会话期间跨不同的交互和页面存储和管理数据。它是一种保持变量或用户特定数据的方式，这些数据会随着用户与应用的交互而持续存在。如果你希望应用记住用户的设置、选择或其他在用户访问期间获得的信息，这个功能非常有用。它可以提供更个性化和动态的用户体验。

总结一下，Streamlit 提供了多种功能来增强 Web 应用程序的功能和外观。你可以为不同部分创建定制的页面，设计具有导航功能的多页面应用程序，使用主题来美化应用，利用表单收集用户输入，使用子域名实现模块化，并通过 Session State 维护会话特定的数据。这些功能为你提供了构建互动和用户友好的 Web 应用程序所需的灵活性和工具。

在开发我们的 Web 应用程序并使用数据库保存信息后，是时候将其部署到云端了。

# 如何将 Web 应用程序部署到云端

一个 Web 应用程序存在于网络上，经过自然语言处理应用和 COVID-19 检测工具的实现后，我们完成了将这两个 Web 应用程序部署到 Streamlit Cloud 上的工作。

让我们回顾一下为什么将 Web 应用程序部署到云端如此重要。

将 Web 应用程序部署到云端具有几个显著的优势：

+   **全球可访问性**：托管在云上的应用可以在任何有互联网连接的地方访问，拓宽了用户的覆盖范围。用户无需在本地安装即可访问您的应用。

+   **可扩展性**：云平台可以轻松扩展应用，以应对增加的流量或需求。这意味着即使在流量激增时，您的应用依然保持响应迅速。

+   **可靠性与冗余**：云服务提供商提供高可用性和冗余，减少了停机的风险。数据通常会在多个数据中心进行备份和复制。

+   **安全性**：云服务提供商在安全措施上投入大量资金，包括数据加密、防火墙和身份管理。您的应用可以从这些强大的安全功能中受益。

+   **简化的维护**：云服务提供商负责基础设施管理，例如服务器维护和更新。这使得开发者可以专注于应用开发，而非服务器管理。

Streamlit Cloud 是一个专为部署和分享 Streamlit 应用而设计的云平台。Streamlit Cloud 致力于简化这些应用的部署过程。

除了通用云部署的常见优势外，Streamlit 的云服务还提供一些更为特定的功能：

+   **无缝部署**：Streamlit Cloud 简化了部署过程，免去了复杂的服务器配置需求。开发者可以轻松部署他们的 Streamlit 应用。

+   **实时更新**：Streamlit Cloud 会在您推送代码库更改时自动更新您的应用。用户始终看到最新版本，无需人工干预。

+   **协作**：开发者可以轻松地与特定的协作者共享应用，或将其保持私密。这对于面向公众和内部项目都非常有价值。

+   **分析与监控**：Streamlit Cloud 提供了用于跟踪应用使用情况、性能和错误的工具。这些数据对于随着时间推移优化和改进应用非常有价值。

总结来说，将 Web 应用部署到云端，尤其是通过 Streamlit Cloud，可以为全球观众提供简化且用户友好的应用分享方式。全球可访问性、可扩展性、成本效益和简化的维护等优势，使得云托管成为 Web 应用部署的热门选择。Streamlit Cloud 专为 Streamlit 应用量身定制，简化了部署过程，并增强了数据驱动 Web 应用的可访问性和可用性。

# 再见！

最后，当我们走到本书最后一章时，我想衷心感谢您与我们一起踏上探索 Streamlit 的旅程。我们一起走过了这段不短的路程，深入了解了这个令人惊叹的 Python 库中的 Web 应用开发。您对掌握 Streamlit 及其众多功能的执着精神，值得我们由衷的赞赏。

记住，科技是不断发展的，新的功能和改进也在持续推出。为了始终处于 web 应用开发的前沿，我鼓励你们定期访问 Streamlit 的官方网站。在那里，你们将找到最新的更新、功能以及资源，帮助你们在 web 应用项目中保持信息更新和赋能。

在我们告别之际，我想向你们，亲爱的读者们，表达我最诚挚的祝愿。感谢你们的时间、你们对学习的热情以及你们探索 Streamlit 世界的决心。愿你们在 web 应用开发的未来努力中充满创意和成功。祝你们的编码旅程好运，也感谢你们成为这次 Streamlit 激动人心的探索的一部分。告别！
