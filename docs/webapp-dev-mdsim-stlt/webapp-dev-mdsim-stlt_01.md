

# 第一章：了解 Streamlit —— 简介

Streamlit 是一个 Python 库，允许开发者快速创建互动式 Web 应用程序，支持绘图、控件、主题等功能。它提供了一个直观且易于使用的界面，使得创建自定义 Web 应用程序变得简单，并且只需最少的编码工作。它提供了一系列内置的控件和组件，如滑块、下拉框和文本输入框，可用于创建互动式可视化和仪表盘。该库还支持实时数据更新，并且能够与流行的数据科学工具集成，如 pandas、Matplotlib 和 TensorFlow。

与其他 Python Web 应用程序库（如 Flask 和 Django）相比，Streamlit 更注重提供一个直观的界面，用以以简单且快速的方式创建互动式可视化和仪表盘。Flask 和 Django 是更通用的 Web 框架，适用于更广泛的 Web 应用程序，但它们需要更多的编码工作来设置和定制。Streamlit 主要用于原型制作和创建小型至中型 Web 应用程序，它使得加速开发过程成为可能，帮助程序员以用户友好和引人入胜的方式与他人分享成果。

在本章中，我们将首先了解计算方法的变化，并介绍 Web 应用程序的一些关键优势。接下来，我们将了解 Python Web 框架的重要性。之后，我们将重点讨论何时使用本地方法，何时使用云计算。然后，我们将学习 Streamlit 的一些非常有趣的功能。最后，我们将强调将创意转化为原型的重要性。

在本章中，我们将涵盖以下主要内容：

+   计算方法的变化

+   完整 Python Web 框架的重要性

+   本地与云计算

+   用于 Web 应用程序的 Python 库（Flask 和 Django）

+   Streamlit 功能的示例

# 将创意转化为原型的重要性 —— 计算方法的变化

计算在过去几十年中取得了巨大进展。早期的系统依赖于在个人计算机上安装和运行的程序。用户购买软件许可证，自行安装程序，然后从桌面访问这些应用程序。如果你想在另一台计算机上使用某个应用程序，你也需要在那里安装它。

这种模型主导了计算领域多年，但其局限性明显且静态。它缺乏互联互通，不促进机器之间的真实协作或数据共享。用户只能使用自己本地安装的特定软件，并且需要在每台计算机上管理独立的文件和设置副本。

网络的崛起、改进的连接性以及早期互联网的出现开始改变这一局面。分布式软件、实时协作以及跨设备同步信息的新可能性不断涌现。用户不再需要安装和管理多个重复的软件。应用程序可以从任何有互联网连接的地方访问。

基于 Web 的服务推动了这一转变，加速了向更以云为中心、支持移动设备的计算方式的过渡。应用程序开始直接在 Web 浏览器中启动，而不再需要安装。数据和文件可以存储在中央云平台中，而不是本地存储，新设备如智能手机、平板电脑和笔记本电脑使得云计算和 Web 更加具有吸引力。

现在，人们的数字生活通过 Web 服务、移动应用程序和云平台在云端进行。从商业软件、媒体、生产力工具、教育资源到更多领域，几乎所有的内容现在都有以云为基础和 Web 为中心的替代品。云计算提供了在任何连接设备上的无处不在的访问，服务间的持续集成和互操作性，自动更新、可扩展的资源、协作功能、移动优化和成本效益。

本地软件在某些情况下仍然被使用，但它正逐渐被视为受限或过时。向云计算和 Web 计算的过渡是迅速且具有巨大影响的。它重塑了我们的工作、学习、娱乐、沟通、媒体消费等方式。这一转型可能还会随着增强型 AI 技术、物联网设备、虚拟现实/增强现实系统以及其他创新深度融入 Web 服务和云平台而加速。

我们已经远远走出了过去的软件下载时代，但未来的潜力巨大。云计算正在重新构想技术，以适应我们现代高度互联和日益移动化的生活方式。而这种无处不在的、以 Web 为主的计算新时代将会持续下去。

但是，考虑到本书讨论的是 Web 应用程序，那么到底什么是 Web 应用程序呢？

Web 应用程序是运行在**Web 浏览器**中的软件应用程序。

它通过网络访问，并通过 Web 浏览器提供互动的用户体验。

Web 应用程序的目的是通过使用标准的 Web 技术，在网络上提供软件功能和数据的访问。它们允许用户从任何连接互联网的设备上，通过 Web 浏览器访问功能和内容。

当你需要为大量用户提供软件和数据访问时，Web 应用程序非常有用，可能是在一个组织内，或是向外部客户和合作伙伴提供服务。它们提供了一个便捷、一致的界面，可以跨设备和位置使用。

下面是 Web 应用程序的一些主要优点：

+   **可访问性**：只要有互联网连接和 Web 浏览器，随时随地都能使用。

+   **一致性**：在任何设备上都可以使用相同的界面和功能。外观和体验在各平台间（桌面、移动设备、平板等）保持一致。

+   **集中管理**：可以同时更新所有用户的 Web 应用程序。新功能和增强会自动推送到所有用户。

+   **集成**：可以通过标准 Web 技术与其他 Web 服务、数据库、API 等进行集成。

+   **可扩展性**：能够支持大量的同时用户，且额外的开销最小。可以根据需要分配额外的计算资源。

+   **成本效益**：通常，相较于独立软件应用程序，开发和部署 Web 应用程序更加实惠且经济。

总结来说，当你需要通过网络向大量用户提供应用程序及其数据时，使用 Web 应用程序是最佳选择，因为它们具备 Web 应用程序所提供的可访问性、一致性、集成性和可扩展性。这是一种非常高效且受欢迎的软件解决方案。

现在我们已经了解了 Web 应用程序的好处，我们可以进入下一部分，理解完整的基于 Python 的框架的重要性。

# 完整 Python Web 框架的重要性

今天，在云端构建和发布 Web 应用程序依赖于几个关键框架、语言和技术。以下是一些最重要的：

+   **Web 框架**：像 React、Angular 和 Node.js 这样的框架使 Web 应用程序的开发变得更加简单高效。它们处理一些关键任务，如路由、状态管理、构建组件和处理事件。开发人员可以专注于编写特定应用程序的代码，而无需构建基础设施。

+   **服务器端语言**：如 PHP、Ruby on Rails、Python、Java 和 C# 等语言用于服务器端，处理请求、访问数据库、构建 API 和生成动态 Web 内容。Node.js 使用 JavaScript，也已成为服务器端开发中非常流行的选择。

+   **JavaScript**：JavaScript 是前端 Web 的主要语言。它用于构建客户端界面、动画和创建交互式内容、处理用户输入、通过 HTTP 请求获取数据等。现代 JavaScript 框架也促进了单页应用程序的崛起。

+   **版本控制**：像 Git 这样的工具帮助开发人员协作并保持项目的代码和文件历史同步。它们提供了诸如分支、合并、提交、推送到远程仓库和回滚更改等有用的功能。

+   **部署**：有多种部署 Web 应用程序的选项，包括服务器管理服务，如 AWS EC2、托管服务如 Firebase、**虚拟私人服务器**（**VPS**）和裸机服务器。持续集成和部署帮助快速、无缝地上线新功能和代码。

+   **容器化**：Docker 容器将 Web 应用及其所有依赖项打包到隔离的、可移植的、轻量级的环境中。它们帮助保持开发、预发布和生产环境的一致性和优化。容器简化了 Web 应用的部署和扩展。

+   **应用程序接口**（**APIs**）：这些接口允许 Web 应用与外部服务集成，并无缝地传递数据。API 为用户认证、支付处理、定位服务、社交网络等功能提供支持，而无需多个 Web 应用共享代码库。

正如我们所看到的，今天有许多工具和技术可以帮助我们专业高效地构建、部署、扩展和集成 Web 应用。通过有效组合，它们能够实现快速、强大的开发周期、优化的性能以及服务之间的无缝连接。此外，随着技术的不断发展，这些最佳实践和技术栈将适应新的需求。

这种丰富多样的框架、语言和技术是我们手中的强大武器，它使我们能够实现几乎任何想法。然而，这也要求我们不断学习，并具备对许多不同主题的深入了解。

因此，如果有一个完全可用的**Python**框架，作为一种简单的编程语言，能够帮助我们快速开发 Web 应用，并使部署过程变得简单流畅，那就再好不过了。这个问题的答案就是**Streamlit**。

所以，用几句话总结，Streamlit 使我们更容易开发、实现和部署我们的想法，并将其转化为精彩的 Web 应用。但该产品是应该在本地机器上提供，还是在云端提供呢？

# 本地与云端

在开发软件应用程序与基于云的 Web 应用程序时，有一些关键的区别需要注意：

+   **安装**：传统软件需要在本地计算机或服务器上安装。这包括复制文件、设置权限、可能需要配置设置以及其他安装步骤。托管在 AWS、GCP 和 Azure 等云平台上的 Web 应用由云服务提供商部署和管理，无需本地安装。

+   **更新**：软件更新通常需要在安装了该应用程序的所有机器上手动安装。托管在云上的 Web 应用会在开发者推送新代码时自动更新，用户始终能获得最新版本，无需手动操作。

+   **可扩展性**：托管传统软件应用的服务器需要手动配置，才能根据需要扩展资源。云基础设施可以通过 API 调用或自动扩展策略按需无限扩展。可以通过编程方式分配更多或更少的 CPU、内存、磁盘空间等资源。

+   **可用性**：传统软件的正常运行时间取决于本地基础设施。由于个别服务器、网络设备、数据库服务器等问题，可能会发生停机。Web 应用得益于可扩展云基础设施的高可用性。区域、可用区和复制有助于减少停机。

+   **移动性**：传统软件通过专用的桌面或移动应用访问。Web 应用可以通过任何现代浏览器在任何连接互联网的设备上访问，包括笔记本、手机、平板、电视、手表等。

+   **协作**：多个开发者可以同时协作，编辑代码并将更新部署到托管在版本控制库和云托管服务上的 web 应用程序中。通过 Git 等源代码版本控制系统，代码库的修改可以轻松同步。并发编辑可能会导致传统开发工作流程中的冲突机会。

+   **成本**：传统基础设施通常需要购买和维护硬件以及软件许可证，这会带来较大的前期成本。云计算采用按需付费模式，可以通过缩减或关闭未使用的资源来降低成本。不需要大额资本支出。资源可以根据需求变化按需扩展。

总结一下，在云平台上开发 web 应用程序与构建传统软件安装有显著不同。Web 应用通常更容易部署、更新、扩展，并且具有高度可用性和移动性，支持更多的并发协作，且具有较低的前期成本和更灵活的定价模式。

正如我们所见，云平台具有许多优势，应该成为我们的首选。现在，让我们深入了解一下最流行的 Python web 应用库的差异和具体功能。

# 用于 web 应用的 Python 库（Flask 和 Django）。

这里是一些流行的 Python 库用于构建 web 应用的概览：

+   **Flask**：一个轻量级且灵活的 web 框架，非常适合构建小型到中型的应用程序。它的一些主要特点如下：

    +   它具有一个简洁且直观的核心，可以轻松扩展。这使得它适合任何希望创建 web 应用程序的人。

    +   它支持扩展并与许多 Python 库集成。这使得你可以轻松扩展其功能。

    +   它内建支持路由、模板、文件上传等功能，这意味着构建 API 和渲染 HTML 模板非常简单。

    +   它适用于小型和大型项目。许多大公司，如 Airbnb 和 Pinterest，都使用 Flask。

    让我们看看一些应该使用 Flask 的场景：

    +   构建一个小型到中型的网站或 web 应用。

    +   当我们需要比微框架提供的更多灵活性和控制时。

    +   需要支持扩展和与其他库的集成。

    +   当我们熟悉 Python 并且想要一个易于上手的框架时

+   **Django**：一个高级 Python web 框架，鼓励快速开发和清晰的设计。它适用于大型项目和应用程序。以下是它的一些主要特点：

    +   它具有一个**对象关系映射器**（**ORM**），支持多种数据库。

    +   它具有权限系统，并内建对用户、组、权限等的支持。

    +   它具有良好的扩展性，并且被 Instagram、Netflix、Spotify 等大公司使用。

    +   它有许多可用的插件库和集成。

    +   它强制执行一定的结构和最佳实践。对于新手来说，这可能是好的，但也可能带有一定的限制。

    让我们来看一下什么时候应该使用 Django：

    +   用于构建大型复杂网站或 web 应用

    +   当我们需要一个结构化且可扩展的框架时

    +   当我们需要开箱即用的高级功能，如身份验证、权限管理、管理员等时

    +   当我们需要一个能够良好扩展并支持大量流量和负载的框架时

    +   当我们偏好强制执行的严格结构和最佳实践时

总结来说，对于小到中型 web 应用，选择 Flask；对于大型、复杂的 web 应用，具有高级功能的选择 Django。

如果你想轻松编写具有美观且实用的仪表板的 web 应用，选择 Streamlit。在我们迄今描述的所有工具和解决方案中，它是一个重要的 Python web 应用框架，具有以下几个关键原因：

+   **便捷性和易用性**：Streamlit 极大简化了在 Python 中构建 web 应用的过程。它在幕后处理复杂任务，如设置服务器、路由、模板、数据库等，使开发人员可以专注于应用程序逻辑。这使得开发过程更快、更易于访问。

+   **集成 Python 支持**：Streamlit 允许你仅使用 Python 代码构建完整的 web 应用。无需额外的模板、路由设置或数据库配置。开发人员可以利用 Python 的所有库和特性，无需学习额外的语言或框架。

+   **快速原型设计**：Streamlit 的便捷和轻量特性使其非常适合快速构建原型、仪表板、演示和最小可行产品。新想法可以非常迅速地转化为可分享的 web 应用。

+   **可重用组件**：Streamlit 拥有一个预构建的前端和后端组件库，如下拉框、文件上传、搜索栏、分页等。这些组件有助于加快开发进度，并确保一致的用户体验。

+   **云部署**：Streamlit web 应用可以部署在主要的云提供商上，包括 AWS、GCP、Azure 和 Docker。这提供了可扩展的基础设施、全球覆盖和随着应用程序增长而灵活调整资源使用的能力。通过无缝集成，部署变得更加简化。

+   **互动仪表板**：Streamlit 专注于互动应用程序和仪表板。数据科学家和分析师使用它来创建富有洞察力的探索性数据分析工具和报告。用户可以过滤、排序、透视、搜索、选择特征，并从多个角度检查数据。

+   **社区与支持**：Streamlit 拥有一个活跃的社区和团队，支持使用问题、贡献文档、接受拉取请求并及时处理安全问题。该项目还得到了主要科技公司和研究人员的支持。

总结来说，Streamlit 提供了一个易于使用、集成化和可扩展的框架，用于构建和部署完整的 Python Web 应用程序。它使你能够更快地将创意转化为应用程序，简化低级别设置，促进原型开发和实验，支持互动可视化和仪表板，并支持来自开放社区的自定义和贡献。总体而言，Streamlit 使得 Python Web 开发更加易于访问、高效和有影响力。

到目前为止，我们已经介绍了主要的 Python Web 应用程序库及其特点。由于本书将重点介绍 Streamlit，让我们看看它的能力。

# Streamlit 功能示例

这里有一些 Streamlit 功能的有用示例：

+   **互动数据探索**：Streamlit 非常适合构建允许用户互动探索数据集的仪表板。用户可以过滤、排序、透视、搜索、选择特征，并从多个角度分析数据。

+   **原型设计最小可行产品**（**MVPs**）：Streamlit 易于使用，非常适合快速构建原型和 MVP。新想法可以在没有复杂设置的情况下快速转化为可共享的 Web 应用程序。这种“先写代码”方法加速了迭代和反馈。

+   **模型部署**：Streamlit 应用程序可以将训练好的**机器学习**（**ML**）模型作为 Web 服务进行公开。这使得其他应用程序、脚本或用户能够与模型进行交互并进行预测。应用程序变得可部署，成为高效的机器学习应用和平台。

+   **嵌入**：Streamlit 代码和小部件可以嵌入到 Jupyter 笔记本、JupyterLab 和 Jupyter Notebook 界面中。这种与数据科学生态系统的紧密集成简化了从笔记本构建应用程序以及从应用程序返回笔记本的过程。

+   **协作编辑**：Streamlit 实时流式传输编辑，支持无缝共同编辑代码库。多个开发者可以同时在同一个 Streamlit 应用上协作，修改内容即时显示。避免冲突，实现高效协作。

+   **自动化测试**：Streamlit 包含用于编写自动化测试的工具，包括测试套件、单个测试函数、夹具、存根、模拟等。测试覆盖率报告确保新功能不会破坏现有功能。持续集成工作流会在每次提交时运行测试，从而确保代码的稳定性和高质量。

+   **用户界面**（**UIs**）**作为代码**：Streamlit 的语法基于 Python，视用户界面为代码。这种“UI 作为代码”的方法相比图形化工具提供了许多优势，包括版本控制、可复现性、协作以及与应用程序其余代码库的集成。Streamlit 的用户界面灵活、可编程，并且在构建时得到了优化。

+   **可复现的研究**：Streamlit 的应用程序是逐行执行的，构建了一个完整的、互动的、可分享的环境。所有的输入、代码、输出和小部件值都会被记录下来，允许任何人复现分析和结果。应用程序可以被打包和归档，然后重新打开并继续使用。Streamlit 促进了透明和可复现的数据科学。

+   **自动化实验**：Streamlit 支持模块化函数、类、循环、条件语句等，可以帮助你自动化实验工作流程。基础设施可以通过编程进行扩展和缩减，可以系统地测试不同的模型和超参数，同时 A/B 测试功能和用户体验元素变得可行。自动化减少了人工工作量，并能够更快地发现最佳的组合。

Streamlit 是一个极其多功能的工具，可以帮助我们在相对较短的时间内，以可承受的努力创建几乎任何我们心中设想的应用程序。考虑到这一巨大优势，让我们来理解为什么在短时间内将我们的想法转化为可工作的原型，可能是我们手中最有用的武器。

# 将一个想法转化为原型的重要性

将一个想法转化为具体的原型越快，机会和优势就越大。尽可能快速地构建粗略原型有几个关键的好处：

+   **尽早获取客户反馈**：通过创建体现某个想法的原型，即使是一个基础版本，你也可以更早地获得真实的用户反馈。客户可以体验这个想法，评论他们喜欢和不喜欢的地方，并提出重要的改进意见，使最终产品更有用、更具吸引力。尽早采纳反馈可以避免在开发不符合客户需求的功能或设计时浪费时间和资源。

+   **尽早发现缺陷和问题**：早期原型可以突出显示一个想法在实际操作中可能出现的问题。那些概念上难以识别的问题，在开发原型时会变得一目了然。这些问题随后可以得到解决，替代方案可以在投入大量时间之前进行探索。相比于几乎完成的产品，改变原型的方向要容易得多。

+   **评估可行性和热情**：通过向其他人展示原型，包括团队成员、经理、导师和投资者，你可以了解它们看起来有多么引人注目和激动人心。在早期阶段的热情和验证能提供信心，证明一个想法具有真正的潜力和吸引力。缺乏热情则表明这个想法可能不像人们最初想的那样有前景。

+   **快速迭代与改进**：原型设计本质上是一种迭代式方法。你构建原型，获取反馈，做出修改，重新构建，然后继续完善。每一次迭代都会改善原型，使其更加吸引人和实用。从一个基础的模型开始，通过持续的反馈和开发，它能迅速发展成一个引人入胜的产品概念。

尽可能快速且频繁地将想法转化为原型，能带来更好的产品、更开心的客户、更高的团队与合作伙伴热情，并且更有可能打造出最终在市场上成功的产品。早期的迭代原型设计为每个开发阶段和产品设计带来了机会和优势。有了快速的原型设计，你可以灵活调整、改进和创新，走向成功。

# 总结

在本章中，我们从理论角度介绍了 Streamlit，并探讨了几条使这一框架成为快速且轻松地创建 Web 应用程序和原型的绝佳工具的理由。将一个想法快速、轻松、无痛地转化为原型——甚至更好，转化为一个可工作的 Web 应用程序——是我们手中的一项强大武器。只有通过使用这样的库，才能真正发挥其强大功能，因此我们不再等待，开始设置我们的编码环境吧！

要开始编码，我们仍然需要一些东西：一个良好的操作系统，安装了 Python，**集成开发环境**（**IDE**），虚拟环境等等。

在下一章，我们将确保我们所需的一切都能可用并完全正常运行。别担心——这次安装将为我们未来的所有开发打下基础！
