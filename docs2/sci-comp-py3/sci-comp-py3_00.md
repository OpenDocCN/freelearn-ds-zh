# 前言

Python 不仅仅可以用于通用编程。它是一个免费、开源的语言和环境，在科学计算领域具有巨大的潜力。本书将 Python 与数学应用紧密结合，展示了如何使用 Python 的各种概念进行计算，包括使用 Python 3 最新版本的示例。当将科学计算和数学结合使用时，Python 是一个有效的工具，本书将教会你如何使用它进行线性代数、数组、绘图、迭代、函数、多项式等。

# 本书涵盖的内容

第一章, *入门*，简要介绍了 Python 的主要语言元素，而不深入细节。在这里，我们简要地浏览了所有内容。对于那些想直接开始的人来说，这是一个好的起点。对于那些想在后面的章节中理解可能使用函数等结构的示例的读者来说，这是一个快速参考，因为在深入解释函数之前，这些结构就已经被使用了。

第二章, *变量和基本类型*，介绍了 Python 中最重要和基本的数据类型。在科学计算中，浮点数是比 nan 和 inf 这两个特殊数字更重要的数据类型。布尔值、整数、复数和字符串是其他基本数据类型，本书将使用这些类型。

第三章, *容器类型*，解释了如何使用容器类型，主要是列表。字典和元组也将通过容器对象解释，以及索引和循环。偶尔，甚至使用集合作为特殊的容器类型。

第四章, *线性代数*，与线性代数中最重要的对象——向量和矩阵一起工作。本书选择 NumPy 数组作为描述矩阵甚至更高阶张量的核心工具。数组具有许多高级功能，并允许对矩阵或向量进行逐元素操作的通用函数。本书强调数组索引、切片和点积作为大多数计算任务中的基本操作。一些线性代数示例被解决，以展示 SciPy 子模块 linalg 的使用。

第五章, *高级数组概念*，解释了数组的一些更高级的方面。数组副本和视图之间的区别被详细解释，因为视图使得使用数组的程序非常快速，但往往是错误的来源，这些错误很难调试。展示了如何使用布尔数组编写有效、紧凑且易于阅读的代码，并进行了演示。最后，通过将其与在函数上执行的操作的类比，解释了数组广播技术——这是 NumPy 数组的一个独特特性。

第六章，*绘图*，展示了如何制作图表，主要是经典的 x/y 图表，但也包括 3D 图表和直方图。科学计算需要良好的工具来可视化结果。从其子模块 pyplot 中的便捷绘图命令开始介绍 Python 的 matplotlib 模块。通过创建图形对象，如坐标轴，可以实现图表的微调和修改。我们展示了如何更改这些对象的属性以及如何添加注释。

第七章，*函数*，是编程中的基本构建块，这可能是与底层数学概念最接近的。函数定义和函数调用被解释为设置函数参数的不同方式。匿名 lambda 函数在本章中被引入并在各种示例中使用。

第八章，*类*，定义了对象为类的实例，我们为它们提供了方法和属性。在数学中，类属性通常相互依赖，这需要为设置器和获取器函数使用特殊的编程技术。基本数学运算，如+，可以定义在特殊的数学数据类型上。继承和抽象是数学概念，在面向对象编程中得到了体现。我们通过一个简单的常微分方程求解器类来展示继承的使用。

第九章，*迭代*，介绍了使用循环和迭代器的迭代。这本书中现在有一个没有循环和迭代的章节，但在这里我们来到了迭代器的原理以及创建自己的生成器对象。在本章中，你将学习为什么生成器会耗尽以及如何编写无限循环。Python 的 itertools 模块是本章的有用伴侣。

第十章，*错误处理*，涵盖了错误和异常以及如何查找和修复它们。错误或异常是一个事件，它中断了程序单元的执行。本章展示了随后应该做什么，即如何处理异常。你将学习如何定义自己的异常类以及如何提供有价值的信息，这些信息可以用于捕获这些异常。错误处理不仅仅是打印错误消息。

第十一章，*命名空间、作用域和模块*，涵盖了 Python 模块。什么是局部变量和全局变量？何时一个变量为程序单元所知，何时它不为程序单元所知？这个问题在本章中进行了讨论。变量可以通过参数列表传递给函数，或者通过利用其作用域隐式注入。何时应该应用这种技术，何时不应该？本章试图回答这个核心问题。

第十二章，*输入和输出*，涵盖了处理数据文件的一些选项。数据文件用于存储和提供特定问题的数据，通常是大规模测量。本章描述了如何使用不同的格式访问和修改这些数据。

第十三章，*测试*，专注于科学编程的测试。关键工具是 unittest，它允许进行自动测试和参数化测试。通过考虑数值数学中的经典二分算法，我们举例说明了设计有意义的测试的不同步骤，这些测试作为副作用还提供了代码使用说明。仔细的测试提供了测试协议，这在调试由许多不同程序员编写的复杂代码时可能很有帮助。

第十四章，*综合示例*，展示了几个综合性和较长的示例，并简要介绍了理论背景及其完整实现。这些示例利用了本书迄今为止展示的所有结构，并将它们置于更大、更复杂的环境中。它们对读者开放，可以进行扩展。

第十五章，*符号计算 - SymPy*，讲述了符号计算。科学计算主要是基于不精确数据和近似结果的数值计算。这与符号计算形成对比，符号计算通常涉及形式化的操作，目的是在封闭形式表达式中寻求精确解。在本书的最后一章中，我们介绍了在 Python 中实现这一技术，它常用于推导和验证理论数学模型和数值结果。我们强调对符号表达式的精确浮点评估。

# 您需要为本书准备什么

您需要 Python 3.5 或更高版本，SciPy，NumPy，Matplotlib，IPython shell（我们强烈建议通过 Anaconda 安装 Python 及其包）。本书的示例在内存和图形硬件方面没有特殊要求。

# 本书面向的对象

本书是自 2008 年以来在隆德大学讲授的 Python 科学计算课程的成果。该课程逐年扩展，其浓缩版在科隆、特隆赫姆、斯塔万格、索兰、拉彭兰塔的大学以及面向计算的公司的课程中教授。

我们相信，Python 及其周围的科学计算生态系统——SciPy、NumPy 和 matplotlib——在科学计算环境中取得了巨大的进步。Python 及上述库是免费和开源的。更重要的是，它是一种现代语言，具有所有这个形容词所包含的 bells and whistles：面向对象编程、测试、高级的 IPython shell 等。在撰写本书时，我们考虑了两组读者：

+   选择 Python 作为他们第一门编程语言的读者将在这本书的指导下进行教师引导的课程。这本书引导读者进入不同的主题，并提供背景阅读和实验。教师通常会从这本书中选择和安排材料，以便它适合入门课程的特定学习成果。

+   对于已经有一些编程经验，并对科学计算或数学有一定兴趣的读者来说，这本书将作为他们进入 Scipy 和 Numpy 世界的伴侣。用 Python 编程可能与用 MATLAB 编程大不相同。这本书旨在指出“Pythonic”编程方式，这使编程变得愉快。

我们的目标是在科学计算背景下解释如何开始使用 Python 的步骤。这本书可以从前一页读到最后一页，也可以挑选看起来最有趣的部分来阅读。不用说，提高编程技能需要相当多的实践，因此强烈建议实验和玩这本书中的示例和练习。

我们希望读者能像我们一样享受使用 Python、SciPy、NumPY 和 matplotlib 编程。

## Python 与其他语言的比较

当涉及到决定用于科学计算书籍的语言时，许多因素都会发挥作用。语言本身的学习门槛对于新入门者来说很重要，在这里脚本语言通常提供最佳选择。需要一系列用于数值计算的模块，最好有一个强大的开发者社区。如果这些核心模块建立在经过良好测试、优化的快速库（如 LAPACK）的基础上，那就更好了。最后，如果语言也适用于更广泛的领域和更广泛的应用，那么读者将更有可能将在这本书中学到的技能应用于学术环境之外。因此，选择 Python 是一个自然的选择。

简而言之，Python 是

+   免费和开源

+   一种脚本语言，意味着它是可解释的

+   一种现代语言（面向对象、异常处理、动态类型等）

+   简洁、易于阅读和快速学习

+   充满了免费可用的库，特别是科学库（线性代数、可视化工具、绘图、图像分析、微分方程求解、符号计算、统计学等）

+   在更广泛的领域中有用：科学计算、脚本编写、网站、文本解析等。

+   在工业应用中广泛使用

除了 Python 之外，还有其他替代方案。这里列出了其中一些，以及与 Python 的差异。

Java, C++：面向对象、编译语言。与 Python 相比，它们更冗长且更底层。科学库较少。

C, FORTRAN：低级编译语言。这两种语言在科学计算中得到了广泛的应用，因为计算时间至关重要。如今，这些语言通常与 Python 的包装器结合使用。

PHP、Ruby、其他解释型语言。PHP 是面向 Web 的。Ruby 与 Python 一样灵活，但科学库较少。

MATLAB、Scilab、Octave：MATLAB 是一种用于矩阵计算的工具体，它为科学计算而发展。科学库非常庞大。语言功能不如 Python 发达。既不是免费的也不是开源的。SciLab 和 Octave 是类似 MATLAB 的开源工具。

Haskell：Haskell 是一种现代函数式语言，其编程范式与 Python 不同。有一些常见的结构，如列表推导。Haskell 在科学计算中很少使用。另请参阅[[12]](apa.html "附录。参考文献")。

# 其他 Python 文献

在这里，我们提供一些关于 Python 文献的提示，这些文献可以作为补充资源或作为并行阅读的文本。大多数 Python 入门书籍都致力于教授这门语言作为通用工具。这里我们要特别提到的一个优秀例子是[[19]](apa.html "附录。参考文献")。它通过简单的示例解释了语言，例如，通过组织披萨店来解释面向对象编程。

非常有少数书籍专门针对科学计算和工程领域的 Python。在这些少数书籍中，我们想提到 Langtangen 的两本书，它们将科学计算与现代“Pythonic”编程观点相结合，[[16,17]](apa.html "附录。参考文献")。

这种“Pythonic”的观点也是我们教授数值算法编程的指导原则。我们试图展示计算机科学中许多已建立的概念和结构如何应用于科学计算中的问题。披萨店示例被拉格朗日多项式所取代，生成器成为常微分方程的时间步进方法，等等。

最后，我们必须提到网络上几乎无穷无尽的文献。在准备本书时，网络也是一个重要的知识来源。网络上的文献通常涵盖新事物，但也可能完全过时。网络还提供了可能相互矛盾的解释和解决方案。我们强烈建议将网络作为辅助来源使用，但我们认为带有网络资源的“传统”教科书是进入这个丰富新世界的更好起点。

# 习惯用法

在本书中，您将找到多种文本样式，用于区分不同类型的信息。以下是一些这些样式的示例及其含义的解释。

文本中的代码单词、数据库表名、文件夹名、文件名、文件扩展名、路径名和用户输入应如下显示：“在您的虚拟环境中使用`conda install`安装额外的包”

代码块设置如下：

```py
from scipy import *
from matplotlib.pyplot import *
```

任何命令行输入或输出都应如下编写：

```py
jupyter notebook

```

**新术语**和**重要词汇**以粗体显示。屏幕上显示的单词，例如在菜单或对话框中，在文本中显示如下：“**Jupyter 笔记本**是一个展示您工作的绝佳工具。”

### 注意

警告或重要注意事项以如下方框显示。

### 小贴士

小技巧和技巧如下所示。

# 读者反馈

我们欢迎读者的反馈。请告诉我们您对这本书的看法——您喜欢或不喜欢的地方。读者的反馈对我们非常重要，因为它帮助我们开发出您真正能从中受益的标题。要发送一般性反馈，请简单地发送电子邮件至 feedback@packtpub.com，并在邮件主题中提及书籍的标题。如果您在某个领域有专业知识，并且对撰写或为书籍做出贡献感兴趣，请参阅我们的作者指南[www.packtpub.com/authors](http://www.packtpub.com/authors)。

# 客户支持

现在您已经是 Packt 书籍的骄傲拥有者，我们有一些事情可以帮助您从您的购买中获得最大收益。

## 下载示例代码

您可以从您的账户中下载此书的示例代码文件[`www.packtpub.com`](http://www.packtpub.com)。如果您在其他地方购买了这本书，您可以访问[`www.packtpub.com/support`](http://www.packtpub.com/support)并注册，以便将文件直接通过电子邮件发送给您。

您可以通过以下步骤下载代码文件：

1.  使用您的电子邮件地址和密码登录或注册我们的网站。

1.  将鼠标指针悬停在顶部的**支持**标签上。

1.  点击**代码下载与勘误**。

1.  在**搜索**框中输入书籍名称。

1.  选择您想要下载代码文件的书籍。

1.  从下拉菜单中选择您购买此书的来源。

1.  点击**代码下载**。

下载完成后，请确保您使用最新版本的以下软件解压缩或提取文件夹：

+   Windows 上的 WinRAR / 7-Zip

+   Mac 上的 Zipeg / iZip / UnRarX

+   Linux 上的 7-Zip / PeaZip

该书的代码包也托管在 GitHub 上[`github.com/PacktPublishing/Scientific-Computing-with-Python-3`](https://github.com/PacktPublishing/Scientific-Computing-with-Python-3)。我们还有其他来自我们丰富图书和视频目录的代码包可供在[`github.com/PacktPublishing/`](https://github.com/PacktPublishing/)上获取。查看它们吧！

## 下载本书的颜色图像

我们还为您提供了一个包含本书中使用的截图/图表的颜色图像的 PDF 文件。这些颜色图像将帮助您更好地理解输出的变化。您可以从[`www.packtpub.com/sites/default/files/downloads/ScientificComputingwithPython3_ColorImages.pdf`](https://www.packtpub.com/sites/default/files/downloads/ScientificComputingwithPython3_ColorImages.pdf)下载此文件。

## 勘误

尽管我们已经尽一切努力确保内容的准确性，但错误仍然可能发生。如果您在我们的书中发现错误——可能是文本或代码中的错误——如果您能向我们报告这一点，我们将不胜感激。通过这样做，您可以避免其他读者的挫败感，并帮助我们改进本书的后续版本。如果您发现任何勘误，请通过访问 [`www.packtpub.com/submit-errata`](http://www.packtpub.com/submit-errata)，选择您的书籍，点击**勘误提交表单**链接，并输入您的勘误详情。一旦您的勘误得到验证，您的提交将被接受，勘误将被上传到我们的网站或添加到该标题的勘误部分下的现有勘误列表中。

要查看之前提交的勘误，请访问 [`www.packtpub.com/books/content/support`](https://www.packtpub.com/books/content/support)，并在搜索字段中输入书籍名称。所需信息将出现在**勘误**部分下。

## 盗版

互联网上对版权材料的盗版是一个跨所有媒体的持续问题。在 Packt，我们非常重视保护我们的版权和许可证。如果您在互联网上发现任何形式的我们作品的非法副本，请立即提供位置地址或网站名称，以便我们可以寻求补救措施。

请通过 copyright@packtpub.com 联系我们，并提供涉嫌盗版材料的链接。

我们感谢您在保护我们的作者和我们为您提供有价值内容的能力方面的帮助。

## 问题

如果您对本书的任何方面有问题，可以通过 questions@packtpub.com 联系我们，我们将尽力解决问题。
