- en: 14 Exploratory Data Analysis
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 14 探索性数据分析
- en: In *Chapter 13*, *Using Machine Learning without Premium or Embedded Capacity*,
    we mentioned that using **Auto Machine Learning** (**AutoML**) solutions on a
    dataset blindly often does not lead to very accurate models. This is because it
    is necessary to understand the most inherent characteristics of the dataset by
    using statistical tools at an earlier stage to extract useful information in order
    to get a better model.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在第13章*在不使用高级或嵌入式容量的情况下使用机器学习*中，我们提到，在数据集上盲目地使用**自动机器学习**（**AutoML**）解决方案通常不会导致非常精确的模型。这是因为需要通过在早期阶段使用统计工具来理解数据集的最内在特征，以便提取有用信息，从而获得更好的模型。
- en: The approach to be used for this type of dataset analysis is called **Exploratory
    Data Analysis** (**EDA**) and was first introduced by John Turkey to encourage
    statisticians to explore data and formulate hypotheses that would lead to new
    data collection and experiments to eventually enrich patterns among the variables
    in a dataset.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 用于此类数据集分析的方法被称为**探索性数据分析**（**EDA**），它最初由John Turkey提出，旨在鼓励统计学家探索数据并制定可能导致新的数据收集和实验的假设，从而最终丰富数据集中变量之间的模式。
- en: 'In this chapter, you will learn about the following topics:'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，你将了解以下主题：
- en: What is the goal of EDA?
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: EDA的目标是什么？
- en: Exploratory Data Analysis with Python and R
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用Python和R进行探索性数据分析
- en: Exploratory Data Analysis in Power BI
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Power BI中的探索性数据分析
- en: Technical requirements
  id: totrans-7
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 技术要求
- en: This chapter requires you to have a working internet connection and **Power
    BI Desktop** already installed on your machine. You must have properly configured
    the R and Python engines and IDEs as outlined in *Chapter 2*, *Configuring R with
    Power BI*, and *Chapter 3*, *Configuring Python with Power BI*.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 本章要求你拥有一个正常工作的互联网连接，并且**Power BI桌面版**已经安装在你的机器上。你必须已经按照第2章*配置Power BI中的R*和第3章*配置Power
    BI中的Python*中概述的方式正确配置了R和Python引擎以及IDE。
- en: What is the goal of EDA?
  id: totrans-9
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: EDA的目标是什么？
- en: The objective of EDA is to make sure that the dataset to be used later for more
    complex processes is first of all clean, that is, it has no missing values and
    no outliers that could divert possible subsequent analyses. In addition, it is
    important to select during this phase the variables that actually bring information,
    trying to drop those that determine mostly noise. This eliminates possible sources
    of inaccuracy in the conclusions to which subsequent processes lead. At this stage,
    it is also important to study the associations between variables and gain insights
    from the data analyzed in order to justify any more complex processing to be applied
    later.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: EDA的目标是确保随后用于更复杂过程的数据库首先必须是干净的，也就是说，它没有缺失值和异常值，这些异常值可能会扭曲可能后续的分析。此外，在这个阶段选择实际上带有信息的变量，并尝试删除那些主要决定噪声的变量，这对于消除可能导致后续过程得出结论的不准确来源至关重要。在这个阶段，研究变量之间的关联并从分析的数据中获得见解，以证明任何随后要应用的更复杂处理是重要的。
- en: 'Ultimately, the phases of EDA are as follows:'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 最终，数据探索性分析（EDA）的阶段如下：
- en: Understanding your data
  id: totrans-12
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 理解你的数据
- en: Cleaning your data
  id: totrans-13
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 清洗你的数据
- en: Discovering associations between variables
  id: totrans-14
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 发现变量之间的关联
- en: Let's look in detail at what types of analysis they involve.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们详细看看它们涉及哪些类型的分析。
- en: Understanding your data
  id: totrans-16
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 理解你的数据
- en: In this first phase, it is essential to understand the meaning that each variable
    takes on in the context of the problem that the dataset represents. Once the measurable
    business entities with which the variables are associated are clear, it is easier
    to draw conclusions about how they interact with each other.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个第一阶段，理解每个变量在数据集所代表的问题背景下的含义是至关重要的。一旦与变量关联的可度量的业务实体变得清晰，就更容易得出关于它们如何相互作用的结论。
- en: Having an idea of **the size of the dataset**, understood as the number of variables
    and the number of observations (rows), helps you get a first idea of the size
    of the data you will be dealing with. After that, identifying and immediately
    defining the **type of variables** involved (which can be numerical or categorical)
    is of crucial importance in order to visualize them in the most appropriate way.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 了解**数据集的大小**，即变量数量和观测数量（行数），有助于你获得将要处理的数据大小的初步概念。之后，立即识别并定义所涉及的**变量类型**（可以是数值型或分类型）对于以最合适的方式可视化它们至关重要。
- en: 'Then, knowing the **descriptive statistics** of the **numerical variables**
    in the dataset helps to have greater sensitivity about their values. For each
    numeric variable, you can represent its histogram by highlighting its skewness
    and boxplot to better analyze its distribution, as you have already studied in
    *Chapter 11*, *Adding Statistics Insights: Associations*.'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，了解数据集中**数值变量**的**描述性统计**有助于对它们的值有更大的敏感性。对于每个数值变量，你可以通过突出其偏度和箱线图来表示其直方图，以便更好地分析其分布，正如你在*第11章*中已经学习过的，*添加统计洞察：关联性*。
- en: 'For **categorical variables**, on the other hand, it is important to know the
    number of distinct categories and which characteristics of the observations they
    identify. It is possible to represent each unique category with its frequency
    and relative percentage of the total in a **bar chart**. Here is an example considering
    the Titanic disaster dataset:'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 对于**分类变量**而言，另一方面，了解不同类别的数量以及它们所识别的观测特征非常重要。可以使用**条形图**表示每个独特类别的频率和相对于总数的相对百分比。以下是一个考虑泰坦尼克号灾难数据集的例子：
- en: '![Figure 14.1 – Bar chart of Pclass](img/file368.png)'
  id: totrans-21
  prefs: []
  type: TYPE_IMG
  zh: '![图14.1 – Pclass的柱状图](img/file368.png)'
- en: Figure 14.1 – Bar chart of Pclass
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 图14.1 – Pclass的柱状图
- en: It is important to check whether more than one category has a very low frequency
    because it might make sense to aggregate them into a single category. This is
    usually done in a subsequent phase of a machine learning project (called **Feature
    Engineering**) in order to avoid, for example, having a model that is not generic
    enough for all the cases for which it must be adopted (the phenomenon of **overfitting**)
    and therefore determining bad performance.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 重要的是检查是否有一个以上的类别具有非常低的频率，因为这可能意味着将它们合并为一个类别是有意义的。这通常在机器学习项目的后续阶段（称为**特征工程**）中完成，以避免例如拥有一个不够通用的模型，该模型无法适用于它必须适应的所有情况（过度拟合的现象），因此确定其性能不佳。
- en: 'It is also very important to give the analyst the possibility of graphically
    representing a pair of variables in order to understand how they interact with
    each other (**multivariate analysis** of the dataset). The type of visualization
    obviously changes according to the data type of the variables involved: in the
    case of two numeric variables, you will have a scatter plot; in the case of two
    categorical variables, you will have a mosaic plot; in the case of one numeric
    and one categorical variable, you will have several boxplots (or raincloud plots)
    for each category.'
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 同样非常重要的一点是，给分析师提供图形化表示一对变量的可能性，以便理解它们如何相互作用（数据集的**多元分析**）。显然，可视化的类型会根据涉及的变量数据类型而变化：在两个数值变量的情况下，你将有一个散点图；在两个分类变量的情况下，你将有一个马赛克图；在一个数值变量和一个分类变量的情况下，你将为每个类别有几个箱线图（或雨云图）。
- en: At this point, we can move on to describing the phase that deals with data cleaning.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个阶段，我们可以继续描述处理数据清洗的阶段。
- en: Cleaning your data
  id: totrans-26
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 清洗你的数据
- en: 'As you learned in *Chapter 12*, *Adding Statistics Insights: Outliers and Missing
    Values*, the most important activities to obtain a statistically robust dataset
    that is as close as possible to the real case it represents are these two:'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 如你在*第12章*中学习的，*添加统计洞察：异常值和缺失值*，获得一个尽可能接近其所代表真实情况的统计稳健数据集最重要的活动是这两个：
- en: Determining **outliers** and managing them
  id: totrans-28
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 确定和处理**异常值**
- en: Imputing **missing values**
  id: totrans-29
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 填充**缺失值**
- en: During the EDA process, it is important to make use of all visual and non-visual
    tools useful to detect outliers and missing values in a straightforward way. This
    will allow any anomalies found to be fixed at a later stage.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 在EDA过程中，利用所有有助于直接检测异常值和缺失值的有用视觉和非视觉工具非常重要。这将允许在后续阶段修复发现的任何异常。
- en: As you have learned previously, for **univariate outlier analysis** it is very
    useful to represent individual distributions using boxplots for numeric variables.
    And it would also be very useful to be able to see what outliers remain or are
    added after transforming the variable via Yeo-Johnson transformations. That way
    you can see if it might be worth trying to normalize the distribution to deal
    with as few outliers as possible.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 如你之前所学的，对于**单变量异常值分析**，使用箱线图表示数值变量的单个分布非常有用。而且，在通过Yeo-Johnson变换转换变量后，能够看到哪些异常值仍然存在或被添加进来也非常有用。这样你可以看到是否值得尝试将分布标准化，以处理尽可能少的异常值。
- en: It is also convenient to be able to do a **bivariate analysis of the outliers**
    considering a numerical variable and a categorical one so that you study the anomalies
    of the distribution of the numerical variable broken down by each label of the
    categorical one.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 考虑到一个数值变量和一个分类变量，进行**异常值的双变量分析**也很方便，这样你可以研究数值变量分布的异常，这些异常被分类变量的每个标签所分解。
- en: After carefully studying and identifying possible outliers, it is also important
    to have a convenient visualization of combinations and intersections of **missing
    values** between variables. The goal is therefore to know not only the count and
    relative percentage value of the missing values of each variable, but also to
    have a convenient visualization of how these missing values interact with each
    other thanks to an upset plot.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 在仔细研究和识别可能的异常值之后，还很重要的一点是要有一个方便的变量之间**缺失值**的组合和交集的可视化。因此，目标不仅是了解每个变量的缺失值的数量和相对百分比值，还要通过
    upset 图方便地可视化这些缺失值是如何相互作用的。
- en: Finally, let’s turn to the analysis of associations between variables.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，让我们转向变量之间关联的分析。
- en: Discovering associations between variables
  id: totrans-35
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 发现变量之间的关联
- en: 'As you learned in *Chapter 11*, *Adding Statistics Insights: Associations*,
    knowing the **degree of association between variables** in the dataset certainly
    helps you understand which ones carry the most information and which ones generate
    mostly just noise. Selecting the most informative variables and using them for
    training a machine learning model certainly helps you to get more stable and performant
    results.'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 如你在第 11 章*添加统计洞察：关联*中学到的，了解数据集中变量之间的**关联程度**当然有助于你理解哪些变量携带了最多的信息，哪些变量主要产生噪音。选择最有信息的变量并将它们用于训练机器学习模型，无疑有助于你获得更稳定和性能更好的结果。
- en: Having visual tools to interpret the associations between pairs of numeric-numeric,
    numeric-categorical, and categorical-categorical variables certainly helps in
    the hard task of feature selection.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 拥有可视化工具来解释成对数值-数值、数值-分类和分类-分类变量之间的关联，无疑有助于特征选择的艰难任务。
- en: There are tools that allow you to generate EDA reports automatically. Let's
    see what they are.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 有一些工具可以让你自动生成 EDA 报告。让我们看看它们是什么。
- en: Exploratory Data Analysis with Python and R
  id: totrans-39
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 使用 Python 和 R 进行探索性数据分析
- en: If you have to do data exploration using only Python or R, there are tools that
    automatically generate a series of visuals that make your life easier. We have
    two lists below, one for Python tools, the other for R tools, in case you need
    any. It is easier to find tools for interactive data analysis in Python than in
    R. Packages available in R often provide wrappers that greatly simplify EDA via
    coding.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你必须仅使用 Python 或 R 进行数据探索，有一些工具可以自动生成一系列可视化，使你的生活变得更轻松。以下有两个列表，一个用于 Python
    工具，另一个用于 R 工具，以防你需要任何工具。在 Python 中找到交互式数据分析工具比在 R 中更容易。R 中可用的包通常提供包装器，这极大地简化了通过编码进行的
    EDA。
- en: 'The Python libraries for EDA are the following:'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 用于 EDA 的 Python 库如下：
- en: '**SweetVIZ** ([https://pypi.org/project/sweetviz/](https://pypi.org/project/sweetviz/)):
    An open source Python library that generates beautiful, high-density visualizations
    to kickstart EDA with just two lines of code.'
  id: totrans-42
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**SweetVIZ** ([https://pypi.org/project/sweetviz/](https://pypi.org/project/sweetviz/)):
    一个开源的 Python 库，通过仅用两行代码即可生成美观、高密度的可视化，从而启动 EDA。'
- en: '**Lux** ([https://lux-api.readthedocs.io/](https://lux-api.readthedocs.io/)):
    A Python library that facilitates fast and easy data exploration by automating
    the visualization and data analysis process.'
  id: totrans-43
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Lux** ([https://lux-api.readthedocs.io/](https://lux-api.readthedocs.io/)):
    一个通过自动化可视化过程和数据分析流程来简化快速和轻松数据探索的 Python 库。'
- en: '**Pandas Profiling** ([https://pandas-profiling.github.io/pandas-profiling/](https://pandas-profiling.github.io/pandas-profiling/)):
    Generates profile reports from a pandas dataframe for data analysis.'
  id: totrans-44
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Pandas Profiling** ([https://pandas-profiling.github.io/pandas-profiling/](https://pandas-profiling.github.io/pandas-profiling/)):
    从 pandas 数据框生成用于数据分析的概要报告。'
- en: '**PandasGUI** ([https://github.com/adamerose/pandasgui](https://github.com/adamerose/pandasgui)):
    A GUI for viewing, plotting, and analyzing pandas dataframes.'
  id: totrans-45
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**PandasGUI** ([https://github.com/adamerose/pandasgui](https://github.com/adamerose/pandasgui)):
    一个用于查看、绘图和分析 pandas 数据框的图形用户界面。'
- en: '**D-Tale** ([https://github.com/man-group/dtale](https://github.com/man-group/dtale)):
    The combination of a Flask backend and a React frontend to bring you an easy way
    to view and analyze pandas data structures.'
  id: totrans-46
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**D-Tale** ([https://github.com/man-group/dtale](https://github.com/man-group/dtale)):
    结合Flask后端和React前端，为您提供一个轻松查看和分析pandas数据结构的方法。'
- en: 'The R packages for EDA are the following:'
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: EDA的R包如下：
- en: '**ExPanDaR** ([https://github.com/joachim-gassen/ExPanDaR](https://github.com/joachim-gassen/ExPanDaR)):
    ExPanD is a Shiny-based app supporting interactive exploratory data analysis.'
  id: totrans-48
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**ExPanDaR** ([https://github.com/joachim-gassen/ExPanDaR](https://github.com/joachim-gassen/ExPanDaR)):
    ExPanD是一个基于Shiny的应用程序，支持交互式数据探索分析。'
- en: '**ggquickeda** ([https://github.com/smouksassi/ggquickeda](https://github.com/smouksassi/ggquickeda)):
    An R Shiny app/package that enables you to quickly explore your data and to detect
    trends on the fly thanks to scatterplots, dot plots, boxplots, bar plots, and
    so on.'
  id: totrans-49
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**ggquickeda** ([https://github.com/smouksassi/ggquickeda](https://github.com/smouksassi/ggquickeda)):
    一个R Shiny应用程序/包，使您能够快速探索数据，并通过散点图、点图、箱线图、条形图等实时检测趋势。'
- en: '**summarytools** ([https://github.com/dcomtois/summarytools](https://github.com/dcomtois/summarytools)):
    An R package for data cleaning, exploring, and simple reporting. It integrates
    well with commonly used software and tools for reporting in R (such as RStudio).'
  id: totrans-50
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**summarytools** ([https://github.com/dcomtois/summarytools](https://github.com/dcomtois/summarytools)):
    这是一个用于数据清洗、探索和简单报告的R包。它与R中常用的报告软件和工具（如RStudio）集成良好。'
- en: '**DataExplorer** ([https://boxuancui.github.io/DataExplorer/](https://boxuancui.github.io/DataExplorer/)):
    Aims to automate most data handling and visualization so that users can focus
    on studying the data and extracting insights.'
  id: totrans-51
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**DataExplorer** ([https://boxuancui.github.io/DataExplorer/](https://boxuancui.github.io/DataExplorer/)):
    目的是自动化大部分数据处理和可视化，使用户能够专注于研究数据和提取见解。'
- en: Take a look at the references for further details about the aforementioned tools.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 查看参考文献以获取有关上述工具的更多详细信息。
- en: If you want to take advantage of Power BI as a visualization tool, you unfortunately
    cannot use many of the visualizations automatically generated by the aforementioned
    Python tools. Therefore, we will use R packages to generate the necessary for
    basic EDA via code because R allows you to obtain very high-quality graphics of
    any complexity quite easily. Let's see how.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您想利用Power BI作为可视化工具，不幸的是，您无法使用上述Python工具自动生成的许多可视化。因此，我们将使用R包通过代码生成必要的用于基本EDA的内容，因为R可以非常容易地获得任何复杂性的高质量图形。让我们看看如何。
- en: Exploratory data analysis in Power BI
  id: totrans-54
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Power BI中的数据探索分析
- en: In this section, we will make extensive use of the `GGplot2` package, an advanced
    R library designed for creating plots based on **The Grammar of Graphics**. It
    is not our intention to go into detail about every feature exposed by the package,
    even if it is used quite widely in the code that accompanies the chapter. Our
    goal is, as always, to provide code that is easy to customize for use in other
    projects, and above all, to provide a starting point for a more detailed look
    at the functions used. For more details, take a look at the references of this
    chapter.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们将广泛使用`GGplot2`包，这是一个基于**图形语法**的高级R库，用于创建图表。我们并不打算详细介绍该包所暴露的每个功能，即使它在伴随章节的代码中得到了相当广泛的应用。我们的目标是，一如既往地，提供易于定制的代码，用于在其他项目中使用，最重要的是，提供一个更详细查看所用函数的起点。有关更多详细信息，请参阅本章的参考文献。
- en: 'In addition to the tools that Tidyverse provides in R (including `ggplot2`),
    we will also use the `summarytools` and `DataExplorer` packages to create EDA
    reports in Power BI. It is therefore necessary to install them:'
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 除了Tidyverse在R中提供的工具（包括`ggplot2`）之外，我们还将使用`summarytools`和`DataExplorer`包在Power
    BI中创建EDA报告。因此，安装它们是必要的：
- en: Open RStudio and make sure it is referencing your latest CRAN R (version 4.0.2
    in our case).
  id: totrans-57
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开RStudio并确保它引用的是您最新的CRAN R（在我们的例子中是版本4.0.2）。
- en: 'Click on the **Console** window and enter this command: `install.packages(''Rcpp'')`.
    It’s a `summarytools` dependency. Then, press *Enter*.'
  id: totrans-58
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**控制台**窗口并输入以下命令：`install.packages('Rcpp')`。这是一个`summarytools`的依赖项。然后，按*Enter*键。
- en: 'Enter this command: `install.packages(''summarytools'')`. Then, press *Enter*.'
  id: totrans-59
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 输入以下命令：`install.packages('summarytools')`。然后，按*Enter*键。
- en: 'Enter this command: `install.packages(''DataExplorer'')`. Then, press *Enter*.'
  id: totrans-60
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 输入以下命令：`install.packages('DataExplorer')`。然后，按*Enter*键。
- en: At this point, we can start implementing our EDA reports. First, however, it
    is important to highlight the fact that the data type of variables must be defined
    in each R script you will use in your report.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 在这一点上，我们可以开始实施我们的EDA报告。然而，首先重要的是强调，在您的报告中使用的每个R脚本中都必须定义变量的数据类型。
- en: '**Important Note**'
  id: totrans-62
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**重要提示**'
- en: ''
  id: totrans-63
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: For the purpose of EDA, it is important to define the data type of variables
    in the dataset to be analyzed. Depending on the data types of the features, different
    analysis strategies are applied. The data types of columns of a Power BI table
    in the data model are not mappable one-to-one with the data types handled by R.
    Therefore, it is necessary to define the data types of the columns directly in
    an R script to prevent Power BI from overwriting them.
  id: totrans-64
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 为了进行数据探索分析（EDA），定义要分析的数据集中的变量数据类型非常重要。根据特征的数据类型，应用不同的分析策略。数据模型中Power BI表的列的数据类型不能与R处理的数据类型一一对应。因此，需要在R脚本中直接定义列的数据类型，以防止Power
    BI覆盖它们。
- en: 'Moreover, the `00-init-dataset.R` script that you will find in the `Chapter14\R`
    folder will be used as the *official CSV connector* of your EDA report in Power
    BI as in this case it is more convenient to load data directly into R for each
    script in which it is used. After loading your data in it, you need to define
    the columns to drop, the categorical and integer ones. Columns specified as integers
    will be viewed as either numeric or categorical variables, leaving the analyst
    to select them according to the function that best describes the phenomenon under
    analysis. All the other columns are supposed to be numeric:'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，您将在`Chapter14\R`文件夹中找到的`00-init-dataset.R`脚本将用作EDA报告在Power BI中的**官方CSV连接器**，因为在这种情况下，将数据直接加载到R中用于每个脚本更为方便。在加载您的数据后，您需要定义要删除的列，包括分类和整数字段。指定为整数的列将被视为数值或分类变量，由分析师根据最能描述分析现象的函数来选择。所有其他列都应视为数值：
- en: '[PRE0]'
  id: totrans-66
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: If you need to import an Excel file instead of a CSV file, you already know
    how to implement changes to the code because of what you learned in *Chapter 7*,
    *Logging Data from Power BI to External Sources*.
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您需要导入Excel文件而不是CSV文件，您已经知道如何根据在*第7章*中学到的知识对代码进行更改。
- en: 'Then the script will define the `tbl` tibble applying the appropriate transformations:'
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 然后脚本将定义应用适当转换的`tbl` tibble：
- en: '[PRE1]'
  id: totrans-69
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: This script will be pre-loaded into every other R script you develop for the
    EDA report so that you are sure to have the dataset with the precise data types
    specified ready in memory.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 此脚本将预先加载到您为EDA报告开发的每个其他R脚本中，以确保您在内存中准备好具有精确数据类型的特定数据集。
- en: So, let's start developing the report from the basic statistics of the dataset.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，让我们从数据集的基本统计信息开始开发报告。
- en: Dataset summary page
  id: totrans-72
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 数据集摘要页面
- en: 'The first page of the EDA report is responsible for providing the analyst with
    an overview of the data contained in the dataset. Some **basic information** will
    be exposed enriching the output of the function `introduce()` of the `DataExplorer`
    package. This information is as follows:'
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: EDA报告的第一页负责向分析师提供数据集中包含数据的概述。一些**基本信息**将通过`DataExplorer`包的`introduce()`函数的输出得到展示。这些信息如下：
- en: Number of rows and columns
  id: totrans-74
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 行和列的数量
- en: Number of discrete (categorical) and continuous (numeric) columns
  id: totrans-75
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 离散（分类）和连续（数值）列的数量
- en: Number of columns having all missing values
  id: totrans-76
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 所有缺失值的列数
- en: Total number of missing values in the dataset
  id: totrans-77
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 数据集中缺失值的总数
- en: Number of complete rows, that is, not having missing values
  id: totrans-78
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 完整行的数量，即没有缺失值
- en: Total number of observations in the dataset, given by the number of rows multiplied
    by the number of columns
  id: totrans-79
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 数据集中观测值的总数，即行数乘以列数
- en: Memory used in KB
  id: totrans-80
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 内存使用量（以KB为单位）
- en: Number of duplicated rows
  id: totrans-81
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 重复行的数量
- en: 'Then a **summary statistics table** for the entire dataset is calculated starting
    from the output of the `dfSummary()` function of the `summarytools` package. The
    information it contains for each variable is as follows:'
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 然后从`summarytools`包的`dfSummary()`函数的输出开始计算整个数据集的**摘要统计表**。它包含的每个变量的信息如下：
- en: Variable name and data type
  id: totrans-83
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 变量名和数据类型
- en: Basic statistics according to the data type
  id: totrans-84
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 根据数据类型的基本统计信息
- en: Number of unique valid values (not null)
  id: totrans-85
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 唯一有效值的数量（非空）
- en: Frequencies of valid values
  id: totrans-86
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 有效值的频率
- en: Number of valid values and their percentage
  id: totrans-87
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 有效值的数量及其百分比
- en: Number of missing values and their percentage
  id: totrans-88
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 缺失值的数量及其百分比
- en: 'Finally, more extensive **descriptive statistics** are provided for numerical
    variables thanks to the `descr()` function of the `summarytools` package. In addition
    to the most common ones, the following statistics are added:'
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，由于 `summarytools` 包的 `descr()` 函数，提供了更多关于数值变量的详细统计信息。除了最常见的统计信息外，还添加了以下统计信息：
- en: '**Median Absolute Deviation** (*mad*): Contrary to the variance and standard
    deviation, it is a robust measure of outliers of how widespread a dataset is.
    It is usually used for non-normal distributions.'
  id: totrans-90
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**中位数绝对偏差** (*mad*): 与方差和标准差不同，它是对数据集分布广泛程度的鲁棒性度量。它通常用于非正态分布。'
- en: '**Interquartile range** (*iqr*): As you already saw for the boxplots, it is
    a measure of where the bulk of the distribution values lie.'
  id: totrans-91
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**四分位距** (*iqr*): 正如您在箱线图中看到的，它是分布值大部分所在位置的度量。'
- en: '**Coefficient of variation** (*cv*): It is a measure of relative variability
    as it is the ratio of the standard deviation to the mean.'
  id: totrans-92
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**变异系数** (*cv*): 它是相对变异性的度量，因为它是有标准差与平均值的比率。'
- en: '**Coefficient of skewness** (*skewness*): It is a measure of the lack of distribution
    symmetry.'
  id: totrans-93
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**偏度系数** (*skewness*): 它是衡量分布对称性缺乏的度量。'
- en: '**Kurtosis** (*kurtosis*): It is a measure of whether the data is heavy-tailed
    or light-tailed relative to a normal distribution.'
  id: totrans-94
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**峰度** (*kurtosis*): 它是衡量数据相对于正态分布是重尾还是轻尾的度量。'
- en: With this information, the analyst can get a complete picture of the shape of
    the data contained in the dataset.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 通过这些信息，分析师可以全面了解数据集中包含的数据的形状。
- en: 'Let''s see how to implement them in Power BI. First, make sure that Power BI
    Desktop references the correct versions of R in **Options**. Then follow these
    steps:'
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们看看如何在 Power BI 中实现它们。首先，确保 Power BI Desktop 在 **选项** 中引用了正确的 R 版本。然后按照以下步骤操作：
- en: Click on **Get Data**, search for `script`, select **R script**, and click on
    **Connect**.
  id: totrans-97
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击 **获取数据**，搜索 `script`，选择 **R 脚本**，然后点击 **连接**。
- en: Enter the script you can find in the file `01-basic-info.R` into the `Chapter14\R`
    folder. Make sure that the `init_path` variable points to the correct absolute
    path of the `00-init-dataset.R` file you can find in the same folder.
  id: totrans-98
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将您在文件 `01-basic-info.R` 中找到的脚本输入到 `Chapter14\R` 文件夹中。确保 `init_path` 变量指向同一文件夹中可以找到的
    `00-init-dataset.R` 文件的正确绝对路径。
- en: In the navigator dialog, select the `basic_info_tbl`, the `numeric_vars_descr_stats_tbl`,
    the `summary_tbl`, and the `sample_tbl` tables. Then click on **Load**.
  id: totrans-99
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在导航对话框中，选择 `basic_info_tbl`、`numeric_vars_descr_stats_tbl`、`summary_tbl` 和 `sample_tbl`
    表。然后点击 **加载**。
- en: 'After the four tables are loaded in the **Fields** panel on the right in Power
    BI Desktop, you can add them into your report canvas simply by checking their
    measures. For example, expand the `basic_info_tbl` content and check the fields
    `attribute` (string field) and `value` (numeric field) in this order to get a
    table chart (if you click on the numeric field first, you’ll get a column chart).
    A table will appear on your canvas:'
  id: totrans-100
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 Power BI Desktop 右侧的 **字段** 面板上加载了四个表之后，您可以通过勾选它们的度量来简单地将它们添加到您的报告画布中。例如，展开
    `basic_info_tbl` 内容，并按此顺序检查字段 `attribute`（字符串字段）和 `value`（数值字段），以获取表格图表（如果您首先点击数值字段，您将得到柱状图）。画布上会出现一个表格：
- en: '![Figure 14.2 – Basic info table in its first state](img/file369.png)'
  id: totrans-101
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![图 14.2 – 首次状态的基本信息表](img/file369.png)'
- en: Figure 14.2 – Basic info table in its first state
  id: totrans-102
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 14.2 – 首次状态的基本信息表
- en: In this case, the **Total** row makes no sense. Therefore, it must be eliminated
    working on the **Format** properties of the visual.
  id: totrans-103
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在这个例子中，**总计** 行没有意义。因此，必须在视觉的 **格式** 属性上将其消除。
- en: Make sure that the table visual is selected and then click on the **Format**
    options (the wall brush icon) on the **Visualizations** panel on the right. Expand
    the **Total** section and switch off the **Total** option. Then expand the **Field
    formatting** section, select the `value` field from the combo box, and enter `0`
    into the **Value decimal places** textbox. Finally, switch on the **Title** option
    and expand its options. Then enter the label `Basic Dataset Info` in the textbox.
  id: totrans-104
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确保选择了表格视觉，然后点击右侧 **可视化** 面板上的 **格式** 选项（墙刷图标）。展开 **总计** 部分，关闭 **总计** 选项。然后展开
    **字段格式化** 部分，从组合框中选择 `value` 字段，并在 **值小数位数** 文本框中输入 `0`。最后，打开 **标题** 选项并展开其选项。然后在文本框中输入标签
    `Basic Dataset Info`。
- en: 'Now click on an empty spot on the canvas, expand the `summary_tbl` fields and
    check them in the following order: **Variable**, **Stats Values**, **Unique Valid**,
    **Freq of Valid**, **Valid**, and **Missing**. After that, expand the right edge
    of the visual in order to see all the columns.'
  id: totrans-105
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，在画布上的一个空白位置单击，展开`summary_tbl`字段，并按照以下顺序检查：**变量**，**统计值**，**唯一有效**，**有效频率**，**有效**，和**缺失**。之后，展开视觉的右侧边缘，以便查看所有列。
- en: 'As done in *Step 5* for the `basic_info_tbl` table, remove the **Total** row
    also for this table and use this string as the label: `Dataset Summary`.'
  id: totrans-106
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如同在**步骤 5**中对`basic_info_tbl`表格所做的那样，也删除此表格的**总计**行，并使用此字符串作为标签：`Dataset Summary`。
- en: 'Now click on an empty spot on the canvas, expand the `numeric_vars_descr_stats_tbl`
    fields, and check them in the following order: **variable**, **mean**, **sd**,
    **min**, **q1**, **med**, **q3**, **max**, **mad**, **iqr**, **cv**, **skewness**,
    and **kurtosis**. After that, expand the right edge of the visual in order to
    see all the columns.'
  id: totrans-107
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，在画布上的一个空白位置单击，展开`numeric_vars_descr_stats_tbl`字段，并按照以下顺序检查：**变量**，**平均值**，**标准差**，**最小值**，**四分位数
    1**，**中位数**，**四分位数 3**，**最大值**，**绝对偏差**，**四分位距**，**变异系数**，**偏度**，和**峰度**。之后，展开视觉的右侧边缘，以便查看所有列。
- en: 'For this table, also remove the **Total** row and use this string as the label:
    `Descriptive Statistics for Numeric Variables`.'
  id: totrans-108
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对于这个表格，也删除**总计**行，并使用以下字符串作为标签：`Descriptive Statistics for Numeric Variables`。
- en: Now click on an empty spot on the canvas, expand the `sample_tbl` fields, and
    check them all in the order you want after checking **Name** first (checking a
    non-numeric field at the beginning, the visual selected by default will be the
    table).
  id: totrans-109
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，在画布上的一个空白位置单击，展开`sample_tbl`字段，并在检查**名称**之后按照你想要的顺序检查所有字段（在开始检查非数字字段时，默认选择的视觉将是表格）。
- en: 'For this table, also remove the **Total** row and use this string as the label:
    `Dataset Sample`.'
  id: totrans-110
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对于这个表格，也删除**总计**行，并使用以下字符串作为标签：`Dataset Sample`。
- en: 'After repositioning the visuals on the canvas and expanding the individual
    table columns a bit, you''ll get your first EDA report page, like the following:'
  id: totrans-111
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在画布上重新定位视觉元素并稍微扩展单个表格列之后，你将得到你的第一个 EDA 报告页面，如下所示：
- en: '![Figure 14.3 – Summary page of the EDA report](img/file370.png)'
  id: totrans-112
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![图 14.3 – EDA 报告的摘要页面](img/file370.png)'
- en: Figure 14.3 – Summary page of the EDA report
  id: totrans-113
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 14.3 – EDA 报告的摘要页面
- en: Just rename the page (right-click on the bottom page tab and click **Rename
    Page**) using the label `Summary`.
  id: totrans-114
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 只需使用标签`摘要`重命名页面（右键单击底部页面标签并点击**重命名页面**）。
- en: 'Keep the following in mind:'
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 请记住以下几点：
- en: '**Important Note**'
  id: totrans-116
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**重要提示**'
- en: ''
  id: totrans-117
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: In order to display the sample details of the dataset, you must properly select
    its fields in Power BI Desktop. This means that if you want to change the source
    dataset, you must edit the sample details visual by hand.
  id: totrans-118
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 为了显示数据集的样本细节，你必须在 Power BI Desktop 中正确选择其字段。这意味着，如果你想更改源数据集，你必须手动编辑样本细节视觉。
- en: Nice work! You just developed the first page of your EDA report.
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 干得好！你刚刚开发了你的 EDA 报告的第一页。
- en: Let’s now try to develop a page dedicated to the analysis of missing values.
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们现在尝试开发一个专门用于分析缺失值的页面。
- en: Missing values exploration
  id: totrans-121
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 缺失值探索
- en: Although some information about the missing values is present in text format
    on the newly developed **Summary** page, providing a page containing visuals dedicated
    to the missing values is definitely an advantage for the analyst.
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然一些关于缺失值的信息以文本格式出现在新开发的**摘要**页面上，但提供一个包含专门针对缺失值的视觉的页面对于分析师来说绝对是一个优势。
- en: 'In addition to displaying a simple **lollipop plot** indicating the percentage
    values of missing values for each variable, you will also use an **upset plot**
    to allow the analyst to figure out which combinations of variables are found to
    be missing altogether, just as you learned in *Chapter 12*, *Adding Statistics
    Insights: Outliers and Missing Values*.'
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 除了显示表示每个变量缺失值百分比的简单**棒棒糖图**外，你还将使用** upset 图**来允许分析师找出哪些变量的组合被发现完全缺失，正如你在**第
    12 章**，**添加统计洞察：异常值和缺失值**中学到的那样。
- en: 'So, let’s start to develop the **Associations** page:'
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，让我们开始开发**关联**页面：
- en: If it does not already exist, create a new Power BI report page by clicking
    on the plus icon near the tabs at the bottom of the canvas. A new tab named **Page
    1** will be created.
  id: totrans-125
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果尚未存在，通过在画布底部的标签附近单击加号图标创建一个新的 Power BI 报告页面。将创建一个名为**页面 1**的新标签。
- en: Now click on an empty spot in the report canvas first. Then click on the **R
    Visual** icon in the **Visualizations** pane and enable it when you’re prompted
    to do so. After that, move it to the left of the page and resize it in order to
    fill half of it.
  id: totrans-126
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 首先，在报告画布上的一个空白处点击。然后点击**可视化**面板中的**R Visual**图标，并在提示时启用它。之后，将其移动到页面左侧，并调整大小以填充一半。
- en: Keeping it selected, click on the `attribute` field of the `basic_info_tbl`
    table. You won't use this field in the R Visual code, but you must select at least
    one measure to enable the script in the visual.
  id: totrans-127
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 保持选中状态，点击`basic_info_tbl`表的`attribute`字段。你不会在R Visual代码中使用这个字段，但你必须选择至少一个度量来启用可视化中的脚本。
- en: Now click on the R Visual’s **Format** tab and under the **Title** section,
    enter the string `Missing Value Percentages` as the title.
  id: totrans-128
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在点击R Visual的**格式**选项卡，并在**标题**部分输入字符串`缺失值百分比`作为标题。
- en: Copy the code of the file `02-missing-values-plot-1.R` into the `Chapter14\R`
    folder and paste it into the R Visual script editor. Then click on the **Run script**
    arrow icon at the top right of the R script editor (enable the R Visual every
    time it’s requested). You’ll get the lollipop plot in it.
  id: totrans-129
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将文件`02-missing-values-plot-1.R`的代码复制到`Chapter14\R`文件夹中，并将其粘贴到R Visual脚本编辑器中。然后点击R脚本编辑器右上角的**运行脚本**箭头图标（每次请求时启用R
    Visual）。你将在其中得到棒棒糖图。
- en: Click again on an empty spot in the report canvas first. Then click on the **R
    Visual** icon in the **Visualizations** pane, and enable it when you’re prompted
    to do so. After that, move it to the right of the page and resize it in order
    to fill half of it.
  id: totrans-130
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 再次在报告画布上的一个空白处点击。然后点击**可视化**面板中的**R Visual**图标，并在提示时启用它。之后，将其移动到页面右侧，并调整大小以填充一半。
- en: Keeping it selected, click on the `attribute` field of the `basic_info_tbl`
    table. You won't use this field in the R Visual code, but you must select at least
    one measure to enable the script in the visual.
  id: totrans-131
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 保持选中状态，点击`basic_info_tbl`表的`attribute`字段。你不会在R Visual代码中使用这个字段，但你必须选择至少一个度量来启用可视化中的脚本。
- en: Now click on the R Visual’s **Format** tab and under the **Title** section,
    enter the string `Variables Missing Together` as the title.
  id: totrans-132
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在点击R Visual的**格式**选项卡，并在**标题**部分输入字符串`变量同时缺失`作为标题。
- en: Copy the code of the file `03-missing-values-plot-2.R` into the `Chapter14\R`
    folder and paste it into the R Visual script editor. Then click on the **Run script**
    arrow icon at the top right of the R script editor (enable the R Visual every
    time it’s requested). You’ll get the upset plot in it.
  id: totrans-133
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将文件`03-missing-values-plot-2.R`的代码复制到`Chapter14\R`文件夹中，并将其粘贴到R Visual脚本编辑器中。然后点击R脚本编辑器右上角的**运行脚本**箭头图标（每次请求时启用R
    Visual）。你将在其中得到 upset 图。
- en: Just rename the current page (right-click on the tab at the bottom of the page
    and click **Rename Page**) using the label `Missing Values Analysis`.
  id: totrans-134
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 只需将当前页面重命名（在页面底部的标签上右键单击并点击**重命名页面**）使用标签`缺失值分析`。
- en: 'Nice one! It is now much easier for the analyst to understand the impact of
    missing values on the dataset. The whole page will be like the following one:'
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 很好！现在分析师理解缺失值对数据集的影响要容易得多。整个页面将如下所示：
- en: '![Figure 14.4 – Missing values analysis page of the EDA report](img/file371.png)'
  id: totrans-136
  prefs: []
  type: TYPE_IMG
  zh: '![图14.4 – EDA报告的缺失值分析页面](img/file371.png)'
- en: Figure 14.4 – Missing values analysis page of the EDA report
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 图14.4 – EDA报告的缺失值分析页面
- en: Let’s now turn to developing a page dedicated to univariate analysis of the
    dataset.
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 现在让我们转向开发一个专门用于数据集单变量分析的页面。
- en: Univariate exploration
  id: totrans-139
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 单变量探索
- en: The one-dimensional analysis of a dataset consists of the analysis of the distributions
    of the variables that compose it. Depending on the data type of the variables,
    the visual tools used to facilitate this analysis are different.
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 数据集的一维分析包括对其组成变量的分布的分析。根据变量的数据类型，用于辅助这一分析的可视化工具不同。
- en: 'For the analysis of numerical variables, a couple of graphs are used to better
    delineate their distribution: there is a **histogram and density plot** overlapping
    in the first graph, while in the second graph there is a **raincloud plot** (the
    set of a density plot and a boxplot). In *Figure 14.5*, you can find an example
    of the graphs for a numeric variable:'
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 对于数值变量的分析，使用几个图表来更好地描绘它们的分布：第一张图中有**直方图和密度图**重叠，而在第二张图中有一个**雨云图**（密度图和箱线图的组合）。在*图14.5*中，你可以找到一个数值变量图表的例子：
- en: '![Figure 14.5 – Histogram and density plot of Age](img/file372.png)'
  id: totrans-142
  prefs: []
  type: TYPE_IMG
  zh: '![图 14.5 – 年龄的直方图和密度图](img/file372.png)'
- en: Figure 14.5 – Histogram and density plot of Age
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 图 14.5 – 年龄的直方图和密度图
- en: 'For categorical variables, a simple **bar chart** is used, with the intention
    of limiting the maximum number of distinct categories to be displayed so that
    they don’t exceed a predefined number, and grouping the other categories in the
    dummy **others** category:'
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 对于分类变量，使用简单的**条形图**，目的是限制显示的不同类别的最大数量，以免超过预定义的数量，并将其他类别分组到虚拟的**其他**类别中：
- en: '![Figure 14.6 – Bar chart of the Cabin variable](img/file373.png)'
  id: totrans-145
  prefs: []
  type: TYPE_IMG
  zh: '![图 14.6 – 舱位变量的条形图](img/file373.png)'
- en: Figure 14.6 – Bar chart of the Cabin variable
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 图 14.6 – 舱位变量的条形图
- en: The selection of variables to be displayed in Power BI is done through drop-down
    slicers. If a variable is of the integer type, it appears both in the dropdown
    of the numerical variables and in that of the categorical variables, so the analyst
    can visualize them in the way that they consider more appropriate.
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 在 Power BI 中显示变量的选择是通过下拉筛选器完成的。如果一个变量是整型，它将同时出现在数值变量的下拉列表和分类变量的下拉列表中，这样分析师就可以以他们认为更合适的方式可视化它们。
- en: 'Since the graphs will need to be displayed via R Visuals, should you wish to
    publish the EDA report to the Power BI service, you must ensure that the R packages
    to be used are compatible with the version of the R engine found on the Power
    BI service. Remember also that Power BI Desktop can reference only one R engine
    at a time, which will be the one used for both Power Query and R Visuals on your
    machine. So, if you plan to use the latest R engine for Power Query once the report
    is published, you should also install the packages needed to render the report
    on this engine in your machine. This way you ensure that the report is rendered
    correctly on Power BI Desktop as well during your tests:'
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 由于图表将通过 R Visuals 显示，如果你希望将 EDA 报告发布到 Power BI 服务，你必须确保要使用的 R 包与 Power BI 服务上找到的
    R 引擎版本兼容。记住，Power BI Desktop 一次只能引用一个 R 引擎，这将是你在机器上用于 Power Query 和 R Visuals
    的引擎。因此，如果你计划在报告发布后使用最新的 R 引擎进行 Power Query，你也应该安装在此引擎上渲染报告所需的包。这样，你确保在测试期间 Power
    BI Desktop 上报告也能正确渲染：
- en: Open RStudio and make sure it is referencing your CRAN R dedicated to R Visuals
    (version 3.4.4 in our case).
  id: totrans-149
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开 RStudio 并确保它引用的是你的 CRAN R 专门用于 R Visuals（在我们的案例中是版本 3.4.4）。
- en: 'Click on the **Console** window and enter this command: `install.packages(''cowplot'')`.
    It’s like an extension of `ggplot2`, providing themes and functions to align,
    arrange, and annotate plots. Then, press *Enter*.'
  id: totrans-150
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击 **控制台** 窗口并输入以下命令：`install.packages('cowplot')`。它类似于 `ggplot2` 的扩展，提供对齐、排列和注释图表的主题和函数。然后，按
    *Enter*。
- en: 'Enter this command: `install.packages(''ggpubr'')`. It provides some easy-to-use
    functions for creating and customizing `ggplot2` based publication-ready plots.
    Then, press *Enter*.'
  id: totrans-151
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 输入以下命令：`install.packages('ggpubr')`。它提供了一些易于使用的函数，用于创建和自定义基于 `ggplot2` 的出版物图表。然后，按
    *Enter*。
- en: 'Enter this command: `install.packages(''ggExtra'')`. It is a collection of
    functions and layers to enhance `ggplot2`, mostly used for its `ggMarginal` function,
    which adds marginal histograms/boxplots/density plots to scatterplots. Then, press
    *Enter*.'
  id: totrans-152
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 输入以下命令：`install.packages('ggExtra')`。这是一个函数和层的集合，用于增强 `ggplot2`，主要用于其 `ggMarginal`
    函数，该函数向散点图添加边缘直方图/箱线图/密度图。然后，按 *Enter*。
- en: 'Enter this command: `install.packages(''RColorBrewer'')`. It is an essential
    tool to manage colors and palettes with R. Then, press *Enter*.'
  id: totrans-153
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 输入以下命令：`install.packages('RColorBrewer')`。它是管理 R 中的颜色和调色板的一个基本工具。然后，按 *Enter*。
- en: 'Enter this command: `install.packages(''ggmosaic'')`. It is designed to create
    visualizations of categorical data, in particular mosaic plots. Then, press *Enter*.'
  id: totrans-154
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 输入以下命令：`install.packages('ggmosaic')`。它旨在创建分类数据的可视化，特别是mosaic图。然后，按 *Enter*。
- en: 'Enter this command: `install.packages(''` `ggdist'')`. It is designed to create
    visualizations of categorical data, in particular mosaic plots. Then, press *Enter*.'
  id: totrans-155
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 输入以下命令：`install.packages('` `ggdist')`。它旨在创建分类数据的可视化，特别是mosaic图。然后，按 *Enter*。
- en: Change the RStudio R reference to your CRAN R dedicated to Power Query (version
    4.0.2 in our case) and restart RStudio.
  id: totrans-156
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将 RStudio R 引用更改为你的 CRAN R 专门用于 Power Query（在我们的案例中是版本 4.0.2）并重新启动 RStudio。
- en: Repeat steps 2 to 7.
  id: totrans-157
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 重复步骤 2 到 7。
- en: 'Now you can start developing the new page of your report dedicated to the univariate
    analysis of the dataset:'
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，你可以开始开发你报告的新页面，该页面专注于数据集的单变量分析：
- en: If it does not already exist, create a new Power BI report page by clicking
    on the plus icon near the tabs at the bottom of the canvas. A new tab named **Page
    1** will be created.
  id: totrans-159
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果尚未存在，通过点击画布底部的标签附近的加号图标创建一个新的Power BI报表页面。将创建一个名为**页面1**的新标签页。
- en: Click on **Get Data**, search for `script`, select **R script**, and click on
    **Connect**.
  id: totrans-160
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**获取数据**，搜索`script`，选择**R脚本**，然后点击**连接**。
- en: Enter the script you can find in the file `04-serialize-univariate-plots.R`
    into the `Chapter14\R` folder. Make sure that the `folder` variable points to
    the correct absolute path of the `Chapter14` folder.
  id: totrans-161
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将文件`04-serialize-univariate-plots.R`中的脚本输入到`Chapter14\R`文件夹中。确保`folder`变量指向`Chapter14`文件夹的正确绝对路径。
- en: In the navigator dialog, select the `basic_info_tbl`, the `numeric_vars_descr_stats_tbl`,
    the `summary_tbl`, and the `sample_tbl` tables. Then click on **Load**.
  id: totrans-162
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在导航对话框中，选择`basic_info_tbl`、`numeric_vars_descr_stats_tbl`、`summary_tbl`和`sample_tbl`表。然后点击**加载**。
- en: 'This script serializes to disk the lists with the graphs associated with each
    variable according to their type. Once you click **OK**, you will find the following
    files on disk: `histodensity_lst.rds`, `histodensity_transf_lst.rds` (numerical
    variables transformed according to Yeo-Johnson), and `barchart_lst.rds`. Pre-computing
    lists of graphs and serializing them to disk is a good strategy when the possible
    combinations of the variables involved are low.'
  id: totrans-163
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 此脚本将每个变量相关的图表列表序列化到磁盘，根据其类型。一旦你点击**确定**，你将在磁盘上找到以下文件：`histodensity_lst.rds`、`histodensity_transf_lst.rds`（根据Yeo-Johnson转换的数值变量），以及`barchart_lst.rds`。当涉及变量的可能组合较少时，预先计算图表列表并将它们序列化到磁盘是一个好策略。
- en: 'In the Navigator dialog, select the `categorical_df` and `numeric_df` tables.
    As you can see, the `numeric_df` table contains the names of the numeric variables
    in the `numeric_col_name` column repeated twice, once for each type of transformation
    in the `transf_type` column to be applied to them (`standard` and `yeo-johnson`):'
  id: totrans-164
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在导航对话框中，选择`categorical_df`和`numeric_df`表。正如你所见，`numeric_df`表包含`numeric_col_name`列中数值变量的名称，重复两次，一次对应于`transf_type`列中要应用于它们的每种转换类型（`standard`和`yeo-johnson`）：
- en: '![Figure 14.7 – numeric_df table’s content](img/file374.png)'
  id: totrans-165
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![图14.7 – numeric_df表的内容](img/file374.png)'
- en: Figure 14.7 – numeric_df table’s content
  id: totrans-166
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图14.7 – numeric_df表的内容
- en: Then click on **Load**.
  id: totrans-167
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 然后，点击**加载**。
- en: Click on the slicer visual icon. Then expand the `numeric_df` table under the
    **Fields** panel and check the `numeric_col_name` measure.
  id: totrans-168
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击切片器的视觉图标。然后展开**字段**面板下的`numeric_df`表，并检查`numeric_col_name`度量。
- en: Click on the downward-pointing arrow at the top right of the slicer to select
    the **Dropdown** slicer type.
  id: totrans-169
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击切片器右上角的向下箭头以选择**下拉**切片器类型。
- en: Resize the bottom edge of the slicer, click on its **Format** options, switch
    on the **Single select** one under **Selection controls**, switch off the **Slicer
    header** one, and add the **Title** `Numeric Variables`.
  id: totrans-170
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 调整切片器的底部边缘，点击其**格式**选项，在**选择控件**下打开**单选**，关闭**切片器标题**，并添加**标题**`数值变量`。
- en: Click on an empty spot in the report canvas first. Then click on the slicer
    visual icon. Then expand the `numeric_df` table under the **Fields** panel and
    check the `transf_type` measure.
  id: totrans-171
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 首先点击报表画布上的空白处。然后点击切片器视觉图标。然后展开**字段**面板下的`numeric_df`表，并检查`transf_type`度量。
- en: Click on the downward-pointing arrow at the top right of the slicer to select
    the **Dropdown** slicer type.
  id: totrans-172
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击切片器右上角的向下箭头以选择**下拉**切片器类型。
- en: Resize the bottom edge of the slicer, click on its **Format** options, switch
    on the **Single select** one under **Selection controls**, switch off the **Slicer
    header** one, and add the **Title** `Transformations`.
  id: totrans-173
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 调整切片器的底部边缘，点击其**格式**选项，在**选择控件**下打开**单选**，关闭**切片器标题**，并添加**标题**`转换`。
- en: Now click on an empty spot in the report canvas first. Then click on the **R
    Visual** icon in the **Visualizations** pane and enable it when you’re prompted
    to do so. After that, move it under the two slicers you’ve just created.
  id: totrans-174
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，首先点击报表画布上的空白处。然后点击**可视化**面板中的**R视觉**图标，并在提示时启用它。之后，将其移动到刚刚创建的两个切片器下面。
- en: Keeping it selected, click on both fields of the **numeric_df** table (**numeric_col_name**
    and **transf_type**).
  id: totrans-175
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 保持选中状态，点击**numeric_df**表的两个字段（**numeric_col_name**和**transf_type**）。
- en: Now click on the R Visual’s **Format** tab and switch off the **Title** option.
  id: totrans-176
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，点击R视觉的**格式**选项卡并关闭**标题**选项。
- en: 'Copy the code of the file `05-plot-numeric-variables.R` into the `Chapter14\R`
    folder and paste it into the R Visual script editor. Then click on the **Run script**
    arrow icon at the top right of the R script editor (enable the R Visual every
    time it’s requested). You’ll get the univariate analysis of the not transformed
    `Age` variable:'
  id: totrans-177
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将文件 `05-plot-numeric-variables.R` 的代码复制到 `Chapter14\R` 文件夹中，并将其粘贴到 R Visual
    脚本编辑器中。然后点击 R 脚本编辑器右上角的 **运行脚本** 箭头图标（每次请求时启用 R Visual）。你将得到未变换的 `Age` 变量的单变量分析：
- en: '![Figure 14.9 – Univariate analysis of the Age variable](img/file375.png)'
  id: totrans-178
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![图 14.9 – 年龄变量的单变量分析](img/file375.png)'
- en: Figure 14.9 – Univariate analysis of the Age variable
  id: totrans-179
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 14.9 – 年龄变量的单变量分析
- en: 'If you select the `yeo-johnson` transformation from the **Transformations**
    dropdown, the plots will update accordingly:'
  id: totrans-180
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果你从 **变换** 下拉菜单中选择 `yeo-johnson` 变换，图表将相应更新：
- en: '![Figure 14.10 – Univariate analysis of the Yeo-Johnson transformed Age variable](img/file376.png)'
  id: totrans-181
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![图 14.10 – Yeo-Johnson 变换后的年龄变量的单变量分析](img/file376.png)'
- en: Figure 14.10 – Univariate analysis of the Yeo-Johnson transformed Age variable
  id: totrans-182
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 14.10 – Yeo-Johnson 变换后的年龄变量的单变量分析
- en: Let’s now create the slicer of categorical variables. Click on an empty spot
    in the report canvas first. Then click on the slicer visual icon. Then expand
    the `categorical_df` table under the **Fields** panel and check the `categorical_col_name`
    measure.
  id: totrans-183
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 让我们现在创建分类变量的切片器。首先点击报告画布上的一个空白位置。然后点击切片器视觉图标。接着展开 **字段** 面板下的 `categorical_df`
    表，并检查 `categorical_col_name` 度量。
- en: Click on the downward-pointing arrow at the top right of the slicer to select
    the **Dropdown** slicer type.
  id: totrans-184
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击切片器右上角的向下箭头以选择 **下拉** 切片器类型。
- en: Resize the bottom edge of the slicer, click on its **Format** options, switch
    on the **Single select** one under **Selection controls**, switch off the **Slicer
    header** one, and add the **Title** `Categorical Variables`.
  id: totrans-185
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 调整切片器的底部边缘，点击其 **格式** 选项，在 **选择控件** 下打开 **单选**，关闭 **切片器标题**，并添加 **标题** `分类变量`。
- en: Now click on an empty spot in the report canvas first. Then click on the **R
    Visual** icon in the **Visualizations** pane and enable it when you’re prompted
    to do so. After that, move it under the slicer you’ve just created.
  id: totrans-186
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 首先点击报告画布上的一个空白位置。然后点击 **可视化** 面板中的 **R Visual** 图标，并在提示时启用它。之后，将其移动到你刚刚创建的切片器下方。
- en: Keeping it selected, click on the field of the **categorical_df** table (**categorical_col_name**).
  id: totrans-187
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 保持选中状态，点击 **categorical_df** 表的字段（**categorical_col_name**）。
- en: Now click on the R Visual’s **Format** tab and switch off the **Title** option.
  id: totrans-188
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在点击 R Visual 的 **格式** 选项卡并关闭 **标题** 选项。
- en: 'Copy the code of the file `06-plot-categorical-variables.R` into the `Chapter14\R`
    folder and paste it into the R Visual script editor. Then click on the **Run script**
    arrow icon at the top-right of the R script editor (enable the R Visual every
    time it’s requested). You’ll get the univariate analysis of the `Cabin` variable:'
  id: totrans-189
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将文件 `06-plot-categorical-variables.R` 的代码复制到 `Chapter14\R` 文件夹中，并将其粘贴到 R Visual
    脚本编辑器中。然后点击 R 脚本编辑器右上角的 **运行脚本** 箭头图标（每次请求时启用 R Visual）。你将得到 `Cabin` 变量的单变量分析：
- en: '![Figure 14.11 – Univariate analysis of the Cabin variable](img/file377.png)'
  id: totrans-190
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![图 14.11 – 船舱变量的单变量分析](img/file377.png)'
- en: Figure 14.11 – Univariate analysis of the Cabin variable
  id: totrans-191
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 14.11 – 船舱变量的单变量分析
- en: Just rename the current page (right-click on the tab at the bottom of the page
    and click **Rename Page**) using the label `Univariate Analysis`.
  id: totrans-192
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 只需将当前页面重命名（在页面底部的标签上右键单击并点击 **重命名页面**），使用标签 `单变量分析`。
- en: 'Nice one! You just developed a great EDA report page dedicated to univariate
    dataset analysis. Playing with the slicers, the whole page will be like the following
    one:'
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: 很好！你刚刚开发了一个针对单变量数据集分析的出色 EDA 报告页面。通过玩切片器，整个页面将像以下这样：
- en: '![Figure 14.12 – The Univariate Analysis EDA report’s page](img/file378.png)'
  id: totrans-194
  prefs: []
  type: TYPE_IMG
  zh: '![图 14.12 – 单变量分析 EDA 报告页面](img/file378.png)'
- en: Figure 14.12 – The Univariate Analysis EDA report’s page
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: 图 14.12 – 单变量分析 EDA 报告页面
- en: It is now time to develop a page of the report dedicated to multivariate analysis
    of the dataset.
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: 现在是时候开发一个针对数据集多元分析的报告页面了。
- en: Multivariate exploration
  id: totrans-197
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 多元探索
- en: In general, the analysis of variables taken individually is never sufficient
    to give the analyst a complete overview of the dataset. Being able to use visuals
    that allow the interaction of multiple variables depending on their data type
    is definitely a step towards more accurate analysis of the dataset.
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: 通常，对单个变量的分析永远不足以让分析师对数据集有一个完整的了解。能够使用允许根据数据类型交互多个变量的视觉工具，无疑是向更准确的数据集分析迈进的一步。
- en: 'The most common visual used for analyzing the interaction of two numerical
    variables is the **scatterplot**. In our case, we will use an enriched version
    of this plot, adding the **marginal distributions** of the variables at the edges.
    Moreover, it’s possible to color the points according to another categorical variable.
    In this way, the analyst can study the interaction of three variables. In *Figure
    14.13*, you can find an example of this plot for the variables `Age` and `Fare`
    grouped by the `Sex` one:'
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: 分析两个数值变量交互作用最常用的视觉方法是**散点图**。在我们的案例中，我们将使用这种图表的增强版本，在边缘添加变量的**边缘分布**。此外，还可以根据另一个分类变量对点进行着色。这样，分析师可以研究三个变量的交互作用。在*图
    14.13*中，你可以找到一个关于变量`Age`和`Fare`按`Sex`分组的这种图表的示例。
- en: '![Figure 14.13 – Scatterplot with marginal histograms for Age and Fare by Sex](img/file379.png)'
  id: totrans-200
  prefs: []
  type: TYPE_IMG
  zh: '![图 14.13 – 按性别划分的年龄和船票散点图，边缘直方图](img/file379.png)'
- en: Figure 14.13 – Scatterplot with marginal histograms for Age and Fare by Sex
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: 图 14.13 – 按性别划分的年龄和船票散点图，边缘直方图
- en: 'As you can see, there are as many regression lines as there are categories
    of the grouping variable. In the event  of a missing grouping variable, the regression
    line is unique and in that case, the plot also shows the values of Pearson''s
    R coefficient, Spearman''s **rho**, and Kendall''s **tau**, with the p-value derived
    from the respective tests. In short, in this case, the **p-value** represents
    the probability that the correlation between `x` and `y` in the sample data occurred
    by chance (take a look at the references to learn more about p-values):'
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: 如你所见，分组变量的类别有多少，就有多少回归线。在缺少分组变量的情况下，回归线是唯一的，在这种情况下，图表还显示了 Pearson 的 R 系数、Spearman
    的**rho**和 Kendall 的**tau**的值，以及从相应测试中得出的 p 值。简而言之，在这种情况下，**p 值**表示样本数据中 `x` 和
    `y` 之间的相关性偶然发生的概率（查看参考文献以了解更多关于 p 值的信息）：
- en: '![Figure 14.14 – Scatterplot for Age and Fare (transformed) without grouping](img/file380.png)'
  id: totrans-203
  prefs: []
  type: TYPE_IMG
  zh: '![图 14.14 – 未分组的年龄和船票（转换后）散点图](img/file380.png)'
- en: Figure 14.14 – Scatterplot for Age and Fare (transformed) without grouping
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
  zh: 图 14.14 – 未分组的年龄和船票（转换后）散点图
- en: 'If the variables to study the interaction of are categorical, the **mosaic
    plot** comes to your aid. In *Figure 14.15*, you can find the mosaic plot of the
    `SibSp` and `Pclass` variables grouped by the `Sex` one:'
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: 如果要研究的交互作用的变量是分类的，**mosaic 图**将帮助你。在*图 14.15*中，你可以找到按`Sex`分组的`SibSp`和`Pclass`变量的
    mosaic 图：
- en: '![Figure 14.15 – Mosaic plot for Pclass and SibSp grouped by Sex](img/file381.png)'
  id: totrans-206
  prefs: []
  type: TYPE_IMG
  zh: '![图 14.15 – 按性别分组的 Pclass 和 SibSp 的 mosaic 图](img/file381.png)'
- en: Figure 14.15 – Mosaic plot for Pclass and SibSp grouped by Sex
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
  zh: 图 14.15 – 按性别分组的 Pclass 和 SibSp 的 mosaic 图
- en: 'Finally, it is possible to study the interaction of a numerical variable with
    a categorical one by visualizing **raincloud plots for each category**. In addition,
    it is always possible to split the plot by a third categorical variable, as in
    the previous cases. In *Figure 14.16*, you can see an example of this plot for
    the variables `Fare` (transformed by Yeo-Johnson for a better visualization) and
    `Pclass` by the `Sex` one:'
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，通过可视化每个类别的**雨云图**，可以研究数值变量与分类变量之间的交互作用。此外，始终可以通过第三个分类变量来分割图表，就像之前的例子一样。在*图
    14.16*中，你可以看到一个关于变量`Fare`（通过 Yeo-Johnson 转换以获得更好的可视化）和`Pclass`以及`Sex`的示例图表：
- en: '![Figure 14.16 – Raincloud plots for the variables Fare and Pcalss grouped
    by Sex](img/file382.png)'
  id: totrans-209
  prefs: []
  type: TYPE_IMG
  zh: '![图 14.16 – 按性别分组的船票和Pcalss变量的雨云图](img/file382.png)'
- en: Figure 14.16 – Raincloud plots for the variables Fare and Pcalss grouped by
    Sex
  id: totrans-210
  prefs: []
  type: TYPE_NORMAL
  zh: 图 14.16 – 按性别分组的船票和Pcalss变量的雨云图
- en: 'Now you can start developing the new page of your report dedicated to the univariate
    analysis of the dataset:'
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，你可以开始开发你报告的新页面，该页面专门用于数据集的单变量分析：
- en: If it does not already exist, create a new Power BI report page clicking on
    the plus icon near the tabs at the bottom of the canvas. A new tab named **Page
    1** will be created.
  id: totrans-212
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果还没有，请通过点击画布底部的标签旁边的加号图标来创建一个新的 Power BI 报告页面。将创建一个名为**页面 1**的新标签页。
- en: Click on **Get Data**, search for `script`, select **R script**, and click on
    **Connect**.
  id: totrans-213
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**获取数据**，搜索`脚本`，选择**R脚本**，然后点击**连接**。
- en: Enter the script you can find in the file `07-create-multivariate-objects.R`
    into the `Chapter14\R` folder. Make sure that the `folder` variable points to
    the correct absolute path of the `Chapter14` folder.
  id: totrans-214
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将在文件`07-create-multivariate-objects.R`中找到的脚本输入到`Chapter14\R`文件夹中。确保`folder`变量指向`Chapter14`文件夹的正确绝对路径。
- en: 'In the navigator dialog, select the `multivariate_df` table. This time, the
    code to generate the plots will be written directly in the R Visual, without the
    need to serialize them first and recall them at the time of visualization. This
    strategy is opposite to the one used for the page of the univariate analysis because,
    in this case, the number of combinations between the variables in the game is
    much higher, and to generate the same number of plots in a list and to serialize
    everything is not very efficient. The `multivariate_df` table is a dataframe that
    is the result of a cross join between all the variables involved in the multivariate
    analysis (two numerical variables, a variable associated with the type of transformation
    for each of them, two categorical variables, and another categorical one for the
    grouping: seven variables in total):'
  id: totrans-215
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在导航器对话框中，选择`multivariate_df`表格。这次，生成图表的代码将直接在R Visual中编写，无需先序列化再在可视化时调用。这种策略与用于单变量分析页面所用的策略相反，因为在这种情况下，游戏中变量之间的组合数量要高得多，要在列表中生成相同数量的图表并序列化一切并不非常高效。`multivariate_df`表格是所有参与多元分析的变量之间交叉连接的结果数据框（两个数值变量，每个变量的转换类型相关变量，两个分类变量，以及另一个用于分组的分类变量：总共七个变量）：
- en: '![Figure 14.17 – multivariate_df table’s content](img/file383.png)'
  id: totrans-216
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![图14.17 – multivariate_df表格的内容](img/file383.png)'
- en: Figure 14.17 – multivariate_df table’s content
  id: totrans-217
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图14.17 – multivariate_df表格的内容
- en: Then click on **Load**.
  id: totrans-218
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 然后点击**加载**。
- en: Click on the slicer visual icon. Then expand the `multivariate_df` table under
    the **Fields** panel and check the `x` measure.
  id: totrans-219
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击切片器视觉图标。然后展开**字段**面板下的`multivariate_df`表格，并检查`x`度量。
- en: Click on the downward-pointing arrow at the top right of the slicer to select
    the **Dropdown** slicer type.
  id: totrans-220
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击切片器右上角的向下箭头以选择**下拉**切片器类型。
- en: Resize the bottom edge of the slicer, click on its **Format** options, switch
    on the **Single select** one under **Selection controls**, enter the `x numeric`
    title under the **Slicer header** section, switch on the **Title** section, and
    add the `Analysis Variables` title.
  id: totrans-221
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 调整切片器的底部边缘，点击其**格式**选项，在**选择控制**下切换开启**单选**，在**切片器标题**部分下输入`x数值`标题，开启**标题**部分，并添加`分析变量`标题。
- en: Click on an empty spot in the report canvas first and then on the slicer visual
    icon. Expand the `multivariate_df` table under the **Fields** panel, and check
    the `x_transf_type` measure.
  id: totrans-222
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 首先在报告画布上的空白处点击，然后点击切片器视觉图标。在**字段**面板下展开`multivariate_df`表格，并检查`x_transf_type`度量。
- en: Click on the downward-pointing arrow at the top right of the slicer to select
    the **Dropdown** slicer type.
  id: totrans-223
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击切片器右上角的向下箭头以选择**下拉**切片器类型。
- en: Resize the bottom edge of the slicer, click on its **Format** options, switch
    on the **Single select** one under **Selection controls**, enter the `x transformation`
    title under the **Slicer header** section, and keep the **Title** section switched
    off.
  id: totrans-224
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 调整切片器的底部边缘，点击其**格式**选项，在**选择控制**下切换开启**单选**，在**切片器标题**部分下输入`x转换`标题，并保持**标题**部分关闭。
- en: Repeat steps 5 to 10 in order to create the **y numeric** and **y transformation**
    slicers, making sure to select the `y` and `y_transf_type` measures respectively.
    Keep the **Title** section switched off for them also.
  id: totrans-225
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 按照步骤5到10重复操作，以创建**y数值**和**y转换**切片器，确保分别选择`y`和`y_transf_type`度量。对于它们也保持**标题**部分关闭。
- en: Click on an empty spot in the report canvas first and then on the slicer visual
    icon. Expand the `multivariate_df` table under the **Fields** panel, and check
    the `cat1` measure.
  id: totrans-226
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 首先在报告画布上的空白处点击，然后点击切片器视觉图标。在**字段**面板下展开`multivariate_df`表格，并检查`cat1`度量。
- en: Click on the downward-pointing arrow at the top right of the slicer to select
    the **Dropdown** slicer type.
  id: totrans-227
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击切片器右上角的向下箭头以选择**下拉**切片器类型。
- en: Resize the bottom edge of the slicer, click on its **Format** options, switch
    on the **Single select** one under **Selection controls**, enter the `cat1 categorical`
    title under the **Slicer header** section and keep the **Title** section switched
    off.
  id: totrans-228
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 调整切片的底部边缘，点击其 **格式** 选项，在 **选择控件** 下启用 **单选**，在 **切片标题** 部分下输入 `cat1 分类` 标题，并保持
    **标题** 部分关闭。
- en: Repeat steps 12 to 14 in order to create the **cat2 categorical** slicer. Make
    sure to select the `cat2` measure for it.
  id: totrans-229
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 重复步骤 12 到 14 以创建 **cat2 分类** 切片。确保选择 `cat2` 度量。
- en: Click on an empty spot in the report canvas first and then on the slicer visual
    icon. Expand the `multivariate_df` table under the **Fields** panel and check
    the `grp` measure.
  id: totrans-230
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 首先点击报告画布上的一个空白位置，然后点击切片可视化图标。在 **字段** 面板下展开 `multivariate_df` 表，并检查 `grp` 度量。
- en: Click on the downward-pointing arrow at the top right of the slicer to select
    the **Dropdown** slicer type.
  id: totrans-231
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击切片右上角的向下箭头以选择 **下拉** 切片类型。
- en: Resize the bottom edge of the slicer, click on its **Format** options, switch
    on the **Single select** one under **Selection controls**, enter the `grp categorical`
    title under the **Slicer header** section, and keep the **Title** section switched
    off.
  id: totrans-232
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 调整切片的底部边缘，点击其 **格式** 选项，在 **选择控件** 下启用 **单选**，在 **切片标题** 部分下输入 `grp 分类` 标题，并保持
    **标题** 部分关闭。
- en: 'Try to align all these sliders on a single row on top of your page like the
    following:'
  id: totrans-233
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 尝试将所有这些滑块对齐到页面顶部的单行中，如下所示：
- en: '![Figure 14.18 – Multivariate page’s slicers on top of the page](img/file384.png)'
  id: totrans-234
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![图 14.18 – 页面顶部的多元页面切片](img/file384.png)'
- en: Figure 14.18 – Multivariate page’s slicers on top of the page
  id: totrans-235
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 14.18 – 页面顶部的多元页面切片
- en: Now click on an empty spot in the report canvas first. Then click on the **R
    Visual** icon in the **Visualizations** pane and enable it when you’re prompted
    to do so. After that, move it under the row of slicers you’ve just created and
    resize it in order to fill the page.
  id: totrans-236
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 首先点击报告画布上的一个空白位置。然后点击 **可视化** 面板中的 **R 可视化** 图标，并在提示时启用它。之后，将其移动到您刚刚创建的切片行下方，并调整大小以填满页面。
- en: Keeping it selected, click on all the fields of the `multivariate_df` table.
  id: totrans-237
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 保持选中状态，点击 `multivariate_df` 表的所有字段。
- en: Now click on the R Visual’s **Format** tab and switch off the **Title** option.
  id: totrans-238
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在点击 R 可视化的 **格式** 选项卡并关闭 **标题** 选项。
- en: Copy the code of the file `08-plot-multivariate-plots.R` into the `Chapter14\R`
    folder and paste it into the R Visual script editor. Then click on the **Run script**
    arrow icon at the top right of the R script editor (enable the R Visual every
    time it’s requested). You’ll get all the multivariate analysis plots in it.
  id: totrans-239
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将文件 `08-plot-multivariate-plots.R` 的代码复制到 `Chapter14\R` 文件夹中，并将其粘贴到 R 可视化脚本编辑器中。然后点击
    R 脚本编辑器顶部的 **运行脚本** 箭头图标（每次请求时都启用 R 可视化）。您将在其中获得所有多元分析图表。
- en: Just rename the current page (right-click on the tab at the bottom of the page
    and click **Rename Page**) using the label `Multivariate Analysis`.
  id: totrans-240
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 只需将当前页面重命名（在页面底部的标签上右键单击并点击 **重命名页面**），使用标签 `多元分析`。
- en: 'Amazing! This EDA report page dedicated to multivariate analysis is very revealing
    for an analyst. Playing with the slicers, the whole page will be like the following
    one:'
  id: totrans-241
  prefs: []
  type: TYPE_NORMAL
  zh: 太棒了！这个专门用于多元分析的 EDA 报告页面对于分析师来说非常具有揭示性。通过调整切片，整个页面将像以下这样：
- en: '![Figure 14.19 – Multivariate analysis page of the EDA report](img/file385.png)'
  id: totrans-242
  prefs: []
  type: TYPE_IMG
  zh: '![图 14.19 – EDA 报告的多元分析页面](img/file385.png)'
- en: Figure 14.19 – Multivariate analysis page of the EDA report
  id: totrans-243
  prefs: []
  type: TYPE_NORMAL
  zh: 图 14.19 – EDA 报告的多元分析页面
- en: Keep in mind that the numeric `y` variable is used for both the scatterplot
    and the raincloud plot as the *y* axis. The categorical `cat1` variable is used
    as the *x* axis for both the raincloud plot and the mosaic plot. The categorical
    `grp` variable is used to group all three plots by their labels.
  id: totrans-244
  prefs: []
  type: TYPE_NORMAL
  zh: 请记住，数值变量 `y` 用于散点图和雨云图的 *y* 轴。分类变量 `cat1` 用作雨云图和错综图的 *x* 轴。分类变量 `grp` 用于根据标签对三个图表进行分组。
- en: You've just had a demonstration of how powerful and flexible R is for professional
    graphics development. Let’s see how to develop a page for variable associations.
  id: totrans-245
  prefs: []
  type: TYPE_NORMAL
  zh: 您刚刚看到了 R 在专业图形开发方面的强大和灵活性。让我们看看如何开发一个用于变量关联的页面。
- en: Variable associations
  id: totrans-246
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 变量关联
- en: 'As you learned from *Chapter 11*, *Adding Statistics Insights: Associations*,
    knowing the correlation coefficient that binds two variables gives you the opportunity
    to assess the predictive power of one variable toward the other. From the same
    chapter, you also learned how to calculate the correlation coefficient depending
    on combinations of the different types of variables involved.'
  id: totrans-247
  prefs: []
  type: TYPE_NORMAL
  zh: 如你在**第11章**中学到的，**添加统计洞察：关联**，了解将两个变量联系起来的相关系数，这给了你评估一个变量对另一个变量的预测能力的机会。从同一章节，你也学到了如何根据涉及的不同类型变量的组合来计算相关系数。
- en: 'In this section, we will put what you have learned to use in developing a page
    for the EDA report containing a **heatmap plot** colored according to the intensity
    of the correlation coefficient. Here is an example:'
  id: totrans-248
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们将把所学知识应用于开发一个包含根据相关系数强度着色的**热图**的EDA报告页面。以下是一个示例：
- en: '![Figure 14.20 – Correlation heatmap of the dataset](img/file386.png)'
  id: totrans-249
  prefs: []
  type: TYPE_IMG
  zh: '![图14.20 – 数据集的相关热图](img/file386.png)'
- en: Figure 14.20 – Correlation heatmap of the dataset
  id: totrans-250
  prefs: []
  type: TYPE_NORMAL
  zh: 图14.20 – 数据集的相关热图
- en: 'The correlation coefficient will be calculated according to the selection that
    the analyst can make thanks to two slicers: one that allows you to choose which
    method to use for the correlation between numerical variables, and another that
    allows you to choose the method to use for the correlation between categorical
    variables.'
  id: totrans-251
  prefs: []
  type: TYPE_NORMAL
  zh: 相关系数将根据分析师可以通过两个筛选器做出的选择来计算：一个允许你选择用于数值变量之间相关性的方法，另一个允许你选择用于分类变量之间相关性的方法。
- en: 'So, let’s start to develop the **Associations** page:'
  id: totrans-252
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，让我们开始开发**关联**页面：
- en: If it does not already exist, create a new Power BI report page by clicking
    on the plus icon near the tabs at the bottom of the canvas. A new tab named **Page
    1** will be created.
  id: totrans-253
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果尚未存在，请通过点击画布底部标签附近的加号图标创建一个新的Power BI报告页面。将创建一个名为**页面1**的新标签页。
- en: Click on **Get Data**, search for `script`, select **R script**, and click on
    **Connect**.
  id: totrans-254
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**获取数据**，搜索`script`，选择**R脚本**，然后点击**连接**。
- en: Enter the script you can find in the file `09-create-association-objects.R`
    into the `Chapter14\R` folder. Make sure that the `folder` variable points to
    the correct absolute path of the `Chapter14` folder.
  id: totrans-255
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将你可以在文件`09-create-association-objects.R`中找到的脚本放入`Chapter14\R`文件夹中。确保`folder`变量指向`Chapter14`文件夹的正确绝对路径。
- en: 'In the **Navigator** dialog, select the `corr_tbl` table. This table is given
    by the set of several transformations. First, for each combination of correlation
    methods (for numerical and categorical variables), a column containing the respective
    correlation coefficient was calculated. This was sped up by using the parallel
    computation for R introduced in *Chapter 9*, *Calling External APIs To Enrich
    Your Data*. After that, a pivot operation was performed, bringing all these columns
    into the single column `corr` and creating the new column `corr_type`, which contains
    the string identifying the combination of methods used. Finally, the `corr_type`
    column was split into two separate columns, one for use in the correlation method
    slicer for numerical variables, the other for use in the correlation method slicer
    for categorical variables. Here is a sample of the result table:'
  id: totrans-256
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**导航器**对话框中，选择`corr_tbl`表。这个表是由一系列转换给出的。首先，对于数值变量和分类变量的相关方法组合，计算了一个包含相应相关系数的列。这通过使用在**第9章**中引入的R的并行计算来加速。之后，执行了一个转置操作，将所有这些列合并到单个列`corr`中，并创建了一个新的列`corr_type`，其中包含标识所使用方法组合的字符串。最后，将`corr_type`列拆分为两个单独的列，一个用于数值变量的相关方法筛选器，另一个用于分类变量的相关方法筛选器。以下是结果表的样本：
- en: '![Figure 14.21 – corr_tbl table’s content](img/file387.png)'
  id: totrans-257
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![图14.21 – corr_tbl表的内容](img/file387.png)'
- en: Figure 14.21 – corr_tbl table’s content
  id: totrans-258
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图14.21 – corr_tbl表的内容
- en: Then click on **Load**.
  id: totrans-259
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 然后点击**加载**。
- en: Click on the slicer visual icon. Then expand the `corr_tbl` table under the
    **Fields** panel and check the `numeric_corr_type` measure.
  id: totrans-260
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击筛选器视觉图标。然后在**字段**面板下展开`corr_tbl`表，并检查`numeric_corr_type`度量。
- en: Click on the downward-pointing arrow at the top right of the slicer to select
    the **Dropdown** slicer type.
  id: totrans-261
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击筛选器右上角的向下箭头以选择**下拉**筛选器类型。
- en: Resize the bottom edge of the slicer, click on its **Format** options, switch
    on the **Single select** one under **Selection controls**, enter the `Numeric
    correlation type` title under the **Slicer header** section, switch on the **Title**
    section, and add the `Analysis Variables` title.
  id: totrans-262
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 调整切片器的底部边缘，点击其**格式**选项，在**选择控件**下启用**单选**，在**切片器标题**部分下输入`Numeric correlation
    type`标题，启用**标题**部分，并添加`分析变量`标题。
- en: Click on an empty spot in the report canvas first and then on the slicer visual
    icon. Expand the `corr_tbl` table under the **Fields** panel and check the `categorical_corr_type`
    measure.
  id: totrans-263
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 首先在报告画布上的一个空白处点击，然后点击切片器可视化图标。展开**字段**面板下的`corr_tbl`表，并检查`categorical_corr_type`度量。
- en: Click on the downward-pointing arrow at the top right of the slicer to select
    the **Dropdown** slicer type.
  id: totrans-264
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击切片器右上角的向下箭头以选择**下拉**切片器类型。
- en: Resize the bottom edge of the slicer, click on its **Format** options, switch
    on the **Single select** one under **Selection controls**, enter the `Categorical
    correlation type` title under the **Slicer header** section and keep the **Title**
    section switched off.
  id: totrans-265
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 调整切片器的底部边缘，点击其**格式**选项，在**选择控件**下启用**单选**，在**切片器标题**部分下输入`Categorical correlation
    type`标题，并保持**标题**部分关闭。
- en: 'Try to align all these sliders on a single row at the top of your page like
    the following:'
  id: totrans-266
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 尝试将所有这些滑块对齐到页面顶部的单行，如下所示：
- en: '![Figure 14.22 – Association page’s slicers at the top of the page](img/file388.png)'
  id: totrans-267
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![图 14.22 – 页面顶部的关联页面切片器](img/file388.png)'
- en: Figure 14.22 – Association page’s slicers at the top of the page
  id: totrans-268
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 14.22 – 页面顶部的关联页面切片器
- en: Now click on an empty spot in the report canvas first. Then click on the **R
    Visual** icon in the **Visualizations** pane and enable it when you’re prompted
    to do so. After that, move it under the row of slicers you’ve just created and
    resize it in order to fill the page.
  id: totrans-269
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 首先在报告画布上的一个空白处点击。然后点击**可视化**面板中的**R 可视化**图标，并在提示时启用它。之后，将其移动到您刚刚创建的切片行下方，并调整大小以填充整个页面。
- en: Keeping it selected, click on the `col`, `corr`, and `row` fields of the `corr_tbl`
    table.
  id: totrans-270
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选中后，点击`corr_tbl`表中的`col`、`corr`和`row`字段。
- en: Copy the code of the file `10-plot-association-plots.R` into the `Chapter14\R`
    folder and paste it into the R Visual script editor. Then click on the **Run script**
    arrow icon at the top right of the R script editor (enable the R Visual every
    time it’s requested). You’ll get all the multivariate analysis plots in it.
  id: totrans-271
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将文件`10-plot-association-plots.R`的代码复制到`Chapter14\R`文件夹中，并将其粘贴到 R 可视化脚本编辑器中。然后点击
    R 脚本编辑器右上角的**运行脚本**箭头图标（每次请求时启用 R 可视化）。您将在其中获得所有多元分析图。
- en: Now click on the R Visual’s **Format** tab and under the **Title** section,
    enter the string `Categorical Heatmap` as the title.
  id: totrans-272
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在点击 R 可视化的**格式**选项卡，并在**标题**部分输入字符串`Categorical Heatmap`作为标题。
- en: Just rename the current page (right-click on the tab at the bottom of the page
    and click **Rename Page**) using the label `Association Analysis`.
  id: totrans-273
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 只需重命名当前页面（在页面底部的标签上右键单击并点击**重命名页面**），使用标签`关联分析`。
- en: It's impressive how easy it was to create a correlation heatmap with R and `Ggplot`!
  id: totrans-274
  prefs: []
  type: TYPE_NORMAL
  zh: 使用 R 和 `Ggplot` 创建相关性热图竟然如此简单，令人印象深刻！
- en: 'Playing with the slicers, the whole page will be like the following one:'
  id: totrans-275
  prefs: []
  type: TYPE_NORMAL
  zh: 玩转切片器，整个页面将类似于以下这样：
- en: '![Figure 14.23 – Association analysis page of the EDA report](img/file389.png)'
  id: totrans-276
  prefs: []
  type: TYPE_IMG
  zh: '![图 14.23 – EDA 报告的关联分析页面](img/file389.png)'
- en: Figure 14.23 – Association analysis page of the EDA report
  id: totrans-277
  prefs: []
  type: TYPE_NORMAL
  zh: 图 14.23 – EDA 报告的关联分析页面
- en: Wow! You have completed your first EDA report. You have to admit that the result
    is amazing as it is!
  id: totrans-278
  prefs: []
  type: TYPE_NORMAL
  zh: 哇！您已经完成了您的第一个 EDA 报告。您不得不承认，结果令人惊叹！
- en: Summary
  id: totrans-279
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 摘要
- en: In this chapter, you learned what Exploratory Data Analysis (EDA) is for and
    what goals it helps achieve.
  id: totrans-280
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，您学习了什么是探索性数据分析（EDA）以及它帮助实现的目标。
- en: You also learned what tools are most commonly used to do automated EDA using
    Python and R.
  id: totrans-281
  prefs: []
  type: TYPE_NORMAL
  zh: 您还学习了最常用的工具，用于使用 Python 和 R 进行自动化的 EDA。
- en: Finally, you developed a complete and dynamic EDA report for analyzing a dataset
    using R and its most popular packages for creating graphics.
  id: totrans-282
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，您使用 R 及其创建图形最流行的包开发了一个完整且动态的 EDA 报告，用于分析数据集。
- en: In the next chapter, you'll see how to develop advanced visualizations.
  id: totrans-283
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一章中，您将看到如何开发高级可视化。
- en: References
  id: totrans-284
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 参考文献
- en: 'For additional reading, check out the following books and articles:'
  id: totrans-285
  prefs: []
  type: TYPE_NORMAL
  zh: 对于进一步阅读，请参阅以下书籍和文章：
- en: '*Powerful EDA (Exploratory Data Analysis) in just two lines of code using Sweetviz*
    ([https://towardsdatascience.com/powerful-eda-exploratory-data-analysis-in-just-two-lines-of-code-using-sweetviz-6c943d32f34](https://towardsdatascience.com/powerful-eda-exploratory-data-analysis-in-just-two-lines-of-code-using-sweetviz-6c943d32f34))'
  id: totrans-286
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '*使用Sweetviz只需两行代码即可进行强大的EDA（探索性数据分析）* ([https://towardsdatascience.com/powerful-eda-exploratory-data-analysis-in-just-two-lines-of-code-using-sweetviz-6c943d32f34](https://towardsdatascience.com/powerful-eda-exploratory-data-analysis-in-just-two-lines-of-code-using-sweetviz-6c943d32f34))'
- en: '*Lux: A Python API for Intelligent Visual Data Discovery* ([https://www.youtube.com/watch?v=YANIids_Nkk](https://www.youtube.com/watch?v=YANIids_Nkk))'
  id: totrans-287
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '*Lux：用于智能视觉数据发现的Python API* ([https://www.youtube.com/watch?v=YANIids_Nkk](https://www.youtube.com/watch?v=YANIids_Nkk))'
- en: '*pandas Profiling of the Titanic Dataset* ([https://pandas-profiling.github.io/pandas-profiling/examples/master/titanic/titanic_report.html](https://pandas-profiling.github.io/pandas-profiling/examples/master/titanic/titanic_report.html))'
  id: totrans-288
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '*泰坦尼克数据集的pandas分析* ([https://pandas-profiling.github.io/pandas-profiling/examples/master/titanic/titanic_report.html](https://pandas-profiling.github.io/pandas-profiling/examples/master/titanic/titanic_report.html))'
- en: '*pandasGUI Demo* ([https://www.youtube.com/watch?v=NKXdolMxW2Y](https://www.youtube.com/watch?v=NKXdolMxW2Y))'
  id: totrans-289
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '*pandasGUI演示* ([https://www.youtube.com/watch?v=NKXdolMxW2Y](https://www.youtube.com/watch?v=NKXdolMxW2Y))'
- en: '*A Comprehensive Guide to the Grammar of Graphics for Effective Visualization
    of Multi-dimensional Data* ([https://towardsdatascience.com/a-comprehensive-guide-to-the-grammar-of-graphics-for-effective-visualization-of-multi-dimensional-1f92b4ed4149](https://towardsdatascience.com/a-comprehensive-guide-to-the-grammar-of-graphics-for-effective-visualization-of-multi-dimensional-1f92b4ed4149))'
  id: totrans-290
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '*关于多维数据有效可视化的图形语法全面指南* ([https://towardsdatascience.com/a-comprehensive-guide-to-the-grammar-of-graphics-for-effective-visualization-of-multi-dimensional-1f92b4ed4149](https://towardsdatascience.com/a-comprehensive-guide-to-the-grammar-of-graphics-for-effective-visualization-of-multi-dimensional-1f92b4ed4149))'
- en: '*The Complete ggplot2 Tutorial* ([http://r-statistics.co/Complete-Ggplot2-Tutorial-Part1-With-R-Code.html](http://r-statistics.co/Complete-Ggplot2-Tutorial-Part1-With-R-Code.html))'
  id: totrans-291
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '*完整的ggplot2教程* ([http://r-statistics.co/Complete-Ggplot2-Tutorial-Part1-With-R-Code.html](http://r-statistics.co/Complete-Ggplot2-Tutorial-Part1-With-R-Code.html))'
- en: '*Everything you need to know about interpreting correlations* ([https://towardsdatascience.com/eveything-you-need-to-know-about-interpreting-correlations-2c485841c0b8](https://towardsdatascience.com/eveything-you-need-to-know-about-interpreting-correlations-2c485841c0b8))'
  id: totrans-292
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '*关于解释相关性的所有你需要知道的内容* ([https://towardsdatascience.com/eveything-you-need-to-know-about-interpreting-correlations-2c485841c0b8](https://towardsdatascience.com/eveything-you-need-to-know-about-interpreting-correlations-2c485841c0b8))'
