<html><head></head><body>
        <section>

                            <header>
                    <h1 class="header-title">Creating Web Apps Using ArcGIS Online</h1>
                </header>
            
            <article>
                
<p> In this chapter, we will cover the following recipes:</p>
<ul>
<li>Creating a simple web app using an Esri template</li>
<li>Creating a custom application using Web AppBuilder</li>
<li>Sharing your applications</li>
<li>Embedding an ArcGIS Online map in a web page</li>
</ul>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Introduction</h1>
                </header>
            
            <article>
                
<p>By now, you know that the combination of ArcGIS Pro and ArcGIS Online form a very powerful GIS solution for an organization. They allow you to maintain, analyze, and share GIS data with those inside and outside your organization, which in turn increases the effectiveness and flexibility of your GIS.</p>
<p class="mce-root"/>
<p>Data and maps are not the only thing ArcGIS Online allows you to share. You can also create and share web applications with ArcGIS Online. You may be thinking to yourself, <em>I am not a programmer</em>. <em>I have no idea how to create applications</em>. That is OK. With ArcGIS Online, you do not need to be a programmer to create quick but effective web applications which allow others to access the data and maps you have created. With just a little ArcGIS Online know-how, it is possible to create a web application similar to the one shown here in 5 to 10 minutes:</p>
<div class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1061 image-border" height="364" src="assets/30a5435f-0b68-46f3-902b-40fe4170debd.png" width="617"/></div>
<div class="packt_figref CDPAlignCenter CDPAlign">Sample web GIS app</div>
<p>ArcGIS Online provides at least two methods for creating web applications quickly and easily, even if you have no prior programming experience. The first is using one of the many predefined application templates Esri has created. The second is to use Esri’s Web AppBuilder to create custom applications using a wizard. Either method allows you to create web applications or apps which users can then access via their favorite web browser to begin using your GIS content. This is a great way to extend your GIS to users that don’t have access to or the skills to use ArcGIS Pro. You maintain and publish the data and maps, while the users do what they need to with the data via the web applications. They do not need to be a GIS guru. They have access to tools that allow them to use the GIS so they can do their jobs easier and better.</p>
<p class="mce-root">In this chapter, you will learn how to create some simple applications quickly and easily using both of these methods. Then, you will learn how you can share your applications with others, both inside and outside your organization. You will start by creating an application using one of the many Esri standard application templates. Then you will create a custom application using Web AppBuilder.   </p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Creating a simple web app using an Esri template</h1>
                </header>
            
            <article>
                
<p>Being able to publish your data and maps via a web app opens up a whole new level of use and accessibility that is not possible when sharing as simple web maps, feature services, or data downloads. A web application allows you to include functionalities provided by some of the tools you have in ArcGIS Pro. You can allow people to pan and zoom, query, print, edit, and more from within the application. This allows even those without GIS experience or software to become GIS users.</p>
<p>In the past, you had to have programming skills to create GIS web applications. That is no longer the case. Now, there are tools that allow anyone that has some basic GIS and computer skills to create their own GIS web applications. As mentioned in the introduction, ArcGIS Online includes several predefined web application templates that you can use to create your own application. Currently, you have access to over 20 application templates. These require little to no programming knowledge. All you do is plug in your maps and data, configure a few items, and off you go. Depending on the template you choose and the functionality you desire, you can have a web application up and running in under 5 minutes. </p>
<p>In this recipe, you will publish the map you created for Corbin Concrete in <a href="4ba4882e-2afc-4bb8-9906-cb4ef46722ca.xhtml">Chapter 12</a>, <em>Introducing ArcGIS Online</em>, and publish it as a web application. The client wants a web application that will allow his dispatchers and sales teams to input the address where the concrete is to be delivered and to see which, if any, of their plants can provide the concrete.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Getting ready</h1>
                </header>
            
            <article>
                
<p>This recipe will require you to have an ArcGIS Online account and access to the internet. You will need to be a level 2 user. If you do not have an ArcGIS Online user login or do not wish to use your organization's account to complete the recipes in this chapter, you can request a trial license from Esri at, <a href="http://www.esri.com/arcgis/trial">http://www.esri.com/arcgis/trial</a>. </p>
<p>You will also need a web browser that supports HTML 5 and JavaScript. These are current versions of Chrome, Edge, Firefox, and Safari. Internet Explorer 11 or newer is also supported. Other browsers may also work but have not been tested by Esri.</p>
<p>You must have completed all the recipes in <a href="4ba4882e-2afc-4bb8-9906-cb4ef46722ca.xhtml">Chapter 12</a>, <em>Introducing ArcGIS Online</em>, and <a href="9ed15eab-33d0-4c1e-a272-5ed54842381a.xhtml">Chapter 13</a>, <em>Publishing Your Own Content to ArcGIS Online</em>, before starting this recipe. This will ensure that you have the required maps and data along with a strong foundational understanding of what ArcGIS Online is and how it integrates with ArcGIS Pro.</p>
<p>You also need to ensure that you have installed the sample data before starting this exercise. This recipe will also use credits. It is estimated it that will use less than three credits.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">How to do it...</h1>
                </header>
            
            <article>
                
<ol>
<li>You will start by launching ArcGIS Pro and opening the Corbin Concrete project located in <kbd>C:\Student\ArcGISProCookbook\Chapter14</kbd>. Using the skills you have learned in previous recipes, navigate to the <kbd>Chapter14</kbd> folder and open the <kbd>Corbin Concrete.aprx</kbd> project.</li>
<li>The project should open with a map, which looks familiar from <a href="4ba4882e-2afc-4bb8-9906-cb4ef46722ca.xhtml">Chapter 12</a>, <em>Introducing ArcGIS Online</em>, as illustrated in the following screenshot. Before you are able to create a web app, you need to publish this to your ArcGIS Online content. The first step is to ensure the map and metadata are configured. Right-click on the <span class="packt_screen">Corbin Concrete</span> map in the <span class="packt_screen">Contents</span> pane. Select <span class="packt_screen">Properties</span> from the menu that appears:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1062 image-border" height="576" src="assets/eda47de3-1cfc-4a30-adf6-f340bf293d3d.png" width="1084"/></div>
<div class="mce-root CDPAlignCenter CDPAlign packt_figref">Corbin Concrete Map</div>
<ol start="3">
<li>Click on the <span class="packt_screen">Extent</span> option in the left panel of the <span class="packt_screen">Map Properties</span> window.</li>
<li>Ensure <span class="packt_screen">Custom</span> extent is selected. If it is not, select it and set <span class="packt_screen">Calculate from to Plant Service Areas Based on 45 Minute Drive</span>.</li>
<li>Click on the <span class="packt_screen">Metadata</span> option in the left panel of the <span class="packt_screen">Map Properties</span> window.</li>
<li>Using the knowledge and skills you learned in previous recipes, complete the metadata sections for the <span class="packt_screen">Corbin Concrete</span> map. Click <span class="packt_screen">OK</span> when done.</li>
<li>Click on the <span class="packt_screen">Share</span> tab in the ribbon.</li>
<li>Click on the <span class="packt_screen">Web Map</span> button located in the <span class="packt_screen">Share As group</span> on the <span class="packt_screen">Share</span> tab. This will launch the <span class="packt_screen">Share As Web Map</span> tool.</li>
<li>Accept the default name, which should be <kbd>Corbin_Concrete</kbd>. If someone else in your organization is also working through this book, or if you have done so in the past, you may need to add your name to the end to ensure the name is unique.</li>
<li>Accept the values for <span class="packt_screen">Summary and Tags</span>, which were pulled from the metadata for the map that you just entered.</li>
<li>Set your <span class="packt_screen">Sharing Options</span> to <span class="packt_screen">My Content</span> and your organization. They should be the top two options.</li>
</ol>
<ol start="12">
<li>Set the <span class="packt_screen">Select a Configuration</span> parameter to <span class="packt_screen">Copy all data: Exploratory</span> using the dropdown. This option will allow users to view, query, and print the map. It does not allow them to edit the data.</li>
<li>Click the <span class="packt_screen">Analysis</span> button. You should get a warning that says: <kbd>Layer does not have a feature template set</kbd>. Since you will not be editing the data contained in this map via a web application, this warning can be ignored.</li>
<li>Click the <span class="packt_screen">Share</span> button to publish this map to your ArcGIS Online content.</li>
<li>When the tool completes successfully, close it.</li>
<li>Now you will verify that the <span class="packt_screen">Corbin Concrete</span> map published to ArcGIS Online successfully. In the <span class="packt_screen">Catalog</span> pane, click on the <span class="packt_screen">Portal</span> tab near the top of the pane.</li>
<li>Look at the list of items available in your content. Verify that you see the <kbd>Corbin_Concrete</kbd> map you just published, as illustrated in the screenshot. Remember, you may need to refresh the pane to see it:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img src="assets/239ae889-7d71-4bc5-8d1b-4e9be5f225ea.png"/></div>
<div class="packt_figref CDPAlignCenter CDPAlign">Corbin Concrete map successfully published to ArcGIS Online as shown in Portal tab</div>
<ol start="18">
<li>Once you have verified that the map published successfully to ArcGIS Online, save your project and close ArcGIS Pro.</li>
<li>Open your web browser and go to <a href="http://www.arcgis.com">www.arcgis.com</a>. Then sign in to your ArcGIS Online account, as you have done in previous recipes.</li>
</ol>
<ol start="20">
<li>Click on the <span class="packt_screen">Content</span> tab at the top of the page to view your ArcGIS Online content.</li>
<li>Locate and click on the <span class="packt_screen">Corbin_Concrete</span> web map to open its property page.</li>
</ol>
<div class="packt_tip">
<p>Remember, when you publish a web map from ArcGIS Pro, it will often create multiple items in your ArcGIS Online content. This will frequently include a web map, service definition, and a feature layer. Make sure you click on the web map and not the feature layer or service definition.  </p>
</div>
<ol start="22">
<li>Click on the <span class="packt_screen">Open in Map Viewer</span> button on the right side of the page. This will open the web map in the ArcGIS Online viewer you have used in past recipes, as shown here:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1063 image-border" height="326" src="assets/20d2fff4-2091-4c01-adda-ac4140cb80ec.png" width="614"/></div>
<div class="packt_figref CDPAlignCenter CDPAlign">Corbin Concrete map viewed in ArcGIS Online Web Viewer</div>
<ol start="23">
<li>Click on the <span class="packt_screen">Share</span> button located at the top of the map to open the <span class="packt_screen">Share</span> window.</li>
</ol>
<p style="padding-left: 60px">Notice that this window has several options. You can select who can view the map. Currently, it is just those within your organization. There is also a link to this map, which you can copy and email to someone you have shared the map with. If you share it with everyone, you can also post the map to your Facebook page and Twitter.</p>
<p style="padding-left: 60px">Under <span class="packt_screen">Embed this map</span>, there are two options: <span class="packt_screen">Embed in Website</span> and <span class="packt_screen">Create a Web App</span>. <span class="packt_screen">Embed in Website</span> is grayed out. You will learn more about that later.</p>
<ol start="24">
<li>Click on the <span class="packt_screen">Create a Web App</span> button. This will allow you to begin the process of creating your own web GIS application.</li>
<li>The <span class="packt_screen">Create a new web app</span> window will open. You should see three tabs across the top: <span class="packt_screen">Configurable Apps</span>, <span class="packt_screen">Web AppBuilder</span>, and <span class="packt_screen">Operations Dashboard</span>, as illustrated in the following screenshot. Right now, you will focus on the <span class="packt_screen">Configurable Apps</span> tab.  Make sure <span class="packt_screen">Show All</span> is selected from the options on the left side of the window:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1064 image-border" height="347" src="assets/893cd660-f0d3-4432-b65b-d55bea028fb5.png" width="504"/></div>
<div class="mce-root CDPAlignCenter CDPAlign packt_figref">ArcGIS Online App Template gallery</div>
<p style="padding-left: 60px"><span class="packt_screen">Configurable Apps</span> are predefined application templates that include specific functionalities. You have limited configuration options to set up for each one of these. ArcGIS Online currently includes over 20 configurable template applications, including everything from simple map viewing to analysis and reporting. If you would like to learn more about the different available application templates, go to <a href="http://doc.arcgis.com/en/arcgis-online/create-maps/choose-configurable-app.htm">http://doc.arcgis.com/en/arcgis-online/create-maps/choose-configurable-app.htm</a>.</p>
<ol start="26">
<li>Click on the <em>Basic Viewer template</em> app. This will allow the dispatchers and sales team from Corbin Concrete to perform the functions they have asked for.</li>
<li>When you click on the <span class="packt_screen">Basic Viewer template</span>, a new panel will appear on the right side of the <span class="packt_screen">Create a New Web App</span> window, as shown in the screenshot. This new panel allows you to create a new web app, preview the web app so you can get an idea of what it will look like, and download the code for the app, so you can deploy it on your own web server. Click on the <span class="packt_screen">Create Web App</span> button:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1065 image-border" height="548" src="assets/925a816e-ce23-4f7f-a35a-842142d2c8b9.png" width="926"/></div>
<ol start="28">
<li>You will now configure some initial options for your new web application. Title your application <kbd>Corbin Concrete Plant Locations &amp; Service Areas</kbd>.</li>
<li>Accept the tags and summary which were inherited from the web map.</li>
</ol>
<ol start="30">
<li>Verify that your <span class="packt_screen">Create a New Web App</span> window looks like the following and click <span class="packt_screen">Done</span>. You may need to scroll down to see the <span class="packt_screen">Done</span> button. Your <span class="packt_screen">Save in folder</span> will be different as well:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1066 image-border" height="192" src="assets/92d79256-b43b-4dd7-a9c7-7137fc0cbb7f.png" width="593"/></div>
<ol start="31">
<li>The web application configuration app will appear. You will now configure the functionality and appearance of your new web application. Under <span class="packt_screen">Application title</span>, type: <kbd>Plant Locations</kbd>.</li>
<li>For the <span class="packt_screen">Application subtitle</span>, type: <kbd>45 Minute Service Areas</kbd>.</li>
<li>Click in the <span class="packt_screen">Details</span> window and type the following: <kbd>This application displays the Corbin Concrete plant locations and the service areas which are within a 45 minute drive time of each plant</kbd>. Users can enter an address in the search box at the top of the app to see if the address falls within a service area, and if so, which plant is closest to provide concrete to the entered address.</li>
<li>Click the <span class="packt_screen">Save</span> button located under the web map. This will save your new application with the current settings you have configured.</li>
</ol>
<div class="packt_tip">
<p>Remember to save often. There is no autosave. If you lose internet connection or your browser locks up, all of your work will be lost. </p>
</div>
<ol start="35">
<li>Click on the <span class="packt_screen">Theme</span> tab. This will allow you to configure the web application's appearance.</li>
<li>Set the <span class="packt_screen">Header Color</span> to a light to medium gray. Try one of the last two options on the first row of the color palette.</li>
</ol>
<ol start="37">
<li>Click the <span class="packt_screen">Save</span> button to apply the color change. Feel free to adjust any of the other color settings as you see fit. Remember to click <span class="packt_screen">Save</span> to see these changes applied in the preview area.</li>
<li>Below the color options are options for the layout. They control how and where the tools in the app are displayed. Try each of the options under <span class="packt_screen">Choose a layout</span>. Remember to click on the <span class="packt_screen">Save</span> button between each one to see what it looks like. Once you have reviewed all the options, select <span class="packt_screen">Menu</span> bar and click <span class="packt_screen">Save</span>.</li>
</ol>
<p style="padding-left: 60px">You are almost done. There are just a few more configuration settings you need to set. Your application should now look very similar to the following:</p>
<div class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1067 image-border" height="779" src="assets/a562423e-d7ac-489d-985e-7c72cfb5a727.png" width="1204"/></div>
<div class="packt_figref CDPAlignCenter CDPAlign">Draft web application for Corbin Concrete</div>
<p style="padding-left: 60px"><span>Next, you will configure the functionality you wish to include in your new application:</span></p>
<ol start="39">
<li>Click on the <span class="packt_screen">Options</span> tab to begin configuring the functionality.</li>
<li>Enable the <span class="packt_screen">Display scale bar</span> on map. The sales team at Corbin Concrete have asked for this so they can roughly estimate the distance between the address they enter and the nearest plant.</li>
<li>Under toolbar options, enable the following options:</li>
</ol>
<ul>
<li style="list-style-type: none">
<ul>
<li>Basemap Gallery</li>
<li>Legend</li>
<li>Map Details</li>
<li>Measure Tool</li>
</ul>
</li>
</ul>
<ol start="42">
<li>Ensure all other toolbar options are disabled. You have just configured the tools that will be available in your web application.</li>
<li>Ensure <span class="packt_screen">Display Editor</span> is disabled. You do not want dispatchers or the sales team editing data via this application.</li>
<li>Make sure the <span class="packt_screen">Print</span> tool is enabled and click on <span class="packt_screen">Add Legend to Output</span> to enable this option.</li>
<li>Scroll down and enable the <span class="packt_screen">Add</span> toolbar labels feature. This will label each button in the application with its basic function. This will help non-GIS users more easily understand what the tools are.</li>
<li>Click the <span class="packt_screen">Save</span> button to apply and save the changes you have made. Your application should now look like the following:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1068 image-border" height="779" src="assets/85002027-3e70-4144-b662-edc7043fce2c.png" width="1205"/></div>
<div class="mce-root CDPAlignCenter CDPAlign packt_figref">Plant location app you have been building</div>
<p style="padding-left: 60px">Lastly, for this application template, you will need to configure the <span class="packt_screen">Search</span> options. This controls what the <span class="packt_screen">Search</span> window at the top of the application is able to search for. By default, it uses the Esri World Geocoder service to pinpoint a location based on an address, coordinate, or common name. You can increase the search capability by allowing it to search the layers in your map and other data. You will configure it to allow the application to also search your services areas:</p>
<ol start="47">
<li>Click on the <span class="packt_screen">Search</span> tab at the top of the page.</li>
<li>Notice the default settings. Click in the box next to the <span class="packt_screen">Plant Service Areas Based on 45 Minute Drive</span>. This will allow the application to search that layer for specified values.</li>
<li>Now click <span class="packt_screen">Edit</span>, located to the right of the layer name. This will allow you to configure how the search works for this layer.</li>
<li>Check <span class="packt_screen">Enable Suggestions</span>. This will provide the user with possible matches as they type in values.</li>
<li>Set the <span class="packt_screen">Maximum Suggestions</span> to <span class="packt_screen">4</span> using the drop-down arrow.</li>
</ol>
<ol start="52">
<li>Set the <span class="packt_screen">Display field</span> to <span class="packt_screen">Name</span> using the drop-down arrow.</li>
<li>Select <span class="packt_screen">Name</span> as the <span class="packt_screen">Search Fields</span> and click the <span class="packt_screen">Save</span> button.</li>
<li>Save your application by clicking the <span class="packt_screen">Save</span> button.</li>
<li>Now click <span class="packt_screen">Launch</span> to see the application you just created. This will launch your new application in a new window within your browser, as shown in the following screenshot:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"> <img src="assets/1d988064-e20a-4e0e-9b45-c29db08b702b.png"/></div>
<p style="padding-left: 60px">You have just successfully created your first GIS web application without any programming skills needed:</p>
<ol start="56">
<li>Now, let's take your new application for a test drive. Click in the <span class="packt_screen">Search</span> tool where it says <span class="packt_screen">Find address or place</span>. Type this value: <kbd>2712 Wilding Green Lane, Dacula GA</kbd>. Notice as you type, your application is providing suggestions for possible matches to your search. Once you feel you see the correct match from the suggestions, select the suggestion. The map will automatically zoom in to the location you selected. At this scale it is hard to determine which specific plant serves this address, but because you can see a fill pattern you know immediately that this location is served by Corbin Concrete. So, this fullfills one of the requirements of Corbin Concrete.</li>
<li>Now, let's see if we can easily determine which plant serves this location. Click somewhere in the area around the address location. A pop-up window should appear in the map where you clicked, as illustrated in the screenshot. Review the contents of this pop-up window:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1069 image-border" height="310" src="assets/c89225c5-7c26-4851-be37-23e47938ba42.png" width="243"/></div>
<p style="padding-left: 60px">As you can see from the pop-up window, this location is served by <span class="packt_screen">Plant 1</span>. So, you have met the other primary requirement for the application. Users can easily determine what plant serves an entered address:</p>
<ol start="58">
<li>Close the pop-up window once you are done reviewing its contents.</li>
<li>Examine some of the other tools within your new application. See what other functionalities users are able to access.</li>
<li>Once you are done examining your new application, close your web browser.</li>
</ol>
<p>You have just created your first GIS web application, which allows users to locate a point in your map using an address or common name. That then allows <span>users</span> to determine if that location is in one of the service areas of a Corbin Concrete plant. However, that is not all <span>users</span> can do when using your web application. Users can also view the legend, turn layers on and off, change basemaps, measure lengths and areas, and print. You created this powerful and easy-to-use web application without having to write one line of code.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Creating a custom application with Web AppBuilder</h1>
                </header>
            
            <article>
                
<p>You have just created your first GIS web application using one of Esri's customizable templates. While these are great and do result in some powerful apps, you may not find a template that does exactly what you need. This is where your other option for creating web apps comes in, Web AppBuilder.</p>
<p>Web AppBuilder allows you to create your own custom web app and to pick the tools you want to include. These tools are referred to as widgets. Web AppBuilder includes many base widgets which you can customize to suit your specific needs. This allows you much more flexibility when creating your own GIS web applications. If you do have programming skills, you can even create your own widgets which you can plug into Web AppBuilder for even more functionality and flexibility.</p>
<p>There are two versions of Web AppBuilder: <strong>ArcGIS Online</strong> and <strong>Developer</strong>. The ArcGIS Online version is embedded within ArcGIS Online. It does not require you to install any software locally or to have any programming skills. The Developer version is a bit more complex; it must be downloaded and installed locally. While you can use it like you do the ArcGIS Online version once installed, it allows you to create your own widgets or tools within the Web AppBuilder framework. If you want to download the Developers version of Web AppBuilder, go to <a href="https://developers.arcgis.com/web-appbuilder/">https://developers.arcgis.com/web-appbuilder/</a>. For the remainder of this recipe, we will focus on the ArcGIS Online version.</p>
<p>Corbin Concrete was very impressed with the web app you created for them in the previous recipe. It has really helped them see the value of GIS. This has given them another idea for a second application which will be used primarily by their sales team. They want a new app which has more capability. They want to be able to be able to draw in the app to show the location the concrete will be poured and be able to print it for the inside estimators. They also want the app to be able to locate the nearest plant to a location, as well as to be able to find any plant within a specified distance.</p>
<p>In this recipe, you will use Web AppBuilder to create a new web application which meets the needs of Corbin Concrete as outlined before. You will start with the existing Corbin Concrete web map you created in the previous recipe. You will then use Web AppBuilder to create and configure the new application with the required widgets as well as its general appearance.  </p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Getting ready</h1>
                </header>
            
            <article>
                
<p>To complete this recipe, you need to have completed <a href="4ba4882e-2afc-4bb8-9906-cb4ef46722ca.xhtml">Chapters 12</a>, <em>Introducing ArcGIS Online</em>, and <a href="7fb83c78-221c-4471-9099-6b5a96b43b58.xhtml">Chapter 13</a>, <em>Creating Web Apps Using ArcGIS Online</em>, along with the previous recipe in this chapter. This will ensure you have the required data available and the understanding needed to complete this recipe. You will also require an ArcGIS Online account and access to the internet. You will need to be a level 2 user. If you already completed the required recipes, you should already meet these requirements.</p>
<p>You will also need a web browser that supports HTML 5 and JavaScript. These include current versions of Chrome, Edge, Firefox, and Safari. Internet Explorer 11 or newer is also supported. Other browsers may also work, but have not been tested by Esri.</p>
<p>This recipe will also use credits. It is estimated that it will use less than three credits.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">How to do it...</h1>
                </header>
            
            <article>
                
<ol>
<li>The first thing you need to do is log in in to your ArcGIS Online account. So, launch your web browser and go to <a href="http://www.arcgis.com">www.arcgis.com</a>. Then sign in to your account as you have done in previous recipes.</li>
<li>Click on the <span class="packt_screen">Content</span> tab at the top of the page to view your content.</li>
</ol>
<ol start="3">
<li>In your content, click on the <kbd>Corbin_Concrete</kbd> web map. This should open the properties page for the web map, which you have seen in previous recipes, as shown in the following screenshot:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1070 image-border" height="791" src="assets/433ab470-5a87-4c8d-aaa3-8979d487445b.png" width="1336"/></div>
<div class="packt_tip">
<p>Remember, there will be several items named <kbd>Corbin_Concrete</kbd>. You will have at least three: <kbd>Web Map</kbd>, <kbd>Feature Layer</kbd>, and <kbd>Service Definition</kbd>.</p>
</div>
<ol start="4">
<li>Click on the <span class="packt_screen">Create Web App</span> button on the right and select <span class="packt_screen">Using the Web AppBuilder from the list of options presented</span>, as illustrated in the following screenshot. This will allow you to start the process of creating a new web app:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1071 image-border" height="512" src="assets/efa92790-5013-4e63-920b-6dd722c7d8ee.png" width="1335"/></div>
<div>
<p style="padding-left: 60px">You can use a single web map in as many web apps as you need, there is no limit. So, a single web map may serve as the starting point for any number of web or even mobile apps you may deploy. You should always keep that in mind as you are designing and publishing your web maps. Remember, you also need to balance it with performance. The more data within a map, the slower it will perform.</p>
</div>
<ol start="5">
<li>Title your new web app <em>Corbin Concrete Sales Team App</em>.</li>
<li>Add the following tags to the list of existing ones: <kbd>sales</kbd>, <kbd>Web AppBuilder</kbd>, <kbd>draw</kbd>, and <kbd>find nearest</kbd>.</li>
<li>Type the following description: <kbd>This application was created for Corbin Concrete's sales team to allow them to locate the nearest concrete plant to a location and draw locations where concrete will be poured on-site</kbd>.</li>
</ol>
<ol start="8">
<li>Verify that your <span class="packt_screen">Create a New Web App</span> window looks like the following and click <span class="packt_screen">OK</span>:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1072 image-border" height="435" src="assets/9a819103-7ec4-436e-a8d9-8d48540867ba.png" width="390"/></div>
<p style="padding-left: 60px">Once you click <span class="packt_screen">OK</span>, Web AppBuilder will be automatically launched in your browser. As you can see, it is somewhat similar to the tools you used to configure your template application in the previous recipe. However, you have a lot more options available to you. You will start by configuring the general appearance of your application by selecting and configuring a theme.</p>
<ol start="9">
<li>As you can see, Web AppBuilder includes at least nine different themes you can choose from for creating your web application. Take a moment to select and review each one.</li>
</ol>
<div class="packt_infobox">
<p>Each theme is optimized to support specific functionalities. For example, the Billboard theme is designed to support simple tasks, such as printing or viewing data, whereas the Dashboard is designed to allow you to view multiple widgets at one time. To learn more about each of the themes available in the Web AppBuilder, go to  <a href="http://doc.arcgis.com/en/web-appbuilder/create-apps/themes-tab.htm">http://doc.arcgis.com/en/web-appbuilder/create-apps/themes-tab.htm</a>.</p>
</div>
<p style="padding-left: 60px">As you preview the web app on the right, it will update to give you an idea how your app will look and where the tools/widgets will be located. The style and layout options will also change.</p>
<ol start="10">
<li>Once you are done reviewing the themes, select the <span class="packt_screen">Billboard Theme</span>. This creates an app that supports basic functionality, such as the functionality requested by Corbin Concrete.</li>
<li>Select a style color you prefer; any of the options will work. For the sake of future graphics, the author has selected the blue option.</li>
</ol>
<ol start="12">
<li>For the <span class="packt_screen">Layout</span>, select the second option, as illustrated in the screenshot. This will place the widgets you will add later in the upper-right corner of your new application:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1073 image-border" height="407" src="assets/3da95e78-4323-480b-8f89-a5cf0f4c2b7a.png" width="633"/></div>
<p style="padding-left: 60px">You will skip over the <span class="packt_screen">Map</span> tab in this recipe since you already started with a specific web map. Now it is time to start adding the widgets you need to the application. Remember, widgets are configurable tools which provide the functionality to your application. As you can see in the <span class="packt_screen">Preview</span> window, some widgets have automatically been added by default. This includes <span class="packt_screen">Zoom Slider</span>, <span class="packt_screen">Home</span> button, <span class="packt_screen">My Location</span> button, <span class="packt_screen">Scalebar</span>, and coordinate readout.</p>
<p style="padding-left: 60px">The <span class="packt_screen">Zoom Slider</span> allows you to zoom in and out within the map. The <span class="packt_screen">Home</span> button is similar to the <span class="packt_screen">Full Extent</span> button in ArcGIS Pro. It will zoom you, to the full extent of the web map. The <span class="packt_screen">My Location</span> button will automatically center the map where the application believes you are located. This is a great widget to include if the application will be used on mobile devices with GPS. It does not always work so well on computers in an office. This widget also requires an HTTPs connection.</p>
<ol start="13">
<li>Click on the <span class="packt_screen">Widget</span> tab on the top-left side of <span class="packt_screen">Web AppBuilder</span>. This is where you add and configure the widgets that will be in your application.</li>
<li>Notice that several are already highlighted. These correspond to the widgets that were included by default. Also notice the five gray squares located below the default widgets. These match the five gray squares located in the upper-right corner of the application preview.</li>
<li>Corbin Concrete has decided that they do not need an <span class="packt_screen">Overview</span> map in this new application. This is one of the default widgets. You will now disable it. Move your mouse pointer to the <span class="packt_screen">Overview</span> widget. When you do, two small icons will appear: one in the lower-right corner to configure the widget and one in the upper-right corner to hide it, as illustrated in the following diagram. Click on the Hide icon to disable this widget in your new application:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1074 image-border" height="290" src="assets/73978ad8-a25f-45ee-9c79-ae90738782cc.png" width="295"/></div>
<p style="padding-left: 60px">Once you click on the Hide icon, the widget should become grayed out. This indicates that you were successful in hiding the widget, so it will not appear in your application. To enable other default widgets in the future, simply reverse this process. Now, to add customizable widgets to your new application, we will start with a <span class="packt_screen">Layer List</span> widget. This will allow users to turn layers in the map on or off:</p>
<ol start="16">
<li>In the left panel of <span class="packt_screen">Web AppBuilder</span>, click on the first gray square labeled <span class="packt_screen">Widget</span>, with the number one inside it. This will open the <span class="packt_screen">Choose Widget</span> window.</li>
</ol>
<div class="packt_infobox">
<p>The <span class="packt_screen">Billboard Theme</span> you selected includes a large number of possible widgets which will work with this theme. This list will vary depending on the theme you have selected.  </p>
</div>
<ol start="17">
<li>Click on the <span class="packt_screen">Layer List</span> widget located in the middle row, as shown in the following diagram. Then click <span class="packt_screen">OK</span> to configure the widget:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1075 image-border" height="591" src="assets/eb53da89-d8a2-4333-9920-86dc07008227.png" width="747"/></div>
<ol start="18">
<li>So, you can see that this widget includes several options. In general, you always want to keep things as simple as possible. Remember, your users will be sales people, not GIS experts. You will disable some of these options to reduce the complexity of the widget, so it only provides the capabilities that are needed. Disable the following options by clicking on the checkbox:
<ul>
<li>Transparency</li>
<li>Enable/Disable Pop-up</li>
<li>Move up/Move down</li>
<li>Description/Show item details/Download</li>
</ul>
</li>
</ol>
<ol start="19">
<li>Verify that your <span class="packt_screen">Configure Layer List</span> looks like the following, and click <span class="packt_screen">OK</span>:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1076 image-border" height="372" src="assets/1b2767fa-8d6f-4daa-a105-e862db2fa067.png" width="334"/></div>
<p style="padding-left: 60px">You should notice the <span class="packt_screen">Layer List</span> widget now appears in the left panel of <span class="packt_screen">Web AppBuilder</span>, as well as in the upper-right corner of the app in the preview area. This shows that you have successfully added your first widget. Now you will add a <span class="packt_screen">Print</span> widget:</p>
<ol start="20">
<li>Before you add another widget, click on the <span class="packt_screen">Save</span> tab at the bottom of <span class="packt_screen">Web AppBuilder</span> to save the work you have done so far.</li>
<li>Click on the gray square now labeled as <span class="packt_screen">Widget</span>, with a number one inside it. It should be located next to the <span class="packt_screen">Layer List</span> widget you just added.</li>
<li>Select the <span class="packt_screen">Print</span> widget from the gallery presented. It is on the same row as the <span class="packt_screen">Layer List</span> widget. Once you have selected the widget, click <span class="packt_screen">OK</span>.</li>
<li>Set the following values as indicated:
<ul>
<li><span class="packt_screen">Service URL</span>: Leave the default value.</li>
<li><span class="packt_screen">Default title</span>: <kbd>Corbin Concrete Potential Project</kbd></li>
<li><span class="packt_screen">Default author</span>: <kbd>Corbin Concrete Sales Team</kbd></li>
<li><span class="packt_screen">Default copyright</span>: <kbd>Copyright Corbin Concrete. All rights reserved.</kbd></li>
<li><span class="packt_screen">Default format</span>: <span class="packt_screen">PDF</span></li>
<li><span class="packt_screen">Default layout</span>: <span class="packt_screen">Letter ANSI A Portrait</span></li>
</ul>
</li>
</ol>
<ol start="24">
<li>Verify that your <span class="packt_screen">Configure Print</span> window looks like the following and click <span class="packt_screen">OK</span>:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1077 image-border" height="445" src="assets/c1951689-2e37-4d22-8581-77f7b153a61e.png" width="1015"/></div>
<p style="padding-left: 60px">The <span class="packt_screen">Print</span> widget has now been added to your application. Another capability that Corbin Concrete asked for was the ability to draw graphics in the map which would show the location where concrete would be poured for a project. You will next add the <span class="packt_screen">Draw</span> widget which provides this functionality.</p>
<ol start="25">
<li>Make sure to save your application before you continue.</li>
<li>Again, click on one of the gray widget squares in the left panel.</li>
<li>Select the <span class="packt_screen">Draw</span> widget from the gallery and click OK.</li>
<li>The <span class="packt_screen">Configure Draw</span> window is not open. This widget has several options. Once again, you will simplify it. Since Corbin Concrete operates in the United States, you will remove all metric options from the widget. Move your mouse pointer to the <span class="packt_screen">Actions</span> column for <span class="packt_screen">Kilometers</span>. Several icons will appear. Click on the <span class="packt_screen">Delete</span> icon, as illustrated in the following screenshot, to remove <span class="packt_screen">Kilometers</span> from the list:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1078 image-border" height="483" src="assets/e1193cf4-33ce-4a98-adb1-623862ddc34a.png" width="853"/></div>
<ol start="29">
<li>Repeat that process for <span class="packt_screen">Meters</span> and <span class="packt_screen">Nautical Miles</span>. You should be left with <span class="packt_screen">Miles</span>, <span class="packt_screen">Feet</span>, and <span class="packt_screen">Yards</span>.</li>
<li>You have set the options for <span class="packt_screen">Distances</span>. Now to do so for areas. Click on the <span class="packt_screen">Areas</span> tab located just below the <span class="packt_screen">Change</span> widget icon button.</li>
</ol>
<ol start="31">
<li>You should now see a list of area measurement units. Remove all metric units using the same process you did to remove the distance units. Only Square miles, Acres, Square feet, and Square yards should remain.</li>
<li>Click <span class="packt_screen">OK</span> once you have removed all the metric units from the list of <span class="packt_screen">Areas</span>.</li>
<li>Save your app.</li>
</ol>
<p style="padding-left: 60px">You have just added your third widget to your application. The first three have been fairly simple. Now you will add a more complex widget, <span class="packt_screen">Near Me</span>. This will allow the sales person to find the nearest plant to their location or where they click in the map.</p>
<ol start="34">
<li>Click on one of the gray widget squares again to open the <span class="packt_screen">Choose Widget</span> window.</li>
<li>Select the <span class="packt_screen">Near Me</span> widget from the gallery and click <span class="packt_screen">OK</span>.</li>
</ol>
<p style="padding-left: 60px">When the <span class="packt_screen">Configure Near Me</span> window opens, you should immediately notice, this widget is a lot more complicated than any of the previous widgets you have configured so far. This widget has five different tabs, each containing several parameters you will configure.</p>
<ol start="36">
<li>You will start with the <span class="packt_screen">Search Source Settings</span>. Configure the parameters as indicated here:
<ul>
<li><span class="packt_screen">Geocoder URL</span>: Accept the default provided automatically</li>
<li><span class="packt_screen">Geocoder Name</span>: Accept the default provided automatically</li>
<li><span class="packt_screen">Placeholder Text</span>: Enter Project Address</li>
<li><span class="packt_screen">Country or Region Code(s)</span>: <kbd>USA</kbd></li>
<li><span class="packt_screen">Maximum Suggestions</span>: <kbd>6</kbd></li>
<li><span class="packt_screen">Maximum Results</span>: <kbd>1</kbd></li>
<li><span class="packt_screen">Zoom Scale</span>: <kbd>50,000</kbd></li>
<li><span class="packt_screen">Min Scale</span>: <kbd>300,000</kbd></li>
<li><span class="packt_screen">Radius</span>: <kbd>50,000</kbd></li>
</ul>
</li>
</ol>
<ol start="37">
<li>Verify that you have set the parameters correctly and click on the <span class="packt_screen">Search Settings</span> tab.</li>
<li>Click on the <span class="packt_screen">Set</span> button to the right of <span class="packt_screen">Select search layers</span>. Click on the checkbox next to the <span class="packt_screen">Concrete Plants</span> layer., then click <span class="packt_screen">OK</span>.</li>
</ol>
<div class="packt_tip">
<p>You selected the <span class="packt_screen">Concrete Plants</span> layer as the search layer since you wanted this widget to locate the nearest concrete plant to a given location. </p>
</div>
<ol start="39">
<li>Enable the <span class="packt_screen">Set location</span> button. This will allow the user to click in the map to select a location from which to find the nearest plant.</li>
<li>Enable the <span class="packt_screen">Set buffer</span> visibility. This will also allow the user to set the distance the tool will use to search and find the nearest plant.</li>
<li>Set the default buffer distance to <kbd>10</kbd>.</li>
<li>Set the maximum buffer distance to <kbd>25</kbd>.</li>
<li>Set the buffer distance units to <span class="packt_screen">Miles</span>.</li>
<li>Limit the number of results to one.</li>
</ol>
<ol start="45">
<li>Verify that your <span class="packt_screen">Search Settings</span> match the following screenshot, then click <span class="packt_screen">OK</span>. You do not need to configure the other tabs:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1079 image-border" height="597" src="assets/58421810-2f8d-4148-a012-6e57e86bbf2d.png" width="993"/></div>
<p style="padding-left: 60px">That is your fourth and final widget. This application should now contain all the functionalities requested by Corbin Concrete. Next, you will test your new application as well as preview how it looks on different devices:</p>
<ol start="46">
<li>Save your application before continuing.</li>
<li>Click on the <span class="packt_screen">Previews</span> tab located at the bottom of the left panel in the <span class="packt_screen">Web AppBuilder</span>.</li>
<li>You should see a list of different mobile devices in the left panel. This allows you to see how your application will look on the screen of those devices. Click on a few of the device options to see how your new application will look when used on them.</li>
</ol>
<div class="packt_tip">
<p>These previews are functional. So, you can test the tools and see how they will work on the screen of the device. This does not test them in the actual device environment, so it should not be used for, or be considered as, a debugging tool for the code. However, it will help you test the overall workflows for a given device. </p>
</div>
<ol start="49">
<li>Click the <span class="packt_screen">Launch</span> tab at the bottom of the panel in <span class="packt_screen">Web AppBuilder</span>. This will launch your new application in a new browser window on your computer.</li>
<li>Click on the <span class="packt_screen">Layer List</span> tool located in the upper-right corner of your app. This will open the tool window.</li>
<li>Click on the checkbox next to <span class="packt_screen">Plant Service Areas Based on 45 Minute Drive</span>, and watch what happens in the map.</li>
<li>The layer is no longer visible. Click on the checkbox again to turn the layer back on.</li>
<li>Using the <span class="packt_screen">Zoom Slider</span> in the upper-left corner of the app or your mouse, zoom to the area where four of the services meet, as illustrated in the screenshot:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1080 image-border" height="633" src="assets/e6911f79-d67a-498c-b43d-562b4d424295.png" width="995"/></div>
<ol start="54">
<li>Now, you will test the <span class="packt_screen">Near Me</span> tool to see if it locates the nearest plant to a location you click on the map. Click on the <span class="packt_screen">Near Me</span> tool, which is in the upper-right corner of the app. It is the first tool in the row of tools you included in the application.</li>
<li>In the <span class="packt_screen">Near Me</span> tool window, click on the <span class="packt_screen">Locate on Map</span> button. It is located to the right of the Esri World Geocoder search cell.</li>
<li>Click in the map, at the location illustrated here, which is just to the north-east of <span class="packt_screen">East Point</span>:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1081 image-border" height="272" src="assets/4b768704-43b9-4a85-8ba2-1cad2e103b64.png" width="321"/></div>
<p style="padding-left: 60px">Once you click in the map, several things should happen. First, an address will appear in the Esri World Geocoding cell. Next, a circle should appear showing the search area, which defaults to 10 miles because that was the value you configured the widget to start with. Lastly, any results will appear in the tool window. If you click near the same location, shown in the screenshot, no results should appear. That means there is not a plant within 10 miles of this location. However, you have a distance slider within the tool which allows the user to increase or decrease that search distance.</p>
<ol start="57">
<li>Using the slider bar under <span class="packt_screen">Show results within 10 Miles</span>, change the value to <kbd>15 Miles</kbd>. This should display a result which indicates that <span class="packt_screen">Plant 3</span> is the closest to the location you selected, as illustrated here, even though it is within the service area of several plants:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1082 image-border" height="860" src="assets/461bc328-4873-4f40-858c-c8e8a3ec5f75.png" width="1355"/></div>
<ol start="58">
<li>Close the <span class="packt_screen">Near me</span> tool. Feel free to test the other tools if you desire. </li>
<li>Close your browser once you are done exploring your new application.</li>
</ol>
<p>You have just created another web application. This time you used the Esri <span class="packt_screen">Web AppBuilder</span> tool to create a custom application which includes just the tools your client, Corbin Concrete, requested. This allowed you to create a powerful but easy-to-use GIS web application. Again, you did this without needing to write one line of code.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Sharing your applications</h1>
                </header>
            
            <article>
                
<p>You have created two very powerful GIS web applications. However, right now only you can access them. Just as you have to share web maps, feature services, and data files if you want others to be able to access them, you must do the same thing with your applications.</p>
<p>The process to share your applications is very similar to how you shared your other content. You have the same options in terms of who you can share them with: your organization, a group or groups, and everyone.  </p>
<p>In this recipe, you will share the <em>Corbin Concrete Sales Team</em> app you just created so the employees of Corbin Concrete can access the application. They currently do not have an ArcGIS Online account or user logins, so you will share it with everyone. This will allow them to access the app without requiring a login.  </p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Getting ready</h1>
                </header>
            
            <article>
                
<p>You must have completed all previous recipes in this chapter as well as those in <a href="4ba4882e-2afc-4bb8-9906-cb4ef46722ca.xhtml">Chapters 12</a>, <em>Introducing ArcGIS Online</em>, and <a href="9ed15eab-33d0-4c1e-a272-5ed54842381a.xhtml">Chapter 13</a>, <em>Publishing Your Own Content to ArcGIS Online</em>, before starting this recipe. This recipe also requires that you have an ArcGIS Online account with at least a Publisher level role assigned. You will also need internet access along with a web browser that supports HTML5 and JavaScript.  </p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">How to do it...</h1>
                </header>
            
            <article>
                
<ol>
<li>The first step is to log in to your ArcGIS online account. Launch your web browser and go to <a href="http://www.arcgis.com">www.arcgis.com</a>. Sign in to your account.</li>
<li>Click on the <span class="packt_screen">Content</span> tab at the top of ArcGIS Online to access your content.</li>
<li>Locate and click on the <em>Corbin Concrete Sales Team</em> app in your content. As you have experienced in previous recipes, this will take you to the properties for this application.</li>
</ol>
<p style="padding-left: 60px">As you did in previous recipes, you will need to complete the metadata for the application before you share it.</p>
<ol start="4">
<li>Click on <span class="packt_screen">Add an in-depth description of the item</span>, located below <span class="packt_screen">Description</span>. This will open a text editing window. Using the application summary which appears at the top of the page, and your previous experience, write a detailed description for the application, explaining its purpose, general functionality, that it was created with <span class="packt_screen">Web AppBuilder</span>, and who it was created for. Make sure to click the <span class="packt_screen">Save</span> button when you have completed your description.</li>
<li>Click <span class="packt_screen">Edit</span>, located to the right of <span class="packt_screen">Terms of Use</span>. Type the following into the text editing box that appears: T<span class="packt_screen">his application is intended as a training tool only</span>. No accuracy is guaranteed or implied. Click <span class="packt_screen">Save</span> when done.</li>
</ol>
<p style="padding-left: 60px">Now that you have completed the metadata associated with your application, you are ready to share it.</p>
<ol start="6">
<li>Click the <span class="packt_screen">Share</span> button on the right side of ArcGIS Online. This will open the <span class="packt_screen">Share</span> window.</li>
<li>Click in the checkbox next to <span class="packt_screen">Everyone (public)</span>. This will allow anyone to access this application. Also, notice that your organization is automatically checked.</li>
<li>Verify that your <span class="packt_screen">Share</span> window looks like the following, and click <span class="packt_screen">OK</span> to apply the new setting and to close the <span class="packt_screen">Share</span> window:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1083 image-border" height="270" src="assets/7c1c053b-8620-4c99-8241-ebc38ca329b7.png" width="266"/></div>
<p style="padding-left: 60px">Once you click <span class="packt_screen">OK</span>, another window will appear, as shown in the following screenshot, because the app references other items in your content. So, when you share the app, the same sharing setting must also apply to the content referenced in your web app. This means that you will also need to update the share settings for the <span class="packt_screen">Corbin_Concrete</span> web map and feature layer. Luckily, ArcGIS Online makes this easy with the window that appeared:</p>
<div class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1084 image-border" height="272" src="assets/38a00618-0789-4673-9b01-1cb64e6d9031.png" width="416"/></div>
<p style="padding-left: 60px"><span>One thing to keep in mind when you update the sharing settings is that you are allowing others to access your content. So, make sure what you are sharing is appropriate for those you are sharing it with. You do not want to share sensitive information with everyone. Also, remember, that just because someone might be able to access it, what they can do with the content is also controlled by their role. If they do not have an ArcGIS Online user account, their ability to do more than just view, query, and print will be very limited.</span></p>
<ol start="9">
<li>Click the <span class="packt_screen">Update Sharing</span> button in the window that appeared.</li>
<li>If you wish to test your share settings, scroll down in your browser until you see a URL on the right side. This is the web address for your application. You can click the <span class="packt_screen">Copy</span> button located beside the address, then paste the URL into an email and send it to a friend or colleague. See if they are able to access the application you created.</li>
<li>Close your browser once you are done.</li>
</ol>
<p>You are done. You have shared your web application so that others, both inside your organization and outside, are able to access it.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Embedding an ArcGIS Online web map in a web page</h1>
                </header>
            
            <article>
                
<p>While creating web apps does allow you to create useful tools to expand the usefulness of your GIS, sometimes it might be overkill. Maybe you just want to create a map showing office locations and display it on your company website. Maybe you are planning a special event and just want to include a map to show the location of the event on the events website. You just don't need a web application.</p>
<p>ArcGIS Online also provides a way for you to easily embed a web map from your ArcGIS Online content into web page. Like creating a web app, it is pretty easy to do. It does help if you know a little about creating a web page for this to work smoothly, specifically, having a basic understanding of HTML, which is the basic language used to create web pages. </p>
<p>The <span class="packt_screen">Planning Director for the City of Trippville</span> wants to show the City's <span class="packt_screen">Zoning</span> map on the <span class="packt_screen">Planning Departments</span> web page. He does not want a fancy app, he just wants a simple map that citizens can use to see the zoning classifications for areas within the City.</p>
<p>In this recipe, you will embed a new Zoning web map into an existing web page for the City of Trippville. You will start by creating a new web map using the Trippville Basic Map that you created in <a href="4ba4882e-2afc-4bb8-9906-cb4ef46722ca.xhtml">Chapter 12</a>, <em>Introducing ArcGIS Online</em>. You will then add the zoning layer, which has already been published to the map, to create the new <span class="packt_screen">Zoning Map</span>. Then you will share and embed the new map in the web page. </p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Getting ready</h1>
                </header>
            
            <article>
                
<p>You must have completed the other recipes in this chapter, along with those in <a href="4ba4882e-2afc-4bb8-9906-cb4ef46722ca.xhtml">Chapter 12</a>, <em>Introducing ArcGIS Online</em>, before starting this one. This will ensure that you have the required maps and data needed to complete this recipe.   </p>
<p>You will also need an ArcGIS Online level 2 user account with Publisher role privileges. This recipe should not cost any credits to complete. If it does, it will be less than one.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">How to do it...</h1>
                </header>
            
            <article>
                
<ol>
<li>First, you will need to log in to your ArcGIS Online account. Launch your web browser and go to <a href="http://www.arcgis.com">www.arcgis.com</a>. Then sign in to your account as you have done in previous recipes.</li>
<li>Click on the <span class="packt_screen">Content</span> tab at the top of ArcGIS Online to access your content.</li>
<li>Scroll down through your content until you locate the Trippville Basic Map web map. Click on it to go to its <span class="packt_screen">Properties</span> page.</li>
<li>Click on the <span class="packt_screen">Open in Map Viewer</span> button on the right side. This will open the map in the ArcGIS Online Map Viewer application, as illustrated here:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1085 image-border" height="659" src="assets/62adfda0-90f8-41f8-8374-d88fea30670f.png" width="1200"/></div>
<ol start="5">
<li>Click on the <span class="packt_screen">Save</span> button located at the top of the map's viewing area. Select <span class="packt_screen">Save As</span> from the list presented.</li>
<li>Title the new map <kbd>Trippville Zoning Map</kbd>.</li>
<li>Add any tags you feel are appropriate, such as <kbd>Zoning</kbd>.</li>
<li>Change the <span class="packt_screen">Summary</span> to say: <kbd>This map displays the Zoning classifications for the City of Trippville</kbd>. Then click <span class="packt_screen">Save Map</span>.</li>
<li>Click on the <span class="packt_screen">Add</span> button and select <span class="packt_screen">Search for Layers</span> from the list that appears.</li>
<li>Set the <span class="packt_screen">In option</span> to <span class="packt_screen">ArcGIS Online</span> using the drop-down arrow.</li>
<li>In the <span class="packt_screen">Find cell</span>, type <kbd>Trippville Zoning</kbd> and click <span class="packt_screen">GO</span>.</li>
</ol>
<p style="padding-left: 60px">The new <span class="packt_screen">Zoning Layer</span> should appear in your map, as illustrated here:</p>
<div class="mce-root CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1086 image-border" height="908" src="assets/4b4472d0-455b-4fa9-bf75-db742d40ecfa.png" width="1649"/></div>
<ol start="12">
<li>Click on <span class="packt_screen">Done Adding Layers</span> to complete the process.</li>
<li>The <span class="packt_screen">Trippville Zoning Layer</span> appears at the top of the layer list. It is blocking other layers. Select the layer in the <span class="packt_screen">Content</span> and drag it so it is below the <span class="packt_screen">Lakes and Rivers</span> layer.</li>
</ol>
<div class="packt_tip">
<p>You could have also clicked on the three dots in the menu below the layer and selected <span class="packt_screen">Move Down</span> to change the position of the layer in the layer list. </p>
</div>
<ol start="14">
<li>Save your map by clicking on the <span class="packt_screen">Save</span> button.</li>
</ol>
<p style="padding-left: 60px">Your web map should now look like the following screenshot. It should contain the <span class="packt_screen">City Limits</span>, <span class="packt_screen">Railroad</span>, <span class="packt_screen">Road Rights of Way</span>, <span class="packt_screen">Parcels</span>, <span class="packt_screen">Lakes and Rivers</span>, and <span class="packt_screen">Trippville Zoning</span> layers:</p>
<div class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1087 image-border" height="723" src="assets/c0ff9fb1-a9dd-4127-ac82-b487cdb7754a.png" width="1484"/></div>
<p style="padding-left: 60px">You have now created the required map, which the <span class="packt_screen">Planning Director</span> wants to display on the department's web page. Now it is time to share the new map and embed the code.</p>
<ol start="15">
<li>Click on the <span class="packt_screen">Share</span> button at the top of the map view. This will open the <span class="packt_screen">Share</span> window you have seen in previous recipes.</li>
<li>Because this map will be displayed on the City's public website, you will share it with everyone. Click in the checkbox next to <span class="packt_screen">Everyone (public)</span>.</li>
<li>Another pop-up window will appear. Read the contents of the window and then click <span class="packt_screen">OK</span> to close it.</li>
<li>Notice that since you selected everyone, the <span class="packt_screen">Embed in Website</span> option is no longer grayed out. Click on the <span class="packt_screen">Embed in Website</span> button.</li>
<li>Now you will configure the settings for how the map will appear on the website. Start by setting the width to <kbd>940</kbd> and the height to <kbd>600</kbd>. Ensure that <span class="packt_screen">Allow Responsive Sizing</span> is enabled. This will allow the size to automatically adjust for smaller screens.</li>
<li>For <span class="packt_screen">Map Options</span>, enable the following options:
<ul>
<li>Zoom control</li>
<li>Home button</li>
<li>Legend</li>
</ul>
</li>
</ol>
<ol start="21">
<li>Choose whichever theme you like.</li>
</ol>
<p style="padding-left: 60px">Notice that as you make adjustments to the size and options, the HTML code located between the size and map options changes. ArcGIS Online is automatically creating and adjusting the HTML coding which will be required to embed the web map in your web page. You are now ready to embed the map into the department's web page:</p>
<ol start="22">
<li>Click the <span class="packt_screen">Copy</span> button to the right of the HTML code in the <span class="packt_screen">Embed in Website</span> window. This copies the HTML code to your clipboard, so you can paste it into your website.</li>
<li>Open your <kbd>File Explorer</kbd> and navigate to <kbd>C:\Student\ArcGISProCookbook\Chapter14</kbd>, using the skills you have learned in previous recipes.</li>
<li>You should see several files in this folder, including <kbd>Zoning.html</kbd>. That represents a web page you want to embed the map into. Double-click on that file to open it in a web browser; you can see it is a very simple web page.</li>
<li>Once you are done looking over the web page, return to <kbd>File Explorer</kbd>.</li>
<li>Right-click on the <kbd>Zoning.html</kbd> file and select <span class="packt_screen">Open with</span> | <span class="packt_screen">Notepad</span>, as illustrated in the following screenshot:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1088 image-border" height="432" src="assets/54e257ad-60f5-4e2d-85e1-ebcdf9060452.png" width="1254"/></div>
<p style="padding-left: 60px">You can now see the HTML code used to create the web page you just viewed in your browser. As you can see, this is a very simple web page. Now you will embed your map into this page.</p>
<div class="packt_infobox">
<p><span class="packt_screen">HTML</span> stands for <span class="packt_screen">Hypertext Markup Language</span>. It is a fairly simple programming language used to create web pages. It uses a series of tags to identify and display content. For example, <kbd>&lt;p&gt;</kbd> indicates a paragraph, <kbd>&lt;strong&gt;</kbd> or <kbd>&lt;b&gt;</kbd> means display as bold font, and <kbd>&lt;body&gt;</kbd> indicates the main body of the code which is to be displayed in the web page. Each tag must be closed using the same starting tag with a slash, such as <kbd>&lt;/p&gt;</kbd>. </p>
</div>
<ol start="27">
<li>Move your cursor in the page to just in front of where it says <kbd>&lt;p&gt; Please contact our Planning Director</kbd>, then press your <em>Enter</em> key to create a row between the two paragraphs.</li>
<li>Place your cursor in the row you just created and press your <em>Ctrl</em> + <em>V</em> keys together to paste the code from ArcGIS Online into the web page.</li>
</ol>
<p class="mce-root"/>
<p class="mce-root"/>
<p style="padding-left: 60px">The code created by ArcGIS Online, based on your settings, should now appear in the web page code, as illustrated in the following screenshot. The ArcGIS Online code has been highlighted to make it easier to see:</p>
<div class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1089 image-border" height="292" src="assets/903f6b1a-f7a6-4fb0-a07c-dd88dcbb19bc.png" width="432"/></div>
<ol start="29">
<li>In the menu at the top of Notepad, click on <span class="packt_screen">File</span>, and select <span class="packt_screen">Save</span> to save the changes made to the web page code.</li>
<li>Return to your web browser, where you previewed the web page before you edited it. Press your <em>F5</em> key to refresh the page. You should now see the map you just embeded in the middle of the page.</li>
<li>Take a moment to explore the map on the page. Once you are done, close your web browser, file explorer, and Notepad.</li>
</ol>
<p>You are done. You just successfully embedded a web map in a web page. As you just experienced, it is not hard and can add some great content to your website.</p>


            </article>

            
        </section>
    </body></html>