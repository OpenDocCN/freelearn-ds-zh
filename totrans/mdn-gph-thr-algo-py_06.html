<html><head></head><body>
<div><h1 class="chapter-number" id="_idParaDest-42"><a id="_idTextAnchor042" class="pcalibre calibre6 pcalibre1"/>3</h1>
<h1 id="_idParaDest-43" class="calibre5"><a id="_idTextAnchor043" class="pcalibre calibre6 pcalibre1"/>Demographic Data</h1>
<p class="calibre3">In this chapter, we will work with social data to analyze cultural trends spreading across countries<a id="_idIndexMarker118" class="pcalibre calibre6 pcalibre1"/> and epidemics spreading through the <strong class="bold">African Institute for Mathematical Sciences</strong> (<strong class="bold">AIMS</strong>) student population first introduced in <a href="B21087_02.xhtml#_idTextAnchor028" class="pcalibre calibre6 pcalibre1"><em class="italic">Chapter 2</em></a>. We’ll see how cultural similarity, geography, and shared social traits create ties between people and places that influence network structure. We’ll also introduce a few important structures commonly found in networks. Finally, we’ll examine how the spread of ideas and disease is influenced by network structure through our cultural trend- and epidemic-spreading examples.</p>
<p class="calibre3">By the end of this chapter, you’ll understand how social factors influence social tie formation, how the spread of ideas and disease is influenced by network structure, and how to spot important features in a plotted network. We’ll build on these ideas in later chapters. For now, let’s look at populations and their defining characteristics.</p>
<p class="calibre3">Specifically, we will cover the following topics in this chapter:</p>
<ul class="calibre10">
<li class="calibre11">Introduction to demography</li>
<li class="calibre11">Francophone Africa music spread</li>
<li class="calibre11">AIMS Cameroon student network epidemic model</li>
</ul>
<h1 id="_idParaDest-44" class="calibre5"><a id="_idTextAnchor044" class="pcalibre calibre6 pcalibre1"/>Technical requirements</h1>
<p class="calibre3">You will require Jupyter Notebook to run the practical examples in this chapter. </p>
<p class="calibre3">The code for this chapter is available here: <a href="https://github.com/PacktPublishing/Modern-Graph-Theory-Algorithms-with-Python" class="pcalibre calibre6 pcalibre1">https://github.com/PacktPublishing/Modern-Graph-Theory-Algorithms-with-Python</a></p>
<h1 id="_idParaDest-45" class="calibre5"><a id="_idTextAnchor045" class="pcalibre calibre6 pcalibre1"/>Introduction to demography</h1>
<p class="calibre3"><strong class="bold">Demography</strong>, originally formulated as the study <a id="_idIndexMarker119" class="pcalibre calibre6 pcalibre1"/>of vital statistics about a population, measures individual characteristics across a population of interest. Vital records about a population are important for public policy creation, epidemic tracking, urban planning, and many other government tasks critical for infrastructure and growth. John Snow pioneered the field of demography during the 1854 cholera outbreak in London, plotting geographic data and shared characteristics of infected individuals to determine the source of the cholera outbreak (a water pump). Since then, demography has played a prominent role in medical research, policy planning, education reform, and other applications of the social sciences to society’s needs.</p>
<p class="calibre3">In this chapter, we’ll introduce some important<a id="_idIndexMarker120" class="pcalibre calibre6 pcalibre1"/> aspects of demographic research and how we can use shared demographic and geographic factors to create networks by connecting vertices with edges based on shared geographies and demographic factors.</p>
<h2 id="_idParaDest-46" class="calibre7"><a id="_idTextAnchor046" class="pcalibre calibre6 pcalibre1"/>Demographic factors</h2>
<p class="calibre3">Demography lends us many potential <a id="_idIndexMarker121" class="pcalibre calibre6 pcalibre1"/>measurements to study populations and their subgroups in a way that allows us to infer possible social ties between individuals in those populations and subgroups. For instance, we may wish to understand distributions of gender, educational attainment, religion, socioeconomic status, or country of origin in a city such as Kigali, Rwanda, Bangalore, India, or Xi’an, China, over a period of city growth. Often, we plot results in simple charts to show changes over time, as shown in <em class="italic">Figure 3</em><em class="italic">.1</em>, which depicts the 30-year change in Rwanda’s religious composition:</p>
<div><div><img alt="Figure 3.1 – A chart comparing religious affiliation in Rwanda in 1993 versus 2023" src="img/B21087_03_01.jpg" class="calibre4"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 3.1 – A chart comparing religious affiliation in Rwanda in 1993 versus 2023</p>
<p class="calibre3">Demographic factors vary as populations<a id="_idIndexMarker122" class="pcalibre calibre6 pcalibre1"/> change, and they also vary across subgroups within populations. While individuals may share demographic factors such as age, gender, and education level, their interests, personality, and upbringing may lead them to different cultural subgroups within a larger population, say within Cape Town, South Africa. Jess may gravitate toward punk rock music and culture. Darla may enjoy socializing and parties. Sadako and Brigette may enjoy nature and artistic pursuits:</p>
<div><div><img alt="Figure 3.2 – Four young women of similar age, socioeconomic status, and educational background who belong to different subgroups in their city" src="img/B21087_03_02.jpg" class="calibre4"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 3.2 – Four young women of similar age, socioeconomic status, and educational background who belong to different subgroups in their city</p>
<p class="calibre3">While these young women<a id="_idIndexMarker123" class="pcalibre calibre6 pcalibre1"/> share some demographic factors that make it likely that they would meet and form social ties in their city, their subgroup memberships make it unlikely that the bartender who enjoys parties would meet and create a friendship with the artistic girl who creates her own clothes to reflect nature. However, if these four young women moved abroad to Dubai, UAE, their shared upbringing in the same city in a foreign country makes it likely that they would meet and form friendships as they navigate a new country together.</p>
<p class="calibre3">In most cases, demographic factors play a role in the formation of social ties, but they do not ensure those ties exist. However, in the absence of surveys about friendships or social media data that we can scrape, demographic factors provide evidence of potential ties that exist among individuals who share common backgrounds. We’ll return to this notion later in the chapter when we create a new AIMS Cameroon student network based on demographic factors rather than endorsed interactions among students.</p>
<h2 id="_idParaDest-47" class="calibre7"><a id="_idTextAnchor047" class="pcalibre calibre6 pcalibre1"/>Geographic factors</h2>
<p class="calibre3">Geography also plays an important<a id="_idIndexMarker124" class="pcalibre calibre6 pcalibre1"/> role in determining the formation and likelihood of social ties. Individuals within the same region are more likely to meet as they go out to dinner at the same restaurants, hike in the same areas, and join region-based interest groups. For instance, consider three areas—a suburban setting with bigger houses and lush yards, a densely populated city, and a very rural community with few houses (shown in <em class="italic">Figure 3</em><em class="italic">.3</em>):</p>
<div><div><img alt="Figure 3.3 – ﻿An illustration of three different geographic areas" src="img/B21087_03_03.jpg" class="calibre4"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 3.3 – An illustration of three different geographic areas</p>
<p class="calibre3">Perhaps the areas shown in <em class="italic">Figure 3</em><em class="italic">.3</em> all reside in Belgium, giving them a shared national culture. While we’d expect social ties to form at a higher likelihood among individuals in each geographic area in <em class="italic">Figure 3</em><em class="italic">.3</em> than across areas, social ties across these regions of Belgium are more likely to form than they are to form with individuals in Nairobi or Tehran, shown in <em class="italic">Figure 3</em><em class="italic">.4</em>:</p>
<div><div><img alt="Figure 3.4 – ﻿An illustration of women in Nairobi and Tehran, respectively" src="img/B21087_03_04.jpg" class="calibre4"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 3.4 – An illustration of women in Nairobi and Tehran, respectively</p>
<p class="calibre3">People who share geographies, whether at the country, city, or neighborhood level, are more likely to know each other through regional interactions. However, it is possible that a researcher in Brussels might meet a researcher in Nairobi or Tehran through an academic conference or professional social media platform such as <strong class="bold">ResearchGate</strong> or <strong class="bold">LinkedIn</strong>. The rise of a global economy and global social media platforms has lessened the impact of geography on social ties, but it is still more likely that those in the same geographic area will form social ties, particularly when they share demographic characteristics.</p>
<p class="calibre3">However, globalism, particularly<a id="_idIndexMarker125" class="pcalibre calibre6 pcalibre1"/> for those in educated professions, has changed social tie-formation processes, and for those studying social networks among professionals, it is wise to consider other demographic factors associated with the profession rather than just considering geography. The COVID-19 pandemic and the subsequent rise of online/hybrid work, conferences, and networking events widened many professionals’ social networks beyond local geographies. Still, those who share a common background geographically tend to share a culture, making those ties more likely even if the geographies of those involved have changed since the pandemic.</p>
<h2 id="_idParaDest-48" class="calibre7"><a id="_idTextAnchor048" class="pcalibre calibre6 pcalibre1"/>Homophily in networks</h2>
<p class="calibre3">As we have seen, demographic<a id="_idIndexMarker126" class="pcalibre calibre6 pcalibre1"/> and geographic factors drive connections between individuals <a id="_idIndexMarker127" class="pcalibre calibre6 pcalibre1"/>in a population. Since the advent of the knowledge economy, most geographic areas have concentrated on certain demographic factors as people choose to live with others like themselves who work in the same regions where they work, have similar levels of wealth as their levels of wealth, and come from similar educational backgrounds. Similar individuals are more likely to meet, more likely to marry, and more likely to belong to the same groups, as well.</p>
<p class="calibre3">Let’s consider three young women (Mariko, Rei, and Ryoko) in Tsuwano, Japan, who share an age group, have similar levels of education, and come from traditional backgrounds, as shown in <em class="italic">Figure 3</em><em class="italic">.5</em>:</p>
<div><div><img alt="Figure 3.5 – Mariko, Rei, and Ryoko outside Tsuwano, Japan" src="img/B21087_03_05.jpg" class="calibre4"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 3.5 – Mariko, Rei, and Ryoko outside Tsuwano, Japan</p>
<p class="calibre3">Based on geography and shared demographic factors, we would expect Mariko, Rei, and Ryoko to form social ties should they meet; given the size of their town, it is likely that they have met already. In network science, this tendency for vertices to form edges with other vertices that share important traits such as demographic or geographic factors is termed <strong class="bold">homophily</strong>.</p>
<p class="calibre3">Homophily plays an important role in link prediction within social networks, suggesting potential connections to an individual based on both shared demographic/geographic factors and shared mutual connections. For instance, consider the potential for a connection between Louis and Jean, two data scientists in Paris who are not known to be connected professionally but who share twenty mutual colleagues and many demographic factors: age group, educational background, the arrondissement in which they live and work, and profession. It is likely that they will form a professional connection if they meet at a professional event, and it is possible that they already know each other but have not connected on social media platforms yet. It is much more likely that Louis knows Jean than Patrick, a much older professional in real estate who lives in another arrondissement, never attended graduate school, and never attends tech conferences.</p>
<p class="calibre3">Beyond link prediction, homophily is also useful in clustering networks. Rather than cluster vertices based on network connectivity through network-specific clustering methods (detailed in a later chapter), we can cluster vertices by demographic and geographic factors we’ve collected with k-means or density-based clustering. While this is more common in social networks, it is possible to apply this clustering to gene networks, sales networks based on geography, or any other type of network.</p>
<p class="calibre3">Let’s see homophily<a id="_idIndexMarker128" class="pcalibre calibre6 pcalibre1"/> in action with two examples, the first highlighting how homophily<a id="_idIndexMarker129" class="pcalibre calibre6 pcalibre1"/> influences the spread of music trends in Francophone countries in Africa and the second showing how an epidemic might spread through our AIMS student network based on social interactions through students’ fields of study and home countries.</p>
<h1 id="_idParaDest-49" class="calibre5"><a id="_idTextAnchor049" class="pcalibre calibre6 pcalibre1"/>Francophone Africa music spread</h1>
<p class="calibre3">Countries that share a common<a id="_idIndexMarker130" class="pcalibre calibre6 pcalibre1"/> language tend to share common music tastes, literature, and other markers of culture, as well as trade together, provide job opportunities across borders, and share economic ties. In Africa, many countries’ histories include colonial periods in which they were under either English or French control; many countries still use English or French as a lingua franca for administrative purposes. To understand music spread across Francophone countries, we’ll create a network linking countries with more than 10% French-speaking populations that share a border. While other countries, such as Mauritius or Madagascar, have large French-speaking populations, they are geographically isolated from other parts of Francophone Africa. Trends in music or literature may spread from other Francophone countries through online sources or radio stations; however, regional concerts and events will probably not contribute to spreading as readily as they will to countries that share a border.</p>
<p class="calibre3">We first consolidated online<a id="_idIndexMarker131" class="pcalibre calibre6 pcalibre1"/> information about country borders and estimates of French-speaking populations. Let’s create our Francophone country network with <code>Script 3.1</code> based on the information we found online:</p>
<pre class="source-code">
#load needed packages
import numpy as np
import networkx as nx
import matplotlib.pyplot as plt
#create Francophone country network
G = nx.Graph()
G.add_nodes_from([1, 23])
G.add_edges_from([
    (23,13),(13,11),(12,13),(13,18),(13,1),(12,3),(12,18),
    (3,22),(3,18),(3,21),(3,20),(18,1),(18,14),(18,17),(18,21),
    (21,17),(21,14),(17,14),(14,1),(14,6),(14,5),(6,5),(1,8),
    (8,16),(8,7),(16,7),(16,2),(16,4),(16,19),(19,4),(4,2),
    (7,10),(2,10),(10,15),(10,9)])</pre> <p class="calibre3">Now that we have the 23 Francophone countries that border at least 1 other Francophone country, let’s visualize<a id="_idIndexMarker132" class="pcalibre calibre6 pcalibre1"/> our country network by adding to <code>Script 3.1</code>:</p>
<pre class="source-code">
#plot the Francophone network
import matplotlib.pyplot as plt
G.nodes[1]['country'] = 'Niger'
G.nodes[2]['country'] = 'Republic_of_Congo'
G.nodes[3]['country'] = 'Senegal'
G.nodes[4]['country'] = 'Gabon'
G.nodes[5]['country'] = 'Benin'
G.nodes[6]['country'] = 'Togo'
G.nodes[7]['country'] = 'Central_African_Republic'
G.nodes[8]['country'] = 'Chad'
G.nodes[9]['country'] = 'Rwanda'
G.nodes[10]['country'] = 'Democratic_Republic_of_Congo'
G.nodes[11]['country'] = 'Morocco'
G.nodes[12]['country'] = 'Mauritania'
G.nodes[13]['country'] = 'Algeria'
G.nodes[14]['country'] = 'Burkina_Faso'
G.nodes[15]['country'] = 'Burundi'
G.nodes[16]['country'] = 'Cameroon'
G.nodes[17]['country'] = 'Cote_dIvoire'
G.nodes[18]['country'] = 'Mali'
G.nodes[19]['country'] = 'Equatorial_Guinea'
G.nodes[20]['country'] = 'The_Gambia'
G.nodes[21]['country'] = 'Guinea'
G.nodes[22]['country'] = 'Guinea_Bissau'
G.nodes[23]['country'] = 'Tunisia'
labels = nx.get_node_attributes(G, 'country')
nx.draw(G, labels=labels, font_weight='bold')</pre> <p class="calibre3"><em class="italic">Figure 3</em><em class="italic">.6</em> shows a plot of our Francophone<a id="_idIndexMarker133" class="pcalibre calibre6 pcalibre1"/> countries and their links through shared borders:</p>
<div><div><img alt="Figure 3.6 – Visualization of the Francophone country network" src="img/B21087_03_06.jpg" class="calibre4"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 3.6 – Visualization of the Francophone country network</p>
<p class="callout-heading">Note</p>
<p class="calibre3">When working with long labels, the plot of a graph with labels will include overlapping labels or labels that are cut off. However, <em class="italic">Figure 3</em><em class="italic">.6</em> shows some of the important properties of our network: namely that we have two countries (Chad and Niger) that connect two separate networks (Central African Francophone countries such as Gabon or Burundi and Western/Northern African Francophone countries such as Senegal or Morocco). As we’ll see when we create our model of music trend spread, <em class="italic">bridges</em> that connect different parts of a network, such as Chad and Niger in the Francophone country network, govern the spreading process from one subnetwork to another.</p>
<p class="calibre3">To model the spread of trends—or diffusion of ideas or spread of disease—we turn to a field of mathematics<a id="_idIndexMarker134" class="pcalibre calibre6 pcalibre1"/> called differential equations. <strong class="bold">Differential equations</strong> relate functions and changes in those functions over time (their derivatives) across a system of interest. For instance, differential equations can model heat flow across a machinery part, opinion changes in a population, gravity’s impact on an object in motion, movement of sound through a room, or weather patterns over history (among many others!).</p>
<p class="calibre3">Differential equations can include<a id="_idIndexMarker135" class="pcalibre calibre6 pcalibre1"/> first-order derivatives, or changes in the slope of a function of interest, second-order derivatives, related to the curvature of the function, and even higher-order derivatives. For spreading processes on networks, we’ll limit our discussion to differential equations with first-order derivatives. However, any type of differential equation can be defined and run using the software we’ll be using on our NetworkX network.</p>
<p class="calibre3">Sometimes, differential equations include multiple variables<a id="_idIndexMarker136" class="pcalibre calibre6 pcalibre1"/> in the function of interest; these equations are called <strong class="bold">partial differential equations</strong>. Many real-world processes, including epidemic spread models, are modeled with partial differential equations. In addition, many real-world processes have a component of randomness or a dependency on where the process starts on an object or a network. On networks, it’s common to run a partial differential equation many times with the same or varying starting points of the process. This allows for a range of possible outcomes.</p>
<p class="calibre3">Now that we know a bit about differential equations, let’s dive into our model of interest for spreads<a id="_idIndexMarker137" class="pcalibre calibre6 pcalibre1"/> of behavior, ideas, and epidemics: the <strong class="bold">susceptible-infected-resistant</strong> (<strong class="bold">SIR</strong>) model. The SIR model was originally developed to study epidemics (in 1927), with components related to susceptible individuals in a population (not yet infected but able to be infected), infected individuals (those currently infected with the disease), and recovered or resistant individuals (those who had been infected or were immune and could not be infected).</p>
<p class="calibre3">As individuals mix in the population, infected individuals can pass on their infection to those who are susceptible with a certain probability. For our model, the probability of infecting a susceptible individual is given by the parameter <em class="italic">beta</em>. In practice, this is either known from estimates in the literature regarding behavior or disease spread probability or is estimated within a range of best guesses, with models run between those best guesses to estimate potential spread within that range of possibilities. Once an individual is infected, that individual has a probability of recovery, given by the parameter <em class="italic">gamma</em>. Once recovered, our model<a id="_idIndexMarker138" class="pcalibre calibre6 pcalibre1"/> does allow for reinfection. In a <strong class="bold">susceptible-infected-recovered-susceptible</strong> (<strong class="bold">SIRS</strong>) model, however, individuals who have recovered can be reinfected after a period of time. In a <strong class="bold">susceptible-infected-susceptible</strong> (<strong class="bold">SIS</strong>) model, recovery is replaced<a id="_idIndexMarker139" class="pcalibre calibre6 pcalibre1"/> by an immediate chance of reinfection rather than recovery.</p>
<p class="calibre3">One important property<a id="_idIndexMarker140" class="pcalibre calibre6 pcalibre1"/> of epidemic spread is the so-called <code>beta</code> parameter value by our <code>gamma</code> parameter value. If R0 is above <code>1</code>, the epidemic is expected to spread across the population in its initial phases, signaling the potential for a large epidemic. Many infectious disease outbreaks have an R0 value above <code>1</code>, including recent Ebola outbreaks (<code>R</code>0<code>~1.5</code>), the 1960s measles outbreak in Ghana (<code>R~14</code>), and the 1918 Spanish flu <code>(R</code>0<code>~1.5</code> initially and <code>~3.5</code> in later waves). The R0 value for COVID-19 varied dramatically between variants and countries, making it difficult to obtain a standard R0. However, one estimate across Africa puts COVID-19’s estimated R0 at <code>2.0-9.7</code> for most countries.</p>
<p class="calibre3">SIR models work a bit differently on networks. An infected vertex typically infects only neighbors in the network, creating a proximity effect. In our network, the bridging properties limit the chance of spreading from one subnetwork to another, as infection rates of a bridge vertex and its adjacent vertices are lower than spread through a hub of mutually connected vertices. In general, bridges are important vertices in networks with respect to information, ideas, or epidemic spread and are often intervention targets. Vaccination campaigns in a disease epidemic to limit spread, targeting in a marketing campaign to increase product adoption rates, and capturing in a criminal communications network are all real-world examples of bridge targeting to impact spread dynamics on a network of interest.</p>
<p class="calibre3">Let’s dive a bit deeper into the geometry of networks, including hubs and bridges. <strong class="bold">Hubs</strong> are regions of high<a id="_idIndexMarker142" class="pcalibre calibre6 pcalibre1"/> connectivity, where many vertices connect to many other vertices. Geometrically, densely connected regions such as hubs have high curvature and provide many possible paths for spreading processes or random walks on the network. In our Francophone Africa network, Cameroon, Senegal, and Mali all show hub properties.</p>
<p class="calibre3">Note, however, that Senegal has many edges to other vertices that do not have large numbers of edges associated with them. While Senegal serves as a hub owing to its connectivity, it does not make an ideal spreading target, as the process will die in the fairly isolated vertices surrounding it. Cameroon and Mali, however, are hubs connected to other vertices that serve as either hubs or bridges, allowing the process to continue spreading with high probability. <strong class="bold">Centrality metrics</strong> measure how central a vertex<a id="_idIndexMarker143" class="pcalibre calibre6 pcalibre1"/> is to the network, creating different types of network hub measurements that can find vertices that function as Mali/Cameroon or as Senegal within the network. We will revisit these centrality measurements in later chapters, where we will assess network properties with igraph.</p>
<p class="calibre3"><strong class="bold">Bridges</strong> work a bit differently but also contribute<a id="_idIndexMarker144" class="pcalibre calibre6 pcalibre1"/> important geometric features to networks. Niger and Chad serve as bridges in our Francophone Africa network, connecting hubs that share no other edges between them. Technically, a type<a id="_idIndexMarker145" class="pcalibre calibre6 pcalibre1"/> of centrality called <strong class="bold">betweenness centrality</strong> measures this bridging property by computing the shortest paths between each vertex pair (representing the most direct communication route) and counting the number of shortest paths that include a given vertex. Those vertices with many of the shortest paths passing through them act as bridges between different parts of the network. Geometrically, bridges serve as crossing points from one part of a network to another with respect to flow. Our music spread from Gabon to West Africa would not be possible without bridges such as Chad and Niger connecting North and West Africa with Central Africa, as the trend must spread through those countries to leave Central Africa.</p>
<p class="calibre3">For our music spread across<a id="_idIndexMarker146" class="pcalibre calibre6 pcalibre1"/> Francophone Africa, let’s consider a SIR model that begins with 5% of our countries listening to a new Rumba artist. We’ll say that our music trend has a 25% chance of spreading to a neighboring country (our <code>beta</code> parameter) and a 10% chance of fizzling out as a trend (our <code>gamma</code> parameter). This gives us R0~2.5, which means our music trend should spread well initially.</p>
<p class="calibre3">Let’s download and import the <code>ndlib</code> package by adding to <code>Script 3.1</code>:</p>
<p class="callout-heading">Note</p>
<p class="calibre3">Some dependencies may exist for packages that will need to be installed if they are not already on your machine.</p>
<pre class="source-code">
#install and import epidemic models
#you may need to install bokeh and restart the notebook if it is not
#already installed
!pip install ndlib
import ndlib.models.epidemics as ep</pre> <p class="calibre3">Now, we can select the epidemic<a id="_idIndexMarker147" class="pcalibre calibre6 pcalibre1"/> model we wish to implement and set up its parameters according to our proposed music spread epidemic by adding to <code>Script 3.1</code>:</p>
<pre class="source-code">
# Model Selection
model = ep.SIRModel(G)
# Model Configuration
import ndlib.models.ModelConfig as mc
config = mc.Configuration()
config.add_model_parameter('beta', 0.25)
config.add_model_parameter('gamma', 0.1)
config.add_model_parameter("fraction_infected", 0.05)
model.set_initial_status(config)</pre> <p class="calibre3">Now that we have our model imported and configured according to our proposed spread dynamics, we can simulate this on our Francophone country network. We’ll include 50 time periods—perhaps a weekly time period denoting spread over the course of about a year. Let’s add to <code>Script 3.1</code> to simulate the spread:</p>
<pre class="source-code">
# Simulation
iterations = model.iteration_bunch(50)
trends = model.build_trends(iterations)</pre> <p class="calibre3">If your run gives <code>bokeh</code> library:</p>
<pre class="source-code">
#visualize spread dynamics
from bokeh.io import output_notebook, show
from ndlib.viz.bokeh.DiffusionTrend import DiffusionTrend
viz = DiffusionTrend(model, trends)
p = viz.plot(width=500, height=400)
show(p)</pre> <p class="calibre3">This should give you a plot similar to <em class="italic">Figure 3</em><em class="italic">.7</em>, which shows the fraction of susceptible, infected, and recovered/removed countries in our music trend epidemic. Note that our peak expected number of countries influenced by this new Rumba artist is about a third of our countries, and the influence of this new artist lasts for over half the year. This is a fairly successful outcome for our new artist:</p>
<div><div><img alt="Figure 3.7 – Music trend spread across the Francophone country network" src="img/B21087_03_07.jpg" class="calibre4"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 3.7 – Music trend spread across the Francophone country network</p>
<p class="calibre3">Now, let’s modify our <code>gamma</code> parameter<a id="_idIndexMarker149" class="pcalibre calibre6 pcalibre1"/> to equal <code>0.3</code>, giving an R0 of less than <code>1</code>. We’d expect our trend to fizzle out very quickly with these dynamics. Modifying <code>Script 3.1</code> under this new scenario yields a much different dynamic (<em class="italic">Figure 3</em><em class="italic">.8</em>):</p>
<pre class="source-code">
# Model Configuration
import ndlib.models.ModelConfig as mc
config = mc.Configuration()
config.add_model_parameter('beta', 0.25)
config.add_model_parameter('gamma', 0.3)
config.add_model_parameter("fraction_infected", 0.05)
model.set_initial_status(config)
# Simulation
iterations = model.iteration_bunch(50)
trends = model.build_trends(iterations)
#visualize spread dynamics
from bokeh.io import output_notebook, show
from ndlib.viz.bokeh.DiffusionTrend import DiffusionTrend
viz = DiffusionTrend(model, trends)
p = viz.plot(width=500, height=400)
show(p)</pre> <div><div><img alt="Figure 3.8 – Music spread across the Francophone country network under the new gamma parameter" src="img/B21087_03_08.jpg" class="calibre4"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 3.8 – Music spread across the Francophone country network under the new gamma parameter</p>
<p class="calibre3"><em class="italic">Figure 3</em><em class="italic">.8</em> indicates that the new <a id="_idIndexMarker150" class="pcalibre calibre6 pcalibre1"/>Rumba artist’s music does not spread much to neighboring countries and fizzles out soon after the release of the album. It’s unlikely that the artist will be known outside their home country and the ones who have heard the album will forget the songs quickly. This is a much different outcome for our artist than the original scenario.</p>
<h1 id="_idParaDest-50" class="calibre5"><a id="_idTextAnchor050" class="pcalibre calibre6 pcalibre1"/>AIMS Cameroon student network epidemic model</h1>
<p class="calibre3">To understand how influenza<a id="_idIndexMarker151" class="pcalibre calibre6 pcalibre1"/> might spread through a social network, let’s return to our AIMS Cameroon student network. Recall that we used survey data about interactions to create connections between students. This allowed us to connect students who interacted regularly. However, consider the case where survey data about interactions did not exist. How might we infer possible connections between students?</p>
<p class="calibre3">We have information such as country of origin, field of study, and age of the students. Students from the same countries likely share a common culture—perhaps the same local language, the same favorite comfort foods, or the same favorite musicians.</p>
<p class="calibre3">Similarly, students in the same field<a id="_idIndexMarker152" class="pcalibre calibre6 pcalibre1"/> of study are likely to spend time together in and out of class, given their shared courseload and career interests. Study groups, group projects, and professional events in their fields likely bring students together on a regular basis. Should an infectious outbreak such as influenza or COVID-19 happen at any of these gatherings, it will likely spread within fields of study.</p>
<p class="calibre3">Let’s create a new AIMS Cameroon student network by connecting students who come from the same country or share a field of study. We’ll load the dataset with <code>Script 3.2</code>:</p>
<pre class="source-code">
#import needed packages
import pandas as pd
import networkx as nx
import matplotlib.pyplot as plt
import numpy as np
import math
#reading the dataset
fichier = pd.read_csv("C:/users/njfar/OneDrive/Desktop/AIMS_data.csv")
data = pd.DataFrame(fichier)</pre> <p class="calibre3">Now, let’s set up our network and some preliminary vectors and quantities to help us generate connections between students, including the number of students and their attributes, by adding to <code>Script 3.2</code>:</p>
<pre class="source-code">
#intializing the social network
aimsNetwork = nx.Graph()
#populating the network with nodes and edges
for i in range(len(data["Name"])):
    aimsNetwork.add_node(
        data["Name"][i], Age=data["Age"][i],
        country=data["Country"][i],Field=data["Field"][i],
        background=data["Background"][i])
#define length
N = len(aimsNetwork.nodes())
# one can build the adjacency matrix
AIMS_by_Country_or_Field = nx.Graph()
#define objects
AIMS = aimsNetwork
students = list(AIMS.nodes())</pre> <p class="calibre3">Now, we can connect students<a id="_idIndexMarker153" class="pcalibre calibre6 pcalibre1"/> according to shared home country or field of study by looping through our attributes to build a graph in NetworkX by adding to <code>Script 3.2</code>:</p>
<pre class="source-code">
#create edges
for i in range(N-1):
    for j in range(i+1,N):
        sti = students[i]
        stj = students[j]
        if AIMS.nodes[sti]['Field'] == AIMS.nodes[stj]['Field'] or
            AIMS.nodes[sti]['country'] == AIMS.nodes[stj]['country']:
            AIMS_by_Country_or_Field.add_edge(sti,stj)</pre> <p class="calibre3">Now that we have our network, let’s visualize<a id="_idIndexMarker154" class="pcalibre calibre6 pcalibre1"/> the connections between students at AIMS:</p>
<pre class="source-code">
#create plot
Degree=AIMS_by_Country_or_Field.degree()
var = [10*k[1] for k in list(Degree)]
plt.figure(figsize=(20,20))
nx.draw_random(AIMS_by_Country_or_Field, font_size=10,
    node_size = var, with_labels=True, node_color="red")
plt.show()</pre> <p class="calibre3">This should give you a plot of a highly connected student network, shown in <em class="italic">Figure 3</em><em class="italic">.9</em>:</p>
<div><div><img alt="Figure 3.9 – AIMS Cameroon student network connected by country of origin and field of study" src="img/B21087_03_09.jpg" class="calibre4"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 3.9 – AIMS Cameroon student network connected by country of origin and field of study</p>
<p class="calibre3"><em class="italic">Figure 3</em><em class="italic">.9</em> shows a densely connected<a id="_idIndexMarker155" class="pcalibre calibre6 pcalibre1"/> network, suggesting many students are likely to interact with many other students. This network does not have many bridges, but most vertices appear to be hubs. In very dense networks, spreading processes tend to move more quickly. The shortest paths between vertices in this network will be relatively short compared to the ones in the Francophone Africa network, as most vertices are connected or nearly connected to each other. The <strong class="bold">diameter</strong> of a network, the longest-shortest path, represents the maximum shortest travel route for information or disease to spread between two vertices. A small network diameter (or a small average shortest path length) suggests efficiency in spreading processes, such as information, trends, or disease. Thus, we’d expect our AIMS Cameroon student network to be more vulnerable to spreading processes than our Francophone Africa network. Technically, the diameter provides bounds for differential equations, such as our spreading process, that are defined on the network.</p>
<p class="calibre3">An epidemic with an R0 over 1 on this network <a id="_idIndexMarker156" class="pcalibre calibre6 pcalibre1"/>would likely spread quickly and infect most of the network. Let’s run an epidemic with the same <code>beta</code> and <code>gamma</code> parameters as we did on our Francophone network and plot the results to see how an epidemic similar to the Spanish flu might circulate through our student population by adding to <code>Script 3.2</code>:</p>
<pre class="source-code">
#Run the simulated epidemic on the AIMS Cameroon student network
model = ep.SIRModel(G)
config = mc.Configuration()
config.add_model_parameter('beta', 0.25)
config.add_model_parameter('gamma', 0.1)
config.add_model_parameter("fraction_infected", 0.05)
model.set_initial_status(config)
iterations = model.iteration_bunch(50)
trends = model.build_trends(iterations)
viz = DiffusionTrend(model, trends)
p = viz.plot(width=500, height=400)
show(p)</pre> <p class="calibre3"><em class="italic">Figure 3</em><em class="italic">.10</em> shows the dynamics of the epidemic, including many infected students at the epidemic peak and nearly the entire network being infected by the time the epidemic abates by week 32:</p>
<div><div><img alt="Figure 3.10 – An epidemic with beta = 0.25 and gamma = 0.1 spreading through the AIMS Cameroon student network" src="img/B21087_03_10.jpg" class="calibre4"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 3.10 – An epidemic with beta = 0.25 and gamma = 0.1 spreading through the AIMS Cameroon student network</p>
<p class="calibre3"><em class="italic">Figure 3</em><em class="italic">.10</em> shows a very severe<a id="_idIndexMarker157" class="pcalibre calibre6 pcalibre1"/> epidemic that would probably necessitate the shutdown of classes and isolation of infected students. In <a href="B21087_08.xhtml#_idTextAnchor097" class="pcalibre calibre6 pcalibre1"><em class="italic">Chapter 8</em></a>, we’ll consider specific strategies that you can leverage to decrease the impact of epidemics at a population level, including the removal of key vertices that bridge populations or create hubs. For now, let’s modify <code>Script 3.2</code> to run the second type of epidemic, where R0 is less than <code>1</code> (beta = 0.25 and gamma = 0.3):</p>
<pre class="source-code">
#Run the simulated epidemic on the AIMS Cameroon student network
model = ep.SIRModel(G)
config = mc.Configuration()
config.add_model_parameter('beta', 0.25)
config.add_model_parameter('gamma', 0.3)
config.add_model_parameter("fraction_infected", 0.05)
model.set_initial_status(config)
iterations = model.iteration_bunch(50)
trends = model.build_trends(iterations)
viz = DiffusionTrend(model, trends)
p = viz.plot(width=500, height=400)
show(p)</pre> <p class="calibre3"><em class="italic">Figure 3</em><em class="italic">.11</em> shows a very different<a id="_idIndexMarker158" class="pcalibre calibre6 pcalibre1"/> type of epidemic that does not start infecting large numbers of students and quickly fizzles out:</p>
<div><div><img alt="Figure 3.11 – An epidemic with beta = 0.25 and gamma = 0.3 spreading through the AIMS Cameroon student network" src="img/B21087_03_11.jpg" class="calibre4"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 3.11 – An epidemic with beta = 0.25 and gamma = 0.3 spreading through the AIMS Cameroon student network</p>
<p class="calibre3">As we can see from <em class="italic">Figure 3</em><em class="italic">.11</em>, even densely<a id="_idIndexMarker159" class="pcalibre calibre6 pcalibre1"/> connected networks are not threatened by certain types of epidemics. Without the right conditions to spread effectively—either through network structure or through disease characteristics impacting spread potential—epidemics fizzle out in populations. However, it is possible for a virus with initial dynamics, such as the one shown in <em class="italic">Figure 3</em><em class="italic">.11</em>, to mutate into something more infectious.</p>
<p class="calibre3">As mentioned earlier in this chapter, the 1918 Spanish influenza strain mutated from an infectious disease to a highly infectious disease, changing R0 from just over <code>1</code> (allowing for spread) to <code>3.5</code>, heralding a worldwide disaster. In practice, it’s important to consider a variety of realistic parameter values when simulating epidemics circulating through networks of interest, as a small difference in parameters can lead to a very different outcome; epidemic planning<a id="_idIndexMarker160" class="pcalibre calibre6 pcalibre1"/> works best when a wide variety of scenarios are simulated.</p>
<h1 id="_idParaDest-51" class="calibre5"><a id="_idTextAnchor051" class="pcalibre calibre6 pcalibre1"/>Summary</h1>
<p class="calibre3">In this chapter, we introduced demographic factors and how they influence network development through homophily. We also introduced the concepts of hubs and bridges. We then turned to SIR models to show trends and disease spread through social networks based on spreading factors in the differential equation models. We considered two networks: a geographic network of neighboring Francophone countries and the AIMS Cameroon student network with inferred edges based on demographic factors. We then examined the role of R0 on both networks through simulations of epidemics by changing epidemic parameters; this demonstrated that specific conditions are needed for trends or diseases to spread across a network. We’ll revisit these ideas and strategies to influence spreading behavior again in <a href="B21087_08.xhtml#_idTextAnchor097" class="pcalibre calibre6 pcalibre1"><em class="italic">Chapter 8</em></a>, when we dive into centrality measures in more detail with respect to dynamic network metrics change over time as individuals change their connections with others in the network over time.</p>
<p class="calibre3">In the next chapter, we’ll consider the role of networks in transportation logistics and how to represent transportation route data as a network.</p>
<h1 id="_idParaDest-52" class="calibre5"><a id="_idTextAnchor052" class="pcalibre calibre6 pcalibre1"/>References</h1>
<p class="calibre3">Aiello, L. M., Barrat, A., Schifanella, R., Cattuto, C., Markines, B., &amp; Menczer, F. (2012).<em class="italic"> </em>Friendship prediction and homophily in social media. <em class="italic">ACM Transactions on the Web (TWEB</em>), 6(2), 1-33.</p>
<p class="calibre3">Cooper, I., Mondal, A., &amp; Antonopoulos, C. G. (2020). A SIR model assumption for the spread of COVID-19 in different communities. <em class="italic">Chaos, Solitons &amp; Fractals, </em><em class="italic">139, 110057</em>.</p>
<p class="calibre3">Das, K., Samanta, S., &amp; Pal, M. (2018). Study on centrality measures in social networks: a survey. <em class="italic">Social network analysis and mining, </em><em class="italic">8, 1-11.</em></p>
<p class="calibre3">Estrada, E., Kalala-Mutombo, F., &amp; Valverde-Colmeiro, A. (2011). Epidemic spreading in networks with nonrandom long-range interactions. <em class="italic">Physical Review E, </em><em class="italic">84(3), 036110.</em></p>
<p class="calibre3">Iyaniwura, S. A., Rabiu, M., David, J. F., &amp; Kong, J. D. (2022). The basic reproduction number of COVID-19 across Africa. <em class="italic">Plos one, </em><em class="italic">17(2), e0264455.</em></p>
<p class="calibre3">McPherson, M., Smith-Lovin, L., &amp; Cook, J. M. (2001). Birds of a feather: Homophily in social networks. <em class="italic">Annual review of sociology, </em><em class="italic">27(1), 415-444.</em></p>
<p class="calibre3">Rodrigues, F. A. (2019). Network centrality: an introduction. <em class="italic">A mathematical modeling approach from nonlinear dynamics to complex </em><em class="italic">systems, 177-196.</em></p>
<p class="calibre3">Smith, H. L. (2003). Some thoughts on causation as it relates to demography and population studies. <em class="italic">Population and Development Review, </em><em class="italic">29(3), 459-469.</em></p>
<p class="calibre3">Weiss, H. H. (2013). The SIR model and the foundations of public health. <em class="italic">Materials </em><em class="italic">mathematics, 0001-17.</em></p>
</div>
</body></html>