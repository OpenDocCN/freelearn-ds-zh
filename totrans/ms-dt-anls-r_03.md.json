["```py\n> library(sqldf)\n> sqldf(\"SELECT * FROM mtcars WHERE am=1 AND vs=1\")\n mpg cyl  disp  hp drat    wt  qsec vs am gear carb\n1 22.8   4 108.0  93 3.85 2.320 18.61  1  1    4    1\n2 32.4   4  78.7  66 4.08 2.200 19.47  1  1    4    1\n3 30.4   4  75.7  52 4.93 1.615 18.52  1  1    4    2\n4 33.9   4  71.1  65 4.22 1.835 19.90  1  1    4    1\n5 27.3   4  79.0  66 4.08 1.935 18.90  1  1    4    1\n6 30.4   4  95.1 113 3.77 1.513 16.90  1  1    5    2\n7 21.4   4 121.0 109 4.11 2.780 18.60  1  1    4    2\n\n```", "```py\n> subset(mtcars, am == 1 & vs == 1)\n mpg cyl  disp  hp drat    wt  qsec vs am gear carb\nDatsun 710     22.8   4 108.0  93 3.85 2.320 18.61  1  1    4    1\nFiat 128       32.4   4  78.7  66 4.08 2.200 19.47  1  1    4    1\nHonda Civic    30.4   4  75.7  52 4.93 1.615 18.52  1  1    4    2\nToyota Corolla 33.9   4  71.1  65 4.22 1.835 19.90  1  1    4    1\nFiat X1-9      27.3   4  79.0  66 4.08 1.935 18.90  1  1    4    1\nLotus Europa   30.4   4  95.1 113 3.77 1.513 16.90  1  1    5    2\nVolvo 142E     21.4   4 121.0 109 4.11 2.780 18.60  1  1    4    2\n\n```", "```py\n> identical(\n+     sqldf(\"SELECT * FROM mtcars WHERE am=1 AND vs=1\",\n+       row.names = TRUE),\n+     subset(mtcars, am == 1 & vs == 1)\n+     )\n[1] TRUE\n\n```", "```py\n> subset(mtcars, am == 1 & vs == 1, select = hp:wt)\n hp drat    wt\nDatsun 710      93 3.85 2.320\nFiat 128        66 4.08 2.200\nHonda Civic     52 4.93 1.615\nToyota Corolla  65 4.22 1.835\nFiat X1-9       66 4.08 1.935\nLotus Europa   113 3.77 1.513\nVolvo 142E     109 4.11 2.780\n\n```", "```py\n> library(hflights)\n> system.time(sqldf(\"SELECT * FROM hflights WHERE Dest == 'BNA'\", \n+   row.names = TRUE))\n user  system elapsed \n 1.487   0.000   1.493 \n> system.time(subset(hflights, Dest == 'BNA'))\n user  system elapsed \n 0.132   0.000   0.131\n\n```", "```py\n> library(dplyr)\n> system.time(filter(hflights, Dest == 'BNA'))\n user  system elapsed \n 0.021   0.000   0.022\n\n```", "```py\n> str(select(filter(hflights, Dest == 'BNA'), DepTime:ArrTime))\n'data.frame':  3481 obs. of  2 variables:\n $ DepTime: int  1419 1232 1813 900 716 1357 2000 1142 811 1341 ...\n $ ArrTime: int  1553 1402 1948 1032 845 1529 2132 1317 945 1519 ...\n\n```", "```py\n> mtcars$rownames <- rownames(mtcars)\n> select(filter(mtcars, hp > 300), c(rownames, hp))\n rownames  hp\n1 Maserati Bora 335\n\n```", "```py\n> library(data.table)\n> hflights_dt <- data.table(hflights)\n> hflights_dt[, rownames := rownames(hflights)]\n> system.time(hflights_dt[Dest == 'BNA'])\n user  system elapsed \n 0.021   0.000   0.020\n\n```", "```py\nDT[i, j, ... , drop = TRUE]\n\n```", "```py\nDT[where, select | update, group by][having][order by][ ]...[ ]\n\n```", "```py\n> str(hflights_dt[Dest == 'BNA', list(DepTime, ArrTime)]) \nClasses 'data.table' and 'data.frame':     3481 obs. of 2 variables:\n $ DepTime: int  1419 1232 1813 900 716 1357 2000 1142 811 1341 ...\n $ ArrTime: int  1553 1402 1948 1032 845 1529 2132 1317 945 1519 ...\n - attr(*, \".internal.selfref\")=<externalptr>\n\n```", "```py\n> hflights_dt[Dest == 'BNA', c('DepTime', 'ArrTime'), with = FALSE] \n\n```", "```py\n> aggregate(hflights$Diverted, by = list(hflights$DayOfWeek),\n+   FUN = mean)\n Group.1           x\n1       1 0.002997672\n2       2 0.002559323\n3       3 0.003226211\n4       4 0.003065727\n5       5 0.002687865\n6       6 0.002823121\n7       7 0.002589057\n\n```", "```py\n> with(hflights, aggregate(Diverted, by = list(DayOfWeek),\n+   FUN = mean))\n\n```", "```py\n> aggregate(Diverted ~ DayOfWeek, data = hflights, FUN = mean)\n DayOfWeek    Diverted\n1         1 0.002997672\n2         2 0.002559323\n3         3 0.003226211\n4         4 0.003065727\n5         5 0.002687865\n6         6 0.002823121\n7         7 0.002589057\n\n```", "```py\n> tapply(hflights$Diverted, hflights$DayOfWeek, mean)\n 1        2        3        4        5        6        7 \n0.002998 0.002559 0.003226 0.003066 0.002688 0.002823 0.002589 \n\n```", "```py\n> library(plyr)\n> ddply(hflights, .(DayOfWeek), function(x) mean(x$Diverted))\n DayOfWeek          V1\n1         1 0.002997672\n2         2 0.002559323\n3         3 0.003226211\n4         4 0.003065727\n5         5 0.002687865\n6         6 0.002823121\n7         7 0.002589057\n\n```", "```py\n> ddply(hflights, .(DayOfWeek), summarise, Diverted = mean(Diverted))\n DayOfWeek    Diverted\n1         1 0.002997672\n2         2 0.002559323\n3         3 0.003226211\n4         4 0.003065727\n5         5 0.002687865\n6         6 0.002823121\n7         7 0.002589057\n\n```", "```py\n> hflights_DayOfWeek <- group_by(hflights, DayOfWeek)\n\n```", "```py\n> str(attributes(hflights_DayOfWeek))\nList of 9\n $ names             : chr [1:21] \"Year\" \"Month\" \"DayofMonth\" ...\n $ class             : chr [1:4] \"grouped_df\" \"tbl_df\" \"tbl\" ...\n $ row.names         : int [1:227496] 5424 5425 5426 5427 5428 ...\n $ vars              :List of 1\n ..$ : symbol DayOfWeek\n $ drop              : logi TRUE\n $ indices           :List of 7\n ..$ : int [1:34360] 2 9 16 23 30 33 40 47 54 61 ...\n ..$ : int [1:31649] 3 10 17 24 34 41 48 55 64 70 ...\n ..$ : int [1:31926] 4 11 18 25 35 42 49 56 65 71 ...\n ..$ : int [1:34902] 5 12 19 26 36 43 50 57 66 72 ...\n ..$ : int [1:34972] 6 13 20 27 37 44 51 58 67 73 ...\n ..$ : int [1:27629] 0 7 14 21 28 31 38 45 52 59 ...\n ..$ : int [1:32058] 1 8 15 22 29 32 39 46 53 60 ...\n $ group_sizes       : int [1:7] 34360 31649 31926 34902 34972 ...\n $ biggest_group_size: int 34972\n $ labels            :'data.frame':  7 obs. of  1 variable:\n ..$ DayOfWeek: int [1:7] 1 2 3 4 5 6 7\n ..- attr(*, \"vars\")=List of 1\n .. ..$ : symbol DayOfWeek\n\n```", "```py\n> dplyr::summarise(hflights_DayOfWeek, mean(Diverted))\nSource: local data frame [7 x 2]\n\n DayOfWeek mean(Diverted)\n1         1    0.002997672\n2         2    0.002559323\n3         3    0.003226211\n4         4    0.003065727\n5         5    0.002687865\n6         6    0.002823121\n7         7    0.002589057 \n\n```", "```py\n> hflights_dt[, mean(Diverted), by = DayOfWeek]\n DayOfWeek          V1\n1:         6 0.002823121\n2:         7 0.002589057\n3:         1 0.002997672\n4:         2 0.002559323\n5:         3 0.003226211\n6:         4 0.003065727\n7:         5 0.002687865\n\n```", "```py\n> setkey(hflights_dt, 'DayOfWeek')\n> hflights_dt[, mean(Diverted), by = DayOfWeek]\n DayOfWeek          V1\n1:         1 0.002997672\n2:         2 0.002559323\n3:         3 0.003226211\n4:         4 0.003065727\n5:         5 0.002687865\n6:         6 0.002823121\n7:         7 0.002589057\n\n```", "```py\n> AGGR1     <- function() aggregate(hflights$Diverted,\n+   by = list(hflights$DayOfWeek), FUN = mean)\n> AGGR2     <- function() with(hflights, aggregate(Diverted,\n+   by = list(DayOfWeek), FUN = mean))\n> AGGR3     <- function() aggregate(Diverted ~ DayOfWeek,\n+   data = hflights, FUN = mean)\n> TAPPLY    <- function() tapply(X = hflights$Diverted, \n+   INDEX = hflights$DayOfWeek, FUN = mean)\n> PLYR1     <- function() ddply(hflights, .(DayOfWeek),\n+   function(x) mean(x$Diverted))\n> PLYR2     <- function() ddply(hflights, .(DayOfWeek), summarise,\n+   Diverted = mean(Diverted))\n> DPLYR     <- function() dplyr::summarise(hflights_DayOfWeek,\n+   mean(Diverted))\n\n```", "```py\n> DPLYR_ALL <- function() {\n+     hflights_DayOfWeek <- group_by(hflights, DayOfWeek)\n+     dplyr::summarise(hflights_DayOfWeek, mean(Diverted))\n+ }\n\n```", "```py\n> hflights_dt_nokey <- data.table(hflights)\n\n```", "```py\n> key(hflights_dt_nokey)\nNULL\n\n```", "```py\n> DT     <- function() hflights_dt_nokey[, mean(FlightNum),\n+   by = DayOfWeek]\n> DT_KEY <- function() hflights_dt[, mean(FlightNum),\n+   by = DayOfWeek]\n> DT_ALL <- function() {\n+     setkey(hflights_dt_nokey, 'DayOfWeek')\n+     hflights_dt[, mean(FlightNum), by = DayOfWeek]\n+     setkey(hflights_dt_nokey, NULL)\n+ }\n\n```", "```py\n> library(microbenchmark)\n> res <- microbenchmark(AGGR1(), AGGR2(), AGGR3(), TAPPLY(), PLYR1(),\n+          PLYR2(), DPLYR(), DPLYR_ALL(), DT(), DT_KEY(), DT_ALL())\n> print(res, digits = 3)\nUnit: milliseconds\n expr     min      lq  median      uq     max neval\n AGGR1() 2279.82 2348.14 2462.02 2597.70 2719.88    10\n AGGR2() 2278.15 2465.09 2528.55 2796.35 2996.98    10\n AGGR3() 2358.71 2528.23 2726.66 2879.89 3177.63    10\n TAPPLY()   19.90   21.05   23.56   29.65   33.88    10\n PLYR1()   56.93   59.16   70.73   82.41  155.88    10\n PLYR2()   58.31   65.71   76.51   98.92  103.48    10\n DPLYR()    1.18    1.21    1.30    1.74    1.84    10\n DPLYR_ALL()    7.40    7.65    7.93    8.25   14.51    10\n DT()    5.45    5.73    5.99    7.75    9.00    10\n DT_KEY()    5.22    5.45    5.63    6.26   13.64    10\n DT_ALL()   31.31   33.26   35.19   38.34   42.83    10\n\n```", "```py\n> autoplot(res)\n\n```", "```py\n> dplyr::summarise(group_by(hflights_dt, DayOfWeek), mean(Diverted))\nSource: local data table [7 x 2]\n\n DayOfWeek mean(Diverted)\n1         1    0.002997672\n2         2    0.002559323\n3         3    0.003226211\n4         4    0.003065727\n5         5    0.002687865\n6         6    0.002823121\n7         7    0.002589057 \n\n```", "```py\n> ddply(hflights, .(DayOfWeek), summarise, n = length(Diverted))\n DayOfWeek     n\n1         1 34360\n2         2 31649\n3         3 31926\n4         4 34902\n5         5 34972\n6         6 27629\n7         7 32058\n\n```", "```py\n> ddply(hflights, .(DayOfWeek), nrow)\n DayOfWeek    V1\n1         1 34360\n2         2 31649\n3         3 31926\n4         4 34902\n5         5 34972\n6         6 27629\n7         7 32058\n\n```", "```py\n> table(hflights$DayOfWeek)\n\n 1     2     3     4     5     6     7 \n34360 31649 31926 34902 34972 27629 32058\n\n```", "```py\n> count(hflights, 'DayOfWeek')\n DayOfWeek  freq\n1         1 34360\n2         2 31649\n3         3 31926\n4         4 34902\n5         5 34972\n6         6 27629\n7         7 32058\n\n```", "```py\n> dplyr::summarise(hflights_DayOfWeek, n())\nSource: local data frame [7 x 2]\n\n DayOfWeek   n()\n1         1 34360\n2         2 31649\n3         3 31926\n4         4 34902\n5         5 34972\n6         6 27629\n7         7 32058\n\n```", "```py\n> attr(hflights_DayOfWeek, 'group_sizes')\n[1] 34360 31649 31926 34902 34972 27629 32058\n\n```", "```py\n> hflights_dt[, .N, by = list(DayOfWeek)]\n DayOfWeek     N\n1:         1 34360\n2:         2 31649\n3:         3 31926\n4:         4 34902\n5:         5 34972\n6:         6 27629\n7:         7 32058\n\n```"]