- en: Required Packages
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 必需的包
- en: In this appendix, I will show you how to install the software you need to replicate
    the examples shown in this book. I will show you how to do so for Linux and macOS,
    specifically, Ubuntu 17.10 and High Sierra. If you're using Windows, the same
    principles apply but the specifics may be a bit different. However, I'm sure it
    will not be too difficult in any case.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在本附录中，我将向您展示如何安装复制本书中示例所需的软件。我将向您展示如何在Linux和macOS上这样做，特别是Ubuntu 17.10和High Sierra。如果您使用Windows，则适用相同的原理，但具体细节可能略有不同。然而，我相信在任何情况下都不会太难。
- en: 'There are two types of requirements for executing all the code in this book:
    external and internal. Software outside of R, is what I call external requirements.
    Software inside of R, meaning R packages, are what I refer to as internal requirements.
    I will walk you through the installation of both of these.'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 执行本书中所有代码需要两种类型的要求：外部和内部。R语言之外的应用软件，我称之为外部要求。R语言内部的应用软件，即R包，我称之为内部要求。我将向您介绍这两种要求的安装过程。
- en: External requirements – software outside of R
  id: totrans-3
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 外部要求 - R语言之外的应用软件
- en: Some of the R packages required to reproduce the code in this book have external
    dependencies, which can either be installation or execution dependencies. We will
    go through the installation of each external dependency in the following sections.
    Installing external dependencies is not difficult, but it may be an unfamiliar
    process that requires us to do some work outside of R. Once we install these external
    dependencies successfully, installing R packages should be easy.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 本书代码复现所需的某些R包有外部依赖项，这些依赖项可以是安装或执行依赖项。我们将在以下章节中介绍每个外部依赖项的安装。安装外部依赖项并不困难，但它可能是一个需要我们在R之外做一些工作的不熟悉的过程。一旦我们成功安装了这些外部依赖项，安装R包应该会变得容易。
- en: Before we proceed, I just want to say that you won't always know in advance
    what external dependencies you need before attempting to install an R package.
    Normally, you will simply try to install the package and see what happens. If
    no problems arise, then you are all set. If problems do arise, the output from
    the console will hint you into what you need to do next. Most of the time, a quick
    online search for the error or a look into the package's documentation will be
    enough to understand how to proceed. As you get more experience, you'll be able
    to quickly diagnose and solve any problems.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们继续之前，我想说的是，在尝试安装R包之前，您并不总是事先知道需要哪些外部依赖项。通常，您只需尝试安装包，看看会发生什么。如果没有出现任何问题，那么您就准备好了。如果出现问题，控制台输出的信息将提示您下一步需要做什么。大多数时候，快速在线搜索错误或查看包的文档就足够了解如何继续。随着您经验的增加，您将能够快速诊断并解决任何问题。
- en: 'The following table shows the external software that we need to install, as
    well as which chapters it''s used in, why it is used, and the URL where you can
    get it. The URLs for the Fortran and C++ compilers I have provided in the following
    table are for macOS. In the case of Linux, I haven''t provided any because we
    will install them using the Terminal through the package manager, and you don''t
    need to navigate to an external website to download their installers. Finally,
    all of this software is free and you should install the latest version. The external
    software required for R packages to work are given in the following table:'
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 下表显示了我们需要安装的外部软件，以及它在哪些章节中使用，为什么使用它，以及您可以从哪里获取它的URL。下表中提供的Fortran和C++编译器的URL适用于macOS。在Linux的情况下，我没有提供任何，因为我们将通过终端通过包管理器安装它们，您不需要导航到外部网站下载它们的安装程序。最后，所有这些软件都是免费的，您应该安装最新版本。R包运行所需的外部软件如下表所示：
- en: '| **Software ** | **Chapters ** | **Reason** | **Download URL** |'
  id: totrans-7
  prefs: []
  type: TYPE_TB
  zh: '| **软件** | **章节** | **原因** | **下载URL** |'
- en: '| MySQL Community Server | 4 | Provide MySQL database | [https://dev.mysql.com/downloads/mysql/](https://dev.mysql.com/downloads/mysql/)
    |'
  id: totrans-8
  prefs: []
  type: TYPE_TB
  zh: '| MySQL社区服务器 | 4 | 提供MySQL数据库 | [https://dev.mysql.com/downloads/mysql/](https://dev.mysql.com/downloads/mysql/)
    |'
- en: '| GDAL system | 5 | 3D graphs in Linux | [http://www.gdal.org/index.html](http://www.gdal.org/index.html)
    |'
  id: totrans-9
  prefs: []
  type: TYPE_TB
  zh: '| GDAL系统 | 5 | Linux中的3D图形 | [http://www.gdal.org/index.html](http://www.gdal.org/index.html)
    |'
- en: '| XQuartz system | 5 | 3D graphs in macOS | [https://www.xquartz.org/](https://www.xquartz.org/)
    |'
  id: totrans-10
  prefs: []
  type: TYPE_TB
  zh: '| XQuartz系统 | 5 | macOS中的3D图形 | [https://www.xquartz.org/](https://www.xquartz.org/)
    |'
- en: '| Fortran compiler | 9 | Compile Fortran | [https://gcc.gnu.org/wiki/GFortranBinaries](https://gcc.gnu.org/wiki/GFortranBinaries)
    |'
  id: totrans-11
  prefs: []
  type: TYPE_TB
  zh: '| Fortran编译器 | 9 | 编译Fortran | [https://gcc.gnu.org/wiki/GFortranBinaries](https://gcc.gnu.org/wiki/GFortranBinaries)
    |'
- en: '| C++ compiler  | 9 | Compile C++ | [https://developer.apple.com/xcode/](https://developer.apple.com/xcode/)
    |'
  id: totrans-12
  prefs: []
  type: TYPE_TB
  zh: '| C++ 编译器 | 9 | 编译 C++ | [https://developer.apple.com/xcode/](https://developer.apple.com/xcode/)
    |'
- en: Depending on your setup, some of the Terminal commands you execute (both in
    Linux and macOS) may need to be prepended with the `sudo` string to allow them
    to actually modify your system. You can find more information in Wikipedia's article
    on the `sudo` command ([https://en.wikipedia.org/wiki/Sudo](https://en.wikipedia.org/wiki/Sudo)),
    and in your operating system's documentation.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 根据您的配置，您执行的某些终端命令（在 Linux 和 macOS 上）可能需要在前面加上 `sudo` 字符串，以便它们实际上可以修改您的系统。您可以在维基百科上关于
    `sudo` 命令的文章中找到更多信息（[https://en.wikipedia.org/wiki/Sudo](https://en.wikipedia.org/wiki/Sudo)），以及您操作系统的文档中。
- en: Dependencies for the RMySQL R package
  id: totrans-14
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: RMySQL R 包的依赖项
- en: '[Chapter 4](part0091.html#2MP360-f494c932c729429fb734ce52cafce730), *Simulating
    Sales Data and Working with Databases*, has an execution dependency on MySQL databases.
    This means that the `RMySQL` R package can be installed just fine without having
    a MySQL database in the system, but when R uses it to interface to a MySQL database,
    you must have one available and running with an appropriate configuration, otherwise
    you will run into errors.'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: '[第 4 章](part0091.html#2MP360-f494c932c729429fb734ce52cafce730)，*模拟销售数据和与数据库协同工作*，依赖于
    MySQL 数据库。这意味着即使系统中没有 MySQL 数据库，RMySQL R 包也可以正常安装，但当 R 使用它来与 MySQL 数据库接口时，您必须有一个可用的且配置适当的数据库正在运行，否则您将遇到错误。'
- en: Now I will show you how to install the MySQL Community Database, in both Ubuntu
    17.10 and macOS High Sierra. During the installation, you may be asked for an
    optional username and password, and if that is the case, you should take the opportunity
    and actually specify these instead of leaving it blank since we will need actual
    values from within R. If you do, you can skip the following sections about setting
    up username/password combination.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，我将向您展示如何在 Ubuntu 17.10 和 macOS High Sierra 中安装 MySQL 社区数据库。在安装过程中，您可能会被要求输入可选的用户名和密码，如果是这样，您应该抓住这个机会并实际指定这些值，而不是留空，因为我们将在
    R 中需要实际值。如果您这样做，您可以跳过以下关于设置用户名/密码组合的部分。
- en: Ubuntu 17.10
  id: totrans-17
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Ubuntu 17.10
- en: 'Installing MySQL in Ubuntu is straightforward. You simply need to update your
    package manager and install the `mysql-server` package, as shown here:'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 在 Ubuntu 中安装 MySQL 非常简单。你只需更新你的包管理器并安装 `mysql-server` 包，如下所示：
- en: '[PRE0]'
  id: totrans-19
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'The database should be automatically executed for you, which you can verify
    by following the next section titled *Both*. If it''s not, you can use the following
    command to start the database:'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 数据库应该会自动为您执行，您可以通过查看下一节标题为 *Both* 的内容来验证。如果不是这样，您可以使用以下命令来启动数据库：
- en: '[PRE1]'
  id: totrans-21
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: Check out Rackspace's post *Installing MySQL Server on Ubuntu* ([https://support.rackspace.com/how-to/installing-mysql-server-on-ubuntu/](https://support.rackspace.com/how-to/installing-mysql-server-on-ubuntu/))
    for more detailed instructions.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 查阅 Rackspace 的帖子 *在 Ubuntu 上安装 MySQL 服务器* ([https://support.rackspace.com/how-to/installing-mysql-server-on-ubuntu/](https://support.rackspace.com/how-to/installing-mysql-server-on-ubuntu/))
    以获取更详细的说明。
- en: macOS High Sierra
  id: totrans-23
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: macOS High Sierra
- en: The first thing you need to do is to install **Xcode** ([https://developer.apple.com/xcode/](https://developer.apple.com/xcode/)).
    To do so, you need to open the App store in your computer, search for `Xcode`,
    and install it. If you have any development work with your macOS, it's probable
    that you already have it installed as it's a basic dependency for most development
    under macOS.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 您需要做的第一件事是安装 **Xcode** ([https://developer.apple.com/xcode/](https://developer.apple.com/xcode/))。为此，您需要在您的计算机上打开
    App Store，搜索 `Xcode` 并安装它。如果您有任何与 macOS 相关的开发工作，您很可能已经安装了它，因为它是大多数 macOS 下开发的基本依赖项。
- en: Next, I recommend that you use the excellent **Homebrew** package manager ([https://brew.sh/)](https://brew.sh/)).
    It's the closest you can get to a tool like `apt-get` in Ubuntu. To install it,
    you need to execute the following line in your Terminal. Note that the actual
    URL in the command may change, and you should make sure it matches the one shown
    in Homebrew's website.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我建议您使用出色的 **Homebrew** 软件包管理器 ([https://brew.sh/](https://brew.sh/))）。它是您在
    Ubuntu 中可以获得的与 `apt-get` 类似工具的近似物。要安装它，您需要在您的终端中执行以下行。请注意，命令中的实际 URL 可能会更改，并且您应该确保它与
    Homebrew 网站上显示的相匹配。
- en: The following command is split using the "`\`" symbol. If you want to use it
    as a single line, you can delete such symbol and join the two lines into one.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 以下命令使用 "`\`" 符号进行了分割。如果您想将其作为单行使用，您可以删除这样的符号并将两行合并为一行。
- en: 'Let''s have a look at the following command:'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们看看以下命令：
- en: '[PRE2]'
  id: totrans-28
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'Once you have both Xcode and Homebrew installed, then you can install MySQL
    by simply executing the following line in your Terminal, and you should be all
    set:'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦您安装了Xcode和Homebrew，然后您只需在您的终端中执行以下行即可安装MySQL，并且您应该已经设置好了：
- en: '[PRE3]'
  id: totrans-30
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: In case you had any trouble installing MySQL this way. You can try the more
    manual route by going to the MySQL Community download page ([https://dev.mysql.com/downloads/mysql/](https://dev.mysql.com/downloads/mysql/)),
    downloading the appropriate DMG file, and installing it as any other macOS application.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您以这种方式安装MySQL时遇到任何问题，您可以尝试更手动的方法，通过访问MySQL社区下载页面([https://dev.mysql.com/downloads/mysql/](https://dev.mysql.com/downloads/mysql/))，下载适当的DMG文件，并将其作为任何其他macOS应用程序安装。
- en: Setting up user/password in both Linux and macOS
  id: totrans-32
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 在Linux和macOS上设置用户/密码
- en: Once you have the MySQL database installed on your computer, you need to make
    sure that you can access it with an explicit user/password combination. If you
    have already set them up, you should be able to access the database as shown ahead.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦您在计算机上安装了MySQL数据库，您需要确保您可以使用明确的用户/密码组合访问它。如果您已经设置了它们，您应该能够像前面所示那样访问数据库。
- en: 'The `<YOUR_PASSWORD>` value is shown in the second line and without Command
    Prompt (**$**) because it should not be included in the first line, and you should
    wait for MySQL to request it, which is usually after you execute the first line,
    and this is done with an invisible prompt, meaning that you won''t see what you
    are typing (for security reasons):'
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: '`<YOUR_PASSWORD>`值显示在第二行，并且没有命令提示符(**$**)，因为它不应该包含在第一行中，您应该等待MySQL请求它，这通常是在执行第一行之后，这是一个不可见的提示，意味着您不会看到您正在输入的内容（出于安全原因）：'
- en: '[PRE4]'
  id: totrans-35
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'If you see information similar to what is shown ahead and you get Command Prompt
    like `mysql>`, then you''re all set, and you should use that user/password combination
    when connecting to the database from within R:'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您看到类似前面的信息，并且得到类似`mysql>`的命令提示符，那么您已经设置好了，当您从R中连接到数据库时应该使用该用户/密码组合：
- en: '[PRE5]'
  id: totrans-37
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'If you were not able to connect, or you don''t have an explicit user/password
    combination, then we need to create it. To do so, you need to figure out how to
    log in to your MySQL server, which will depend on the configuration used to install
    your database (which can vary even for similar operating systems). It''s probable
    that you are able to access it by simply executing the following command in the
    Terminal:'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您无法连接，或者您没有明确的用户/密码组合，那么我们需要创建一个。为此，您需要弄清楚如何登录到您的MySQL服务器，这取决于安装数据库时使用的配置（即使是类似操作系统也可能不同）。您很可能会通过在终端中执行以下命令来访问它：
- en: '[PRE6]'
  id: totrans-39
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: 'Once you are in MySQL Command Prompt, you should execute the following line
    to create the user/password combination for your local installation. After doing
    so, you should be all set, and you should be able to login explicitly using this
    user/password combination as was shown previously:'
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦您进入MySQL命令提示符，您应该执行以下行来为您的本地安装创建用户/密码组合。完成此操作后，您应该已经设置好了，并且您应该能够使用之前显示的用户/密码组合明确登录：
- en: '[PRE7]'
  id: totrans-41
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'Finally, just to be clear, when you see the following code in the corresponding
    chapter, you need to use the same user/password you created here in the place
    of the `<YOUR_USER>` and `<YOUR_PASSWORD>` placeholders:'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，为了明确起见，当您在相应章节中看到以下代码时，您需要使用在这里创建的相同的用户/密码替换`<YOUR_USER>`和`<YOUR_PASSWORD>`占位符：
- en: '[PRE8]'
  id: totrans-43
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: Dependencies for the rgl and rgdal R packages
  id: totrans-44
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: rgl和rgdal R包的依赖项
- en: '[Chapter 5](part0110.html#38STS0-f494c932c729429fb734ce52cafce730), *Communicating
    Sales with Visualizations*, makes use of the `rgl` and `rgdal` packages to create
    3D and geographical data graphs. These two packages have the trickiest external
    dependencies from the ones we will see in this book, so we will provide different
    ways of installing them in case one of them is not useful for you.'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: '[第5章](part0110.html#38STS0-f494c932c729429fb734ce52cafce730)，*通过可视化进行销售沟通*，使用了`rgl`和`rgdal`包来创建3D和地理数据图表。这两个包是我们将在本书中看到的具有最复杂外部依赖的包，因此我们将提供不同的安装方法，以防其中一个对您不起作用。'
- en: We need to install **GDAL** (**Geospatial Data Abstraction Library**) system
    libraries ([http://www.gdal.org/](http://www.gdal.org/)) with geospatial, and
    **X11** ([https://www.x.org/wiki/](https://www.x.org/wiki/)) in Ubuntu or Xquartz
    ([https://www.xquartz.org/](https://www.xquartz.org/)) in macOS to create windows
    with dynamic content.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 我们需要在 Ubuntu 或 macOS 的 Xquartz 中安装 **GDAL**（地理空间数据抽象库）系统库 ([http://www.gdal.org/](http://www.gdal.org/))
    以及地理空间和 **X11** ([https://www.x.org/wiki/](https://www.x.org/wiki/)) 以创建具有动态内容的窗口。
- en: In the case of Windows, you don't need something external like X11 or Xquartz,
    since Windows handles the necessary windows natively.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 在 Windows 的情况下，您不需要像 X11 或 Xquartz 这样的外部工具，因为 Windows 本地处理必要的窗口。
- en: Ubuntu 17.10
  id: totrans-48
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Ubuntu 17.10
- en: 'To install GDAL and X11, we need various system libraries in Ubuntu. The easiest
    way to accomplish this is to use the following lines. If you had no problems,
    you should be all set:'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 要安装 GDAL 和 X11，我们需要在 Ubuntu 中安装各种系统库。最简单的方法是使用以下行。如果您没有遇到问题，那么您应该已经设置好了：
- en: '[PRE9]'
  id: totrans-50
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: 'If using the previous lines gave you an error, or otherwise did not work, you
    can try to install GDAL in a more explicit way using the following lines. The
    last two lines can be combined into a single one if you prefer, they were split
    due to space restrictions:'
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 如果使用之前的行导致错误或无法正常工作，您可以尝试使用以下行以更明确的方式安装 GDAL。最后两行可以合并为一句，如果需要，它们被拆分是因为空间限制：
- en: '[PRE10]'
  id: totrans-52
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: 'If you still get some kind of error with the previous commands, you can try
    to add the `ubuntugis` repository information, update your package manager, and
    then retry the previous code:'
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您在使用之前的命令时遇到某种错误，您可以尝试添加 `ubuntugis` 仓库信息，更新您的包管理器，然后重试之前的代码：
- en: '[PRE11]'
  id: totrans-54
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: macOS High Sierra
  id: totrans-55
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: macOS High Sierra
- en: 'To install GDAL in macOS, you may use the Homebrew package install we mentioned
    earlier. Of course, Xcode can also be installed in your computer at this point:'
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 在 macOS 中安装 GDAL，您可以使用我们之前提到的 Homebrew 包安装。当然，此时您也可以在您的电脑上安装 Xcode：
- en: '[PRE12]'
  id: totrans-57
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: Finally, we need to install the Xquartz System (similar to X11 for Ubuntu).
    To do so, go to the Xquartz website ([https://www.xquartz.org/](https://www.xquartz.org/)),
    download the appropriate DMG file, and install it as you would with any other
    application for macOS.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，我们需要安装 Xquartz 系统（类似于 Ubuntu 的 X11）。为此，请访问 Xquartz 网站 ([https://www.xquartz.org/](https://www.xquartz.org/))，下载适当的
    DMG 文件，并像安装任何其他 macOS 应用程序一样安装它。
- en: Dependencies for the Rcpp package and the .Fortran() function
  id: totrans-59
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Rcpp 包和 .Fortran() 函数的依赖项
- en: '[Chapter 9](part0229.html#6QCGQ0-f494c932c729429fb734ce52cafce730), *Implementing
    an Efficient Simple Moving Average*, shows how to delegate code to Fortran and
    C++ to increase speed. These languages have compilers of their own that must be
    used to compile the respective code so that it can be used by R. How to compile
    such code is shown in the chapter. What we will do here is show how to install
    the compilers.'
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: '[第 9 章](part0229.html#6QCGQ0-f494c932c729429fb734ce52cafce730)，*实现高效简单移动平均*，展示了如何将代码委托给
    Fortran 和 C++ 以提高速度。这些语言都有自己的编译器，必须使用它们来编译相应的代码，以便 R 可以使用。如何在章节中编译此类代码。在这里，我们将展示如何安装编译器。'
- en: The compiler for C++ code is called `gcc` and the one for Fortran is called
    `gfortran`. It's probable that you have both already available in your computer,
    since they are dependencies for R, but in case you don't, it's easy enough to
    install them.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: C++ 代码的编译器称为 `gcc`，Fortran 的编译器称为 `gfortran`。您可能已经在电脑上安装了它们，因为它们是 R 的依赖项，但如果没有，安装它们也很容易。
- en: Ubuntu 17.10
  id: totrans-62
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Ubuntu 17.10
- en: 'To install both compilers in Ubuntu, simply execute the following lines in
    your Terminal:'
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 在 Ubuntu 中安装这两个编译器，只需在您的终端中执行以下行：
- en: '[PRE13]'
  id: totrans-64
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: macOS High Sierra
  id: totrans-65
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: macOS High Sierra
- en: To install the C++ compiler in macOS, simply install **Xcode** ([https://developer.apple.com/xcode/](https://developer.apple.com/xcode/)).
    As we mentioned earlier, it can be installed through the App Store application
    you should have in your computer.
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 在 macOS 中安装 C++ 编译器，只需安装 **Xcode** ([https://developer.apple.com/xcode/](https://developer.apple.com/xcode/))。正如我们之前提到的，它可以通过您电脑中应有的
    App Store 应用程序安装。
- en: 'To install the Fortran compiler, you can use the Homebrew package manager as
    shown ahead. However, if for some reason it doesn''t work, you can also try using
    the binaries found at GNU''s website ([https://gcc.gnu.org/wiki/GFortranBinaries](https://gcc.gnu.org/wiki/GFortranBinaries)):'
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 要安装 Fortran 编译器，您可以使用前面所示 Homebrew 包管理器。但是，如果由于某种原因它不起作用，您也可以尝试使用 GNU 网站上找到的二进制文件
    ([https://gcc.gnu.org/wiki/GFortranBinaries](https://gcc.gnu.org/wiki/GFortranBinaries))：
- en: '[PRE14]'
  id: totrans-68
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: Internal requirements – R packages
  id: totrans-69
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 内部要求 - R 包
- en: An R *package* is a related set of functions, help files, and data files that
    have been bundled together. At the time of writing this, **Comprehensive R Archive
    Network** (**CRAN**) ([https://cran.r-project.org/](https://cran.r-project.org/))
    has over 12,000 packages available for R. This is a huge advantage when using
    R, since you don't have to reinvent the wheel to make use of very high quality
    packages that probably implement the functionality you're looking for, and if
    there aren't any such packages, you can contribute your own!
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: R *包* 是一组相关的函数、帮助文件和数据文件，它们被捆绑在一起。在撰写本文时，**综合R档案网络**（**CRAN**）([https://cran.r-project.org/](https://cran.r-project.org/))提供了超过12,000个R包。当使用R时，这是一个巨大的优势，因为您不必重新发明轮子来利用可能实现您所需功能的非常高质量的包，如果没有这样的包，您还可以贡献自己的包！
- en: Even if CRAN doesn't have a package with the functionality you need, it may
    exist in personal Git repositories in GitLab, GitHub, Bitbucket, and other Git
    hosting websites. As a matter of fact, two of the packages we will install come
    from GitHub, not CRAN, specifically `ggbiplot` and `ggthemr`. Finally, you may
    install specific versions of packages, as we will do with the `caret` package.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 即使CRAN没有您需要的功能包，它可能存在于GitLab、GitHub、Bitbucket和其他Git托管网站的个人Git仓库中。实际上，我们将要安装的两个包来自GitHub，而不是CRAN，具体是`ggbiplot`和`ggthemr`。最后，您可能需要安装特定版本的包，就像我们将要做的`caret`包一样。
- en: 'All the packages used in this book are shown in the following table, with an
    indication of the chapter they are used in, the version that you should install,
    and the reason why we use them in the book. In the examples in the book, we use
    R packages which are not shown in the following table, but since they are built-in,
    we don''t have to install them ourselves, and thus are not shown. For example,
    that''s the case with the `methods` and `parallel` packages, which are used to
    work with the S4 object system and perform parallel computations, respectively.
    The R packages that we need to install are mentioned in the following table:'
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 本书使用的所有包都在以下表中列出，包括它们使用的章节、您应该安装的版本以及我们为什么在书中使用它们的原因。在本书的示例中，我们使用了以下表中未显示的R包，但由于它们是内置的，我们不需要自己安装它们，因此没有显示。例如，`methods`和`parallel`包就是这种情况，它们分别用于与S4对象系统一起工作以及执行并行计算。我们需要安装的R包在以下表中列出：
- en: '| **Package ** | **Chapters ** | **Version ** | Reason |'
  id: totrans-73
  prefs: []
  type: TYPE_TB
  zh: '| **包** | **章节** | **版本** | 原因 |'
- en: '| `ggplot2` | 2, 3, 5, 9, and 10 | Latest  | High-quality graphs |'
  id: totrans-74
  prefs: []
  type: TYPE_TB
  zh: '| `ggplot2` | 2, 3, 5, 9, and 10 | 最新版 | 高质量图表 |'
- en: '| `ggbiplot` | 2 | Latest  | Principal component plots |'
  id: totrans-75
  prefs: []
  type: TYPE_TB
  zh: '| `ggbiplot` | 2 | 最新版 | 主成分图 |'
- en: '| `viridis` | 2 and 5 | Latest | Color palette for graphs |'
  id: totrans-76
  prefs: []
  type: TYPE_TB
  zh: '| `viridis` | 2 and 5 | 最新版 | 图表颜色调色板 |'
- en: '| `corrplot` | 2 and 3 | Latest  | Correlation plots |'
  id: totrans-77
  prefs: []
  type: TYPE_TB
  zh: '| `corrplot` | 2 and 3 | 最新版 | 相关性图 |'
- en: '| `progress` | 2 and 3 | Latest | Show progress for iterations |'
  id: totrans-78
  prefs: []
  type: TYPE_TB
  zh: '| `progress` | 2 and 3 | 最新版 | 显示迭代进度 |'
- en: '| `RMySQL` | 4 | Latest  | Interface to MySQL database |'
  id: totrans-79
  prefs: []
  type: TYPE_TB
  zh: '| `RMySQL` | 4 | 最新版 | MySQL数据库接口 |'
- en: '| `ggExtra` | 5 | Latest  | Graphs with marginal distributions |'
  id: totrans-80
  prefs: []
  type: TYPE_TB
  zh: '| `ggExtra` | 5 | 最新版 | 带边缘分布的图表 |'
- en: '| `threejs` | 5 | Latest  | Interactive globe graph |'
  id: totrans-81
  prefs: []
  type: TYPE_TB
  zh: '| `threejs` | 5 | 最新版 | 交互式地球图表 |'
- en: '| `leaflet` | 5 | Latest  | Interactive high-quality maps |'
  id: totrans-82
  prefs: []
  type: TYPE_TB
  zh: '| `leaflet` | 5 | 最新版 | 交互式高质量地图 |'
- en: '| `plotly` | 5 | Latest | Interactive high-quality graphs |'
  id: totrans-83
  prefs: []
  type: TYPE_TB
  zh: '| `plotly` | 5 | 最新版 | 交互式高质量图表 |'
- en: '| `rgl` | 5 | Latest  | Interactive 3D graphs |'
  id: totrans-84
  prefs: []
  type: TYPE_TB
  zh: '| `rgl` | 5 | 最新版 | 交互式3D图表 |'
- en: '| `rgdal` | 5  | Latest  | Manipulating geographical data |'
  id: totrans-85
  prefs: []
  type: TYPE_TB
  zh: '| `rgdal` | 5 | 最新版 | 地理数据处理 |'
- en: '| `plyr` | 5 | Latest  | Appending to data frames |'
  id: totrans-86
  prefs: []
  type: TYPE_TB
  zh: '| `plyr` | 5 | 最新版 | 数据框追加 |'
- en: '| `lsa` | 6 | Latest  | Cosine similarity computation |'
  id: totrans-87
  prefs: []
  type: TYPE_TB
  zh: '| `lsa` | 6 | 最新版 | 余弦相似度计算 |'
- en: '| `rilba` | 6 | Latest  | Efficient SVD decomposition |'
  id: totrans-88
  prefs: []
  type: TYPE_TB
  zh: '| `rilba` | 6 | 最新版 | 高效SVD分解 |'
- en: '| `caret` | 6 and 7 | Latest |  Machine learning framework |'
  id: totrans-89
  prefs: []
  type: TYPE_TB
  zh: '| `caret` | 6 and 7 | 最新版 | 机器学习框架 |'
- en: '| `twitteR` | 6 | Latest | Interface to Twitter''s API |'
  id: totrans-90
  prefs: []
  type: TYPE_TB
  zh: '| `twitteR` | 6 | 最新版 | Twitter API接口 |'
- en: '| `quanteda` | 6 | Latest | Text data processing |'
  id: totrans-91
  prefs: []
  type: TYPE_TB
  zh: '| `quanteda` | 6 | 最新版 | 文本数据处理 |'
- en: '| `sentimentr` | 6 | Latest  | Text data sentiment analysis |'
  id: totrans-92
  prefs: []
  type: TYPE_TB
  zh: '| `sentimentr` | 6 | 最新版 | 文本数据情感分析 |'
- en: '| `randomForest` | 6 | Latest  | Random forest models |'
  id: totrans-93
  prefs: []
  type: TYPE_TB
  zh: '| `randomForest` | 6 | 最新版 | 随机森林模型 |'
- en: '| `ggrepel` | 7 | Latest | Avoid overlapping labels in graphs |'
  id: totrans-94
  prefs: []
  type: TYPE_TB
  zh: '| `ggrepel` | 7 | 最新版 | 避免图表中标签重叠 |'
- en: '| `rmarkdown` | 7 | Latest  | Markdown documents with executable code |'
  id: totrans-95
  prefs: []
  type: TYPE_TB
  zh: '| `rmarkdown` | 7 | 最新版 | 带有可执行代码的Markdown文档 |'
- en: '| `R6` | 8 | Latest | R6 object model |'
  id: totrans-96
  prefs: []
  type: TYPE_TB
  zh: '| `R6` | 8 | 最新版 | R6对象模型 |'
- en: '| `jsonlite` | 8 | Latest | Retrieve data from JSON APIs |'
  id: totrans-97
  prefs: []
  type: TYPE_TB
  zh: '| `jsonlite` | 8 | 最新 | 从JSON API检索数据 |'
- en: '| `lubridate` | 8, 9, 10 | Latest | Easily transform dates |'
  id: totrans-98
  prefs: []
  type: TYPE_TB
  zh: '| `lubridate` | 8, 9, 10 | 最新 | 简单地转换日期 |'
- en: '| `microbenchmark` | 9 | Latest | Benchmark functions'' performance |'
  id: totrans-99
  prefs: []
  type: TYPE_TB
  zh: '| `microbenchmark` | 9 | 最新 | 基准函数的性能 |'
- en: '| `shiny` | 10 | Latest | Create modern web applications |'
  id: totrans-100
  prefs: []
  type: TYPE_TB
  zh: '| `shiny` | 10 | 最新 | 创建现代网络应用程序 |'
- en: '| `shinythemes` | 10 | Latest  | Apply themes to Shiny applications |'
  id: totrans-101
  prefs: []
  type: TYPE_TB
  zh: '| `shinythemes` | 10 | 最新 | 应用Shiny应用程序的主题 |'
- en: '| `ggthemr` | 10 | Latest | Apply themes to `ggplot2` graphs |'
  id: totrans-102
  prefs: []
  type: TYPE_TB
  zh: '| `ggthemr` | 10 | 最新 | 应用`ggplot2`图形的主题 |'
- en: 'To install these packages, you can use the `install.packages(ggplot2)` command
    and change the package to be installed for each of the ones shown in the previous
    table. However, a more efficient way to install all of them is to send a vector
    with all the package names we want to install to the `install.packages()` function,
    as is shown in the following code. Finally, note that you may send the `dependencies
    = TRUE` argument to tell R to try to install any missing dependencies for you:'
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 要安装这些包，你可以使用`install.packages(ggplot2)`命令，并将包更改为之前表中显示的每个包。然而，安装所有包的更有效的方法是将我们想要安装的所有包的名称向量发送到`install.packages()`函数，如下面的代码所示。最后，请注意，你可以发送`dependencies
    = TRUE`参数来告诉R尝试为你安装任何缺失的依赖项：
- en: '[PRE15]'
  id: totrans-104
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: 'Note that the previous vector omits three packages: `ggbiplot`, `ggthemr`,
    and `caret`. They are omitted because the first two can only be installed directly
    from GitHub (not CRAN), and the third one needs a specific version because the
    latest one contains a bug that affects some of our code at the time of this writing.
    To install the `ggbiplot` package, we need the user of the owner of the package
    in GitHub. If you go to the packages URL ([https://github.com/vqv/ggbiplot](https://github.com/vqv/ggbiplot)),
    you can see that it''s `vqv`. Now, to perform the actual installation, we use
    the `install_github()` function from the `devtools` package, and we provide it
    with a string that contains the name of the user (`vqv`) and the name of the repository
    (`ggbiplot`), separated by a diagonal (`/`).'
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 注意，前面的向量省略了三个包：`ggbiplot`、`ggthemr`和`caret`。它们被省略是因为前两个只能直接从GitHub（不是CRAN）安装，而第三个需要一个特定的版本，因为最新的版本包含一个影响我们编写此内容时的一些代码的bug。要安装`ggbiplot`包，我们需要GitHub上包的所有者的用户名。如果你访问包的URL（[https://github.com/vqv/ggbiplot](https://github.com/vqv/ggbiplot)），你会看到它是`vqv`。现在，为了执行实际的安装，我们使用`devtools`包中的`install_github()`函数，并向它提供一个包含用户名（`vqv`）和存储库名称（`ggbiplot`）的字符串，这两个名称由斜杠（`/`）分隔。
- en: If you prefer, you may load the `devtools` package into memory, and then call
    the `install_github()` function directly.
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你愿意，你可以将`devtools`包加载到内存中，然后直接调用`install_github()`函数。
- en: 'Let''s look at the following command:'
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们看看以下命令：
- en: '[PRE16]'
  id: totrans-108
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: 'Similarly, to install the `ggthemr` package ([https://github.com/cttobin/ggthemr](https://github.com/cttobin/ggthemr)),
    we use the following line:'
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 类似地，要安装`ggthemr`包（[https://github.com/cttobin/ggthemr](https://github.com/cttobin/ggthemr)），我们使用以下命令行：
- en: '[PRE17]'
  id: totrans-110
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: 'Finally, to install the `caret` package, we can use CRAN, but we must specify
    the version we want, which is `6.0.76` in this case. To accomplish this, we use
    the `install_version` function from the same `devtools` package. In this case,
    we send it the name of the package and the version we want:'
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，要安装`caret`包，我们可以使用CRAN，但我们必须指定我们想要的版本，在这个例子中是`6.0.76`。为了完成这个任务，我们使用来自同一`devtools`包的`install_version`函数。在这种情况下，我们向它发送包的名称和我们想要的版本：
- en: '[PRE18]'
  id: totrans-112
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: By now, you should have everything you need to fully replicate the code in the
    book. If you run into any problems, I'm confident that online and Stack Overflow
    ([https://stackoverflow.com/](https://stackoverflow.com/)) searches will be very
    helpful.
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 到现在为止，你应该拥有复制书中代码所需的一切。如果你遇到任何问题，我确信在线和Stack Overflow（[https://stackoverflow.com/](https://stackoverflow.com/)）的搜索将非常有帮助。
- en: Loading R packages
  id: totrans-114
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 加载R包
- en: At this point, you should be able to load the R packages you need for this book,
    and you can do so using the `library()` or `require()` functions, both of which
    take the name of the package you want to load as an argument.
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 到目前为止，你应该能够加载这本书所需的R包，你可以使用`library()`或`require()`函数来这样做，这两个函数都接受你想要加载的包的名称作为参数。
- en: 'You may be wondering why you need to load packages into R to use them. If every
    package were loaded into R by default, you may think you were using one function
    but really be using another. Even worse, it''s possible for there to be internal
    conflicts: two different packages may use the exact same functions names, resulting
    in strange and unexpected results. By only loading packages that you need, you
    can minimize the chance of these conflicts.'
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 你可能想知道为什么需要将包加载到R中才能使用它们。如果每个包都默认加载到R中，你可能会认为你正在使用一个函数，但实际上却在使用另一个函数。更糟糕的是，可能存在内部冲突：两个不同的包可能会使用完全相同的函数名，导致出现奇怪和意外的结果。通过只加载你需要的包，你可以最小化这些冲突的可能性。
