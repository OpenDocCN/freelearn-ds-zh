<html><head></head><body>
        

                            
                    Getting Started with NumPy
                
            
            
                
<p>This chapter teaches one of the most powerful Python libraries for data analysis: NumPy. You will learn key functions used for analysis and we'll also discuss arrays and matrix data structures using NumPy. Finally, we'll walk through some practical examples that serve as a foundation for future learning modules.<br/></p>
<p>In this chapter, we will cover the following:</p>
<ul>
<li>Understanding a Python NumPy array and its importance</li>
<li>Differences between single and multiple dimensional arrays</li>
<li>Making your first NumPy array</li>
<li>Practical use cases of NumPy and arrays</li>
</ul>
<h1 id="uuid-5d9f6172-4c33-4393-b558-0d639b4caf00">Technical requirements</h1>
<p>Here's the GitHub repository of this book: <a href="https://github.com/PacktPublishing/Practical-Data-Analysis-using-Jupyter-Notebook/tree/master/Chapter03">https://github.com/PacktPublishing/Practical-Data-Analysis-using-Jupyter-Notebook/tree/master/Chapter03</a>.</p>
<p>You can download and install the required software from the following link: <a href="https://www.anaconda.com/products/individual" target="_blank">https://www.anaconda.com/products/individual</a>.</p>
<p class="mce-root"/>
<h1 id="uuid-71ac3837-a9e2-4b63-ad16-b8ede7298f42">Understanding a Python NumPy array and its importance</h1>
<p>Several Python courses on NumPy focus on building programming or statistical examples intended to create a foundation for data science.</p>
<p>While this is important, I want to stay true to anyone who is just getting started working with data so the focus will be the practical usage of Python and NumPy for data analysis. This means not all of the features of NumPy will be covered, so I encourage you to learn more by looking at resources in the <em>Further reading</em> section. The history of the NumPy library has evolved from what was originally named <strong>Numerical Python</strong>. It was created as an open source project in 2001 by David Ascher, Paul Dubois, Konrad Hinsen, Jim Hugunin, and Travis Oliphant. According to the documentation, the purpose was to extend Python to allow the manipulation of large sets of objects organized in a grid-like fashion.</p>
<p>Python does not support arrays out of the box but does have a similar feature called <strong>lists</strong>, which has limitations in performance and scalability.</p>
<p>Additional research on the subject of why NumPy was created points to a need for efficiency in memory and storage when processing large volumes of data. Today, NumPy can be found as a dependent library for millions of Python projects in a public search of GitHub, including thousands of examples that handle image manipulation used for facial recognition. </p>
<p>The NumPy library is all about arrays, so let's walk through what an array is and why it is important. Any computer science or programming class I have taken has always included arrays. I was first introduced to an array before I even understood the concept thirty-seven years ago when I was introduced to a computer, the Apple IIe, in Mrs. Sherman's 4th-grade classroom. </p>
<p>One of the educational software available to run on the Apple IIe was called <q>Logo<em>,</em> </q>which was a programming language that allowed you to write simple commands to control the movement of a cursor on the computer monitor. To make the process more appealing to a younger audience, the commands allowed you to create geometric shapes and print values represented by a turtle. In <q><em>Logo</em></q>, arrays used the <kbd>list</kbd> command, which groups together one or more words or numbers as a single object that can be referenced during the same session. You can still find emulators available that allow you to run the <q>Logo</q> programming language, which was a fun walk down memory lane for me that I hope you will enjoy as well.</p>
<p class="mce-root"/>
<p>A more formal definition of an array is it is a container used to store a list of values or collections of values called elements. The elements must be defined with a data type that applies to all of the values in an array, and that data type cannot be changed during the creation of the array. This sounds like a rigid rule but does create consistency between all of the data values. There is some flexibility using the data types of arrays found in the NumPy library, which are known as <kbd>dtype</kbd> (data types). The most common <kbd>dtype</kbd> are <kbd>Boolean</kbd> for true/false values, <kbd>char</kbd> for words/string values, <kbd>float</kbd> for decimal numbers, and <kbd>int</kbd> for integers. A full list of supported data types could be found in the documentation found in the <em>Further reading</em> section.</p>
<p>Some examples of an array can be a list of numbers from 1 to 10 or a list of characters such as stock tickers, <kbd>APPL</kbd>, <kbd>IBM</kbd>, and <kbd>AMZN</kbd>. Even board games such as <em>Battleship</em> and chess are examples of arrays where pieces are placed on the board and identified with the interaction of letters and numbers. Arrays in NumPy support complex data types including sentences but remember, you must keep the data type defined and consistent to avoid errors. Arrays come in all shapes and sizes, so let's walk through a few examples.</p>
<h2 id="uuid-b72da066-8ed8-403a-b6fa-498bfd40ef2b">Differences between single and multiple dimensional arrays</h2>
<p>If the array only has one dimension, it would represent that list of values in a single row or column (but not both). The following example shows a one-dimensional array assigned to variable named <kbd>1d_array</kbd>:</p>
<pre class="CDPAlignLeft CDPAlign">1d_array = ([1, 2, 3, 4, 5])</pre>
<p>A two-dimensional array, also known as a matrix, would be any combination of multiple rows and columns. The following equation is an example of a two-dimensional array:</p>
<pre class="CDPAlignLeft CDPAlign">2d_array =<br/>([1, 'a'],<br/> [2, 'b'],<br/> [3, 'c'],<br/> [4, 'e'],<br/> [5, 'f'])</pre>
<p>You may have already realized from the examples that a structured data table that is made up of rows and columns is a two-dimensional array! Now you can see why understanding the array concept builds the foundation for data analysis against structured data.</p>
<p class="mce-root"/>
<p>Once an array is defined, it is available for use in calculations or manipulation by referencing it during the same session such as when changing the sequence of the values or even replacing values as needed. Arrays have a multitude of uses in programming so I want to stay focused on specific use cases related to data analysis.</p>
<p>Understanding arrays goes beyond just a simple table of rows and columns. The examples discussed have either one or two dimensions. If the array has more than one dimension, you can reference the values along the axis (<em>X</em>, <em>Y</em>, or <em>Z</em>).</p>
<p>With the <kbd>numpy</kbd> library package, the core feature is the <kbd>ndarray</kbd> object, which allows for any number of dimensions, which is called <em>n</em>-dimensional. This refers to the shape and size of the array across multiple axes. Hence, a 3D cube with an <em>X</em>, <em>Y</em>, and <em>Z</em> axis can also be created using NumPy arrays. A scatter plot visualization would be a useful way to analyze the type of data, which we will cover in <a href="e3570c4a-c8ad-483f-9f3f-3e113156e9c2.xhtml">Chapter 9</a>, <em>Plotting, Visualization, and Storytelling</em>, with some examples.</p>
<p>Some other key features of NumPy include the following:</p>
<ul>
<li>The ability to perform mathematical calculations against big datasets</li>
<li>Using operators to compare values such as greater than and less than</li>
<li>Combining values in two or more arrays together</li>
<li>Referencing individual elements in the sequence from how they are stored </li>
</ul>
<p>Visual representations of the different types of arrays using blocks to represent the elements are shown in the following diagrams. The following diagram is a one-dimensional array with three elements, which is also known as a vector when dealing with ordinal numbers or a tuple when working with ordered pairs. The first element of any array is referenced with an index value of <kbd>0</kbd>:</p>
<p class="CDPAlignCenter CDPAlign"><img src="img/5c648e9d-282d-4ef4-9ca5-097305c4a193.png" style="width:27.83em;height:8.50em;"/></p>
<p>The following diagram is a two-dimensional array, which is also known as a matrix. This matrix builds from the first one-dimensional array but now has two rows with three columns for a total of six elements:</p>
<p class="CDPAlignCenter CDPAlign"><img src="img/f7688247-8c0a-42ba-af37-924a84dd775f.png" style="width:19.33em;height:11.08em;"/></p>
<p>An <em>n</em>-dimensional array could be represented as a cube similar to the one in the following diagram. This <em>n</em>-dimensional array continues to build from the first two examples and now includes a third dimension or axis:</p>
<p class="CDPAlignCenter CDPAlign"><img src="img/f8790353-9a6e-45b5-93f9-d2df2e1db559.png" style="width:29.83em;height:18.50em;"/></p>
<p>I find the best way to learn is to get hands-on and comfortable using the commands to work with the data, so let's launch a Jupyter notebook and walk through some simple examples.</p>
<h1 id="uuid-5f2c074c-aa34-4388-80e9-bfd82c032db2">Making your first NumPy array</h1>
<p>The easiest example to create a one-dimensional array would be a straightforward command. After renaming your Jupyter notebook from <kbd>Untitled</kbd> to <kbd>array_basics</kbd>, the first thing to do is to import the <kbd>numpy</kbd> library into your active session by typing in <kbd>import numpy as np</kbd> in the <kbd>In []</kbd> command and running the cell.</p>
<p class="mce-root"/>
<p>I like to run this line first to ensure the library is installed properly so if you receive an error, double-check and ensure that <kbd>conda</kbd> or <kbd>pip</kbd> was set up correctly. See <a href="e0fe6eb2-8f38-41f7-9dea-2b177578fd3c.xhtml">Chapter 2</a>, <em>Overview of Python and Installing Jupyter Notebook</em>, for help.</p>
<p>Next, you want to assign the array object a variable name so you can reference it in future commands. It is common to use single character values such as <kbd>a</kbd> or <kbd>x</kbd> as a shortcut for your array but for just getting started, let's use something more descriptive, such as <kbd>my_first_array</kbd> for easier reference. To the right of the equals sign, we reference the <kbd>numpy</kbd> method using <kbd>np.array</kbd> followed by a parentheses and square brackets, which encapsulate the assigned values for each element. After running the command, to ensure the syntax is correct, the last command will be to print the array to ensure the output matches the input. Once completed, the results should look similar to the following screenshot:</p>
<p class="CDPAlignCenter CDPAlign"><img src="img/32905fa7-5953-43b0-9dc3-f9a3ed356a13.png" style="width:24.25em;height:9.83em;"/></p>
<p>Now that we have an array available, let's walk through how you can verify the contents.</p>
<h2 id="uuid-5e2dbbfc-5e72-4ab0-8826-bf7c0a0b42db">Useful array functions</h2>
<p>Some useful commands to run against any array in NumPy to give you metadata (data about the data) are included here. The commands are being run specifically against the variable named <kbd>my_first_array</kbd>:</p>
<ul>
<li><kbd>my_first_array.shape</kbd>: It provides the array dimensions.</li>
<li><kbd>my_first_array.size</kbd>: This shows the number of array elements (similar to the number of cells in a table).</li>
<li><kbd>len(my_first_array)</kbd>: This shows the length of the array.</li>
<li><kbd>my_first_array.dtype.name</kbd>: This provides the data type of the array elements.</li>
<li><kbd>my_first_array.astype(int)</kbd>: This converts an array into a different data type—in this example, an integer that will display as <kbd>int64</kbd>.</li>
</ul>
<p>If you run the preceding commands in Jupyter, your notebook should look similar to the following screenshot:</p>
<p class="CDPAlignCenter CDPAlign"><img src="img/d9158ed0-0705-492e-8a4a-990eb0003673.png" style="width:20.00em;height:27.58em;"/></p>
<p>The shape, size, and length of a one-dimensional array will all output the same result.</p>
<p>To reference individual elements in the array, you use the square brackets along with an ordinal whole number, which is called the array index. If you are familiar with the Microsoft Excel function, <kbd>vlookup</kbd>, the behavior to reference the index of the data you want to retrieve has a similar concept. The first element in any array using NumPy would be <kbd>0</kbd> so if you wanted to just display the first value from the prior example, you would type in the <kbd>print(my_first_array[0])</kbd> command, which will output <kbd>1</kbd> on the screen, as shown in the following screenshot:</p>
<p class="CDPAlignCenter CDPAlign"><img src="img/078060f5-580f-48c3-84e6-1630a5be89b2.png" style="width:18.92em;height:4.08em;"/></p>
<p>Since the array we are working with in this example has numeric values, we can also do some mathematical functions against the values.</p>
<p>Note the default <kbd>dtype</kbd> of the array in NumPy is <kbd>float</kbd> but if you don't define a data type when you first create it, Python will assign one based on the values assigned or provide an error message.</p>
<p>Some useful statistical functions you can run against numeric arrays that have <kbd>dtype</kbd> of <kbd>int</kbd> or <kbd>float</kbd> include the following:</p>
<ul>
<li><kbd>my_first_array.sum()</kbd>: Sums all of the element values</li>
<li><kbd>my_first_array.min()</kbd>: Provides the minimum element value in the entire array</li>
<li><kbd>my_first_array.max()</kbd>: Provides the maximum element value in the entire array</li>
<li><kbd>my_first_array.mean()</kbd>: Provides the mean or average, which is the sum of the elements divided by the count of the elements</li>
</ul>
<p>If you run these statistical commands against <kbd>my_first_array</kbd> in your notebook, the output will look similar to the following screenshot:</p>
<p class="CDPAlignCenter CDPAlign"><img src="img/3cfd0a0f-6fec-4504-84cc-025bfe55ead8.png" style="width:16.00em;height:16.75em;"/></p>
<p>As you can see from these few examples, there are plenty of useful functions built into the NumPy library that will help you with data validation and quality checks during the analysis process. In the <em>Further reading</em> section, I have placed a link to a printable one-page cheat sheet for easy reference.</p>
<h1 id="uuid-8f8a9468-ad62-4028-8663-76990e0be546">Practical use cases of NumPy and arrays</h1>
<p>Let's walk through a practical use case for working with a one-dimensional array in data analysis. Here's the scenario—you are a data analyst who wants to know what is the highest daily closing price for a stock ticker for the current <strong>Year To Date</strong> (<strong>YTD</strong>). To do this, you can use an array to store each value as an element, sort the price element from high to low, and then print the first element, which would display the highest price as the output value.</p>
<p>Before loading the file into Jupyter, it is best to inspect the file contents, which supports our <strong>Know Your Data</strong> (<strong>KYD</strong>) concept discussed in <a href="0fa7e28f-7a30-4099-9bae-30dd3c86ee4f.xhtml">Chapter 1</a>, <em>Fundamentals of Data Analysis</em>. The following screenshot is a comma-delimited, structured dataset with two columns. The file includes a header row with a <kbd>Date</kbd> field in the format of <kbd>YYYY-MM-DD</kbd> and a field labeled <kbd>Close</kbd>, which represents the closing price of the stock by the end of the trading day for this stock ticker. This data was downloaded from Yahoo Business, manually changed to exclude some columns, and then stored as a file in the comma-delimited format. The file name represents the ticker of the stock, so <kbd>AAPL</kbd> represents the Apple Company, which is a publicly-traded company on the <strong>National Association of Securities Dealers Automated Quotations</strong> (<strong>NASDAQ</strong>) stock exchange:</p>
<p class="CDPAlignCenter CDPAlign"><img src="img/599204ee-b4f3-4555-ae07-d00f6643cb1b.png" style="width:9.50em;height:19.42em;"/></p>
<p>The first step would be to load the file that contains the data. I have placed this file in this book's GitHub repository for convenience, so go ahead and set up a new project folder using the best practices covered in <a href="e0fe6eb2-8f38-41f7-9dea-2b177578fd3c.xhtml">Chapter 2</a>, <em>Overview of Python and Installing Jupyter Notebook</em>, by launching a new Jupyter Notebook.</p>
<p>Working with the syntax of Python is explicit and case sensitive so don't be discouraged if the expected output is wrong or you receive an error message. In most cases, a simple change in the code will resolve the issue and you can re-run the command.</p>
<p>For this scenario, there are a few options to load data in an array using NumPy.</p>
<h2 id="uuid-1786f760-b2c5-4e3d-a0cf-28c9354d6c27">Assigning values to arrays manually</h2>
<p>The first option would be to explicitly assign the values to an array manually, as shown in the following screenshot:</p>
<p class="CDPAlignCenter CDPAlign"><img src="img/43b98d94-0c19-4456-8c20-7e317dcb5250.png" style="width:68.58em;height:20.83em;"/></p>
<p>This option is fine for small datasets, testing syntax, or other specific use cases but will be impractical when working with big data or multiple data files. We took a few shortcuts using this option by only typing in a sampling of ten values from the source file. Since all of the stock prices are numeric and have a consistent data type, we can use a one-dimensional array that has a default <kbd>dtype</kbd> of <kbd>float</kbd>. </p>
<p>The steps to reproduce this option are as follows:</p>
<ol>
<li>Launch Jupyter and create a new Python notebook. </li>
<li>To stay consistent with best practices, be sure to rename the notebook <kbd>highest_daily_closing_stock_price_option_1</kbd> before moving forward.<br/></li>
<li>Type in the following command to import the <kbd>numpy</kbd> library in the notebook, input <kbd>In []:</kbd>, and run the cell:</li>
</ol>
<pre style="padding-left: 60px">In []: import numpy as np</pre>
<ol start="4">
<li>In the next input cell, add the following command to assign a NumPy array of values using the shortcut of <kbd>np</kbd> and assigning it to a variable named <kbd>input_stock_price_array</kbd>. Proceed by running the cell, which will <em>not</em> produce an output, <kbd>Out []</kbd>:</li>
</ol>
<pre style="padding-left: 60px">input_stock_price_array = np.array([142.19,148.26,147.93,150.75,153.31,153.8,152.28,150,153.07,154.94])</pre>
<ol start="5">
<li>In the next input <kbd>In []:</kbd> cell, add the following command to assign a NumPy array of values to a variable named <kbd>sorted_stock_price_array</kbd> and run the cell. Similar to before, the result will <em>not</em> produce an output, <kbd>Out []</kbd>:</li>
</ol>
<pre style="padding-left: 60px">sorted_stock_price_array = np.sort(input_stock_price_array)[::-1] </pre>
<ol start="6">
<li>Type in the following commands, which use the <kbd>print()</kbd> function to display the results of each of the array variables:</li>
</ol>
<pre style="padding-left: 60px">print('Closing stock price in order of day traded: ', input_stock_price_array)<br/>print('Closing stock price in order from high to low: ', sorted_stock_price_array) </pre>
<p>Press the <em>Enter</em> key to create a new line so you can add the second line command before running the cell.</p>
<ol start="7">
<li>Verify that the output cell displays <kbd>Out []</kbd>:</li>
</ol>
<ul>
<li style="padding-left: 30px">There will be two rows of output with the first as the original array of values.</li>
<li style="padding-left: 30px">The second output row is a sorted list of the values from the array.</li>
</ul>
<ol start="8">
<li>Type in the following command to use the <kbd>print()</kbd> function to display the result:</li>
</ol>
<pre style="padding-left: 60px">print('Highest closing stock price: ', sorted_stock_price_array[0]) </pre>
<ol start="9">
<li>Verify that the output cell displays <kbd>Out []</kbd>. The output should state <kbd>Highest closing stock price: 154.94</kbd>.</li>
</ol>
<p class="mce-root"/>
<p class="mce-root"/>
<p>The key concepts to remember from these steps are that you load an initial array of stock price values and name it <kbd>input_stock_price_array</kbd>. This step was done after importing the NumPy library and assigning it to the <kbd>np</kbd> shortcut, which is a best practice. Next, you create a new array from the original, name it <kbd>sorted_stock_price_array</kbd>, and use the <kbd>sort()</kbd> function from NumPy. The benefit of the <kbd>sort()</kbd> function is that it will automatically order the elements of the original array from low to high. Since the goal of this scenario is to get the highest value, we add the <kbd>[::-1]</kbd> parameter to the function, which sorts the elements of values in descending order. </p>
<p>Creating a new array from the original array helps to make your analysis easier to repeat and reuse. The order of operation becomes critical in the process so you must walk through the steps in sequence to get the correct results.</p>
<p>To verify the results, we add an extra step to print both arrays together to visually compare the elements and confirm that the new array is sorted in descending order. Since the original task was to get the <em>highest</em> stock price, the final step is to print the first element in the sorted array, which has an index value of <kbd>0</kbd>. If the steps are performed without any errors, you'll see the highest closing stock price from the sampling of data, that is, <kbd>154.94</kbd>.</p>
<h2 id="uuid-0155a099-a9a3-46dd-a629-f2a13ec90a35">Assigning values to arrays directly</h2>
<p>A more scalable option versus manually assigning values in the array is to use another NumPy command called the <kbd>genfromtxt()</kbd> function, which is available in the <kbd>numpy</kbd> library. Using this function, we can assign the array elements directly from reading in records from the file by row and column. The <kbd>genfromtxt()</kbd> function has a few parameters to support handling the structure of the data by isolating the specific column needed and its data type. </p>
<p>There are multiple required and optional parameters for the <kbd>genfromtxt()</kbd> function, which you can find in the <em>Further reading</em> section. For our example, let's walk through the ones required to answer our business question:</p>
<ul>
<li>The first parameter is the filename, which is assigned to the file we upload, named <kbd>AAPL_stock_price_example.csv</kbd>.</li>
<li>The second parameter is the delimiter, which is a comma since that is how the input file is structured.</li>
<li>The next parameter is to inform the function that our input data file has a header by assigning the <kbd>names=</kbd> parameter to <kbd>True</kbd>.</li>
</ul>
<ul>
<li>The last parameter is <kbd>usecols=</kbd>, which defines the specific column to read the data from.</li>
</ul>
<p>According to the <kbd>genformtxt()</kbd> function help, when passing a value to the <kbd>usecols=</kbd> parameter, the first column is always assigned to <kbd>0</kbd> by default. Since we need the <kbd>Close</kbd> column in our file, we change the parameter value to <kbd>1</kbd> to match the order that is found in our input file.</p>
<p>Once the <kbd>input_stock_price_array</kbd> is loaded using the <kbd>genfromtxt()</kbd> function, a quick <em>size</em> check will validate that the number of elements matches the number of rows in the source file. Note that the header row would be excluded from the size. In the following screenshot, you see a few modifications to the manual array option but once the array is populated with values, the remaining steps are very similar. I added <kbd>[:5]</kbd> to the <kbd>print()</kbd> function to displace the top five elements and make it easier to compare the source input array and the new sorted array:</p>
<div><br/>
<img src="img/a7d35b04-880e-48a1-b625-61466d125ba7.png" style="width:73.50em;height:27.83em;"/></div>
<p> The steps to reproduce this option are as follows:</p>
<ol>
<li>Launch Jupyter and create a new Python notebook. </li>
<li>To stay consistent with best practices, be sure to rename the notebook <kbd>highest_daily_closing_stock_price_option_2</kbd> before moving forward.<br/></li>
<li>Upload the <kbd>AAPL_stock_price_example.csv</kbd> file to the Jupyter notebook.</li>
<li>Type in <kbd>import numpy as np</kbd> in the <kbd>In []:</kbd> cell.</li>
<li>Run the cell.</li>
</ol>
<ol start="6">
<li>Type in <kbd>input_stock_price_array = np.genfromtxt('AAPL_stock_price_example.csv', delimiter=',', names=True, usecols = (1))</kbd> in the next <kbd>In []:</kbd> cell.</li>
<li>Run the cell.</li>
<li>Type in <kbd>input_stock_price_array.size</kbd> in the next <kbd>In []:</kbd> cell.</li>
<li>Verify that the output cell displays <kbd>Out []:</kbd>. The number of rows is <kbd>229</kbd> when excluding the header row.</li>
<li>Type in <kbd>sorted_stock_price_array = np.sort(input_stock_price_array)[::-1]</kbd> in the next <kbd>In []:</kbd> cell.</li>
<li>Run the cell.</li>
<li>Type in <kbd>print('Closing stock price in order of day traded: ', input_stock_price_array[:5])<br/>
print('Closing stock price in order from high to low: ', sorted_stock_price_array[:5])</kbd> in the next <kbd>In []:</kbd> cell.</li>
<li>Run the cell.</li>
<li>Verify that the output cell displays <kbd>Out []</kbd>:</li>
</ol>
<ul>
<li style="padding-left: 30px">There will be two rows of output with the first as the original array of values.</li>
<li style="padding-left: 30px">The second output row is a sorted list of the values from the array.</li>
</ul>
<ol start="15">
<li>Type in <kbd>print('Highest closing stock price: ', sorted_stock_price_array[0])</kbd> in the next <kbd>In []:</kbd> cell.</li>
<li>Run the cell.</li>
<li>Verify that the output cell displays <kbd>Out []:</kbd>. The output should state <kbd>Highest closing stock price: 267.100006</kbd>.</li>
</ol>
<h2 id="uuid-c3179d71-7b3e-4df8-890f-b8364d646980">Assigning values to an array using a loop</h2>
<p>Another approach that may use more code but has more flexibility to control data quality during the process of populating the array would be to use a loop. There are a few concepts to walk through using this approach but I think it will be useful to understand this and applicable to further learning exercises.</p>
<p>A summary of the process is as follows:</p>
<ol>
<li>Read the file into memory</li>
<li>Loop through each individual record</li>
</ol>
<ol start="3">
<li>Strip out a value from each record</li>
<li>Assign each value to a temporary array</li>
<li>Clean up the array</li>
<li>Sort the array in descending order</li>
<li>Print the first element in the array to display the highest price</li>
</ol>
<p>The last few steps in this process should look familiar since they are a repeat from the previous option where we clean the array, sort it, and then print the first element. The complete steps to reproduce this option are as follows:</p>
<ol>
<li>Launch Jupyter and create a new Python notebook.</li>
<li>To stay consistent with best practices, be sure to rename the notebook <kbd>highest_daily_closing_stock_price_option_3</kbd> before moving forward.<br/></li>
<li>Upload the <kbd>AAPL_stock_price_example.csv</kbd> file to the Jupyter notebook.</li>
</ol>
<p>Be sure to upload the source CSV file in the correct file location so you can reference it in your Jupyter notebook.</p>
<ol start="4">
<li>Type in the following command to import the <kbd>numpy</kbd> library in the notebook input, <kbd>In []:</kbd>, and run the cell. There will be no output after running this command:</li>
</ol>
<pre style="padding-left: 60px">In []: import numpy as np</pre>
<ol start="5">
<li>Initialize the array by cleaning out all of the values before we can populate it. There will be no output after running this command:</li>
</ol>
<pre style="padding-left: 60px">In []: temp_array = []</pre>
<ol start="6">
<li>In the following block of code, we have to execute multiple consecutive commands in a loop. The sequence is important and Jupyter will auto-indent as you type in the <kbd>In []:</kbd> cell. I included comments to better understand the code. There will be no output after running this command:</li>
</ol>
<pre style="padding-left: 60px">#A. Read the file into memory<br/> with open('AAPL_stock_price_example.csv', 'r') as input_file:<br/>    <br/>     #B. load all the data into a variable<br/>     all_lines_from_input_file = input_file.readlines()<br/>     <br/>     #C. Loop through each individual record <br/>     for each_individual_line in all_lines_from_input_file:<br/> <br/>         #D. Strip out a value from each record<br/>         for value_from_line in \<br/>           each_individual_line.rsplit(',')[1:]:<br/>             <br/>             #E. Remove the whitespaces from each value<br/>             clean_value_from_line = \<br/>                            value_from_line.replace("\n", "") <br/>             <br/>             #F. Assign each value to the new array by element<br/>             temp_array.append(clean_value_from_line)</pre>
<ol start="7">
<li>After <kbd>temp_array</kbd> is populated with elements, a quick <kbd>print()</kbd> function identifies another data cleanup step that is required to move forward. Type in the following command in the next <kbd>In []:</kbd> cell and run the cell:</li>
</ol>
<pre style="padding-left: 60px">print(temp_array[:5])</pre>
<ol start="8">
<li>Verify that the output cell displays <kbd>Out []</kbd>, which will look similar to the following screenshot. The array includes a header row value of <kbd>Close</kbd> and has single quotes around the price values:</li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img src="img/2bf6f084-5b78-4c6f-a5cd-69a67cb8a905.png" style="width:34.92em;height:4.17em;"/></p>
<ol start="9">
<li>The header row from the source file has been included in our array, which is easy to remove by assigning the array to itself and using the <kbd>delete()</kbd> function to delete the first element. There will be no output after running this command:</li>
</ol>
<pre style="padding-left: 60px">temp_array = np.delete(temp_array,0)</pre>
<ol start="10">
<li>Use the <kbd>size()</kbd> function to confirm the size of the array matches the original source input file by adding the following commands running the cell:</li>
</ol>
<pre style="padding-left: 60px">temp_array.size</pre>
<ol start="11">
<li>Verify that the output cell displays <kbd>Out []</kbd>, which will look similar to the following screenshot. The number of rows is <kbd>229</kbd> when excluding the header row:</li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img src="img/619353a1-21d2-4b2e-886a-6c6c4a0190f3.png" style="width:12.25em;height:3.92em;"/></p>
<p class="mce-root"/>
<ol start="12">
<li>The data type of the array has single quotes around each element. This can be remedied using a simple command from the <kbd>astype()</kbd> method by converting <kbd>dtype</kbd> of the array into <kbd>float</kbd> since the stock prices are decimal numeric values. There will be no output after running this command:</li>
</ol>
<pre style="padding-left: 60px">input_stock_price_array = temp_array.astype(float)</pre>
<ol start="13">
<li>Print the first few elements in the new array to verify the array has cleaned elements:</li>
</ol>
<pre style="padding-left: 60px">print(input_stock_price_array[:5])</pre>
<ol start="14">
<li>Verify the array now has only numeric values in decimal format and the quotes have been removed, similar to the following screenshot:</li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img src="img/9b194839-679c-4678-84f1-4d814ed2dea5.png" style="width:36.33em;height:4.25em;"/></p>
<ol start="15">
<li>The last few steps are a repeat from the prior exercise. We start with sorting the array in descending order using the <kbd>sort()</kbd> function along with passing a parameter of <kbd>[::-1]</kbd> to sort from high to low. Type in the following command in the next <kbd>In []:</kbd> cell and run the cell. There will be no output after running this command:</li>
</ol>
<pre style="padding-left: 60px">sorted_stock_price_array = np.sort(input_stock_price_array)[::-1] </pre>
<ol start="16">
<li>Print the first few elements in the array to display the highest price by referencing the first sorted element in <kbd>sorted_stock_price_array</kbd> using the <kbd>print()</kbd> function by typing in the commands and running the cell:</li>
</ol>
<pre style="padding-left: 60px">print('Closing stock price in order of day traded: ', input_stock_price_array[:5])<br/>print('Closing stock price in order from high to low: ', sorted_stock_price_array[:5]) </pre>
<ol start="17">
<li>Verify that the output cell displays <kbd>Out []</kbd>:</li>
</ol>
<ul>
<li style="padding-left: 30px">There will be two rows of output with the first as the original array of values.</li>
<li style="padding-left: 30px">The second output row is a sorted list of the values from the array.</li>
</ul>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mceNonEditable"/>
<p class="mceNonEditable"/>
<p style="padding-left: 90px">This will look similar to the following screenshot:</p>
<p class="CDPAlignCenter CDPAlign"><img src="img/ad9202cd-f96c-42d8-894e-b3c24d9b5051.png"/></p>
<ol start="18">
<li>To see the highest price, use the <kbd>print()</kbd> function and use the <kbd>[0]</kbd> command against the sorted array to display the first value:</li>
</ol>
<pre style="padding-left: 60px">print('Highest closing stock price: ', sorted_stock_price_array[0])</pre>
<ol start="19">
<li>Verify that the output cell displays <kbd>Out []</kbd>, which will look similar to the following screenshot. The output should state <kbd>Highest closing stock price: 267.100006</kbd>:</li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img src="img/57e14172-405e-484b-97bb-99e5e29c7826.png" style="width:36.50em;height:3.75em;"/></p>
<ol start="7"/>
<h1 id="uuid-9d4d39a6-2b7f-4eb9-9c0a-785d81830792">Summary</h1>
<p>Congratulations, we have now learned how to use key features of the <kbd>numpy</kbd> library along with some practical real-world examples. We started by learning about arrays and why they are important by providing examples of how they have been rooted in computer science and programming languages for decades. We also learned about the foundation of structured data, which uses the concepts of arrays, by explaining the differences between single and multiple dimensional arrays and how we commonly identify them as tables with columns and rows.</p>
<p>Once the history and theories were explained, we learned how to make a NumPy array and walked through some useful functions available. We ended this chapter with a practical real-world example by loading stock prices into an array to show how it can answer specific questions by using a few NumPy commands available for data analysis. Data literacy skills were re-enforced throughout this chapter by understanding why data types impact data analysis and why the concept of KYD from <a href="0fa7e28f-7a30-4099-9bae-30dd3c86ee4f.xhtml">Chapter 1</a>, <em>Fundamentals of Data Analysis</em>, is important.</p>
<p>In the next chapter, we will expand your data literacy skills with some hands-on lessons working with data structures called DataFrames using the <kbd>pandas</kbd> library. </p>
<h1 id="uuid-10740c7c-1ff9-47af-bf3d-4a0fe5b9018a">Further reading</h1>
<p>Here are some links that you can refer to, for more information on the relative topics of this chapter:</p>
<ul>
<li>Original NumPy user documentation: <a href="http://people.csail.mit.edu/jrennie/python/numeric/numeric-manual.pdf">http://people.csail.mit.edu/jrennie/python/numeric/numeric-manual.pdf</a></li>
<li><em>Understanding Data Types in Python</em>: <a href="https://jakevdp.github.io/PythonDataScienceHandbook/02.01-understanding-data-types.html">https://jakevdp.github.io/PythonDataScienceHandbook/02.01-understanding-data-types.html</a></li>
<li>NumPy Cheat Sheet: Data Analysis in Python: <a href="https://www.datacamp.com/community/blog/python-numpy-cheat-sheet">https://www.datacamp.com/community/blog/python-numpy-cheat-sheet</a></li>
<li>The NumPy <kbd>genfromtxt()</kbd> function help guide: <a href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.genfromtxt.html">https://docs.scipy.org/doc/numpy/reference/generated/numpy.genfromtxt.html</a></li>
<li>Image Processing with NumPy: <a href="http://www.degeneratestate.org/posts/2016/Oct/23/image-processing-with-numpy/">http://www.degeneratestate.org/posts/2016/Oct/23/image-processing-with-numpy/</a></li>
<li>History of the Logo programming language: <a href="http://www.sydlexia.com/logo.htm">http://www.sydlexia.com/logo.htm</a></li>
<li>Logo emulator: <a href="https://www.calormen.com/jslogo/#">https://www.calormen.com/jslogo/#</a></li>
<li>Difference between Python lists and NumPy arrays: <a href="https://webcourses.ucf.edu/courses/1249560/pages/python-lists-vs-numpy-arrays-what-is-the-difference">https://webcourses.ucf.edu/courses/1249560/pages/python-lists-vs-numpy-arrays-what-is-the-difference</a></li>
<li>Yahoo Finance Stock Ticker data: <a href="https://finance.yahoo.com/quote/AAPL/history?period1=1546318800&amp;period2=1574744400&amp;interval=1d&amp;filter=history&amp;frequency=1d">https://finance.yahoo.com/quote/AAPL/history?period1=1546318800&amp;period2=1574744400&amp;interval=1d&amp;filter=history&amp;frequency=1d</a></li>
</ul>


            

            
        
    </body></html>