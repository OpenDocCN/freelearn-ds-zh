<html><head></head><body><div><div><div><div><h1 class="title"><a id="ch01"/>Chapter 1. Getting Started with QGIS</h1></div></div></div><p>In this chapter, we will install and configure the QGIS geographic information system. We will also get to know the user interface and how to customize it. By the end of this chapter, you will have QGIS running on your machine and be ready to start with the tutorials.</p><div><div><div><div><h1 class="title"><a id="ch01lvl1sec07"/>Installing QGIS</h1></div></div></div><p>QGIS runs<a id="id0" class="indexterm"/> on Windows, various Linux distributions, Unix, Mac OS X, and Android. Also, the QGIS Project provides ready-to-use packages as well as instructions for building from source <a id="id1" class="indexterm"/>code on <a class="ulink" href="http://download.qgis.org">download.qgis.org</a>. We will cover how to install QGIS on the two most common systems, Windows and Ubuntu, as well as how to avoid the most common pitfalls.</p><p>Like many other open source projects, QGIS offers you a choice between a stable release version and the cutting-edge developer<a id="id2" class="indexterm"/> version, also called <strong>master</strong>. QGIS master will contain the latest and greatest developments, but be warned that on some days, it might not work as reliably as you are used to. For the tutorials in this book, we will be using the QGIS 2.0 release.</p><div><div><div><div><h2 class="title"><a id="ch01lvl2sec06"/>Installing on Windows</h2></div></div></div><p>On Windows, we<a id="id3" class="indexterm"/> have two different options to install<a id="id4" class="indexterm"/> QGIS: standalone installer and OSGeo4W installer. The <a id="id5" class="indexterm"/>standalone installer is one big download<a id="id6" class="indexterm"/> (approximately of 130 MB), which contains a QGIS<a id="id7" class="indexterm"/> release and the <strong>Geographic Resources Analysis Support System</strong> (<strong>GRASS</strong>)<a id="id8" class="indexterm"/> GIS<a id="id9" class="indexterm"/> in one package. The OSGeo4W installer is a small, flexible installation tool that makes it possible to download and install QGIS and many more OSGeo tools with all their dependencies. The main<a id="id10" class="indexterm"/> advantage of this over the standalone installer is that it makes updating QGIS and its dependencies very easy. You can always have access to both the current release and the developer version, if you chose so, but of course, you are never forced to update. That's why I recommend using OSGeo4W. The OSGeo4W installer<a id="id11" class="indexterm"/> can be downloaded from <a class="ulink" href="http://osgeo4w.osgeo.org">osgeo4w.osgeo.org</a> (or directly from <a class="ulink" href="http://download.osgeo.org/osgeo4w/osgeo4w-setup.exe">download.osgeo.org/osgeo4w/osgeo4w-setup.exe</a>). Download it and keep it! In the future, whenever you want to change or update your system, just run it again.</p><div><div><h3 class="title"><a id="tip02"/>Tip</h3><p>Regardless of the installer you choose, make sure to avoid special characters in the installation path, as they can cause problems later on, for example, during plugin installation.</p></div></div><p>When <a id="id12" class="indexterm"/>the OSGeo4W installer starts, we get to choose between the <strong>Express Desktop</strong>, <strong>Express Web-GIS</strong>, and <strong>Advanced</strong> installation. To install the QGIS release <a id="id13" class="indexterm"/>version, we can simply select the <strong>Express Desktop</strong> option and the next dialog will list the available desktop applications such<a id="id14" class="indexterm"/> as QGIS, uDig, and GRASS GIS. We simply select QGIS, click on <strong>Next</strong> and download and installation will start automatically. When the installation has finished, there will be desktop shortcuts and start menu entries for OSGeo4W and QGIS.</p><p>If we want to<a id="id15" class="indexterm"/> install QGIS master, we need to go through the <strong>Advanced</strong> installation. This installation path offers many options such as <strong>Download without installing</strong> and <strong>Install from Local Directory</strong>, which can be used to download all the necessary packages on one machine to later install them on machines without Internet access. It's usually not necessary to change the default settings, but if your machine is, for example, hidden behind a proxy, you will be able to specify it here. After the installer fetches the latest package information from OSGeo's servers, we get to pick the packages for installation. QGIS master is listed in the desktop category as <strong>qgis-dev</strong>. To select it for installation, click on the text that reads <strong>Skip</strong> and it will change and display the version number. The installer will automatically select all the necessary dependencies (such as GDAL, SAGA, OTB, and GRASS), so we don't have to worry about that. After clicking on <strong>Next</strong>, the download and installation starts automatically just like in the Express version. The dialog will look like the following screenshot:</p><div><img src="img/7488_01_01.jpg" alt="Installing on Windows"/></div><p>If you<a id="id16" class="indexterm"/> try to run QGIS and get a pop up saying <a id="id17" class="indexterm"/>
<strong>The procedure entry point &lt;some-name&gt; could not </strong>
<a id="id18" class="indexterm"/>
<strong>be located in the dynamic link library &lt;dll-name&gt;.dll</strong>, you are facing a common issue on Windows systems: a DLL conflict. They are easy to fix; just copy the DLL file mentioned in the error message from <code class="literal">C:\OSGeo4W\bin\</code> to <code class="literal">C:\OSGeo4W\apps\qgis\bin\</code> (adjust paths if necessary).</p></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec07"/>Installing on Ubuntu</h2></div></div></div><p>On Ubuntu,<a id="id19" class="indexterm"/> the QGIS project provides packages for both the<a id="id20" class="indexterm"/> release and developer version. Be aware, though, that you can only install one version at a time. The packages are not listed in the default Ubuntu repositories. Therefore, we have to add the appropriate repositories to Ubuntu's sources list, which you can find in <code class="literal">/etc/apt/sources.list</code>. You can open the file with any text editor. </p><p>Make sure that you have super user rights, as you need them to save your edits. One option is to use gedit, which is installed on Ubuntu by default. To edit the <code class="literal">sources.list</code> file, use the following command:</p><div><pre class="programlisting">
<strong>sudo gedit /etc/apt/sources.list</strong>
</pre></div><p>Make sure to add only one of the following four package source options to avoid conflicts due to incompatible packages. The specific lines you have to add to the source list depend on your Ubuntu version.</p><p>The first<a id="id21" class="indexterm"/> and default option is to install the current release <a id="id22" class="indexterm"/>version. To install the QGIS release on Precise Penguin, add the following lines to your file:</p><div><pre class="programlisting">deb     http://qgis.org/debian precise main
deb-src http://qgis.org/debian precise main</pre></div><p>If necessary, replace <code class="literal">precise</code> with <code class="literal">raring</code>, <code class="literal">oneiric</code>, <code class="literal">natty</code>, or <code class="literal">lucid</code> to fit your system. For an updated list of supported Ubuntu versions, check <a class="ulink" href="http://download.qgis.org">download.qgis.org</a>.</p><p>The second option is to install the QGIS master, which is currently available for <code class="literal">precise</code>, <code class="literal">quantal</code>, and <code class="literal">raring</code>. Add the following lines to your file:</p><div><pre class="programlisting">deb     http://qgis.org/debian-nightly precise main
deb-src http://qgis.org/debian-nightly precise main</pre></div><div><div><h3 class="title"><a id="tip03"/>Tip</h3><p>The preceding versions depend on other packages such as GDAL and proj4, which are available in the Ubuntu repositories. It is worth mentioning that these packages are often quite old.</p></div></div><p>Therefore, the third option is to install the QGIS release version with updated dependencies, which are provided by the <code class="literal">ubuntugis</code> repository. Add the following lines to<a id="id23" class="indexterm"/> your file:</p><div><pre class="programlisting">deb     http://ppa.launchpad.net/ubuntugis/ubuntugis-unstable/ubuntu precise main
deb-src http://ppa.launchpad.net/ubuntugis/ubuntugis-unstable/ubuntu precise main</pre></div><p>The fourth option is QGIS master with updated dependencies. Add the following lines to your file:</p><div><pre class="programlisting">deb     http://qgis.org/ubuntugis-nightly precise main
deb-src http://qgis.org/ubuntugis-nightly precise main
deb     http://ppa.launchpad.net/ubuntugis/ubuntugis-unstable/ubuntu precise main</pre></div><p>After choosing the repository, we add the <code class="literal">qgis.org</code> repository public key to our <code class="literal">apt</code> keyring. This will avoid warnings you might otherwise get when installing from a non-default repository. Run the following command in the terminal:</p><div><pre class="programlisting">
<strong>gpg --keyserver keyserver.ubuntu.com --recv 997D3880</strong>
<strong>gpg --export --armor 997D3880 | sudo apt-key add –</strong>
</pre></div><div><div><h3 class="title"><a id="note02"/>Note</h3><p>The key information might have changed since this book went into print. Please refer to <a class="ulink" href="http://hub.qgis.org/projects/quantum-gis/wiki/Download#26-Ubuntu">hub.qgis.org/projects/quantum-gis/wiki/Download#26-Ubuntu</a> for the latest updates.</p></div></div><p>Finally,<a id="id24" class="indexterm"/> to i<a id="id25" class="indexterm"/>nstall QGIS, run the following commands:</p><div><pre class="programlisting">
<strong>sudo apt-get update</strong>
<strong>sudo apt-get install qgis python-qgis qgis-plugin-grass</strong>
</pre></div></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch01lvl1sec08"/>Running QGIS for the first time</h1></div></div></div><p>By default, QGIS<a id="id26" class="indexterm"/> will use the operating system's default language. To follow the tutorials in this book, it is advisable to change the language to English by navigating to <strong>Settings</strong> | <strong>Options</strong> | <strong>Locale</strong>. On the first run, the toolbars are arranged in two rows and depending on your screen resolution, this can hide many buttons. To be able to work efficiently, I therefore suggest arranging the toolbars. I like to put some toolbars to the left and right screen borders to save vertical screen estate—especially on wide-screen displays. </p><p>Additionally, we activate the file browser by navigating to <strong>View</strong> | <strong>Panels</strong> | <strong>Browser</strong>. It will provide us quick access to our spatial data. In the end, your screen should look similar to the following screenshot:</p><div><img src="img/7488_01_02.jpg" alt="Running QGIS for the first time"/></div><p>Next, we activate<a id="id27" class="indexterm"/> some must-have plugins by navigating to <strong>Plugins</strong> | <strong>Manage and Install Plugins</strong>. Plugins are activated by ticking the checkbox beside <a id="id28" class="indexterm"/>their name. To begin with, I recommend the following:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><strong>Coordinate Capture</strong>: This<a id="id29" class="indexterm"/> plugin is <a id="id30" class="indexterm"/>useful for picking coordinates in the map</li><li class="listitem" style="list-style-type: disc"><strong>fTools</strong>: This<a id="id31" class="indexterm"/> plugin offers vector analysis and management<a id="id32" class="indexterm"/> tools</li><li class="listitem" style="list-style-type: disc"><strong>GdalTools</strong>: This <a id="id33" class="indexterm"/>plugin offers raster analysis<a id="id34" class="indexterm"/> and management tools</li><li class="listitem" style="list-style-type: disc"><strong>Processing</strong>: This plugin provides<a id="id35" class="indexterm"/> access to many useful raster and vector analysis tools as well as a model builder for<a id="id36" class="indexterm"/> task automation</li></ul></div><p>To make it easier to find specific plugins, we can filter the list of plugins using the <strong>Search</strong> input field at the top of the window, which you can see in the following screenshot:</p><div><img src="img/7488_01_03.jpg" alt="Running QGIS for the first time"/></div></div>
<div><div><div><div><h1 class="title"><a id="ch01lvl1sec09"/>Introducing the QGIS user interface</h1></div></div></div><p>Now that we have set up QGIS, let's get accustomed to the interface! The biggest area is reserved for <a id="id37" class="indexterm"/>the map. To the left of the map, there are the <strong>Layers</strong> and the <strong>Browser</strong> panels. Below the map, we find important information such as (from left to right), <a id="id38" class="indexterm"/>current map coordinates, map scale, and the (currently inactive) project <strong>coordinate reference system</strong> (<strong>CRS</strong>).</p><p>Next, there are multiple toolbars to explore. If you arranged them as shown in the previous section, you'll find the following toolbars in the top row:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><strong>File</strong>: This<a id="id39" class="indexterm"/> toolbar<a id="id40" class="indexterm"/> contains tools to create, open, save, and print projects</li><li class="listitem" style="list-style-type: disc"><strong>Manage Layers</strong>: This <a id="id41" class="indexterm"/>toolbar contains tools to add layers<a id="id42" class="indexterm"/> from vector or raster files, databases, web services, text files, or create new layers</li><li class="listitem" style="list-style-type: disc"><strong>Database</strong>: Currently,<a id="id43" class="indexterm"/> this toolbar only contains DB Manager, but <a id="id44" class="indexterm"/>other database-related tools will appear here when they are installed</li><li class="listitem" style="list-style-type: disc"><strong>Help</strong>: This<a id="id45" class="indexterm"/> points<a id="id46" class="indexterm"/> to the user manual download</li></ul></div><p>The following <a id="id47" class="indexterm"/>screenshot shows what the preceding toolbars look like:</p><div><img src="img/7488_01_04.jpg" alt="Introducing the QGIS user interface"/></div><p>The second row of toolbars contains the following:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><strong>Map Navigation</strong>: This<a id="id48" class="indexterm"/> toolbar contains pan and<a id="id49" class="indexterm"/> zoom tools</li><li class="listitem" style="list-style-type: disc"><strong>Attributes</strong>: These<a id="id50" class="indexterm"/> tools are used to identify, select, <a id="id51" class="indexterm"/>open attribute tables, measure, and so on</li><li class="listitem" style="list-style-type: disc"><strong>Label</strong>: These<a id="id52" class="indexterm"/> tools are used to add, configure, and modify <a id="id53" class="indexterm"/>labels</li><li class="listitem" style="list-style-type: disc"><strong>Vector</strong>: This<a id="id54" class="indexterm"/> is currently empty, but will be filled by additional<a id="id55" class="indexterm"/> Python plugins</li><li class="listitem" style="list-style-type: disc"><strong>Web</strong>: This <a id="id56" class="indexterm"/>is currently empty, but will be filled by additional<a id="id57" class="indexterm"/> Python plugins</li></ul></div><p>The following screenshot shows what the preceding toolbars look like:</p><div><img src="img/7488_01_05.jpg" alt="Introducing the QGIS user interface"/></div><p>On the left screen border, we put the following:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><strong>Plugins</strong>: This <a id="id58" class="indexterm"/>is currently empty, but will be filled by additional Python plugins</li><li class="listitem" style="list-style-type: disc"><strong>Raster</strong>: This<a id="id59" class="indexterm"/> toolbar includes histogram stretch, brightness, and contrast control</li></ul></div><p>The following screenshot shows what the preceding toolbars look like:</p><div><img src="img/7488_01_06.jpg" alt="Introducing the QGIS user interface"/></div><p>Finally, on the right screen border, we find the following:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><strong>Digitizing</strong>: These <a id="id60" class="indexterm"/>tools enable editing, basic feature<a id="id61" class="indexterm"/> creation, and editing</li><li class="listitem" style="list-style-type: disc"><strong>Advanced Digitizing</strong>: This toolbar <a id="id62" class="indexterm"/>contains <a id="id63" class="indexterm"/>undo/redo, advanced editing tools, geometry simplification, and so on</li></ul></div><p>The following screenshot shows what the preceding toolbars look like:</p><div><img src="img/7488_01_07.jpg" alt="Introducing the QGIS user interface"/></div><div><div><h3 class="title"><a id="tip04"/>Tip</h3><p>All digitizing tools are currently inactive. They will only turn active once we start editing a vector layer.</p></div></div><p>Toolbars<a id="id64" class="indexterm"/> and panels can be activated and deactivated via the <strong>View</strong> menu's <strong>Panels</strong> and <strong>Toolbars</strong> entries as well as by right-clicking on a menu or toolbar, which opens a context menu with all available toolbars and panels. All toolbar tools can also be accessed via the menu. If you deactivate the <strong>Manage Layers</strong> toolbar, for example, you will still be able to add layers using the <strong>Layer</strong> menu.</p><p>QGIS is highly customizable. You can increase your productivity by assigning shortcuts to the tools you use regularly by navigating to <strong>Settings</strong> | <strong>Configure shortcuts</strong>. Similarly, if you find that you never use a certain toolbar button or menu entry, you can hide it by navigating to <strong>Settings</strong> | <strong>Customization</strong>. For example, if you don't have access to an Oracle Spatial database, you might want to hide the associated buttons to remove clutter and save screen estate as shown in the following screenshot:</p><div><img src="img/7488_01_08.jpg" alt="Introducing the QGIS user interface"/></div></div>
<div><div><div><div><h1 class="title"><a id="ch01lvl1sec10"/>Summary</h1></div></div></div><p>In this chapter, we installed QGIS and configured it by selecting useful defaults and arranging the user interface elements. Finally, we explored the panels, toolbars, and menus that make up the QGIS user interface, and learned how to customize them to increase productivity.</p></div></body></html>