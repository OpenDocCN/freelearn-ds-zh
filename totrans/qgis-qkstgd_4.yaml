- en: Styling Data
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In this chapter, we will be styling GIS data. We will be using data stored in
    a GeoPackage. We will style vector layers based on data in the attribute table,
    and raster data using the vast array of rendering tools available to us. After
    we have created the styles, you can save and reuse them.
  prefs: []
  type: TYPE_NORMAL
- en: QGIS, by default, will randomly assign colors to every layer, and while this
    was useful when editing and creating, we'd like to visualize our data better.
    This will help us to produce a much more useful and pleasing map. This is the
    focus of this chapter.
  prefs: []
  type: TYPE_NORMAL
- en: 'These are the topics covered in this chapter:'
  prefs: []
  type: TYPE_NORMAL
- en: Layer Styling Panel
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Styling vector data
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Styling raster data
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Saving style files
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Layer Styling Panel
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: The Layer Styling Panel offers a shortcut to the styling options of the Layer
    Properties dialog box. It allows the user to make updates to the styling of a
    layer and see it update instantly on the map.
  prefs: []
  type: TYPE_NORMAL
- en: 'Open QGIS. Load the following layers from the GeoPackage, and keep them in
    the following order in the Layers panel:'
  prefs: []
  type: TYPE_NORMAL
- en: '`Airports`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`majrivers`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`grassland`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`alaska`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'The layers are ordered from the top in points, lines, and polygons for ease
    of visibility. Turn on the Layer Styling Panel. Do this by clicking on View |
    Panels | Layer Styling Panel, as shown in the following screenshot:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/ba2e2c18-b822-480b-b90d-a887aab5fe1e.png)'
  prefs: []
  type: TYPE_IMG
- en: Activating the Layer Styling Panel
  prefs: []
  type: TYPE_NORMAL
- en: Once you turn on the Layer Styling Panel make sure that the checkbox next to
    Live update (bottom right of the Panel) is ticked so any updates can be seen as
    they are made.
  prefs: []
  type: TYPE_NORMAL
- en: 'Right-click on the `alaska` layer and select the Zoom to Layer option. Your
    screen should look similar to the following screenshot:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/298c0b19-2f78-4987-acfb-3e5e9eff7dda.png)'
  prefs: []
  type: TYPE_IMG
- en: Overview of all layers loaded into QGIS
  prefs: []
  type: TYPE_NORMAL
- en: Styling vector data
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In this section, we will explore the options for styling vector data. We will
    look at clustering point data and converting it to a heatmap. We will look at
    styling the major rivers in Alaska, but first we will explore the options for
    styling polygon data, beginning with the boundary of Alaska.
  prefs: []
  type: TYPE_NORMAL
- en: Styling polygon data
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In this section, we will be styling the `alaska` and `grassland` layers. Turn
    all the other layers off in the Layers panel. We will style the data via the Layer
    Styling Panel on the right in the preceding image, as it is interactive. However,
    if you prefer, you can access the same information by right-clicking on a layer
    and selecting Properties and then Symbology tab.
  prefs: []
  type: TYPE_NORMAL
- en: 'Choose Single symbol and from the symbol layer, type then select Shapeburst
    fill. Shapeburst fill is the shading of the interior edge of a polygon. I have
    chosen a blue color for the border of my `alaska` layer. Set the distance of the
    fill to 2.00 millimeters as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/5486b0c4-2185-4db4-80f8-3a670a7ebf40.png)'
  prefs: []
  type: TYPE_IMG
- en: Layer Styling Panel
  prefs: []
  type: TYPE_NORMAL
- en: 'This produces a nice styling. We can refine it even further. Click on the checkbox
    next to Ignore rings in polygons while shading. Then, click on the Draw effects
    button and select the customize effects button. From the resultant dialog box,
    set the effect to Colorise as shown in the following screenshot:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/074a1834-a2fc-472d-ab32-3dc61157e03c.png)'
  prefs: []
  type: TYPE_IMG
- en: Advanced polygon styling in the Layer Styling Panel
  prefs: []
  type: TYPE_NORMAL
- en: 'The `alaska` layer should now be styled and look similar to the following screenshot:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/1d90f988-277f-4c39-a59f-8a6392bfb796.png)'
  prefs: []
  type: TYPE_IMG
- en: Alaska boundary styled
  prefs: []
  type: TYPE_NORMAL
- en: 'Next, turn on the `grassland` layer. This time, we will style it using the
    F_CODEDESC field. In this field, we have two types: `grassland` and `Scrub/Bush`.
    This data is split into classes. QGIS has a renderer to visualize data based on
    a class in a field; it is called the Categorized renderer. Select Categorized
    as the symbol and select the F_CODEDESC field. Click on Classify.'
  prefs: []
  type: TYPE_NORMAL
- en: 'Next, double-click on `grassland` and set that to the wine symbol, as shown
    in the following screenshot:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/dba2e2c2-babc-4275-9bde-e00c06ba83bc.png)'
  prefs: []
  type: TYPE_IMG
- en: Symbolizing the grassland
  prefs: []
  type: TYPE_NORMAL
- en: 'Return to the original style selection window by clicking the blue triangle
    next to the Symbol Selector label. Double-click on `grassland` and change the
    symbol to dotted, as shown in the following screenshot:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/15c4e43c-e8d2-45c6-92d3-8800f45e0bbc.png)'
  prefs: []
  type: TYPE_IMG
- en: Symbolizing grassland (2)
  prefs: []
  type: TYPE_NORMAL
- en: 'Your data should now look similar to the following screenshot:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/de890ce5-11ca-4bc9-840f-a9e5c51bedd5.png)'
  prefs: []
  type: TYPE_IMG
- en: Alaska with the grassland symbolized
  prefs: []
  type: TYPE_NORMAL
- en: There are many ways we can style polygon data. Explore the options in the styling
    menu which can help tune up your visualization if needed. Next, we will take a
    look at line styling using the `majrivers` layer in our GeoPackage.
  prefs: []
  type: TYPE_NORMAL
- en: Styling line data – rivers layer
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Select the `majrivers` layer from the top of the Later Styling panel. We will
    use this layer to create a Line style that consists of two colors: a fill color
    and an outline color. Select a Single symbol in the Layer Styling Panel. Beneath
    this Symbology, click on the green plus icon to add a new simple line. You should
    now have two lines showing, which will look similar to the following:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/787fde67-b02c-48b8-ba35-26cc2e94a5e3.png)'
  prefs: []
  type: TYPE_IMG
- en: Styling the river as lines
  prefs: []
  type: TYPE_NORMAL
- en: 'Change the top simple line to a blue color of thickness 0.260000 and the bottom
    to a gray/black color of thickness 0.460000\. Click on Line (directly above these
    two lines) to highlight the symbol. This will change the Layer Styling Panel slightly.
    At the bottom of this panel, there is a button labeled advanced. Click on this
    and select symbol levels. From the resultant screen, select the Enable Symbol
    Levels checkbox. Your data should now look similar to the following screenshot:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/c8326cf9-9ad5-46d2-a615-dd2991438c06.png)'
  prefs: []
  type: TYPE_IMG
- en: Alaska with the major rivers symbolized
  prefs: []
  type: TYPE_NORMAL
- en: Next, we will look at styling the `Airports` layer.
  prefs: []
  type: TYPE_NORMAL
- en: Styling points – Airports layer
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: There are many options involving in styling points. First, let's have a look
    at some of the options.
  prefs: []
  type: TYPE_NORMAL
- en: 'Point clustering option styles a point layer by clustering point features that
    are close to other point features. It assigns a number style to the clustered
    point to indicate the number of points clustered. Turn the `Airports` layer on
    and, in the Layer Styling Panel, select point clustering. Accept the defaults.
    You should now have a red marker with the number of points (clusters) at that
    location. Your map should look similar to this:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/3f2dd5ef-d04f-4458-ab6e-cd060cbd08e4.png)'
  prefs: []
  type: TYPE_IMG
- en: Alaska with the airports data displayed as a cluster
  prefs: []
  type: TYPE_NORMAL
- en: 'Heatmap creation is another option for points. Similar to clustering, we can
    create density heatmaps of the points on the fly. From the drop-down list, this
    time select Heatmap. Choose a suitable Color ramp; in the following example, I
    have chosen the Spectral color ramp. The point data associated with the `Airports`
    dataset is fairly sparse, and, really heatmap here doesn''t serve much purpose
    for visualizing the data. However, it is a useful tool to know about:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/d0e2b550-a37c-4bdc-a6f9-61cff7e4b63a.png)'
  prefs: []
  type: TYPE_IMG
- en: Creating a heatmap from point data
  prefs: []
  type: TYPE_NORMAL
- en: 'A better way would be to display the airport locations not as heatmaps or as
    point clusters, but as airplane symbols. Use the Categorized option for Symbology
    in the Layer Styling Panel. Select USE as Column that will define whether the
    airport is for the following:'
  prefs: []
  type: TYPE_NORMAL
- en: Civilian/Public
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Joint Military/Civilian
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Military
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Other
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'This is shown in the following screenshot:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/ca3903be-6069-45c5-85b2-57c6df998887.png)'
  prefs: []
  type: TYPE_IMG
- en: Airports styled by category
  prefs: []
  type: TYPE_NORMAL
- en: 'By displaying the data in this way, it is possible to see that the majority
    of the airports are classified as other. This helps us style the map better. This
    way, we can turn on/off using the check boxes for the airports we wish to display.
    If we only want to display civilian airports, we can uncheck all the other airport
    types. The resultant map will look like the following:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/e1164908-5774-4fe7-ad4c-ce00a17b0f02.png)'
  prefs: []
  type: TYPE_IMG
- en: Alaska with the civilian airport data displayed
  prefs: []
  type: TYPE_NORMAL
- en: A word on data management
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: It is possible to achieve the same result as shown in the previous section by
    querying the data directly to only show a selection of data. We could duplicate
    the same layer, query it, and symbolize it differently, without having any impact
    on the underlying data. To duplicate the airport data, right-click on the layer
    in the layer panel and select duplicate layer. This will add exactly the same
    layer again to the map. You can change Symbology now, or add labels (more in [Chapter
    5](2481b8d1-b60c-4839-bb1c-c8654cd792b2.xhtml), *Creating Maps*).
  prefs: []
  type: TYPE_NORMAL
- en: 'Right-click on the new layer and select filter. You can use Query Builder to
    build a query that selects only the Military airports. Double-click USE from Fields,
    then select = from Operators, and finally click on All in Values and select Military.
    Query Builder will look like the following screenshot:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/917a457a-54c4-4c55-97e3-ae9fadf0729d.png)'
  prefs: []
  type: TYPE_IMG
- en: Using the Query Builder to select data
  prefs: []
  type: TYPE_NORMAL
- en: Click on OK, and then click OK again to exit the properties dialog box. Now,
    on the map only military airports will be displayed. This filtering is another
    way of working with your data. If you open the attribute table for this layer
    only, only the filter features will be displayed.
  prefs: []
  type: TYPE_NORMAL
- en: Styling raster data
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Turn off all the vector layers. In this section, we are going to focus on rendering
    raster data. Load into the map the `SR_50M_alaska_nad` and `landcover` layers.
    We will style these layers. The options for styling raster data include the following:'
  prefs: []
  type: TYPE_NORMAL
- en: 'Multiband color: When you have three or more raster bands (for example, a satellite
    image), this option allows you to choose which bands are for the red, green, and
    blue channels'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Paletted/Unique values: Colors discrete raster data (`landcover` classification,
    for example)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Singleband gray: Applies a black to white or white to black color ramp for
    continuous raster data (elevation data, for example)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Singleband pseudcolor: Will apply a color ramp to continuous raster data (elevation
    data, for example)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Hillshade: Will style a DEM as a hillshade raster on the fly'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The `SR_50M_alaska_nad` image will, by default, load as Singleband gray. In
    the Layer Styling Panel, change Symbology to Singleband pseudocolor. Expand Min
    / max values settings and select Cumulative count cut to 1% to 99%, keep Interpolation
    as Linear (as it is a continuous raster dataset), and choose Viridis as Color
    ramp.
  prefs: []
  type: TYPE_NORMAL
- en: 'The Layer Styling Panel should look similar to the following screenshot:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/e1372757-ae72-4983-9b5e-ba3e7601be4f.png)'
  prefs: []
  type: TYPE_IMG
- en: Styling a raster using a Singleband pseudocolor renderer
  prefs: []
  type: TYPE_NORMAL
- en: When working with continuous raster data, it is worth adjusting the settings
    so they fit your data. Experiment with different stretch settings and color ramps
    to best explain the data.
  prefs: []
  type: TYPE_NORMAL
- en: 'The `landcover` data is displayed on loading with Paletted/Unique values Symbology.
    As this is discrete data (it has defined classes), this is the most suitable Symbology
    type to display the `landcover` data. You can adjust the class colors by double-clicking
    on a color. This will open the color picker tool in the Layer Styling Panel, which
    provides several ways to adjust the color. This is shown in the following screenshot:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/06bc831e-a3cd-42e0-a7f5-620d9f33c78c.png)'
  prefs: []
  type: TYPE_IMG
- en: The color picker in QGIS
  prefs: []
  type: TYPE_NORMAL
- en: 'After selecting the most appropriate colour for a class, click on Apply. In
    this case, we don''t know what each class represents, so choosing a colour is
    arbitrary at this point. Back in the Layer Styling panel, we can assign text to
    our labels, which is very useful when we produce maps with this data. As you make
    a change in the Layer Styling Panel, the map/layer panel will update in real time.
    This is shown in the following screenshot:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/4e575377-977c-4d34-8510-883ffb7c8ded.png)'
  prefs: []
  type: TYPE_IMG
- en: An overview of styling the landcover raster file
  prefs: []
  type: TYPE_NORMAL
- en: The Raster Toolbar
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Turn on Raster Toolbar via View | Toolbars | Raster Toolbar. This is shown
    in the following screenshot:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/e5968b45-e0d6-446f-8038-76edd4f529bd.png)'
  prefs: []
  type: TYPE_IMG
- en: Raster Toolbar
  prefs: []
  type: TYPE_NORMAL
- en: You can use this toolbar to stretch your continuous raster data (for example,
    DEM or satellite image data). This is done with the first four buttons shown previously,
    using a variety of stretches. On the last four buttons, you can increase/decrease
    the brightness of the raster and increase/decrease the contrast. This toolbar
    provides handy tools to quickly adjust your data. However, if you want more control,
    then use the Layer Styling Panel as previously demonstrated.
  prefs: []
  type: TYPE_NORMAL
- en: Saving styles
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Styling data to be presented in a map can take significant time and you may
    wish to reuse and/or adapt your created styles in the future. This can be done
    by saving your style as a style file. To do this, right-click on a layer and select
    Properties.
  prefs: []
  type: TYPE_NORMAL
- en: 'In the lower-left corner of the Layer Properties dialog box is a button called
    Style, shown in the following screenshot:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/381a694b-c7b1-499c-ab45-450161ba7878.png)'
  prefs: []
  type: TYPE_IMG
- en: Saving a style
  prefs: []
  type: TYPE_NORMAL
- en: Select Save Style. There are three options for saving a style. You can save
    the `.qml` file to your project directory, you can save the style as an SLD (Styled
    Layer Descriptor file commonly used to style raster data online, in GeoServer
    for example), or you can save it directly into a GeoPackage. In this case, I have
    chosen to save it as a `.qml` file, with all the categories turned on, in my project
    directory. Click on OK to close the Layer Properties dialog box. Right-click on
    the layer and, select Remove Layer to remove it from the project. Now, add the
    layer back in and the styling will be set to default. Right-click on the layer
    and from the Style button, select Load Style and select the style just created.
  prefs: []
  type: TYPE_NORMAL
- en: Save your project. In the next chapter, we will use this styled data to make
    a map.
  prefs: []
  type: TYPE_NORMAL
- en: Summary
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: We have looked at styling both vector and raster data. We have used the Layer
    Styling Panel to make styling interactive. We looked at some ways to style polygons,
    lines, and points within QGIS. Then, we moved on to look at the ways to style
    both continuous and discrete raster data. Finally, we showed how to save the styles
    and apply them to layers.
  prefs: []
  type: TYPE_NORMAL
- en: In the next chapter, we will look at using labels to add additional information
    and then creating a map that can be printed or exported to a file so it can be
    shared.
  prefs: []
  type: TYPE_NORMAL
