创建二维地图

地理信息系统（**GIS**）的一个关键功能是可视化数据。在GIS中，我们使用地图作为我们可视化数据的主要方法。地图使我们能够看到并分析一个或多个图层中特征之间的空间关系。我们出于许多不同的原因创建地图。通常，我们试图展示特定资产的位置或突出与特征相关的属性，例如地块的分区分类或管道尺寸。有时我们希望展示我们已执行的分析结果。

因此，我们在ArcGIS Pro中创建的每一张地图都有其存在的理由。这个目的将帮助我们决定在地图中包含哪些图层以及如何可视化它们。地图可以包含的图层数量没有限制。然而，地图中可能包含如此多的图层，以至于会分散人们对目的的注意力。作为地图的作者，您必须在地图中包含的信息量和其整体目的之间找到平衡。

地图中每个图层都有一组属性。这包括诸如来源、符号、可见范围、坐标系等。当您创建地图并添加图层时，您必须手动配置许多这些设置，以确保您的地图可读且支持其预期目的。

正如您已经体验到的，ArcGIS Pro允许您在项目内创建二维和三维地图。在本章中，您将专注于创建二维地图。这些自GIS首次开发50多年前以来一直是GIS的支柱。在本章中，您将学习如何执行以下操作：

+   创建和配置二维地图

+   创建新地图

+   技能挑战

# 技术要求

为了完成这一章，您需要以下内容：

+   **ArcGIS Pro 2.6**—**基本**或更高版本许可证

+   网络连接

+   练习数据

如果您没有使用ArcGIS Pro的经验，建议您在开始这一章之前完成所有前面的章节。

# 创建和配置二维地图

ArcGIS Pro提供了几种在项目内创建新二维地图的方法。您将在后面学到，使用模板创建新项目可以自动创建一个您可以构建的新地图。当然，您也可以根据需要向现有项目添加新地图。ArcGIS Pro支持几种创建或向现有项目添加地图的方法。哪种方法最好将取决于几个因素，包括个人偏好。它还取决于地图是否已存在于另一个项目或当前项目中，或者它是否是ArcGIS Pro所取代的旧ArcMap应用程序的地图文档文件。

另一件需要记住的事情是，ArcGIS Pro 项目可以包含多个地图。一个 ArcGIS Pro 项目包含多个地图以支持日常操作并不罕见。例如，如果你是某个城市的 GIS 管理员，你可能会在单个项目中拥有大多数地图，如分区、土地利用、投票区、警察区、税务区等。这可能会使你更容易管理你的 GIS 文件和地图。

地图只为显示你的数据以支持其目的提供了一个画布。你必须添加和配置内容。这通常意味着添加代表你希望在地图中显示的特征的图层。正如有多个创建新地图的方法一样，也有多种方法可以向地图中添加新图层。

你现在将研究创建新地图和添加图层的不同方法。

## 创建新地图

地图是我们可视化 GIS 中数据的主要方式。如前所述，你可能需要在项目中拥有多个地图来支持你组织或客户的各种需求。你创建的每个地图都应该有一个特定的目的。目的将帮助你确定你需要哪些图层，哪些需要成为主要焦点。

总是要注意地图的可读性。你可能会在一个地图中放入太多信息。因此，为了避免使单个地图过于杂乱，你可能实际上需要创建多个专注于一到两个主要图层的地图。

*那么如何在 ArcGIS Pro 中创建新地图呢？* 有很多方法，如下所示：

+   一种方法是使用功能区上的“插入”选项卡。从那里，你可以选择“新建地图”按钮，如下面的截图所示：

![](img/9bfc0f1b-ba65-47f5-ae0a-4bff123aee09.png)

+   另一种方法是右键单击项目窗格中的“地图”，然后选择此处所示的“新建地图”：

![](img/01f72240-f460-4de5-a9f9-736d61a32a55.png)

+   另一种方法是导入现有地图。ArcGIS Pro 允许你导入多种格式的地图，包括地图文档、地图包和地图文件。每种都有独特的文件扩展名。以下表格提供了更多详细信息：

| **项目** | **文件扩展名** | **创建软件** |
| --- | --- | --- |
| 地图文档 | `.mxd` | **ArcMap** |
| 地图包 | `.mpk` | **ArcMap** 或 **ArcCatalog** |
|  | `.mpkx` | ArcGIS Pro |
| 地图文件 | `.mapx` | ArcGIS Pro |
| ArcScene 文档（3D） | `.sxd` | **ArcScene** |
| ArcGlobe 文档（3D） | `.3dd` | **ArcGlobe** |

如前表所示，当你从这些文件之一导入现有地图时，在项目中创建的新地图将包含图层及其所有设置，如导入地图中的符号和标签。这提供了一种快速填充新项目的方法，以便你可以更快地开始工作。这对于从 ArcGIS Desktop 迁移到 ArcGIS Pro 的人来说尤其如此。

应注意，列出的最后两种文件类型实际上是 3D 地图。当您将它们导入 ArcGIS Pro 时，它们将在项目中创建新的 3D 场景。您将在下一章中了解更多关于这些内容。

现在您已经了解了一些在项目中创建新地图的不同方法，是时候将那些知识应用到以下练习中。您将从向现有地图添加新图层并配置它们开始。然后您将向项目中添加一个全新的地图并添加图层到其中。

## 练习 3A – 在地图中添加和配置图层

您被 Trippville 市社区和经济发展主任要求为一家希望在市区开设地点的企业准备几幅地图。他需要一幅显示城市所有商业地产位置的地图。然后他想要另一幅显示超过 1 英亩但小于 3 英亩大小的所有商业地块的地图。

在此练习中，您将使用地图模板创建一个新的项目。您将创建主任请求的第一张地图。这需要您使用各种方法添加和配置几个图层。您将在另一个练习中向项目中添加第二张地图。

### 第 1 步 – 创建项目

在此步骤中，您将创建一个项目，该项目将用于开发社区和经济发展主任请求的地图：

1.  打开 ArcGIS Pro。

1.  在 ArcGIS Pro 启动窗口中，选择“新建”和“空白模板”下的“地图”，如图所示：

![图片](img/e70ef82f-fa25-49c2-9006-bf3c0aa648a8.png)

1.  在“名称”框中，键入 `Your Name_Ex3A`（即，在这种情况下，`Tripp_Ex3A`）。

通常，在 ArcGIS Pro 中命名任何东西时始终最好避免使用空格和特殊字符。有时 ArcGIS Pro 会允许它们，而有时则不会。这也可以从一个版本更改为另一个版本。因此，我建议不要使用它们以避免问题。下划线是可以接受的，正如您在本练习中看到的那样。

1.  对于位置，点击位于框或单元格末尾的“浏览”按钮。它看起来像一个小型的蓝色箭头的打开文件文件夹。这将打开“选择一个文件夹来存储项目”窗口。

1.  在“选择一个文件夹来存储项目”窗口的左侧面板中，点击位于项目下的“计算机”。

1.  在窗口的右侧面板中，双击（C：）或您安装练习数据的驱动器。

1.  然后双击 `Student` | `IntroArcGISPro` 文件夹。

1.  选择“我的项目”文件夹并点击“确定”。您的“创建新项目”窗口现在应该看起来如下截图所示；当然，项目名称将包括您的名字而不是我的：

![图片](img/c0d06f46-ecb0-4ecb-baee-40df903626b9.png)

您刚刚使用包含的地图项目模板创建了一个新的 ArcGIS Pro 项目。您刚刚创建的新项目应该以一个空地图打开。

如果你不小心双击了`我的项目`文件夹，你可以在选择存储项目的文件夹窗口顶部显示路径左侧的小*向上*箭头上点击，以便返回上一个文件夹。

最终，你将在地图上添加和配置新的图层。你将在[第5章](5e7c9d7b-31d5-4032-973d-1f077aa51511.xhtml)中了解更多关于如何创建新项目的内容，*创建和使用项目*。

### 第2步 – 连接数据源

创建新项目只是第一步。现在你需要连接到你需要用于此项目的文件夹和数据库。你将连接到`Trippville_GIS`地理数据库以及包含其他你需要文件的文件夹：

1.  在目录窗格中，通过点击左侧的小箭头展开`数据库`文件夹。这将允许你看到所有当前连接的数据库列表。

问题：*当前有哪些数据库连接到这个项目？* *哪个地理数据库是默认的地理数据库？*

你应该只看到一个数据库连接。这是与新项目一起创建的项目数据库。通常，大多数组织已经有一个现有的GIS数据库。对于这个练习，Trippville市也不例外。它已经有一个GIS数据库。你只需要连接到它来使用现有的GIS数据。

1.  在目录窗格中，右键单击`数据库`文件夹，然后选择添加数据库，如图所示：

![图片](img/3864c7eb-9a54-4de7-9035-f3c43f6c1a74.png)

1.  在选择现有地理数据库窗口中，导航到`C:\Student\IntroArcPro\Databases`并点击左面板中的计算机，然后双击`C:` | `Student` | `IntroArcGISPro` | `Databases`文件夹。最后，选择`Trippville_GIS.gdb`地理数据库并点击“确定”。

`Trippville_GIS.gdb`数据库现在应该出现在目录窗格中的`数据库`文件夹下。这意味着你已经成功连接到数据库，并将能够使用该数据库中的数据。

现在，你还需要连接到一个包含你完成此项目所需文件的文件夹。

1.  在目录窗格中，右键单击`文件夹`文件夹，然后选择添加文件夹连接。

1.  在添加文件夹连接窗口中，导航到`C:\Student\IntroArcPro\`并使用与导航和连接到Trippville_GIS地理数据库相同的方法选择`Chapter3`文件夹。选择`Chapter3`文件夹后，点击“确定”。

你现在已经连接到了完成此项目所需的所有资源。如果你的目录窗格看起来像这样，说明你已经按照指示连接了所有项目项：

![图片](img/b3832e73-6557-44c2-9fb8-ad9f27292185.png)

1.  保存你的项目。

建立这些连接可能看起来很麻烦，在其他应用程序中你可能不会这样做。这在一定程度上是正确的。然而，在GIS中，我们经常处理大型数据集，这些数据集的大小可以从几吉字节到几太字节不等。这就是为什么项目或地图实际上并不存储我们使用的数据，而是连接和引用它。这使我们能够在不使计算机崩溃的情况下处理大型数据集。

好事是您只需在一个项目中建立这些连接一次。保存项目后，这些连接会被记住，并且每次打开项目时都会存在。

### 第3步 – 添加图层

现在您已经创建了项目并建立了与数据的连接，是时候开始制作社区和经济发展主任请求的地图了。您将从他请求的第一个开始，展示城市内所有商业用途土地的位置。

您将使用在您使用项目模板生成新项目时创建的地图作为起点。您将使用各种方法添加和配置几个图层。

您要添加的第一个图层是城市边界，这样每个人都知道哪些区域属于城市，哪些不属于：

1.  在“目录”面板中，展开“数据库”文件夹，然后展开`Trippville_GIS.gdb`地理数据库。展开后，你应该会看到它包含许多要素类。这代表了整个城市GIS数据。

1.  展开基本要素数据集，以便您可以看到其内容。要素数据集由一个独特的图标表示，看起来像三个重叠的正方形。

1.  选择“City_Limit”要素类。按住鼠标按钮，将“City_Limits”要素类拖动到地图视图中。一旦鼠标指针移至地图视图上，释放鼠标按钮。

现在您已经通过拖放方法将城市边界添加到地图中。这是您可以从“目录”面板中连接的资源中添加新图层的方法之一。注意，地图比例尺和缩放位置已改变。

您自动缩放到您刚刚添加的“City_Limit”图层的范围，如下截图所示。请记住，您的颜色可能不同：

![图片](img/a1b385a0-b7ee-4240-a28a-dbec92f83fcf.png)

在一个新的地图中，您添加的第一个图层是特殊的。首先，它设置了地图使用的坐标系。所有后续图层都将投影到与第一个添加的图层相同的坐标系，如果它们使用不同的坐标系。这被称为“即时投影”。其次，您的地图将自动缩放到包含在第一个图层中的数据的范围，正如您现在所看到的。它只会对当时添加的第一个图层这样做。

现在您需要更改“City_Limit”图层的符号。如您所见，“City_Limit”图层目前有一个实心填充，这隐藏了下面的信息。您将更改此图层的符号，以便您可以通过图层看到，但仍然可以看到边界。

1.  双击内容面板中的 City_Limit 以打开图层属性窗口。在常规页面上，在名称框中键入 `City Limits` 以给图层一个新且更具描述性的名称，然后点击确定。

1.  点击内容面板中 City_Limit 层名称下方的符号以打开界面右侧的符号面板。

1.  符号面板应打开到图库视图。选择 Black Outline (2 Points)，如以下截图所示，它应该是顶行第二个示例符号。

![图片](img/9ff754db-8e11-403e-ac4b-b31eeb9448c4.png)

如果你看不到 Black Outline (2 Points) 样式符号，请使用符号面板顶部的搜索框进行搜索。你可能还需要将搜索选项从项目样式更改为所有样式。

1.  接下来，点击位于符号面板顶部、紧邻图库标签的属性标签页。

1.  将轮廓宽度从 2 pt 更改为 3 pt。这将使代表城市边界线的线条变粗，使其更加突出。点击符号面板底部的应用按钮。

1.  点击功能区上的地图标签页。然后点击添加数据按钮以添加更多图层。

1.  在添加数据窗口的左侧面板中点击 `Databases` 文件夹。然后在窗口右侧面板中双击 `Trippville_GIS.gdb` 地理数据库以显示数据库内容。

1.  双击窗口右侧面板中的 Base 特征数据集。

1.  按住 Ctrl 键，选择 County_Limit、Natwtr_Body、Natwtr_Stream 和 RR_Tracks 特征类。

1.  点击确定以将这些新图层添加到你的地图。你的地图现在应该看起来类似于以下截图，但请记住，你的颜色可能会有所不同：

![图片](img/478a1fef-d14a-4a80-8971-448fdb6b1842.png)

如前述截图所示，你已经向你的地图添加了五个新图层。对于第一个，你使用了目录面板中的拖放方法。最后四个图层是通过地图标签页上的添加数据按钮添加的。现在你知道了两种向地图添加新图层的方法。

接下来，你需要配置你刚刚添加的四个新图层的符号。

1.  使用你迄今为止学到的技能对刚刚添加的图层进行以下更改：

    +   对于 RR_Tracks 层，请确保以下操作：

        +   将名称字段设置为 `Railroad`。

        +   在符号字段中，键入 `Railroad (提示：查看图库)`。

    +   对于 Natwtr_Stream 层，请确保执行以下操作：

        +   在名称字段中，键入 `Streams & Creeks`。

        +   在符号字段中，键入 `Water (line)`。

        +   将线宽字段设置为 `1` pt。

    +   对于 County_Limit 层，请确保执行以下操作：

        +   在名称字段中，键入 `County Limit`。

        +   将颜色字段设置为灰度 60%。

        +   将线宽字段设置为 `2` pt。

    +   对于 Natwtr_Body 层，请确保执行以下操作：

        +   在名称字段中，键入 `Lakes & Ponds`。

        +   将颜色字段设置为 Yogo Blue。

        +   将轮廓颜色字段设置为 Cretan Blue。

        +   将轮廓宽度字段设置为 `1` pt。

1.  完成后关闭符号面板。

1.  在内容面板中，确保您正在查看按绘图顺序列表。这是第一个按钮，其图标看起来像文件夹树。

1.  在内容面板中，选择县界图层并将其拖动到城市界限之下。

1.  在内容面板中，将湖泊与池塘图层移动到溪流与溪流图层之上。

完成后，您的地图应该看起来像以下截图：

![图片](img/f4c2224f-69c4-4bdc-98b7-f6b26ecdf486.png)

1.  一旦您已验证成功配置了您的图层，请保存您的项目。

您现在已添加了将主要图层置于上下文所需的图层。有些人将这些添加的图层称为底图图层。然而，随着时间的推移，Esri已经开发了一种特定的地图类型，称为底图，您也可以创建。真正的ArcGIS底图可以添加到任何地图，并且它包含的所有图层都将自动添加。Esri通过ArcGIS Online发布了几个底图，任何人都可以使用。

您可以在显示到目前为止练习结果的图形中看到其中一个。它在图层列表的底部，被称为地形。真正的底图提高了绘图性能，这意味着它们将比普通图层重绘得更快。使用真正底图的缺点是，您除了查看数据之外，几乎无法做任何事情。

您需要添加到这张地图上的最后一个图层以满足主任的要求，是一个显示所有商业区划地块的图层。幸运的是，另一位用户已经创建了一个区划图层文件。如您之前所见，图层文件可以用来设置您地图上已有图层的符号。

它还可以用来添加一个已经符号化的新图层。您将使用此图层文件将区划图层添加到地图，并将其限制为仅显示具有商业区划分类的地块。界定商业区划的区划类别包括**GC**（**一般商业**）、**GC-S**（**一般商业有特殊规定**）和**CBD**（**中央商务区**）。

1.  在目录面板中展开“文件夹”文件夹。

问题：*在这个项目中有哪些文件夹可用？*

1.  展开名为`Chapter3`的文件夹，在`Trippville Zoning.lyr`文件上右键单击。选择添加到当前地图，如图所示：

![图片](img/7227bb14-37af-4f4f-937b-04d305208925.png)

图层文件存储了所有图层属性设置，包括符号、标签、定义查询、字段可见性、缩放比例等。这使得将图层添加到具有相同设置的其它地图变得更加容易。图层文件可以帮助标准化多个地图和项目中特定图层的外观，同时减少创建新地图所需的时间。

您已经添加了一个显示城市所有地块区划的图层。现在，您需要将此图层限制为仅显示商业区划类别。

1.  如果需要，通过点击位于分区图层左侧的小箭头来展开内容面板中的符号，以便查看所有分区分类及其关联的符号。

1.  在内容面板中选择分区图层后，在功能区中选择外观上下文选项卡。

1.  点击符号下拉菜单并选择唯一值，以打开界面右侧的符号面板，如图所示：

![图片](img/9ca9934a-747f-4a40-b914-d6c41d52db1d.png)

1.  在符号面板中，选择显示分区分类及其分配符号的网格中的PUD符号设置行。您可以在该网格中PUD行的前三个列中的任何位置点击以选择该行，如图所示：

![图片](img/7b7ebfb8-ab73-4df1-af3b-21114c22f623.png)

1.  按住*Shift*键，点击包含移动住宅公园值的行，以选择从PUD到移动住宅公园的所有值。如果您操作成功，您的符号面板应如下所示：

![图片](img/2f3d80c0-3c69-4404-a12e-89817c992c2a.png)

1.  右键点击所选行并选择移除。

您刚刚从图层图例中移除了那些选定的符号值，这些值不被视为商业分区分类。这移除了分配了这些值的特征，因此它们不再显示在地图上。请记住，您正在尝试创建一个仅显示商业分区地块的地图。

图层仍然显示一些非商业分区地块。您还需要删除这些分类。

从图例中移除分类实际上并不会从图层引用的源数据中删除它们，只是将它们从显示中隐藏。

1.  在符号面板中，选择包含政府土地值的行。它位于GC-S下方。

1.  按住您的*Shift*键，选择包含OS值的最后一行，以便选择从政府土地到OS的所有值。

1.  右键点击所选行，并在出现的菜单中点击移除。

您现在已根据您的主管要求，将城市内的商业分区地块隔离出来。您的地图现在应如下所示：

![图片](img/4d0a6014-ce98-438a-aa8c-549a8edcecf0.png)

1.  一旦您已验证地图正确无误，关闭符号面板。

### 第4步 – 保存图层文件

正如您所经历的，要配置分区图层以仅显示商业分区属性需要一些努力。因此，为了确保您将来可以轻松检索这些设置，您现在将创建一个图层文件：

1.  如果需要，在内容面板中选择分区图层。

1.  在功能区中点击共享选项卡。

1.  在“另存为”组中，点击图层文件工具。这将打开“另存为LYRX文件”窗口。

1.  在窗口的左侧面板中，展开计算机选项，以便查看所有可用选项。

1.  从资源列表中选择（C:）。如果你在另一个驱动器或位置安装了练习数据，请选择适当的驱动器。

1.  滚动并双击窗口右侧面板中的`Student`文件夹。

1.  继续导航到`IntroArcGISPro` | `My Projects`文件夹。

1.  一旦你进入`My Projects`文件夹，将新的图层文件命名为`Commercial_Only_ Zoning`，如图所示：

![图片](img/ead860b4-65ca-4da7-bf98-8d81cd87282b.png)

1.  一旦你验证了文件位置和名称，点击保存按钮以创建你的新图层文件。

你现在已经创建了一个新的图层文件。这将允许你快速将此相同的图层添加到具有相同设置的其他地图中。你在上一步的开始时已经体验过这一点，当时你使用图层文件将分区图层添加到你的地图中。当你添加图层文件时，分区图层已经添加到地图中，并带有各种分区分类的符号表示。

### 第5步 – 重命名你的地图

当你首次创建此项目时，你使用的模板自动在项目中创建了一个地图，你一直在使用这个地图。这个单独的地图被自动命名为“Map”。由于一个项目可以包含无限数量的地图，建议你为每个地图提供一个独特的名称，以便用户可以轻松识别项目中的哪个地图可能需要：

1.  在目录面板中，通过点击小箭头展开地图文件夹，以便查看其内容。

1.  右键单击地图并从出现的菜单中选择重命名，如图所示：

![图片](img/59f0578a-b202-4da5-b6dd-39909fc1a109.png)

应该在名称周围出现一个编辑框。这将允许你为选定的地图输入一个新名称。

1.  在名称周围出现的编辑框中，输入`Commercial Zoned Prop`。完成后按*Enter*键。

1.  在内容面板中，查看位于图层列表顶部的地图名称。它应该反映你刚刚输入的新名称。

目录面板是允许你更改地图名称的一个位置。你还可以在内容面板中右键单击地图名称，选择属性。然后在地图属性窗口中打开通用选项卡并输入一个新名称。在内容面板中双击地图名称也会打开地图属性窗口。

1.  如果你没有继续到下一个练习，请保存并关闭你的项目。如果你要继续，只需保存你的项目并继续。

恭喜！你刚刚创建了一个新的地图，显示了城市中所有用于商业用途的地块。这需要你使用图层文件添加一个图层。然后你必须通过删除那些符号值来过滤掉所有非商业分区地块。

## 练习3B – 向项目中添加新地图

在上一练习中，您创建了社区和经济发展主任请求的第一个地图。现在您需要创建第二个地图。这个地图需要显示大于1英亩但小于3英亩的商业用地。您将通过复制上一练习中创建的地图作为起点。

### 第1步 – 在项目中创建新地图

在这一步，您将通过复制上一练习中创建的地图来在项目中创建一个新的地图：

1.  如果您在上一个练习结束时关闭了ArcGIS Pro，请启动应用程序，并从最近打开的项目列表中选择您在上一练习中创建的项目。它应位于`C:\Student\IntroArcPro\My Projects\`文件夹中，名称为`Your Name_Ex3AB`。

1.  在目录面板中，展开“Maps”文件夹，然后右键单击您在上一练习中创建的“Commercial Zoned Prop”地图。然后从出现的菜单中选择“Copy”。

1.  再次，在目录面板中，右键单击“Maps”文件夹，然后选择“Paste”，如图所示：

![图片](img/0c69048f-e30a-466d-902f-02ca130f5491.png)

如前一个截图所示，在“Maps”文件夹中应出现一个新的地图，命名为Commercial Zoned Prop 1。这个新地图是您在上一练习中创建的地图的精确副本。从这个副本开始将减少创建社区和经济发展主任请求的第二个地图所需的工作量，该地图应仅显示大于1英亩但小于3英亩的商业用地。接下来，您需要将您刚刚创建的新地图重命名，以免与原始地图混淆。

1.  在目录面板中，右键单击您刚刚创建的新地图，然后从出现的菜单中选择“Rename”。

1.  在地图名称周围出现的编辑框中，将地图重命名为`Commercial Between 1 to 3 acres`，并在输入完成后按*Enter*键。

1.  在目录面板中，右键单击您刚刚重命名的地图，然后选择“Open”。现在地图应出现在ArcGIS Pro界面的视图区域中。

1.  保存您的项目以确保您不会丢失到目前为止所做的任何工作。

### 第2步 – 使用定义查询过滤图层

现在您已经在项目中创建了新地图，您需要过滤“Zoning”图层，使其仅显示大于1英亩且小于3英亩的商业用地：

1.  在内容面板中右键单击“Zoning”图层，然后选择“Properties”。

1.  在图层属性窗口的右侧面板中选择“Definition Query”。

1.  点击位于右侧面板中央的“New Definition query”按钮，如图所示：

![图片](img/18bb82ce-e627-46a4-9a5b-f44e568d7666.png)

1.  在位于“Where”右侧的下拉框中选择ACRE_DEEDE。

1.  在下一个下拉框中，将操作符设置为大于。

1.  在查询构建器的下一个框中输入`1`。

1.  验证您的查询看起来如下截图所示：

![图片](img/8cf8e9bb-ddca-421f-bd66-f8b6e18550e6.png)

您刚刚构建了一个查询，该查询将过滤“分区”图层，仅显示拥有超过1英亩授地面积的地块。这是导演想要看到的部分之一。您现在需要扩展此查询，使其也过滤掉任何超过3英亩的地块。

1.  一旦您已验证查询，请单击位于已构建查询下方“添加子句”选项。应在您已构建的子句下方出现另一行。

1.  使用相同的过程添加另一个子句，声明ACRE_DEEDE小于3。它应该看起来像以下截图：

![图片](img/3266341c-9332-4e5c-bacb-70dc1f49583c.png)

1.  一旦您已验证查询已正确构建，请单击“应用”然后“确定”以应用定义查询。

您刚刚为“分区”图层添加了一个过滤器，以便仅显示超过1英亩且小于3英亩大小的商业分区地块。然而，您需要添加更多图层，以便将分区信息置于上下文中。我们现在就来做这件事。

1.  保存您的项目。

1.  在目录窗格中展开“数据库”文件夹。

1.  展开Trippville_GIS数据库和基础要素数据集，以便您可以看到其内容。

1.  右键单击“地块”要素类，从出现的菜单中选择“添加到当前地图”，如图下截图所示：

![图片](img/cf16ef4e-b44f-4bb0-a85c-a0f84513b3fc.png)

如前述截图所示，新的“地块”图层应出现在您的地图上。因为它是一个新的多边形图层，所以它将被添加在“分区”图层之上。您可能会注意到“地块”图层正在隐藏“分区”图层。因此，您现在需要在图层列表中将“地块”图层移动到“分区”图层之下。

1.  在内容窗格中，将新添加的“地块”图层拖到“县界”图层之下。您现在可以看到大小在1到3英亩之间的商业分区地块，以及它们与城市内及其周围其他地块的关系。

1.  由于ArcGIS Pro会为新图层分配随机颜色，您可能需要调整地块图层的符号化，以便商业分区更加突出。使用您迄今为止学到的技能，调整地块的符号化，使其不会压倒其他图层，特别是“分区”图层。

1.  为了使“分区”图层更加突出，您需要更改您的底图。在地图选项卡上单击底图按钮。选择“浅灰色画布”。

1.  单击“分区”图层的名称，使其周围出现编辑框。将图层重命名为“商业地产1至3英亩”。

1.  右键单击“City_Limit”图层并选择“缩放到图层”。

1.  在地图视图左下角的缩放框中，键入`24000`。

您的地图应该看起来类似于以下截图所示的地图，尽管地块的颜色可能因您的选择而有所不同：

![图片](img/e2a9bd8e-fa4a-4ec7-9c20-ed6de9a376ce.png)

1.  在您已验证地图看起来相似后，保存您的项目。

### 第3步 – 向地图添加注释

您现在已经成功创建了导演要求的地图。然而，在向您审查后，他决定他想要在地图上看到道路名称和兴趣点。

幸运的是，您已经在Trippville_GIS数据库中有一个包含这些内容的注释要素类。现在您需要将这个注释地理数据库添加到您的地图中：

1.  在目录窗格中展开数据库文件夹，然后展开Trippville_GIS地理数据库，以便查看其内容。

1.  在Trippville_GIS地理数据库中，展开基础要素数据集，以便查看它包含的要素类。

1.  单击Base_Anno并将其拖动到地图视图中以将其添加到您的地图中。

1.  在内容窗格中，右键单击City_Limit图层，从出现的菜单中选择缩放到图层。

1.  在功能区中，单击地图选项卡。接下来，单击书签按钮并选择新建书签。

1.  在创建书签窗口中，将您的新书签命名为`Entire City`。然后添加描述`此书签将地图缩放到City_Limit图层的范围`。最后，点击确定以创建新的书签。

书签允许您返回地图中的特定位置和比例。它们非常有用，可以确保您可以在特定比例下打印地图或在会议期间查看特定位置。

1.  在功能区中的地图选项卡中，选择探索工具。

1.  缩放地图，直到您能够清楚地看到您刚刚添加的注释图层。

1.  再次单击书签。这次，选择整个城市以将地图返回到原始视图。

1.  保存您的项目。

您现在已经成功创建了导演要求的两个地图。您创建了第一个地图，显示了城市内所有商业用途的地块。然后您创建了一个新的地图，仅显示了1到3英亩大小的商业用途地块。

## 练习3C – 使用地图和图层文件

导演决定他想要在这个项目中添加额外的地图。他需要知道城市下水道系统相对于1到3英亩大小的商业地产的位置。这是因为新业务希望能够连接到城市的下水道系统。

幸运的是，您有一个为另一个项目创建的城市下水道系统地图文件。这将作为您需要添加到项目中的新地图的绝佳起点。地图文件允许您共享以前创建的地图，以便在其他项目中使用，而无需从头开始。

一旦您导入地图文件，您就需要添加1到3英亩大小的商业地产。为了使这更容易，您将从您刚刚创建的地图创建一个图层文件，然后使用该文件将图层添加到下水道地图中。

### 第1步 – 使用地图文件添加新地图

在此步骤中，您将使用现有的地图文件添加Trippville市的卫生下水道系统地图。这将向您的项目添加一个新的预配置地图。您现在将向地图添加项目：

1.  如果您在上次练习后关闭了 ArcGIS Pro，请启动应用程序并打开项目 `%Your Name%Ex3A`。

1.  右键单击目录窗格中的“地图”文件夹，从出现的菜单底部选择“导入”。

1.  在导入窗口中，选择左侧面板中位于“项目”下的“文件夹”。如果您看不到“文件夹”，您可能需要通过点击左侧的小箭头展开“项目”树。

1.  双击导入窗口右侧面板中的 `Chapter3` 文件夹。

1.  选择 `Sanitary Sewer Map.mapx` 文件并点击确定。

您的项目现在应该有一个新的地图，显示Trippville下水道系统的位置，如下面的截图所示：

![](img/b3d6c983-ee43-4621-b6d0-36271b1a383b.png)

让我们继续到下一步，学习如何创建图层文件并使用它。

### 第2步 – 创建和使用图层文件

现在您需要添加一个图层，显示大小在1到3英亩之间的商业地产位置。您将从之前创建的地图创建一个图层文件，然后使用此图层文件将新图层添加到下水道地图中：

1.  选择位于界面视图区域顶部的“1到3英亩商业地产地图”选项卡。

如果您在上次练习后关闭了此地图，您需要打开它。为此，展开目录窗格中的“地图”文件夹，然后右键单击“1到3英亩商业地产地图”。然后从菜单中选择“打开”。

1.  在内容窗格中，右键单击“1到3英亩商业地产”图层。转到“共享”选项并选择“另存为图层文件”。将打开“另存图层（s）为LYRX文件”窗口。

如果您看不到“另存为图层文件”按钮可用，您很可能选择了地图名称而不是图层。返回内容窗格并验证您是否已选择图层而不是地图。一旦选择了图层，“另存为图层文件”按钮应该可供使用。

1.  在左侧面板下选择“项目”中的“文件夹”。双击窗口右侧面板中的 `Chapter3` 文件夹。

1.  将新图层文件命名为 `Commercial Prop 1 to 3AC` 并点击保存。如果询问是否要覆盖现有文件，请点击是。

1.  点击视图区域顶部的“Trippville卫生下水道地图”选项卡以激活它。

1.  点击位于功能区地图选项卡上的“添加数据”按钮。

1.  选择“文件夹”|`Chapter3`文件夹。

1.  选择您创建的 `Commercial Prop 1 to 3AC.lyrx` 文件，然后点击确定按钮。

您刚刚在地图上添加了一个显示城市内1到3英亩大小的商业地产的图层。现在，导演将能够看到哪些地块靠近下水道系统，从而能够连接到城市的下水道服务。使用图层文件使添加这个新图层变得容易得多，并确保符号与项目中的其他地图保持一致。

### 第3步 – 标注管道尺寸

现在，导演希望您为下水道系统标注管道尺寸，以便他可以确保系统有足够的容量来处理新业务可能带来的负荷。您需要打开并配置下水道管线层的标注：

1.  在内容窗格中选择下水道管线层。

1.  现在您需要确定哪个字段包含下水道管道的尺寸。右键点击下水道管线层并选择属性表。这将在主地图视图下方打开一个面板。

1.  滚动查看可用的属性字段，以确定哪个字段包含管道尺寸。

**问题**：*包含下水道管道尺寸的字段名称或别名是什么？*

1.  关闭下水道管线层的属性表。

1.  确保下水道管线层在内容窗格中仍然被选中。然后，在功能区中点击标注选项卡。

1.  点击标注按钮以打开下水道管线层的标注。

1.  将字段设置为之前问题中确定的字段。

1.  在当前的全图视图中，管道尺寸难以阅读。因此，您将为标签设置一个比例可见范围，使其在便于阅读的比例下可见。在标注选项卡中“超出”旁边的下拉列表中，在可见范围中选择1:10,000。尺寸标签应该会消失。

1.  缩放到尺寸标签出现。

1.  为了使管道尺寸标注更加突出，请在文本符号选项卡中将其设置为粗体并调整颜色。

1.  标注的放置位置不是最优的，因此您需要调整放置位置。在标注放置选项卡中点击带有上线的箭头小图标。您应该会看到之前未显示的几个放置选项。

1.  选择水（线）放置选项。

我们现在将进入下一步。

### 第4步 – 配置标注冲突和放置选项

您已成功将管道尺寸标注添加到地图上。然而，还有一些额外的配置选项可能会改善它们的外观和性能。您现在将对这些进行调整：

1.  右键点击下水道管线层并选择标注属性。这将在界面的右侧打开标注类面板。此面板允许您进一步调整标注配置设置以细化其外观。

1.  点击位于面板顶部附近的位置标签。然后选择冲突解决图标，它看起来像三个堆叠在一起的文本框。

1.  在标签类面板中展开“移除重复标签”。

1.  在出现的下拉菜单中，选择“在固定距离内移除”。

1.  将搜索半径设置为500，单位为地图单位。它应该看起来像这样：

![图片](img/684d6823-e5c0-49ff-acd3-d1898e7a87e9.png)

这样可以使标签看起来稍微不那么杂乱。然而，你还没有完成。还有一些调整可以进一步提高标签的质量。

1.  在标签类面板中展开最小特征大小选项。

1.  将标注大小的最小值设置为100，单位为地图单位。这将进一步减少地图上的杂乱。

1.  保存你的项目并关闭 ArcGIS Pro，除非你想尝试以下技能挑战或尝试自己应用其他标注选项设置。

继续尝试其他标注选项，以查看它们如何影响标签的位置和地图的整体外观。在地图上平移和缩放以查看你的设置是否在不同位置仍然有效。

# 技能挑战

社区和经济发展主任对你的地图印象非常深刻——如此之深，以至于他还有一个项目希望得到你的帮助。一家公司希望在市内开设一个新的制造中心，因此他们正在寻找一个 zoning 分类为“轻或重工业”的地块，该地块靠近铁路，并且可以轻松提供水和下水道服务。地块的大小需要为5到10英亩。

使用你学到的技能，创建一个新的项目，其中包含以下地图以适应此场景：

1.  一张显示市内所有重温和轻工业物业位置的地图（ zoning 代码为 HI 和 LI）。

1.  一张显示5到10英亩大小所有工业用地位置的地图。

1.  一张显示5到10英亩工业用地位置以及下水道系统的地图。以与*练习3C*相同的方式表示和标注下水道系统。

1.  一张显示5到10英亩工业用地位置，以及水管和消防栓的地图。根据水管的大小表示水管。消防栓的符号由你决定。

# 摘要

在本章中，你学习了如何创建一个新的项目并向其中添加多个二维地图。你被介绍了几种向项目添加新地图的方法，包括使用项目模板、添加空白地图和使用预配置的地图文件。一旦创建了地图，你随后使用了各种方法添加新图层。

这些技能是成为ArcGIS Pro成功用户所需的基础。没有地图，您无法利用ArcGIS Pro的一些更高级功能，例如执行数据编辑、分析数据以及通过打印地图或数字格式与他人共享数据。所有这些功能都始于地图。

在下一章中，您将继续构建这些技能。您将学习如何创建3D地图，让您能够在更逼真的环境中查看数据。在3D中查看数据的能力是ArcGIS Pro相对于Esri较老桌面软件的增强，后者不允许用户以原生方式在3D中查看数据。

# 进一步阅读

如果您想更深入地探索本章涵盖的概念，以下资源推荐：

+   *使用 ArcGIS Pro 进行制图*，由 Amy Rock 和 Ryan Malhoski 撰写

+   *向 ArcGIS Pro 添加符号样式*，来自eGIS Associates的视频，可在[https://www.youtube.com/watch?v=iBfmcbsZg2A&list=PLKPzofPslSJ_xlzX35oBwE0PPJc0SB41e&index=13&t=12s](https://www.youtube.com/watch?v=iBfmcbsZg2A&list=PLKPzofPslSJ_xlzX35oBwE0PPJc0SB41e&index=13&t=12s)查看

+   *ArcMap 与 ArcGIS Pro 的比较 - 比较Esri的这两个GIS应用*，来自eGIS Associates的视频，可在[https://www.youtube.com/watch?v=4_OOOQbLZDU&list=PLKPzofPslSJ_xlzX35oBwE0PPJc0SB41e&index=12&t=234s](https://www.youtube.com/watch?v=4_OOOQbLZDU&list=PLKPzofPslSJ_xlzX35oBwE0PPJc0SB41e&index=12&t=234s)查看
