# 前言

在数据日益重要的世界中，数据分析师、科学家和商业人士需要工具来高效地分析和处理大量数据。本书是我迄今为止所学知识的尝试性传授，以便您能迅速成为一个高效且有效的 R 程序员。阅读本书将帮助您了解如何使用 R 解决复杂问题，避免我犯过的某些错误，并教授您在各种情境下都有用的实用技术。在这个过程中，我希望向您展示，尽管 R 有一些不寻常的方面，但它是一种优雅且强大的语言，非常适合数据分析、统计学以及复杂系统。

阅读本书后，您将熟悉 R 的基础知识以及一些高级特性。您将了解数据结构，并知道如何高效地处理它们。您还将了解如何设计高效运行的复杂系统，以及如何通过 Web 应用程序使这些系统对他人可用。在较低层面，您将了解如何使用面向对象编程、函数式编程和响应式编程，以及在这些范式下哪些代码可能写得更好。您将学习如何使用 R 提供的各种前沿工具来开发软件，如何识别性能瓶颈，以及如何修复它们，可能还会使用其他编程语言如 Fortran 和 C++。最后，您将能够阅读和理解大多数 R 代码，并为他人代码提供反馈。

# 本书涵盖内容

第一章，*R 简介*，涵盖了您理解其余示例所需的 R 基础知识。它并不是要提供一个详尽的 R 介绍。相反，它的目的是为您提供快速开始书中包含的三个示例以及我接下来要介绍的基本概念和技术。

本书通过三个示例展示了 R 的广泛功能。第一个示例展示了如何使用描述性统计和线性模型分析投票，并在第二章，*使用描述性统计理解投票*和第三章，*使用线性模型预测投票*中呈现。

第二章, *使用描述性统计理解投票*，展示了如何通过编程创建数百个图表来直观地识别数据中的关系。它展示了如何创建直方图、散点图、相关矩阵，以及如何执行**主成分分析**（**PCA**）。

第三章，*使用线性模型预测投票*，展示了如何编程地找到一组数据最佳预测线性模型，以及根据不同的成功指标。它还展示了如何检查模型假设，以及如何使用交叉验证来提高结果的可信度。

第二个示例展示了如何模拟数据，可视化它，分析其文本组件，并使用它创建自动演示文稿。

第四章，*模拟销售数据和数据库操作*，展示了如何设计数据架构和模拟各种类型的数据。它还展示了如何将真实文本数据与模拟数据集成，以及如何使用 SQL 数据库更有效地访问它。

第五章，*使用可视化进行销售沟通*，展示了如何制作从基础到高级的图表，以及高度定制的图表。它还展示了如何创建动态 3D 图表和交互式地图。

第六章，*通过文本分析理解评论*，展示了如何逐步使用**自然语言处理**（**NLP**）技术以及情感分析进行文本分析。

第七章，*开发自动演示文稿*，展示了如何将前几章的结果组合起来，使用 knitr 和 R Markdown 等工具创建可以自动更新最新数据的演示文稿。

最后，第三个示例展示了如何设计和开发从加密货币市场检索实时数据的高级面向对象系统，以及如何优化实现和围绕这些系统构建网络应用。

第八章，*面向对象系统跟踪加密货币*，介绍了当结合使用时产生复杂系统的基本面向对象技术。此外，它还展示了如何与 R 中最常用的三个对象模型 S3、S4 和 R6 一起工作，以及如何使它们协同工作。

第九章，*实现高效的简单移动平均*，展示了如何迭代改进**简单移动平均**（**SMA**）的实现，从被认为是糟糕的代码开始，一直到使用并行化和将任务委托给 Fortran 和 C++语言的先进优化技术。

第十章，*使用仪表板添加交互性*，展示了如何将前两章构建的内容包装起来，通过 Shiny 包使用响应式编程来制作现代网络应用。

附录，*所需软件包*，展示了如何安装复制书中示例所需的内部和外部软件。具体来说，它将指导你完成 Linux 和 macOS 的安装过程，但 Windows 遵循类似的原则，不应引起任何问题。

# 你需要为这本书准备的东西

这本书是在 Linux 环境下编写的（具体为 Ubuntu 17.10），并且也在 macOS High Sierra 上进行了测试。尽管它没有在 Windows 计算机上测试，但书中展示的所有 R 代码都应该在 Windows 上运行良好。唯一的实质性区别是，当我向你展示如何使用终端执行任务时，将使用 bash 终端，这是 Linux 和 macOS 默认可用的。在 Windows 的情况下，你需要使用 cmd.exe 终端，你可以在网上找到很多相关信息。请记住，如果你使用的是 Windows 计算机，你应该准备好进行一些额外的研究来复制相同的功能，但你应该不会遇到太多麻烦。

在附录中，我会向你展示如何安装复制本书中示例所需的软件。我会指导你如何在 Linux 和 macOS（特别是 Ubuntu 17.10 和 High Sierra）上这样做。如果你使用的是 Windows，同样的原则适用，但具体细节可能略有不同。然而，我相信在任何情况下都不会太难。

为了能够执行这本书中的所有代码，你需要满足两种类型的要求：外部和内部。R 语言之外的应用软件，我称之为外部要求。R 语言内部的应用软件，即 R 包，我称之为内部要求。我在附录中会指导你如何安装这两类软件。

# 这本书面向的对象

这本书是为那些希望使用 R 语言开发软件的人而写的。你不需要成为专家或专业程序员就能跟随这本书学习，但你确实需要对学习 R 语言的工作原理感兴趣。我的希望是，这本书通过提供一些实用的例子，可以帮助从初学者到高级用户更好地理解 R 语言，这些例子可能以你之前未曾想到的方式帮助你。

我假设读者具备基本的编程、数学和统计知识，因为书中会有多个部分使用到这些学科的概念，而这些概念不会进行详细的解释。如果你在任何编程语言中自己编写过程序，了解基本的线性代数和统计学，并且知道线性回归是什么，你就拥有了理解这本书所需的一切。

这本书是为处于各种环境和具有不同背景的人编写的。例如，如果你是受雇于需要你定期进行数据处理以生成报告的组织分析师，并且你需要开发程序来自动化此类任务，这本书适合你。如果你是一位希望使用当前技术、将它们结合起来并开发测试它们的工具的学术研究人员，这本书适合你。如果你是一位寻找利用高级 R 语言特性的方法的职业程序员，这本书适合你。最后，如果你正在为数据在未来变得极其重要的未来做准备（它已经如此），这本书适合你。

# 惯例

在这本书中，你会发现许多文本样式，用于区分不同类型的信息。以下是一些这些样式的示例及其含义的解释。文本中的代码单词、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟 URL、用户输入和 Twitter 用户名如下所示：“我们可以通过使用`read.csv()`函数将`data.csv`文件的 内容加载到数据框中（这是使用 CSV 格式数据的直观结构）。”

代码块设置如下：

```py
data <- read.csv("./data_brexit_referendum.csv") 
data[data$Leave == -1, "Leave"] <- NA 
```

当我们希望引起你对代码块中特定部分的注意时，相关的行或项目将以粗体显示：

```py
sum(is.na(data$Leave))
#> [1] 267
```

任何命令行输入或输出都如下所示：

```py
$ sudo service mysql start
```

**新术语**和**重要词汇**以粗体显示。屏幕上显示的单词，例如在菜单或对话框中，在文本中如下所示：“现在我们的代码已经准备好了，我们应该在“数据概览”选项卡中看到一个表格。”

警告或重要注意事项如下所示。

技巧和窍门如下所示。

# 读者反馈

我们始终欢迎读者的反馈。告诉我们你对这本书的看法——你喜欢什么或不喜欢什么。读者反馈对我们来说很重要，因为它帮助我们开发出你真正能从中获得最大收益的标题。要发送一般反馈，请简单地发送电子邮件至`feedback@packtpub.com`，并在邮件主题中提及书籍的标题。如果你在某个主题领域有专业知识，并且你对撰写或为书籍做出贡献感兴趣，请参阅我们的作者指南[www.packtpub.com/authors](http://www.packtpub.com/authors)。

# 客户支持

现在你已经是 Packt 图书的骄傲拥有者，我们有一些东西可以帮助你从你的购买中获得最大收益。

# 下载示例代码

你可以从你的账户中下载这本书的示例代码文件。[`www.packtpub.com`](http://www.packtpub.com)。如果你在其他地方购买了这本书，你可以访问[`www.packtpub.com/support`](http://www.packtpub.com/support)并注册，以便将文件直接通过电子邮件发送给你。你可以按照以下步骤下载代码文件：

1.  使用您的电子邮件地址和密码登录或注册我们的网站。

1.  将鼠标指针悬停在顶部的“支持”选项卡上。

1.  点击“代码下载与勘误”。

1.  在搜索框中输入书籍名称。

1.  选择您想要下载代码文件的书籍。

1.  从下拉菜单中选择您购买此书的来源。

1.  点击“代码下载”。

文件下载完成后，请确保您使用最新版本的软件解压或提取文件夹：

+   Windows 上的 WinRAR / 7-Zip

+   Mac 上的 Zipeg / iZip / UnRarX

+   Linux 上的 7-Zip / PeaZip

本书代码包也托管在 GitHub 上，网址为[`github.com/PacktPublishing/R-Programming-By-Example`](https://github.com/PacktPublishing/R-Programming-By-Example)。我们还有其他来自我们丰富图书和视频目录的代码包可供在[`github.com/PacktPublishing/`](https://github.com/PacktPublishing/)找到。查看它们吧！

# 下载本书的颜色图像

我们还为您提供了一个包含本书中使用的截图/图表颜色图像的 PDF 文件。这些颜色图像将帮助您更好地理解输出的变化。您可以从[`www.packtpub.com/sites/default/files/downloads/RProgrammingByExample_ColorImages.pdf`](https://www.packtpub.com/sites/default/files/downloads/RProgrammingByExample_ColorImages.pdf)下载此文件。

# 勘误

尽管我们已经尽一切努力确保我们内容的准确性，但错误仍然可能发生。如果您在我们的书中发现错误——可能是文本或代码中的错误——如果您能向我们报告，我们将不胜感激。这样做可以节省其他读者的挫败感，并帮助我们改进本书的后续版本。如果您发现任何勘误，请通过访问[`www.packtpub.com/submit-errata`](http://www.packtpub.com/submit-errata)，选择您的书籍，点击勘误提交表单链接，并输入您的勘误详情来报告它们。一旦您的勘误得到验证，您的提交将被接受，勘误将被上传到我们的网站或添加到该标题的“勘误”部分下的现有勘误列表中。

要查看之前提交的勘误，请访问[`www.packtpub.com/books/content/support`](https://www.packtpub.com/books/content/support)，并在搜索框中输入书籍名称。所需信息将在“勘误”部分显示。

# 侵权

互联网上版权材料的侵权是一个跨所有媒体的持续问题。在 Packt，我们非常重视我们版权和许可证的保护。如果您在互联网上遇到我们作品的任何形式的非法副本，请立即提供位置地址或网站名称，以便我们可以寻求补救措施。

请通过`copyright@packtpub.com`与我们联系，并提供涉嫌侵权材料的链接。我们感谢您在保护我们作者和我们为您提供有价值内容的能力方面的帮助。

# 咨询

如果您本书的任何方面有问题，您可以联系我们的`questions@packtpub.com`，我们将尽力解决问题。
