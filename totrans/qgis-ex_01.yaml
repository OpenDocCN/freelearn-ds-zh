- en: Chapter 1. Handling Your Data
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第 1 章. 处理您的数据
- en: In this introductory chapter, we will prepare all the necessary tools and data
    for the visual exploration of spatial phenomena, mapping, and analysis. After
    getting to know some basics about QGIS as a desktop GIS, you will learn how to
    install and configure it. Then, we will go through the most common spatial data
    sources and, in the end, aggregate them into a single spatial database that will
    be used for styling, mapping, and analysis in the following chapters.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将准备所有必要的工具和数据，以便对空间现象进行视觉探索、制图和分析。在了解 QGIS 作为桌面 GIS 的基础知识之后，您将学习如何安装和配置它。然后，我们将介绍最常见的数据源，并在最后将它们聚合到一个单一的空间数据库中，该数据库将在后续章节中用于样式、制图和分析。
- en: 'In this chapter, we will go through the following topics:'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将讨论以下主题：
- en: QGIS installation
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: QGIS 安装
- en: Graphical user interface (GUI), its elements, and its customization
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 图形用户界面 (GUI)，其元素及其定制
- en: Loading various types of spatial data from common sources
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从常见来源加载各种类型的空间数据
- en: Projection's basics
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 投影的基本知识
- en: Assembling data into a single spatial database
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将数据组装成单一的空间数据库
- en: Installing QGIS
  id: totrans-8
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 安装 QGIS
- en: 'QGIS is a free and open source desktop GIS on which development began in 2002\.
    Since 2007, the project has been developing under the umbrella of the **Open Source
    Geospatial Foundation** (**OSGeo**). A relatively young project, QGIS is gaining
    more and more popularity among individual users, private companies, and organizations
    all over the world due to the following reasons:'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: QGIS 是一个免费的开放源代码桌面 GIS，其开发始于 2002 年。自 2007 年以来，该项目在 **开源地理空间基金会** (**OSGeo**)
    的支持下发展。作为一个相对较新的项目，QGIS 由于以下原因在全世界个人用户、私营公司和组织中越来越受欢迎：
- en: Distribution under the GNU **General Public License** (**GPL**), which guarantees
    users the freedom to use, study, share, and modify the software
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 根据 GNU **通用公共许可证** (**GPL**) 进行分发，该许可证确保用户有权使用、学习、分享和修改软件
- en: Cross-platform support, which means that QGIS can run on Linux, Unix, Mac OS,
    Windows, and Android operating systems
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 跨平台支持，这意味着 QGIS 可以在 Linux、Unix、Mac OS、Windows 和 Android 操作系统上运行
- en: Multiple vector and raster data format support, as well as database formats
    and functionalities
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 多种矢量、栅格数据格式支持，以及数据库格式和功能
- en: Permanent improvement of the core functionality, which encompasses data creation,
    editing, manipulation, analysis, storage, and visual representation
  id: totrans-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 核心功能的持续改进，包括数据创建、编辑、处理、分析、存储和可视化表示
- en: Permanent growth of the external functionality available from the so-called
    plugins supported by the international community of developers
  id: totrans-14
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 来自国际开发者社区支持的所谓插件的可用外部功能的持续增长
- en: Note
  id: totrans-15
  prefs:
  - PREF_IND
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: You can find more information about QGIS from its official website at [http://qgis.org/](http://qgis.org/)
    and its documentation chapter available at [http://documentation.qgis.org/](http://documentation.qgis.org/).
  id: totrans-16
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 您可以从 QGIS 的官方网站 [http://qgis.org/](http://qgis.org/) 以及其文档章节 [http://documentation.qgis.org/](http://documentation.qgis.org/)
    获取更多关于 QGIS 的信息。
- en: According to the release schedule of the QGIS project, a new version of QGIS
    is available every 4 months. Starting from QGIS 2.8, every third release has been
    a long-term release (LTR). It is maintained for a year, and then the next LTR
    occurs. Throughout this book, an LTR of QGIS 2.8 called "Wein" is used.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 根据 QGIS 项目的发布计划，每 4 个月就有一个新的 QGIS 版本可用。从 QGIS 2.8 开始，每第三个发布版本都是一个长期发布 (LTR)。它将维护一年，然后下一个
    LTR 发生。在整个本书中，使用了一个名为 "Wein" 的 QGIS 2.8 LTR 版本。
- en: 'Installers for the current QGIS version are available for different operating
    systems from the download page of the official website at [http://download.qgis.org](http://download.qgis.org).
    The 32-bit and 64-bit installation files for MS Windows are distributed as follows:'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 当前 QGIS 版本的安装程序可以从官方网站的下载页面 [http://download.qgis.org](http://download.qgis.org)
    获取，适用于不同的操作系统。MS Windows 的 32 位和 64 位安装文件如下分发：
- en: '**QGIS Standalone Installers**: QGIS installation using these has no differences
    from the conventional software installation procedure under Windows'
  id: totrans-19
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**QGIS 独立安装程序**：使用这些安装程序安装 QGIS 与 Windows 下的传统软件安装程序没有区别'
- en: '**OSGeo4W Network Installer**: Compared to standalone installers, this provides
    the following advantages:'
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**OSGeo4W 网络安装程序**：与独立安装程序相比，它具有以下优点：'
- en: Aside from QGIS, it allows us to install a large number of other packages to
    work with spatial data (command-line utilities, libraries, and desktop and server
    applications)
  id: totrans-21
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 除了 QGIS 之外，它还允许我们安装大量其他软件包以处理空间数据（命令行工具、库和桌面及服务器应用程序）
- en: It ensures installation of the most up-to-date software versions being directly
    linked to constantly updating repositories
  id: totrans-22
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 它确保安装最新版本的软件，这些版本直接链接到不断更新的仓库
- en: Once defined, the OSGeo4W working environment is convenient to use for automatic
    and timely updates, package addition, or package deletion
  id: totrans-23
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一旦定义，OSGeo4W 工作环境方便用于自动和及时的更新、添加软件包或删除软件包
- en: 'Let''s go through the installation procedure of QGIS and its components with
    the OSGeo4W installer in the example of the latest 32-bit version. Since the installation
    (especially primary) requires downloading a large number of files, it is desirable
    to have a high-speed Internet connection. The installation procedure is as follows:'
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们以最新 32 位版本为例，通过 OSGeo4W 安装程序来了解 QGIS 及其组件的安装过程。由于安装（尤其是初级）需要下载大量文件，因此拥有高速互联网连接是理想的。安装过程如下：
- en: Download the latest version of the OSGeo4W 32-bit Network Installer, and double-click
    on `osgeo4w-setup-x86.exe` to run the installation.
  id: totrans-25
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 下载 OSGeo4W 32 位网络安装程序的最新版本，双击 `osgeo4w-setup-x86.exe` 以运行安装。
- en: In the installer window, select **Advanced Install**, as shown in the following
    screenshot. From now on, just read carefully and follow the instructions.![Installing
    QGIS](img/image00266.jpeg)
  id: totrans-26
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在安装程序窗口中，选择 **高级安装**，如下面的截图所示。从现在起，只需仔细阅读并遵循说明。![安装 QGIS](img/image00266.jpeg)
- en: Choose **Install from the Internet** with the option to keep the downloaded
    files for future reuse.
  id: totrans-27
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择 **从互联网安装**，并保留下载的文件以供将来重用。
- en: Choose the directory for the OSGeo4W software suite installation. `C:\OSGeo4W`
    is a usual and convenient choice. If you want to use another directory, give it
    a proper name with a short path, excluding spaces and special symbols.
  id: totrans-28
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择 OSGeo4W 软件套件的安装目录。`C:\OSGeo4W` 是一个常见且方便的选择。如果您想使用另一个目录，请给它一个合适的名称，路径要短，不要包含空格和特殊符号。
- en: Then, choose a directory to save the downloaded packages. You can create a new
    directory, `C:\OSGeo4W\Downloads`, by typing in its name manually. Keep in mind
    that the volume of files to be downloaded is about 200 MB and you will need enough
    space to keep them all.
  id: totrans-29
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 然后，选择一个目录来保存下载的软件包。您可以通过手动输入其名称来创建一个新目录，例如 `C:\OSGeo4W\Downloads`。请记住，要下载的文件量大约为
    200 MB，您需要足够的空间来保存它们。
- en: 'Configure your Internet connection parameters, if any, and click on the **Next**
    button to proceed. After hitting the **Next** button, the list of all packages
    is downloaded and you enter the mode of package selection, as shown in the following
    screenshot. The available packages are grouped into the following categories:
    **Commandline_Utilities**, **Desktop**, **Libs**, and **Web**.![Installing QGIS](img/image00267.jpeg)'
  id: totrans-30
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果有，配置您的互联网连接参数，然后点击 **下一步** 按钮继续。点击 **下一步** 按钮后，将下载所有软件包的列表，并进入软件包选择模式，如下面的截图所示。可用的软件包分为以下类别：**命令行工具**、**桌面**、**库**和**网络**。![安装
    QGIS](img/image00267.jpeg)
- en: To install a package, click on the **+** sign to expand the category, and choose
    an application by clicking on the rounded arrow beside it (the word **Skip** will
    be replaced by the latest available version number).
  id: totrans-31
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要安装软件包，点击 **+** 号以展开类别，并通过点击其旁边的圆形箭头（**跳过** 将被替换为最新可用版本号）选择一个应用程序。
- en: 'To install the latest QGIS version, choose **qgis: QGIS Desktop**, and **grass:
    GRASS GIS stable release**. GRASS is a standalone GIS application that is closely
    integrated into QGIS and provides advanced geoprocessing functions.'
  id: totrans-32
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '要安装最新版本的 QGIS，选择 **qgis: QGIS 桌面版** 和 **grass: GRASS GIS 稳定版**。GRASS 是一个独立的
    GIS 应用程序，它与 QGIS 紧密集成，并提供高级地理处理功能。'
- en: After you've clicked on the **Next** button, the installer automatically detects
    the necessary dependencies and proceeds to download the packages and installation,
    as shown in the following screenshot:![Installing QGIS](img/image00268.jpeg)
  id: totrans-33
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击 **下一步** 按钮后，安装程序自动检测必要的依赖项，并继续下载软件包和安装，如下面的截图所示：![安装 QGIS](img/image00268.jpeg)
- en: Tip
  id: totrans-34
  prefs:
  - PREF_IND
  - PREF_H3
  type: TYPE_NORMAL
  zh: 小贴士
- en: 'You can also install **qgis-dev: QGIS nightly build of the master**. Being
    under constant development, this version is considered unstable and is updated
    nightly. It is not recommended for workaday use, but is useful if you want to
    have a try at some new features and give feedback to developers.'
  id: totrans-35
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '您也可以安装 **qgis-dev: QGIS 主分支的夜间构建版本**。由于处于持续开发中，这个版本被认为是不稳定的，并且每晚都会更新。它不推荐用于日常使用，但如果您想尝试一些新功能并向开发者提供反馈，则很有用。'
- en: 'After the installation completes, you will find the **OSGeo4W** group in the
    **Start** menu, with the following components:'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 安装完成后，您将在 **开始** 菜单中找到 **OSGeo4W** 组，包含以下组件：
- en: '**MSYS**: This is a set of GNU tools that ensure the creation of applications
    traditionally dependent on UNIX tools'
  id: totrans-37
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**MSYS**：这是一组确保传统上依赖于 UNIX 工具的应用程序创建的 GNU 工具'
- en: '**OSGe4W Shell**: This is a command-line interface for OSGeo4W utilities'
  id: totrans-38
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**OSGe4W Shell**：这是 OSGeo4W 工具的命令行界面'
- en: '**QGIS Browser 2.8.1**: This is a QGIS explorer used for navigation and data
    preview'
  id: totrans-39
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**QGIS 浏览器 2.8.1**：这是一个用于导航和数据预览的 QGIS 探索器'
- en: '**QGIS Desktop 2.8.1**: This is a QGIS desktop application'
  id: totrans-40
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**QGIS 桌面 2.8.1**：这是一个 QGIS 桌面应用程序'
- en: '**Setup**: This is a OSGeo4W Installer launcher'
  id: totrans-41
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**设置**：这是一个 OSGeo4W 安装程序启动器'
- en: '**GRASS GIS 7.0.0**: This is GRASS GIS and its components'
  id: totrans-42
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**GRASS GIS 7.0.0**：这是 GRASS GIS 及其组件'
- en: If you want to update QGIS or expand the current installation with some new
    components, simply click on the **Setup** shortcut from the **OSGeo4W** menu folder
    and run the **Advanced installation** procedure. The installer will check for
    available updates and necessary dependencies, download them, and install them.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您想更新 QGIS 或使用一些新组件扩展当前安装，只需从 **OSGeo4W** 菜单文件夹中点击 **设置** 快捷方式并运行 **高级安装**
    程序。安装程序将检查可用的更新和必要的依赖项，下载它们，并安装它们。
- en: GUI elements and customization
  id: totrans-44
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: GUI 元素和自定义
- en: When you first start QGIS, you will see the interface, as shown on the following
    screenshot. By definition, the QGIS interface uses the system language. For the
    purpose of this tutorial, you can change it in English by going to **Settings**
    | **Options** | **Locale** and restarting QGIS to apply your changes.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 当您第一次启动 QGIS 时，您将看到以下截图所示的界面。根据定义，QGIS 界面使用系统语言。为了本教程的目的，您可以通过转到 **设置** | **选项**
    | **区域** 并重新启动 QGIS 来将其更改为英语并应用您的更改。
- en: '![GUI elements and customization](img/image00269.jpeg)'
  id: totrans-46
  prefs: []
  type: TYPE_IMG
  zh: '![GUI 元素和自定义](img/image00269.jpeg)'
- en: 'The QGIS interface consists of five main sections:'
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: QGIS 界面由五个主要部分组成：
- en: '**Menu bar**: This provides access to all QGIS functions in the conventional
    form—drop-down menus.'
  id: totrans-48
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**菜单栏**：它以传统形式提供对所有 QGIS 功能的访问——下拉菜单。'
- en: '**Panels**: These are windows that can be either docked or floating. By default,
    you can see two panels activated on the left side of the workspace.'
  id: totrans-49
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**面板**：这些是可以停靠或浮动的窗口。默认情况下，您可以在工作区的左侧看到两个激活的面板。'
- en: The **Layers** panel is designated to display a tree view list of all loaded
    layers.
  id: totrans-50
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**图层**面板用于显示所有加载图层的树形视图列表。'
- en: The **Browser** panel provides quick navigation and access to the various local,
    server, or online data sources. You can close or shrink a panel using special
    buttons in its top-right corner. You can also drag and drop it to a place handily.
  id: totrans-51
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**浏览器**面板提供快速导航和访问各种本地、服务器或在线数据源。您可以使用其右上角的特殊按钮关闭或缩小面板。您还可以将其拖放到方便的位置。'
- en: Tip
  id: totrans-52
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_H3
  type: TYPE_NORMAL
  zh: 小贴士
- en: 'Throughout this book, we will use the **Browser** panel from time to time,
    so try to assign it a proper position instead of closing it. For example, by dragging
    and dropping it onto the **Layers** panel, you can create two independent tabs:
    one for layers and the other for data source navigation. In this case, you will
    not have to sacrifice window the space necessary for expanding and viewing items.'
  id: totrans-53
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在本书的整个过程中，我们将不时使用 **浏览器** 面板，因此请尽量将其分配到适当的位置，而不是关闭它。例如，通过将其拖放到 **图层** 面板，您可以创建两个独立的标签页：一个用于图层，另一个用于数据源导航。在这种情况下，您将不必牺牲窗口空间来扩展和查看项目。
- en: '![GUI elements and customization](img/image00270.jpeg)'
  id: totrans-54
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![GUI 元素和自定义](img/image00270.jpeg)'
- en: Panels can be turned on or off by going to **View** | **Panels**. Similarly,
    you can right-click anywhere on the upper bar of the workspace, and a window with
    toggles will pop up. This window is divided by a horizontal line and the panels
    toggles are located in its upper part.
  id: totrans-55
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 您可以通过转到 **视图** | **面板** 来打开或关闭面板。同样，您可以在工作区上方的任何位置右键单击，并将弹出一个带有切换按钮的窗口。此窗口由一条水平线分隔，面板切换按钮位于其上部。
- en: '**Toolbars**: Menu functions are grouped into logical toolsets and placed as
    buttons in bars to provide handy access to all the necessary tools. By default,
    the following toolbars are turned on and displayed:![GUI elements and customization](img/image00271.jpeg)'
  id: totrans-56
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**工具栏**：菜单功能被分组到逻辑工具集中，并放置在栏中的按钮上，以提供方便访问所有必要的工具。默认情况下，以下工具栏被打开并显示：![GUI元素和自定义](img/image00271.jpeg)'
- en: File toolbar
  id: totrans-57
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 文件工具栏
- en: '![GUI elements and customization](img/image00272.jpeg)'
  id: totrans-58
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![GUI元素和自定义](img/image00272.jpeg)'
- en: Map Navigation toolbar
  id: totrans-59
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 地图导航工具栏
- en: '![GUI elements and customization](img/image00273.jpeg)'
  id: totrans-60
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![GUI元素和自定义](img/image00273.jpeg)'
- en: Attributes toolbar
  id: totrans-61
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 属性工具栏
- en: '![GUI elements and customization](img/image00274.jpeg)'
  id: totrans-62
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![GUI元素和自定义](img/image00274.jpeg)'
- en: Digitizing toolbar
  id: totrans-63
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 数字化工具栏
- en: '![GUI elements and customization](img/image00275.jpeg)'
  id: totrans-64
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![GUI元素和自定义](img/image00275.jpeg)'
- en: Label toolbar
  id: totrans-65
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 标签工具栏
- en: '![GUI elements and customization](img/image00276.jpeg)'
  id: totrans-66
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![GUI元素和自定义](img/image00276.jpeg)'
- en: Help and Plugins toolbars
  id: totrans-67
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 帮助和插件工具栏
- en: '![GUI elements and customization](img/image00277.jpeg)'
  id: totrans-68
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![GUI元素和自定义](img/image00277.jpeg)'
- en: Manage Layers toolbar
  id: totrans-69
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图层管理工具栏
- en: If you want to see a short tool reference, just hover your mouse pointer over
    the button and a yellow information window will pop up. Some buttons or toolbars
    are grayed out (for example, the **Digitizing** toolbar and **Label** toolbar),
    which means that they can be used only after some actions have been performed.
    For example, the **Digitizing** toolbar's buttons become available only after
    editing mode is activated for some layers. Toolbars are dockable and can easily
    be moved around the workspace. To move a toolbar, place the mouse arrow over its
    border marked by perforation dots. The arrow will turn into a cross, symbolizing
    that the toolbar can now be dragged and dropped to any other place while holding
    down the left button of the mouse. You can turn the toolbars on or off by navigating
    to **View** | **Toolbars,** or from the window called by a right click on any
    toolbar.
  id: totrans-70
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果你想查看简短的工具参考，只需将鼠标指针悬停在按钮上，就会弹出一个黄色的信息窗口。一些按钮或工具栏被灰色显示（例如，**数字化** 工具栏和 **标签**
    工具栏），这意味着它们只能在执行某些操作后使用。例如，**数字化** 工具栏的按钮只有在某些图层激活了编辑模式后才能使用。工具栏可以停靠，并且可以轻松地在工作区中移动。要移动工具栏，将鼠标箭头放在其由穿孔点标记的边界上。箭头将变成十字形，表示现在可以拖动并放下工具栏到任何其他位置，同时按住鼠标左键。你可以通过导航到
    **视图** | **工具栏**，或从任何工具栏上右键点击调出的窗口中打开或关闭工具栏。
- en: '**Map area**: This is the largest section of the interface window, and is designed
    for data map display and visual exploration.'
  id: totrans-71
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**地图区域**：这是界面窗口中最大的部分，用于数据地图显示和视觉探索。'
- en: '**Status bar**: This briefly displays the following information about your
    current map overview: a progress bar of the rendering (visible only if rendering
    takes some time to show its progress), the mouse pointer''s position coordinates,
    the scale, and the current coordinate reference system. It also contains toggles
    for switching from point position coordinates to extent, and temporarily turning
    off map rendering. There are also buttons used to open the coordinate reference
    system dialog ![GUI elements and customization](img/image00278.jpeg) and show
    the **Log Message** panel ![GUI elements and customization](img/image00279.jpeg).'
  id: totrans-72
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**状态栏**：此栏简要显示有关当前地图概览的以下信息：渲染进度条（仅在渲染需要一些时间来显示进度时可见）、鼠标指针的位置坐标、比例尺和当前坐标参考系统。它还包含切换到范围坐标和暂时关闭地图渲染的切换按钮。还有用于打开坐标参考系统对话框
    ![GUI元素和自定义](img/image00278.jpeg) 和显示 **日志消息** 面板的按钮 ![GUI元素和自定义](img/image00279.jpeg)。'
- en: Advanced GUI customization is possible by navigating to **Settings** | **Customization**.
    From this dialog, you can get complete control over all menus, panels, bars, and
    widgets. To start the process of customization, turn on the **Enable customization**
    toggle. As long as you are not familiar with QGIS interface, it will be easier
    to enter ![GUI elements and customization](img/image00280.jpeg) **Switch to catching
    widgets in main application** mode. In this mode, you can click on any GUI item
    you want to hide—a button on a toolbar or a toolbar itself. The chosen items are
    highlighted and the relevant customization tree item is expanded, as shown in
    the following screenshot. If you have chosen an item by mistake, simply click
    on it once again to unselect. Otherwise, you can expand the relevant item, check/uncheck
    some toggles, and click on **OK**. The changes are applied after QGIS restarts.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 通过导航到**设置** | **自定义**，可以进行高级GUI自定义。从这个对话框中，您可以完全控制所有菜单、面板、工具栏和小部件。要开始自定义过程，打开**启用自定义**切换按钮。如果您不熟悉QGIS界面，进入![GUI元素和自定义](img/image00280.jpeg)
    **切换到捕获主应用程序小部件**模式会更简单。在此模式下，您可以点击任何想要隐藏的GUI项——工具栏上的按钮或工具栏本身。所选项目会被突出显示，相关的自定义树项会展开，如下面的截图所示。如果您不小心选择了某个项目，只需再次点击它即可取消选择。否则，您可以展开相关项目，检查/取消检查一些切换按钮，然后点击**确定**。更改将在QGIS重启后生效。
- en: '![GUI elements and customization](img/image00281.jpeg)'
  id: totrans-74
  prefs: []
  type: TYPE_IMG
  zh: '![GUI元素和自定义](img/image00281.jpeg)'
- en: Tip
  id: totrans-75
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 小贴士
- en: As your familiarity with QGIS grows and you start using it for different tasks,
    it might be convenient to create a few users' GUI profiles, aimed at different
    use cases (for example, digitizing, working with databases or raster data, and
    so on). To do so, you need to adjust all the necessary settings in the **Customization**
    dialog window, and save ![GUI elements and customization](img/image00282.jpeg)
    them in a `.ini` file. After that, you will be able to quickly modify the interface
    just by loading settings ![GUI elements and customization](img/image00283.jpeg)
    from a predefined customization file.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 随着你对QGIS的熟悉程度提高，并开始用它来完成不同的任务，创建几个针对不同用例的用户GUI配置文件可能很方便（例如，数字化、与数据库或栅格数据工作等）。为此，您需要在**自定义**对话框窗口中调整所有必要的设置，并将![GUI元素和自定义](img/image00282.jpeg)保存到`.ini`文件中。之后，您只需通过加载预定义的自定义文件![GUI元素和自定义](img/image00283.jpeg)的设置，就可以快速修改界面。
- en: Some minor interface changes, such as general style, default icon size, font
    and more, are available from the **Application** group, which can be found by
    going to **Settings** | **Options** | **General**.
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 一些小的界面更改，例如通用样式、默认图标大小、字体等，都可以在**应用程序**组中找到，通过访问**设置** | **选项** | **常规**来查找。
- en: Extending functionality through plugins
  id: totrans-78
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 通过插件扩展功能
- en: 'From the very beginning, QGIS has had a modular architecture that makes it
    easy to add new features or functions. Most functions in QGIS are implemented
    in so-called plugins, which are divided into the following types:'
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 从一开始，QGIS就具有模块化架构，这使得添加新功能或功能变得容易。QGIS中的大多数功能都是通过所谓的插件实现的，这些插件分为以下类型：
- en: '**Core plugins**: These are included in QGIS by default and are maintained
    by the development team. In order to be used, they should only be activated by
    a user.'
  id: totrans-80
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**核心插件**：这些插件默认包含在QGIS中，并由开发团队维护。为了使用它们，用户只需激活即可。'
- en: '**External plugins**: These are located in an external repository and are maintained
    by the authors. In order to be used, they should first be installed by a user.
    With time passing, some of the most useful and popular plugins are incorporated
    into the QGIS core functionality.'
  id: totrans-81
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**外部插件**：这些插件位于外部仓库中，由作者维护。为了使用它们，用户首先需要安装。随着时间的推移，一些最有用和最受欢迎的插件被整合到了QGIS的核心功能中。'
- en: Managing plugins
  id: totrans-82
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 管理插件
- en: 'Plugin management implies their activation, installation, update, and removal,
    which are performed by navigating to **Plugins** | **Manage and Install Plugins**.
    There are several tabs in the dialog window. Clicking on an individual plugin
    in any of these tabs shows you detailed information: whether the plugin is experimental
    or not, the functionality, rating, author, version, and also some links to its
    **homepage**, **code repository**, and **tracker**:'
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 插件管理意味着它们的激活、安装、更新和删除，这些操作通过导航到**插件** | **管理和安装插件**来完成。对话框窗口中有几个选项卡。点击这些选项卡中的任何单个插件都会显示详细信息：插件是否为实验性的，功能、评分、作者、版本，以及一些指向其**主页**、**代码仓库**和**跟踪器**的链接：
- en: '**All**: Under this tab, you can see the full list of available plugins, both
    installed and not installed.'
  id: totrans-84
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**全部**：在此选项卡下，您可以查看所有可用的插件列表，包括已安装和未安装的。'
- en: '**Installed**: This tab shows the plugins that are already installed in QGIS.
    If you want to activate/deactivate a plugin, just check/uncheck the toggle beside
    it.'
  id: totrans-85
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**已安装**：此选项卡显示已安装在 QGIS 中的插件。如果您想激活/停用插件，只需检查/取消检查其旁边的切换按钮。'
- en: '**Not installed**: This tab contains a list of all available plugins that are
    not installed in your QGIS.'
  id: totrans-86
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**未安装**：此选项卡包含所有未在您的 QGIS 中安装的可用的插件列表。'
- en: 'The following tabs are not permanent and are shown only if there are plugins
    that satisfy some conditions:'
  id: totrans-87
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 以下选项卡不是永久的，只有当有插件满足某些条件时才会显示：
- en: '**Upgradeable**: This tab is visible only when more recent versions of the
    installed plugins are available in the repositories.'
  id: totrans-88
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**可升级**：只有当仓库中有可用的较新版本的已安装插件时，此选项卡才会可见。'
- en: '**Invalid**: This tab is shown when there are installed plugins that are broken
    or incompatible with your QGIS version. If you click on an individual plugin from
    this tab, you will be shown the information about the possible cause of invalidity;
    so that you would be able to provide a consistent feedback to the developers.'
  id: totrans-89
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**无效**：当安装了与您的 QGIS 版本不兼容或损坏的插件时，此选项卡会显示。如果您点击此选项卡中的单个插件，您将看到有关无效可能原因的信息；这样您就可以向开发者提供一致的反馈。'
- en: '**New**: This tab shows the not-installed plugins seen for the first time.'
  id: totrans-90
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**新插件**：此选项卡显示首次看到的未安装插件。'
- en: '![Managing plugins](img/image00284.jpeg)'
  id: totrans-91
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![管理插件](img/image00284.jpeg)'
- en: '**Settings**: This tab allows you to define how often updates will be checked
    and whether to use experimental or deprecated plugins. While it is not recommended
    to use experimental plugins for production purposes, you can still activate the
    option to explore the entire range of available tools. By default, only **QGIS
    Official Plugin Repository** is connected, but you can connect additional repositories
    if you know them by clicking on the **Add...** button. For example, the previous
    screenshot shows how to add an external Boundless plugin repository.'
  id: totrans-92
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**设置**：此选项卡允许您定义更新检查的频率以及是否使用实验性或已弃用的插件。虽然不建议在生产环境中使用实验性插件，但您仍然可以激活选项来探索所有可用的工具。默认情况下，仅连接到**QGIS
    官方插件仓库**，但您可以通过点击**添加...**按钮连接其他已知仓库。例如，前面的截图显示了如何添加外部 Boundless 插件仓库。'
- en: To install a plugin, go back to the **Not installed** tab, select the plugin
    you want to install, and click on **Install plugin**. After that, the installation
    starts, and upon its completion, the message about successful installation is
    displayed. The installed plugin is activated by default and either appears in
    the **Plugins** menu, or is added to another relevant menu (for example, **Vector**
    or **Raster**). Also, some plugins appear as separate toolbars and panels that
    can be placed and turned on or off manually.
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 要安装插件，请返回到**未安装**选项卡，选择您想要安装的插件，然后点击**安装插件**。之后，安装开始，安装完成后，将显示关于成功安装的消息。默认情况下，已安装的插件被激活，并可能出现在**插件**菜单中，或者被添加到另一个相关菜单（例如，**矢量**或**栅格**）。此外，一些插件作为单独的工具栏和面板出现，可以手动放置并打开或关闭。
- en: 'Finding and choosing a plugin that fits your needs might be difficult because
    their number is over 400 and is constantly growing. To explore the world of QGIS
    plugins, you can start from [http://plugins.qgis.org/](http://plugins.qgis.org/),
    which contains information about popular and featured plugins. If you are looking
    for a specific function but don''t know the exact plugin name, we advise you to
    search by using tag words in the **Manage and Install Plugins** dialog window,
    as shown on the following screenshot:'
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 由于插件数量超过 400 个且不断增长，寻找和选择满足您需求的插件可能很困难。要探索 QGIS 插件的世界，您可以从 [http://plugins.qgis.org/](http://plugins.qgis.org/)
    开始，该网站包含有关流行和特色插件的信息。如果您正在寻找特定功能但不知道确切的插件名称，我们建议您使用**管理和安装插件**对话框窗口中的标签词进行搜索，如图下所示：
- en: '![Managing plugins](img/image00285.jpeg)'
  id: totrans-95
  prefs: []
  type: TYPE_IMG
  zh: '![管理插件](img/image00285.jpeg)'
- en: Tip
  id: totrans-96
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 小贴士
- en: By default, plugins are sorted alphabetically by name. If you want to rate them
    (by downloads, votes, or status), apply the additional sorting options available
    by right-clicking contextual menu of the list of plugins.
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 默认情况下，插件按名称字母顺序排序。如果您想根据下载量、投票或状态进行评分，可以通过右键单击插件列表的上下文菜单应用额外的排序选项。
- en: Loading data into QGIS
  id: totrans-98
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 将数据加载到 QGIS 中
- en: The data in the GIS can be submitted as separate files, databases, or external
    online sources. Moreover, there are different data models used in the GIS to represent
    the geometry of spatial objects. The vector data model is mostly used to express
    discrete features, such as points (for example, separately growing trees and points
    of interest), lines (roads or railways), and polygons (buildings or administrative
    borders). Raster data is convenient for expressing continuous phenomena that are
    better represented by coverage than by points, lines, or polygons. The most common
    raster data sources are remote sensing imagery, digital elevation models, and
    scanned and georeferenced topographic maps.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: GIS中的数据可以以单独的文件、数据库或外部在线资源的形式提交。此外，GIS中使用了不同的数据模型来表示空间对象的几何形状。矢量数据模型主要用于表达离散特征，例如点（例如，单独生长的树木和兴趣点）、线（道路或铁路）和多边形（建筑或行政边界）。栅格数据对于表达比点、线或多边形更好的连续现象来说很方便。最常见的栅格数据源是遥感影像、数字高程模型和扫描并地理定位的地形图。
- en: QGIS uses the GDAL/OGR spatial data library to read and write multiple vector
    and raster file formats. In the following sections, we will briefly discuss the
    most common file formats that you can get your data in. Additionally, we will
    take a look at the recently widely used data sources, such as CSV files, files
    collected by GPS-receivers, and OpenStreetMap.
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: QGIS使用GDAL/OGR空间数据库来读取和写入多种矢量和栅格文件格式。在接下来的章节中，我们将简要讨论您可以获得数据的最常见的文件格式。此外，我们将探讨最近广泛使用的数据源，例如CSV文件、由GPS接收器收集的文件和OpenStreetMap。
- en: Loading shapefiles
  id: totrans-101
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 加载shapefiles
- en: Most of our data is in the ESRI shapefile format, which is one of the most common
    vector data file formats. There are a few alternative ways of loading a shapefile
    into QGIS. You can open the dialog window by going to **Layer** | **Add Layer**
    | **Add Vector Layer**, or by clicking on the relevant button ![Loading shapefiles](img/image00286.jpeg)
    on the **Manage Layers** toolbar, or by using the *Ctrl* + *Shift* + *V* keyboard
    shortcut.
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 我们的大部分数据都是以ESRI shapefile格式存储的，这是最常见的矢量数据文件格式之一。有几种不同的方法可以将shapefile加载到QGIS中。您可以通过访问**图层**
    | **添加图层** | **添加矢量图层**来打开对话框窗口，或者通过点击**管理图层**工具栏上的相关按钮 ![加载shapefiles](img/image00286.jpeg)，或者使用*Ctrl*
    + *Shift* + *V* 键盘快捷键。
- en: 'In the **Add vector layer** dialog window, configure the following items:'
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 在**添加矢量图层**对话框窗口中，配置以下项目：
- en: '**Source type**, which can be **File**, **Directory**, **Database**, or **Protocol**.
    By default, the **File** source type specified is suitable for loading spatial
    data represented by separate files, like in our case.'
  id: totrans-104
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**数据源类型**，可以是**文件**、**目录**、**数据库**或**协议**。默认情况下，指定的**文件**数据源类型适用于加载由单独文件表示的空间数据，就像在我们的例子中一样。'
- en: Consider the **Encoding** drop-down list options if the data you work with contains
    special symbols or the charset of its textual attributes differs from the conventional
    Latin symbology. In this case, you should choose an appropriate encoding type
    from the drop-down list. Our data does not contain any special symbols, so we
    accept the default **System** encoding.
  id: totrans-105
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果您处理的数据包含特殊符号或其文本属性的字符集与传统的拉丁符号不同，请考虑**编码**下拉列表选项。在这种情况下，您应从下拉列表中选择适当的编码类型。我们的数据不包含任何特殊符号，所以我们接受默认的**系统**编码。
- en: The **Browse** button is meant for navigating to the work directory. There,
    you can choose one or several files (with the *Ctrl* key) to add after hitting
    the **Open** button.
  id: totrans-106
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**浏览**按钮用于导航到工作目录。在那里，您可以选择一个或多个文件（使用*Ctrl*键），然后点击**打开**按钮来添加。'
- en: Tip
  id: totrans-107
  prefs:
  - PREF_IND
  - PREF_H3
  type: TYPE_NORMAL
  zh: 小贴士
- en: For the first time, you are likely to be overwhelmed by the amount and diversity
    of the available files. This is because in the GIS, a dataset is usually represented
    by several files with different extensions. For example, an ESRI shapefile consists
    of at least 4 files (`.shp`, `.shx`, `.dbf`, and `.prj`) that share the same name,
    and among them, `.shp` is what you should select to load the data into QGIS. You
    see all the files because the file type filter in the bottom-right corner of the
    window is set to **All files** by default. To hide all unnecessary files, choose
    the **ESRI shapefiles** file type. In future, don't forget to adjust the filter
    according to the desired file type.
  id: totrans-108
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 第一次使用时，您可能会被可用文件的数量和多样性所淹没。这是因为GIS中，数据集通常由具有不同扩展名的多个文件表示。例如，ESRI形状文件至少由4个文件组成（`.shp`，`.shx`，`.dbf`和`.prj`），它们具有相同的名称，其中`.shp`是您应该选择以将数据加载到QGIS中的文件。您看到所有文件是因为窗口右下角的文件类型过滤器默认设置为**所有文件**。要隐藏所有不必要的文件，请选择**ESRI形状文件**文件类型。将来，不要忘记根据所需的文件类型调整过滤器。
- en: Alternatively, you can use the **Browser** panel to navigate to the working
    directory. Select the files you want to load (either one or several, by holding
    down the *Ctrl* key), and then just drag and drop them onto the map area. If you
    want to simplify the navigation, add the folder you are currently working with
    to **Favourites** from its right-click menu shortcut.
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 或者，您可以使用**浏览器**面板导航到工作目录。选择您想要加载的文件（一个或多个，按住*Ctrl*键），然后将它们拖放到地图区域。如果您想简化导航，可以从其右键菜单快捷键中将您当前正在工作的文件夹添加到**收藏夹**。
- en: '![Loading shapefiles](img/image00287.jpeg)'
  id: totrans-110
  prefs: []
  type: TYPE_IMG
  zh: '![加载形状文件](img/image00287.jpeg)'
- en: The loaded files are assigned random colors. Don't worry about that as of now;
    we will cover layer symbology in [Chapter 2](part0021.xhtml#aid-K0RQ1 "Chapter 2. Visualizing
    and Styling the Data"), *Visualizing and Styling the Data*.
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 加载的文件被分配了随机颜色。目前不必担心这个问题；我们将在[第2章](part0021.xhtml#aid-K0RQ1 "第2章。可视化和样式化数据")，*可视化和样式化数据*中介绍图层符号。
- en: Loading rasters
  id: totrans-112
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 加载栅格数据
- en: 'The procedure of adding raster files is similar to what was described earlier,
    so we will briefly go through it for the example of the common raster file format
    **GeoTIFF**:'
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 添加栅格文件的过程与前面描述的类似，因此我们将简要介绍其示例，即常见的栅格文件格式**GeoTIFF**：
- en: You can load a raster file by going to **Layer** | **Add Layer** | **Add Raster
    Layer**, by clicking on the relevant button ![Loading rasters](img/image00288.jpeg)
    on the **Manage Layers** toolbar, or by using the *Ctrl* + *Shift* + *R* keyboard
    shortcut.
  id: totrans-114
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您可以通过访问**图层** | **添加图层** | **添加栅格图层**，点击**管理图层**工具栏上的相关按钮 ![加载数据](img/image00288.jpeg)，或者使用*Ctrl*
    + *Shift* + *R*键盘快捷键来加载数据栅格文件。
- en: In the **Open a GDAL Supported Raster Data Source** window, go to the work directory.
  id: totrans-115
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**打开GDAL支持的栅格数据源**窗口中，进入工作目录。
- en: To see available the GeoTIFF files, remember to adjust a file type filter, select
    one or more files (by holding down the *Ctrl* key), and click on **Open**. Alternatively,
    you can drag and drop rasters from the **Browser** panel.
  id: totrans-116
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要查看可用的GeoTIFF文件，请记住调整文件类型过滤器，选择一个或多个文件（按住*Ctrl*键），然后点击**打开**。或者，您可以从**浏览器**面板拖放栅格数据。
- en: Loading data from the Personal GeoDatabase
  id: totrans-117
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 从个人地理数据库加载数据
- en: ESRI Personal GeoDatabase is an original ArcGIS data format where all of the
    database's content is held in a single `.mdb` Microsoft Access file. It is widely
    used to store data in a single data file instead of multiple files of different
    formats.
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: ESRI个人地理数据库是ArcGIS的原始数据格式，其中数据库的所有内容都存储在一个单独的`.mdb` Microsoft Access文件中。它广泛用于将数据存储在单个数据文件中，而不是多个不同格式的文件中。
- en: 'Adding an ESRI file geodatabase to QGIS is similar to adding any other vector
    format:'
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 将ESRI文件地理数据库添加到QGIS与添加任何其他矢量格式类似：
- en: Access the dialogue window by going to **Layer** | **Add Layer** | **Add Vector
    Layer**, or by clicking on the relevant button ![Loading data from the Personal
    GeoDatabase](img/image00286.jpeg) on the **Manage Layers** toolbar, or with the
    *Ctrl* + *Shift* + *V* keyboard shortcut.
  id: totrans-120
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过访问**图层** | **添加图层** | **添加矢量图层**，或者点击**管理图层**工具栏上的相关按钮 ![从个人地理数据库加载数据](img/image00286.jpeg)，或者使用*Ctrl*
    + *Shift* + *V*键盘快捷键来访问对话框窗口。
- en: Go to the work directory, set the file type filter to **ESRI Personal GeoDatabase**,
    and select the database file you want to import data from.
  id: totrans-121
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 进入工作目录，设置文件类型过滤器为**ESRI个人地理数据库**，并选择您想要从中导入数据的数据库文件。
- en: In the **Select vector layers to add...** window, you will see the available
    layers and their characteristics. Click on the layers to be added and hit **OK**.![Loading
    data from the Personal GeoDatabase](img/image00289.jpeg)
  id: totrans-122
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**选择要添加的矢量图层...**窗口中，您将看到可用的图层及其特征。点击要添加的图层并点击**确定**。![从个人地理数据库加载数据](img/image00289.jpeg)
- en: Note
  id: totrans-123
  prefs:
  - PREF_IND
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: Raster layers contained in the database will be interpreted and loaded into
    QGIS as bounding-box polygons. If the data is stored in tables that do not contain
    any spatial features, the geometry type will be displayed as **Unknown**. The
    tables will be loaded and available for exporting to other formats (for example,
    `.dbf`) or joining with spatial data layers.
  id: totrans-124
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 数据库中包含的栅格图层将被解释并作为边界框多边形加载到 QGIS 中。如果数据存储在不含任何空间特征的表中，几何类型将显示为**未知**。这些表将被加载并可用于导出为其他格式（例如，`.dbf`）或与空间数据图层连接。
- en: Importing CSV files
  id: totrans-125
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 导入 CSV 文件
- en: A **Comma-separated values** (**CSV**) file is another popular data file format.
    In fact, it is just a spreadsheet with field values delimited by commas. There
    are various delimiters possible instead of commas (for example, tabs, spaces,
    colons and so on). Very often, these tables contain spatial data in the form of
    positional attributes represented by point longitude or latitude (*XY*) coordinates,
    or **well-known text (WKT)** geometry that describes points, lines, or polygons.
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: '**逗号分隔值**（**CSV**）文件是另一种流行的数据文件格式。实际上，它只是一个用逗号分隔字段值的电子表格。除了逗号之外，还有各种可能的分隔符（例如，制表符、空格、冒号等）。这些表格通常包含以点经度或纬度（*XY*）坐标或**已知文本（WKT**）几何形式表示的位置属性的空间数据。'
- en: 'In our dataset, we have a CSV file called `noise.csv`. It contains the details
    of noise complaints registered mostly by the New York City Police Department.
    To add this file as a spatial layer, follow these steps:'
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们的数据集中，有一个名为 `noise.csv` 的 CSV 文件。它包含主要由纽约市警察局登记的噪音投诉的详细信息。要将此文件添加为空间图层，请按照以下步骤操作：
- en: Open the **Create a Layer from a Delimited Text File** dialog window by going
    to **Layer** | **Add Layer** | **Add Delimited Text Layer**, or just click on
    the relevant button ![Importing CSV files](img/image00290.jpeg) in the **Manage
    Layers** toolbar.
  id: totrans-128
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过访问**图层** | **添加图层** | **添加分隔文本图层**打开**从分隔文本文件创建图层**对话框，或者只需在**管理图层**工具栏中点击相关的按钮
    ![导入 CSV 文件](img/image00290.jpeg)。
- en: After browsing and pointing to your file, QGIS tries to parse it using the specified
    delimiter. By default, the comma delimiter is used, but you can specify any other
    delimiter using **Custom delimiters** (comma, tab, space, and so on) or **Regular
    expression delimiter**.![Importing CSV files](img/image00291.jpeg)
  id: totrans-129
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在浏览并指向您的文件后，QGIS 尝试使用指定的分隔符解析它。默认情况下，使用逗号分隔符，但您可以使用**自定义分隔符**（逗号、制表符、空格等）或**正则表达式分隔符**指定任何其他分隔符。![导入
    CSV 文件](img/image00291.jpeg)
- en: The dialog also provides access to a number of other useful settings; for example,
    turning on **First record has field names** creates headers for fields. After
    defining the geometry as **Point coordinates**, **X field** and **Y field** containing
    **Longitude** and **Latitude** values will be loaded from the dataset automatically.
  id: totrans-130
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对话框还提供了访问许多其他有用设置的途径；例如，开启**第一行包含字段名**选项将为字段创建标题。在将几何形状定义为**点坐标**、包含**经度**和**纬度**值的**X
    字段**和**Y 字段**后，这些字段将从数据集中自动加载。
- en: After you have clicked on **OK**, QGIS reads the data and might show a delimited
    text file error message similar to **Errors in file full_path_to_the_file/filename.csv
    100 records discarded due to missing geometry definitions**. This means that some
    points do not contain geographic coordinates, and so they cannot be located properly.
    After closing the message window, you will be prompted to specify the **Coordinate
    Reference System** (**CRS**) for the layer.![Importing CSV files](img/image00292.jpeg)
  id: totrans-131
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在您点击**确定**后，QGIS 读取数据并可能显示类似于**文件 full_path_to_the_file/filename.csv 中存在错误 100
    条记录因缺少几何定义而被丢弃**的定界文本文件错误消息。这意味着某些点不包含地理坐标，因此它们无法正确定位。在关闭消息窗口后，您将被提示指定图层的**坐标参考系统**（**CRS**）。![导入
    CSV 文件](img/image00292.jpeg)
- en: 'As we can see from the **Latitude** and **Longitude** column values, point
    coordinates were originally registered by the receiving devices of the **Global
    Position System** (**GPS**) in decimal degrees. It is also known that GPS uses
    the WGS 84 CRS. This is why in the **Coordinate Reference System Selector** window,
    we enter the **EPSG: 4326** code filter and specify **WGS 84** under **Geographic
    Coordinate Systems** as the initial CRS. After clicking on **OK**, you will see
    that the data is rendered in the map canvas as points.'
  id: totrans-132
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '如我们从**纬度**和**经度**列的值中可以看到，点坐标最初是由**全球定位系统（GPS）**的接收设备以十进制度数注册的。还知道GPS使用WGS
    84坐标系。这就是为什么在**坐标参考系统选择器**窗口中，我们输入**EPSG: 4326**代码过滤器，并在**地理坐标系统**下指定**WGS 84**作为初始坐标系。点击**确定**后，您会看到数据在地图画布上以点的方式呈现。'
- en: Note
  id: totrans-133
  prefs:
  - PREF_IND
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: QGIS uses CRS definitions based on the European Petroleum Search Group's (EPSG)
    Geodetic Parameter Dataset, which contains detailed structured descriptions of
    coordinate reference systems and transformations of global, regional, national,
    and local applications. The database of EPSG identifiers can be used to specify
    a CRS in QGIS. You can read more about the EPSG Geodetic Parameter Dataset at
    [http://www.epsg-registry.org/](http://www.epsg-registry.org/).
  id: totrans-134
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: QGIS使用基于欧洲石油勘探集团（EPSG）的地理参数数据集的CRS定义，该数据集包含全球、区域、国家和地方应用的坐标参考系统和转换的详细结构化描述。EPSG标识符数据库可用于在QGIS中指定CRS。您可以在[http://www.epsg-registry.org/](http://www.epsg-registry.org/)了解更多关于EPSG地理参数数据集的信息。
- en: Loading GPS data
  id: totrans-135
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 加载GPS数据
- en: As GPS receivers became portable and relatively cheap, GPS tracking became a
    ubiquitous and widely used technique of collecting data during a field survey,
    or simply tracking your own routes while running or cycling. Depending on the
    receiver's capabilities, in addition to spatial coordinates, a lot of information
    can be registered and written—for example, time, elevation, and so on. Registered
    information is stored in points that represent location changes (way, track, or
    route points), a planned route (if it exists), and a track of movement. There
    are numerous formats for storing GPS data. As primary data format, QGIS uses the
    standard interchange **GPX** (**GPS eXchange**) format.
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 随着GPS接收器变得便携且相对便宜，GPS跟踪成为在野外调查期间收集数据的一种普遍和广泛使用的技巧，或者在跑步或骑自行车时简单地跟踪自己的路线。根据接收器的功能，除了空间坐标外，还可以注册和写入大量信息——例如，时间、海拔等。注册的信息存储在代表位置变化的点（路径、轨迹或路线点）、（如果存在）计划路线以及移动轨迹中。存储GPS数据有多种格式。作为主要数据格式，QGIS使用标准的交换**GPX**（**GPS交换**）格式。
- en: We will load the `nyc_marathon.gpx` file from our dataset. You can load a `.gpx`
    file as a vector layer by going to **Layer** | **Add Layer** | **Add Vector Layer**,
    by clicking on the relevant button ![Loading GPS data](img/image00286.jpeg) in
    the **Manage Layers** toolbar, or by using the *Ctrl* + *Shift* + *V* keyboard
    shortcut. Go to the data directory and apply the **GPS eXchange format (GPX)**
    file type filter. Select the file (or files) you want to add and click on **Open**.
    Alternatively, you can drag and drop files from the **Browser** panel.
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将从数据集中加载`nyc_marathon.gpx`文件。您可以通过前往**图层** | **添加图层** | **添加矢量图层**，点击**管理图层**工具栏中的相关按钮
    ![加载GPS数据](img/image00286.jpeg)，或者使用*Ctrl* + *Shift* + *V*键盘快捷键来加载一个`.gpx`文件作为矢量图层。转到数据目录并应用**GPS交换格式（GPX）**文件类型过滤器。选择您想要添加的文件（或文件），然后点击**打开**。或者，您可以从**浏览器**面板拖放文件。
- en: '![Loading GPS data](img/image00293.jpeg)'
  id: totrans-138
  prefs: []
  type: TYPE_IMG
  zh: '![加载GPS数据](img/image00293.jpeg)'
- en: As GPS data consists of points, routes, and tracks, the window pops up where
    you choose exactly which feature you want to open. You can select one or more
    features by clicking on a row and holding down the *Ctrl* key. If you are not
    sure exactly which feature you need, use **Select All**. Every feature type will
    be presented in a separate layer. By turning layers on and off, you can check
    whether they contain data or not; for example, the file we work with contains
    only tracks and track points. You can remove unnecessary empty layers by right-clicking
    on the layer contextual shortcut **Remove**.
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 由于GPS数据由点、路线和轨迹组成，窗口会弹出，让您选择您想要打开的确切要素。您可以通过点击一行并按住*Ctrl*键来选择一个或多个要素。如果您不确定需要哪个要素，请使用**全选**。每种要素类型都会在单独的图层中呈现。通过打开和关闭图层，您可以检查它们是否包含数据；例如，我们正在处理的文件只包含轨迹和轨迹点。您可以通过右键点击图层上下文快捷方式**删除**来移除不必要的空图层。
- en: Note
  id: totrans-140
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: Advanced options for working with GPS data are available through the **GPS Tools**
    core plugin. After activation, the plugin functions can be accessed by navigating
    to **Vector** | **GPS** | **GPS Tools**, or from the ![Loading GPS data](img/image00294.jpeg)
    button on the **Vector toolbar** panel.
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 通过**GPS Tools**核心插件可以访问处理GPS数据的高级选项。激活后，可以通过导航到**向量** | **GPS** | **GPS Tools**或从**向量工具栏**面板上的![加载GPS数据](img/image00294.jpeg)按钮访问插件功能。
- en: Getting OpenStreetMap data
  id: totrans-142
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 获取OpenStreetMap数据
- en: '**OpenStreetMap** (**OSM**) is a crowdsourcing project aimed at the development
    of an open map of the world. Worldwide, the OSM community uses high-resolution
    remote sensing imagery, GPS surveying, and local knowledge to make the map as
    accurate and detailed as possible. As the OSM data is licensed under Open Data
    Commons'' **Open Database License** (**ODbL**), it has recently become a widely
    used source of spatial data. Understanding the importance of unrestricted access
    to spatial data, QGIS supports OSM, providing integrated access and support for
    its data.'
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: '**OpenStreetMap** (**OSM**)是一个旨在开发世界开放地图的众包项目。全球范围内，OSM社区使用高分辨率遥感影像、GPS测量和当地知识来制作尽可能精确和详细的地图。由于OSM数据根据Open
    Data Commons的**开放数据库许可**(**ODbL**)许可，它最近已成为广泛使用的空间数据来源。理解无限制访问空间数据的重要性，QGIS支持OSM，提供对其数据的集成访问和支持。'
- en: The QGIS core functionality is available from the **OpenStreetMap** menu under
    **Vector**. Here, you can find all the required tools to download the data and
    export it into conventional spatial data formats, but if you are new to the QGIS
    and OSM data concepts, you may find the process tedious. This is why we recommend
    that you use external **QuickOSM** plugin capabilities to download the OSM data.
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: QGIS的核心功能可以从**向量**菜单下的**OpenStreetMap**访问。在这里，你可以找到所有下载数据并将其导出为传统空间数据格式的所需工具，但如果你是QGIS和OSM数据概念的初学者，可能会觉得这个过程很繁琐。这就是为什么我们建议你使用外部**QuickOSM**插件功能来下载OSM数据。
- en: After installation as described in the *Extending functionality through plugins*
    section, the plugin's main functionality can be accessed by going to **Web** |
    **QuickOSM** | **QuickOSM**. The **Quick query** tab of the main window contains
    everything you need to perform a query and get the data into QGIS. First, define
    a `key=value` pair from the drop-down lists, or just type it in manually.
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: 如同在*通过插件扩展功能*部分所述安装后，可以通过访问**Web** | **QuickOSM** | **QuickOSM**来访问插件的主要功能。主窗口的**快速查询**标签页包含了执行查询并将数据导入QGIS所需的所有内容。首先，从下拉列表中定义一个`key=value`对，或者手动输入它。
- en: Note
  id: totrans-146
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: It can be quite difficult to select the appropriate tags for the first time
    if you are not familiar with the OSM tagging system. Each tag is a `key=value`
    pair that describes some point, linear, or polygonal feature. The key describes
    a broad class (for example, amenities), while the value gives the details (bank,
    cinema, café, bicycle parking, and so on). Use the **Help with key/value** button
    to know more about tagging from the OSM wiki page at [http://wiki.openstreetmap.org/wiki/Mapfeatures](http://wiki.openstreetmap.org/wiki/Mapfeatures).
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你不熟悉OSM标记系统，第一次选择合适的标记可能相当困难。每个标记都是一个描述某些点、线性或多边形特征的`key=value`对。键描述了一个广泛的类别（例如，便利设施），而值提供了详细信息（银行、电影院、咖啡馆、自行车停车区等）。使用**帮助键/值**按钮可以了解更多关于从OSM维基页面[http://wiki.openstreetmap.org/wiki/Mapfeatures](http://wiki.openstreetmap.org/wiki/Mapfeatures)的标记信息。
- en: Then, set up the area of interest extent by location name, map canvas, or layer.
    If the layer drop-down list is inactive, click on the ![Getting OpenStreetMap
    data](img/image00295.jpeg) button beside it to refresh it. In the **Advanced**
    section, you can turn on/off different geometry types. By default, all geometry
    types are turned on, so all the relevant points, lines, and polygons will be downloaded.
    Browse to the directory you want to save the data in. In the following screenshot,
    you can see the example of the QuickOSM query used to download bicycle parking
    point data.
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，通过位置名称、地图画布或图层设置感兴趣区域的范围。如果图层下拉列表不可用，点击其旁边的![获取OpenStreetMap数据](img/image00295.jpeg)按钮来刷新它。在**高级**部分，你可以开启/关闭不同的几何类型。默认情况下，所有几何类型都是开启的，因此所有相关的点、线和多边形都将被下载。浏览到你想保存数据的目录。在下面的屏幕截图中，你可以看到使用QuickOSM查询下载自行车停车点数据的示例。
- en: '![Getting OpenStreetMap data](img/image00296.jpeg)'
  id: totrans-149
  prefs: []
  type: TYPE_IMG
  zh: '![获取OpenStreetMap数据](img/image00296.jpeg)'
- en: Tip
  id: totrans-150
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 小贴士
- en: If you are familiar with the **Overpass API** query language, you can click
    on **Show query** or the **Query** tab to modify the initial query.
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你熟悉**Overpass API**查询语言，可以点击**显示查询**或**查询**选项卡来修改初始查询。
- en: After clicking on the **Run query** button, the shapefile with the data will
    be loaded into the map canvas.
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 点击**运行查询**按钮后，包含数据的shapefile将被加载到地图画布上。
- en: Dealing with projections
  id: totrans-153
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 处理投影
- en: Projections define how real-world objects on the curved surface of the earth
    will be flattened and projected on a map-like planar surface. Different data sources
    are usually created and distributed in different projections, depending on acquisition
    techniques and the scope of application. To be able to manipulate and analyze
    them properly in QGIS, it is important to understand how it interprets and manages
    information about projections.
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: 投影定义了地球曲面上现实世界对象如何被展平和投影到类似平面的地图上。不同的数据源通常在不同的投影中创建和分发，这取决于获取技术和应用范围。为了能够在QGIS中正确地操作和分析它们，理解它如何解释和管理投影信息非常重要。
- en: 'QGIS supports about 2,700 CRS. They constitute a database, each item of which
    is described by an **ESPG identifier**, and a description line in the format of
    the **PROJ.4** projection library. To store and read information about projection,
    QGIS uses its own format stored in `.qpj` files. There are two important points
    to keep in mind while working with projections: a data source projection and project
    projection—which are not always the same.'
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: QGIS支持大约2,700个CRS。它们构成一个数据库，每个项目都由一个**ESPG标识符**和一个描述行来描述，该描述行遵循**PROJ.4**投影库的格式。为了存储和读取有关投影的信息，QGIS使用其自有的格式存储在`.qpj`文件中。在处理投影时，有两个重要点需要记住：数据源投影和项目投影——它们并不总是相同的。
- en: Data source projection
  id: totrans-156
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 数据源投影
- en: 'When you load your data into QGIS, it tries to automatically define information
    about the projection from the accompanying projection description file and set
    it to a newly added layer. You can check the layer''s projection information in
    the **Layer Properties** dialog. To open it, double-click on the layer name in
    **Layers** panel, or use the right-click contextual shortcut **Properties**. Information
    about the projection is shown in the **Coordinate reference system** section of
    the **General** tab, like this:'
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 当你将数据加载到QGIS中时，它会尝试自动从随附的投影描述文件中定义投影信息，并将其设置为新添加的图层。你可以在**图层属性**对话框中检查图层的投影信息。要打开它，在**图层**面板中双击图层名称，或使用右键上下文快捷方式**属性**。投影信息显示在**常规**选项卡的**坐标参考系统**部分，如下所示：
- en: '![Data source projection](img/image00297.jpeg)'
  id: totrans-158
  prefs: []
  type: TYPE_IMG
  zh: '![数据源投影](img/image00297.jpeg)'
- en: 'There are numerous projection description file formats, and they mostly depend
    on the data format and origin. One of the most common among them is a `.prj` file.
    This file format sometimes provides information about the projection in a reduced
    form, and QGIS cannot define it properly. If information about the projection
    is absent or incomplete, you will see that the projection description is missing
    or looks like this: `USER:100000 - * Generated CRS (+proj=etc.)`. It means that
    QGIS didn''t find an appropriate projection within its own database and added
    it as a custom CRS. If you are sure that the projection is standard but QGIS fails
    to interpret it properly because of a reduced description, specify it manually.
    There are different ways to assess the **Coordinate Reference System Selector**
    dialog as follows:'
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: 存在着许多投影描述文件格式，它们大多取决于数据格式和来源。其中最常见的一种是`.prj`文件。这种文件格式有时以简化的形式提供有关投影的信息，而QGIS无法正确定义它。如果缺少或信息不完整，你会看到投影描述缺失或看起来像这样：`USER:100000
    - * 生成CRS (+proj=etc.)`。这意味着QGIS在其数据库中没有找到合适的投影，并将其作为自定义CRS添加。如果你确信该投影是标准的，但QGIS由于简化的描述而无法正确解释它，请手动指定它。评估**坐标参考系统选择器**对话框有不同的方法如下：
- en: Double-click on the layer name in **Layers** panel to open the **Layer Properties**
    dialog. Under the **General** tab, click on the **Select CRS** button ![Data source
    projection](img/image00298.jpeg) to select the necessary CRS from the **Coordinate
    reference system selector** dialog window.
  id: totrans-160
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在**图层**面板中双击图层名称以打开**图层属性**对话框。在**常规**选项卡下，点击**选择CRS**按钮 ![数据源投影](img/image00298.jpeg)
    从**坐标参考系统选择器**对话框窗口中选择必要的CRS。
- en: By going to **Layer** | **Set CRS of Layer(s)**.
  id: totrans-161
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过转到**图层** | **设置图层(s)的CRS**。
- en: Using the *Ctrl* + *Shift* + *C* keyboard shortcut.
  id: totrans-162
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用*Ctrl* + *Shift* + *C*键盘快捷键。
- en: By right-clicking on the layer shortcut **Set Layer CRS**.
  id: totrans-163
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: In the **Coordinate reference system selector** dialog, choose the necessary
    CRS from the list and click on **OK**. Note that you can use a filter by key words
    or the EPSG code to hide unnecessary projections. With time, often used projections
    will be added to the list of the recently used CRS.
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
- en: Note
  id: totrans-165
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: If QGIS doesn't define a projection for your data automatically and you are
    not sure about projection name and EPSG code, use the Prj2EPSG website at [http://prj2epsg.org/](http://prj2epsg.org/).
    In this service, you just need to upload your `.prj` file, and well-known text
    projection information from it will be converted into standard EPSG code.
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
- en: Note that specifying the projection manually from the **Properties** dialog
    is a temporary solution; it does not persist after closing a file and/or exiting
    QGIS. This means that whenever you are loading this file into QGIS, you will have
    to specify the projection again. If you are going to work with the file in other
    projects, it is better to use the **Define Current Projection** tool by going
    to **Vector** | **Data Management Tools** | **Define Current Projection**. In
    this dialog, you can choose a predefined spatial reference system from the **Coordinate
    reference system Selector** dialog or **Import spatial reference system from existing
    layer** with a known CRS. In both the cases, the existing `.prj` file will be
    overwritten by QGIS with all the necessary parameters, and you will not have to
    adjust the projection manually next time.
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
- en: '![Data source projection](img/image00299.jpeg)'
  id: totrans-168
  prefs: []
  type: TYPE_IMG
- en: All of this is true when you import files from external sources. If you create
    a shapefile in QGIS, both `.prj` and `.qpj` files are created, so you don't need
    to define the projection manually. The files projection will be interpreted correctly
    in the other GIS applications that read it from `.prj` files.
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
- en: 'You can also maintain QGIS behavior when loading or creating a new layer that
    has no CRS information by going to **Settings** | **Options** | **CRS**, where
    three alternatives of CRS for new layers are available:'
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
- en: '**Prompt for CRS**: In this case, you will always be asked to manually specify
    the CRS for the layer.'
  id: totrans-171
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '**Use project CRS**: The data will be automatically assigned a CRS set for
    a project. This is a convenient choice if you are using files in the same projection,
    but if their projection differs from what is specified, you will not be able to
    see them.'
  id: totrans-172
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '**Use default CRS displayed below**: Conventionally, **EPSG:4326 - WGS 84**
    is used, but you can specify your own choice.'
  id: totrans-173
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Working with projections can be tricky, unless you recognize the difference
    between the **specify** and **define projection** options. It's all about assigning
    information about the projection properly, but when you specify it, the result
    is temporary within a current working session. Once you define a projection, it
    becomes permanent unless redefined again. In both cases, if you choose the wrong
    projection, you will not be able to see your data on the map (at least in the
    area where you expect it to be). Usually it is good practice to specify the projection
    at first, comparing your data to the correctly projected dataset. If everything
    is okay, define it to make projection assignment permanent.
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: 与投影一起工作可能会很棘手，除非你认识到**指定**和**定义投影**选项之间的区别。这全部关于正确分配投影信息，但当你指定它时，结果在当前工作会话中是临时的。一旦你定义了一个投影，除非重新定义，否则它将变得永久。在这两种情况下，如果你选择了错误的投影，你将无法在地图上看到你的数据（至少在你期望它出现的地方）。通常，首先指定投影是一个好习惯，将你的数据与正确投影的数据集进行比较。如果一切正常，定义它以使投影分配永久化。
- en: Project projection
  id: totrans-175
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 项目投影
- en: When you load QGIS, its map canvas projection is, by default, set to **EPSG:4326
    – WGS 84**. This behavior is defined by the global default projection, which can
    be changed by going to **Settings** | **Options** | **CRS** | **Always start new
    projects with this CRS**.
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: 当你加载QGIS时，其地图画布投影默认设置为**EPSG:4326 – WGS 84**。这种行为由全局默认投影定义，可以通过访问**设置** | **选项**
    | **坐标参考系统** | **始终以此CRS开始新项目**来更改。
- en: 'However, when you start adding data, projection identifier automatically changes
    to the projection of the first loaded layer. So, by default, project projection
    is defined by the first loaded layer. Data source projection and project projection
    are not always the same. If they are different, QGIS can apply the so-called **on-the-fly
    transformation**. This means that it reads the data projection, and if it differs,
    automatically aligns it with the project projection, applying the necessary transformations.
    There are a few ways to specify the projection for the project and enable on-the-fly
    transformation:'
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，当你开始添加数据时，投影标识符会自动更改为第一个加载层的投影。因此，默认情况下，投影投影是由第一个加载层定义的。数据源投影和投影投影并不总是相同的。如果它们不同，QGIS可以应用所谓的**即时转换**。这意味着它会读取数据投影，如果它不同，会自动将其与项目投影对齐，并应用必要的转换。有几种方法可以指定项目的投影并启用即时转换：
- en: By going to **Project** | **Project Properties** | **CRS**.
  id: totrans-178
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过访问**项目** | **项目属性** | **坐标参考系统**。
- en: Click on the **Current CRS**![Project projection](img/image00278.jpeg) button
    on the **Status** bar, and activating **Enable 'on the fly' CRS transformation**
    in the **Project properties** | **CRS** window.
  id: totrans-179
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 点击**状态栏**上的**当前CRS**![项目投影](img/image00278.jpeg)按钮，并在**项目属性** | **坐标参考系统**窗口中激活**启用'即时'CRS转换**。
- en: Go to **Settings** | **Options** | **CRS** | **Default CRS for new projects**.
    Activate either **Automatically enable 'on the fly' reprojection if layers have
    different CRS** or **Enable 'on the fly' reprojection by default**.
  id: totrans-180
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 前往**设置** | **选项** | **坐标参考系统** | **新项目的默认CRS**。激活**如果图层具有不同的CRS则自动启用'即时'重投影**或**默认启用'即时'重投影**。
- en: In the last way, the difference is very subtle and is mainly obvious when adding
    the first layer to the project. In the case of automatically enabled reprojection,
    the default map canvas CRS will be superseded by the first layer projection, and
    the following layers will be automatically adjusted to it too. In the case of
    reprojection by default, all layers will be reprojected into the project initial
    CRS (this is usually default global projection, unless you've changed it).
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: 在最后一种方法中，区别非常微妙，主要在添加第一个图层到项目时才会明显。在自动启用重投影的情况下，默认地图画布CRS将被第一个图层投影取代，后续图层也将自动调整到它。在默认重投影的情况下，所有图层都将重新投影到项目的初始CRS（这通常是默认的全局投影，除非你已更改它）。
- en: After on-the-fly transformation is enabled, you will see an **OTF** abbreviation
    near the current CRS on the status bar, and the icon will become solid.
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: 启用即时转换后，你将在状态栏上的当前CRS附近看到**OTF**缩写，图标将变为实心。
- en: If you want to quickly change the project CRS according to a specific layer
    in the **Layers** panel, right-click on a layer and choose the **Set Project CRS
    from Layer** shortcut.
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你想要根据**图层**面板中的特定图层快速更改项目CRS，请右键单击一个图层并选择**从图层设置项目CRS**快捷方式。
- en: Loading layers to a spatial database
  id: totrans-184
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 将图层加载到空间数据库
- en: 'Now that we have loaded all of the available data into QGIS, let''s aggregate
    it into a single database. QGIS supports working with various database management
    systems and their spatial extensions (PostgreSQL/PostGIS, Oracle Spatial/GeoRaster,
    MSSQL Spatial, SQL Anywhere, and SQLite/SpatiaLite). Among them, PostGIS and SpatiaLite
    are the ones you have probably already heard about. Being common, these spatial
    databases are usually used for different purposes. PostGIS is an example of an
    enterprise solution used mostly on a server to provide spatial data maintenance
    and access for multiple users. SpatiaLite is a lightweight file database for personal
    use. Usage of SpatiaLite database has a number of advantages as follows:'
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们已经将所有可用数据加载到QGIS中，让我们将其聚合到一个单一数据库中。QGIS支持与各种数据库管理系统及其空间扩展（PostgreSQL/PostGIS、Oracle
    Spatial/GeoRaster、MSSQL Spatial、SQL Anywhere和SQLite/SpatiaLite）一起工作。其中，PostGIS和SpatiaLite可能是你已经听说过的。作为常见的空间数据库，它们通常用于不同的目的。PostGIS是一个企业级解决方案的例子，主要用于服务器上，为多个用户提供空间数据维护和访问。SpatiaLite是一个轻量级的个人使用文件数据库。使用SpatiaLite数据库具有以下优点：
- en: All of the data is stored in a single, portable file, and you don't get overwhelmed
    by different file types (for example, `.shp`, `.dbf`, `.shx`, `.prj`, `.qpj`,
    and so on)
  id: totrans-186
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 所有数据都存储在一个单一、便携的文件中，你不会因为不同文件类型（例如，`.shp`, `.dbf`, `.shx`, `.prj`, `.qpj`等）而感到混乱。
- en: Shapefile limitations for size (up to 2 GB) and field name length (10 characters)
    can be omitted
  id: totrans-187
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Shapefile的大小限制（最多2 GB）和字段名称长度（10个字符）可以忽略。
- en: Built-in spatial indices allow you to perform searches for large areas faster
  id: totrans-188
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 内置的空间索引允许你更快地执行大范围搜索。
- en: This is a real relational database in a single format that allows you to use
    various spatial functions and SQL-based workflows
  id: totrans-189
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 这是一个真正的单一格式的数据库，允许你使用各种空间函数和基于SQL的工作流程。
- en: 'Perform the following steps to assemble your data into a single SpatiaLite
    database:'
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: 执行以下步骤将你的数据组装成一个单一的SpatiaLite数据库：
- en: First of all, you need to create an empty spatial database to load your data
    into. You can do this from the **Browser** panel. Right-click on the **SpatiaLite**
    entry and choose the **Create database** shortcut. Specify the folder and a `.sqlite`
    database file name. You will get the **The database has been created** message.
    Now you can expand the entry and see your newly created empty database.
  id: totrans-191
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 首先，你需要创建一个空的空间数据库来加载你的数据。你可以从**浏览器**面板中这样做。右键单击**SpatiaLite**条目并选择**创建数据库**快捷方式。指定文件夹和`.sqlite`数据库文件名。你将得到**数据库已创建**的消息。现在你可以展开条目并看到你新创建的空数据库。
- en: We will use the DB Manager core plugin that provides a single interface to work
    with different databases to load the data. The plugin functionality is accessible
    by going to **Database** | **DB Manger**. On the left side of the window, you
    can see a tree list of available database connections grouped by type. Once created,
    your database will automatically be available under the **SpatiaLite** item, and
    you can connect to it by double-clicking. When the connection is established,
    you will see general information about the database or its selected items in the
    **Info** tab on the right side of the window. To import files into the database,
    click on the **Import layer/file** button ![Loading layers to a spatial database](img/image00300.jpeg),
    or access it from the **Table** menu.![Loading layers to a spatial database](img/image00301.jpeg)
  id: totrans-192
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们将使用提供与不同数据库交互的单个界面的DB Manager核心插件来加载数据。可以通过转到**数据库** | **DB Manger**来访问插件功能。在窗口的左侧，你可以看到一个按类型分组的可用数据库连接的树状列表。一旦创建，你的数据库将自动在**SpatiaLite**项下可用，你可以通过双击来连接它。当连接建立后，你将在窗口右侧的**信息**选项卡中看到有关数据库或其选定项的一般信息。要将文件导入数据库，请单击**导入图层/文件**按钮
    ![将图层加载到空间数据库](img/image00300.jpeg)，或从**表**菜单访问它。![将图层加载到空间数据库](img/image00301.jpeg)
- en: In the opened **Import vector layer** window, you should define the layer you
    want to import. It could be one of the already loaded layers available in the
    **Input** drop-down list, or the layer you choose from the filesystem by clicking
    on the browse button **...**. Then, define the **Output table** name (in our case,
    it is `ny_boroughs`, the same as the input).![Loading layers to a spatial database](img/image00302.jpeg)
  id: totrans-193
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在打开的**导入矢量图层**窗口中，你应该定义你想要导入的图层。它可以是**输入**下拉列表中可用的已加载图层之一，或者你可以通过单击浏览按钮**...**从文件系统中选择图层。然后，定义**输出表**名称（在我们的例子中，它是`ny_boroughs`，与输入相同）。![将图层加载到空间数据库](img/image00302.jpeg)
- en: 'The following options allow you to exercise more control over your data:'
  id: totrans-194
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 以下选项允许你更精细地控制你的数据：
- en: '**Primary key**: If this is not specified, the field will be named `pk` by
    default'
  id: totrans-195
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**主键**：如果没有指定，字段将默认命名为`pk`'
- en: '**Geometry column**: If this is not specified, the field will be named `geom`
    by default'
  id: totrans-196
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**几何列**：如果没有指定，字段将默认命名为`geom`'
- en: '**Source SRID** and **Target SRID**: These are CRS EPSG codes read from the
    data, but you can specify them manually if the data isn''t accompanied by projection
    files, or if you want to reproject it before loading it to the database'
  id: totrans-197
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**源SRID**和**目标SRID**：这些是从数据中读取的CRS EPSG代码，但如果你没有投影文件，或者你想在将数据加载到数据库之前重新投影它，你可以手动指定它们'
- en: '**Encoding**: If not specified, the dataset charset is set to **UTF-8** by
    default'
  id: totrans-198
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**编码**：如果没有指定，数据集字符集默认设置为**UTF-8**'
- en: '**Drop existing table**: If you import a table with the same name as a previously
    existing table, it will be replaced by the new table'
  id: totrans-199
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**删除现有表**：如果你导入一个与先前存在的表具有相同名称的表，它将被新表替换'
- en: '**Create single-part geometries instead of multipart**: Multipart features
    will be disaggregated into single-part geometries before loading to the database'
  id: totrans-200
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**创建单部分几何而不是多部分几何**：在将多部分要素加载到数据库之前，将它们分解为单部分几何'
- en: '**Create spatial index**: A spatial index that allows faster spatial search
    and query performance will be created'
  id: totrans-201
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**创建空间索引**：将创建一个空间索引，它允许更快的空间搜索和查询性能'
- en: After hitting **OK** and waiting a little (depending on the file size, the process
    may take some time), you will get the `Import was successful` message. To explore
    the imported table click on the **Refresh** button ![Loading layers to a spatial
    database](img/image00303.jpeg), and you will see a geometry table in the list
    of database items. From the **Info** tab, you can view information about table,
    geometry type, fields, and triggers. The **Table** tab displays data in a tabular
    form, and the **Preview** tab displays spatial geometry, if any. By right-clicking
    on any element, you can delete, rename, or add it to the map canvas. All other
    opened layers can be loaded in a similar way.
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: 点击**确定**并稍等片刻（根据文件大小，此过程可能需要一些时间），你将看到“导入成功”的消息。要探索导入的表，请点击**刷新**按钮 ![将图层加载到空间数据库中](img/image00303.jpeg)，你将在数据库项目列表中看到一个几何表。从**信息**选项卡，你可以查看有关表、几何类型、字段和触发器的信息。**表**选项卡以表格形式显示数据，而**预览**选项卡显示空间几何（如果有）。通过右键单击任何元素，你可以删除、重命名或将其添加到地图画布上。所有其他打开的图层都可以以类似的方式加载。
- en: '![Loading layers to a spatial database](img/image00304.jpeg)'
  id: totrans-203
  prefs: []
  type: TYPE_IMG
  zh: '![将图层加载到空间数据库中](img/image00304.jpeg)'
- en: Note
  id: totrans-204
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: Aside from the core functionality, there is an external plugin called **QSpatiaLite**
    that is specially designed to support work with SpatiaLite databases. After installation,
    it will be available when you navigate to **Database** | **SpatiaLite** | **QSpatiaLite**.
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: 除了核心功能之外，还有一个名为**QSpatiaLite**的外部插件，专门设计用于支持与SpatiaLite数据库一起工作。安装后，当你导航到**数据库**
    | **SpatiaLite** | **QSpatiaLite**时，它将可用。
- en: Summary
  id: totrans-206
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: For now, we have covered a few introductory topics and completed several tasks.
    First of all, you learned how to install QGIS, configure its interface, and extend
    functionalities with plugins. Then we discussed common data sources you can use
    to get data into QGIS. You are now capable of exploring and managing data in different
    projections. Last but not least, you imported all your data into a portable, lightweight
    SpatiaLite database file.
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
  zh: 到目前为止，我们已经介绍了一些入门主题并完成了几个任务。首先，你学习了如何安装QGIS、配置其界面以及通过插件扩展功能。然后我们讨论了你可以用来将数据导入QGIS的常见数据源。你现在能够探索和管理不同投影的数据。最后但同样重要的是，你将所有数据导入了一个便携式、轻量级的SpatiaLite数据库文件。
- en: In the next chapter, we will move forward and reveal QGIS's potential for data
    visualization.
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一章中，我们将继续前进，揭示QGIS在数据可视化方面的潜力。
