- en: 3D Maps and 3D Analyst
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 3D 地图和 3D 分析师
- en: 'In this chapter, we will cover the following recipes:'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将介绍以下食谱：
- en: Creating a 3D scene
  id: totrans-2
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 创建 3D 场景
- en: Enabling your data to store Z (elevations)
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 启用数据存储 Z（高程）
- en: Creating Multipatch features from 2D
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从 2D 创建 Multipatch 特征
- en: Creating 3D features
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 创建 3D 特征
- en: Calculating the volume of a polygon
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 计算多边形的体积
- en: Introduction
  id: totrans-7
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 简介
- en: Since its beginnings over 50 years ago, GIS has relied on 2D maps. They were
    what we created and where we performed all our analyses. Recently, this is changing.
    More and more, we are having to take the third dimension, Z, into account. This
    is because the world is becoming more crowded. Our infrastructure is stacking
    up upon itself, both above ground and below. So, the need to track and view data
    in 3D is increasing. Supporting technologies, such as **Light Detection and Ranging**
    (**LiDAR**), **Unmanned Aerial Vehicles** (**Drones/UAS/UAV**), and increasing
    computer power are also adding to this push.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 从其 50 多年前的起源以来，GIS 一直依赖于 2D 地图。它们是我们创建和执行所有分析的地方。最近，这种情况正在改变。我们越来越多地需要考虑第三维，Z。这是因为世界变得越来越拥挤。我们的基础设施在地面以上和以下都堆叠起来。因此，跟踪和以
    3D 形式查看数据的需求正在增加。支持技术，如 **光探测与测距**（**LiDAR**）、**无人机**（**Drones/UAS/UAV**）以及计算机能力的提高，也在推动这一趋势。
- en: As you have seen if you have completed previous recipes in this book, ArcGIS
    Pro is a very powerful tool for visualizing and analyzing data. However, up to
    this point, we have been working in a 2D environment. While we can do a lot in
    2D, it does have limitations because we live in a 3D world. ArcGIS Pro brings
    new 3D capabilities to the table that we have not had in previous desktop GIS
    applications. It natively supports the 3D viewing, querying, and limited analysis
    of data. When you add the 3D Analyst extension, then you open up a whole new world
    of possibilities.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 如您在完成本书前面的食谱时所见，ArcGIS Pro 是一种非常强大的可视化和分析数据工具。然而，到目前为止，我们一直在 2D 环境中工作。虽然我们可以在
    2D 中做很多事情，但它确实有限制，因为我们生活在一个 3D 世界中。ArcGIS Pro 带来了我们之前桌面 GIS 应用程序中没有的新 3D 功能。它原生支持数据的
    3D 查看、查询和有限分析。当您添加 3D Analyst 扩展时，您就打开了全新的可能性世界。
- en: 'Working in 3D provides much better ways to view and manage our infrastructure.
    We can begin to see the true spatial relationships between the features we are
    maintaining, viewing, and analyzing. ArcGIS Pro allows you to create 3D Maps,
    called **Scenes**, using the core application, as illustrated here:'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 在 3D 中工作提供了更好的查看和管理我们基础设施的方法。我们可以开始看到我们维护、查看和分析的特征之间的真实空间关系。ArcGIS Pro 允许您使用核心应用程序创建
    3D 地图，称为 **场景**，如下所示：
- en: '![](img/aa527a58-7554-4525-92dd-0b1eca5da934.png)'
  id: totrans-11
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/aa527a58-7554-4525-92dd-0b1eca5da934.png)'
- en: The preceding scene was created using ArcGIS Pro. You can see the buildings,
    power poles, light poles, and fire hydrants, all depicted in 3D. This allows you
    to see things such as whether a building will be in the way of a power line or
    whether a building will cast a shadow over an area that might prevent certain
    species of plants from growing. If you add the 3D Analyst extension, then you
    can begin to calculate the slope of road or pipe, determine whether one building
    might block the view from another, and more.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 前一场景是使用 ArcGIS Pro 创建的。您可以看到建筑物、电线杆、路灯和消防栓，所有这些都以 3D 形式呈现。这使您能够看到诸如建筑物是否会挡住电线，或者建筑物是否会投射阴影，从而阻止某些植物生长的区域等问题。如果您添加了
    3D Analyst 扩展，那么您就可以开始计算道路或管道的坡度，确定一栋建筑是否可能阻挡另一栋建筑的视线，等等。
- en: 'Don’t limit your 3D thinking or displays to infrastructure. Any data can be
    displayed in 3D. This opens up a whole new way to look at your data, as illustrated
    in the following maps:'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 不要将您的 3D 思维或显示限制在基础设施上。任何数据都可以以 3D 形式显示。这为您提供了全新的数据查看方式，如下面的地图所示：
- en: '![](img/080aea89-33fd-40d8-b1fa-f0f8b4bbae33.png)'
  id: totrans-14
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/080aea89-33fd-40d8-b1fa-f0f8b4bbae33.png)'
- en: As you can see, these two maps have nothing to do with infrastructure. Instead
    they are highlighting areas with higher and lower values. The use of 3D makes
    those areas with higher and lower values stand out visually even more so than
    using traditional symbology. These maps also illustrate that you can combine traditional
    categorical and quantitative symbology with 3D to produce even more impactful
    maps. This capability is included in the core functionality of ArcGIS Pro.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 如您所见，这两张地图与基础设施无关。相反，它们突出显示具有更高和更低值的区域。3D的使用使得这些具有更高和更低值的区域在视觉上更加突出，甚至比使用传统符号更加明显。这些地图还说明，您可以将传统的分类和定量符号与3D结合使用，以产生更具影响力的地图。这种功能包含在ArcGIS
    Pro的核心功能中。
- en: '*What if I need to do more than visualize data in 3D? What if I need to analyze
    the data so that I can make use of elevational or height information?* Well, we
    have already hinted at that. Esri has an extension for ArcGIS Pro called **3D
    Analyst**. This extension greatly enhances ArcGIS Pro’s ability to work within
    3D. The 3D Analyst extension adds a new toolbox to your arsenal that contains
    11 toolsets and over 100 tools for creating, converting, and analyzing 3D data.
    The 3D Analyst extension is not part of the core ArcGIS Pro product. It must be
    purchased as an additional license. However, it will work with all license levels
    of ArcGIS Pro. To learn more about the 3D Analyst extension, go to [https://www.esri.com/software/arcgis/extensions/3danalyst](https://www.esri.com/software/arcgis/extensions/3danalyst).'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: '*如果我需要做的不仅仅是可视化3D数据呢？如果我需要分析数据以便利用高程或高度信息呢？* 好吧，我们已经暗示过了。Esri为ArcGIS Pro提供了一个名为**3D
    Analyst**的扩展。这个扩展极大地增强了ArcGIS Pro在3D环境中的工作能力。3D Analyst扩展为您的工具箱添加了一个新的工具箱，其中包含11个工具集和100多个用于创建、转换和分析3D数据的工具。3D
    Analyst扩展不是ArcGIS Pro核心产品的一部分。它必须作为附加许可证购买。然而，它将与ArcGIS Pro的所有许可证级别兼容。要了解更多关于3D
    Analyst扩展的信息，请访问[https://www.esri.com/software/arcgis/extensions/3danalyst](https://www.esri.com/software/arcgis/extensions/3danalyst)。'
- en: In this chapter, you will get an opportunity to explore some of the 3D capabilities
    of ArcGIS Pro. You will start by creating a 3D scene. Then you will learn how
    you can enable your features classes to store Z coordinates like it does *x* and
    *y*. Then you will move on to more advanced concepts and begin to make use of
    the 3D Analyst extension.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，您将有机会探索ArcGIS Pro的一些3D功能。您将从创建一个3D场景开始。然后您将学习如何使您的要素类存储Z坐标，就像它存储*x*和*y*一样。然后您将进入更高级的概念，并开始使用3D
    Analyst扩展。
- en: Creating a 3D scene
  id: totrans-18
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 创建3D场景
- en: As we said, ArcGIS Pro allows you to create 3D maps as part of its core functionality
    regardless of license level. So that is what you are about to do. In this scenario,
    you are working for an engineering firm that is working on a project to possibly
    turn a quarry into a water reservoir. The lead engineer on the project has asked
    you to create a 3D map of the area that he will use during a presentation to the
    client. This will help the client and engineer visualize the area as he creates
    his plan.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 正如我们所说，ArcGIS Pro允许您创建3D地图，这是其核心功能的一部分，无论许可证级别如何。所以您即将要做的事情就是如此。在这个场景中，您为一家工程公司工作，该公司正在处理一个可能将采石场改造成水库的项目。项目的首席工程师要求您创建一个3D地图，他将在向客户展示计划时使用。这将帮助客户和工程师在创建计划时可视化该区域。
- en: In ArcGIS Pro, a 3D map is called a **scene**. When creating a new 3D scene,
    one of the first things you need to determine is what data will serve as the ground
    surface. The ground surface becomes the canvas that all 2D layers are draped across.
    Yes, a 3D scene will include both 2D and 3D layers. Typical 2D layers might include
    an aerial photo, parcels, political boundaries, and natural water features. These
    often help put your 3D layers into context. The ground surface can also serve
    as the starting point for displaying the 3D layers. It may provide the starting
    elevation for those features. They are then extruded above or below that surface.
    Esri provides a terrain model that is the default ground surface for any new 3D
    scene. This model is a web service published through ArcGIS Online. You can also
    use your own elevation or terrain data. This can include a Digital Elevation Model
    (**DEM**), **Triangulated Irregular Network** (**TIN**), or other web services.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 在ArcGIS Pro中，3D地图被称为**场景**。在创建新的3D场景时，您需要确定的第一件事之一是哪些数据将作为地面。地面成为所有2D图层覆盖的画布。是的，3D场景将包括2D和3D图层。典型的2D图层可能包括航空照片、地块、政治边界和自然水特征。这些通常有助于将您的3D图层置于上下文中。地面也可以作为显示3D图层的起点。它可能为这些特征提供起始高程。然后它们从该表面向上或向下拉伸。Esri提供了一个地形模型，它是任何新3D场景的默认地面。此模型是通过ArcGIS
    Online发布的网络服务。您也可以使用您自己的高程或地形数据。这可以包括数字高程模型（**DEM**）、**不规则三角网**（**TIN**）或其他网络服务。
- en: In this recipe, you will create a simple 3D scene of the project area. This
    scene will include both 2D and 3D layers. You set the elevation source for the
    map that will serve as the ground surface. You will start all this by creating
    a new project that contains a local scene.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 在此配方中，您将创建一个简单的3D场景，该场景包含项目区域。此场景将包括2D和3D图层。您为地图设置高程源，该地图将作为地面。您将通过创建一个包含本地场景的新项目来开始所有这些操作。
- en: Getting ready
  id: totrans-22
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 准备工作
- en: This recipe requires the sample data to be installed on the computer. It is
    recommended that you complete the recipes from [Chapter 1](45fda239-2b00-4355-9553-6c6c2b69b0ab.xhtml),
    *ArcGIS Pro Capabilities and Terminology* before starting this recipe. This will
    ensure you have a better foundational understanding of how to add layers, set
    symbology, and navigate within a map. You can complete this recipe with any ArcGIS
    Pro licensing level.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 此配方需要将样本数据安装到计算机上。建议您在开始此配方之前完成[第1章](45fda239-2b00-4355-9553-6c6c2b69b0ab.xhtml)中的配方，*ArcGIS
    Pro功能与术语*。这将确保您对如何添加图层、设置符号和在地图内导航有更好的基础理解。您可以使用任何ArcGIS Pro许可级别完成此配方。
- en: It is also recommended that you verify your computer hardware is sufficient
    for working with 3D data. This requires more power than working with traditional
    2D Maps. It is recommended that you have at least an i5 or better processor with
    8 GB or more RAM (16 GB if you don’t have a dedicated video card), dedicated video
    card with **Graphics Processing Unit** (**GPU**), and both 4 GB video RAM and
    12 GB of free hard drive space. If you computer does not meet or exceed these
    specifications, you may have issues completing this and other recipes in this
    chapter.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 还建议您验证您的计算机硬件是否足够用于处理3D数据。这比处理传统的2D地图需要更多的功率。建议您至少有一个i5或更好的处理器，8GB或更多RAM（如果您没有专用显卡，则为16GB），专用显卡带有**图形处理单元**（**GPU**），以及4GB视频RAM和12GB的空闲硬盘空间。如果您的计算机不符合或超过这些规格，您可能无法完成此配方和其他章节中的其他配方。
- en: How to do it...
  id: totrans-25
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何操作...
- en: 'You will start by launching ArcGIS Pro as you have done in previous recipes.
    In the Create a new project panel located on the right side, select `Local_Scene.aptx`,
    as shown here:'
  id: totrans-26
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您将首先启动ArcGIS Pro，就像您在之前的配方中所做的那样。在右侧的创建新项目面板中，选择`Local_Scene.aptx`，如图所示：
- en: '![](img/c4e3d84e-af88-48a8-bab3-48e5cde952f6.png)'
  id: totrans-27
  prefs: []
  type: TYPE_IMG
  zh: '![](img/c4e3d84e-af88-48a8-bab3-48e5cde952f6.png)'
- en: In the Create a New Project window that appears, name your new project `3DAnalyst`.
  id: totrans-28
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在出现的创建新项目窗口中，将您的新项目命名为`3DAnalyst`。
- en: Click the Browse button at the end of the Location cell. Then in the left panel
    of the Select a folder to store the project window, click Computer.
  id: totrans-29
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击位置单元格末尾的浏览按钮。然后在选择文件夹以存储项目的窗口的左侧面板中，点击计算机。
- en: In the panel on the right, double-click the `C:` drive. It is sometimes labeled
    as OS or local drive.
  id: totrans-30
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在右侧的面板上，双击`C:`驱动器。有时它被标记为操作系统或本地驱动器。
- en: Scroll down and double-click the `Student` folder. Then repeat for the `ArcGISProCookbook`
    folder.
  id: totrans-31
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 滚动并双击`Student`文件夹。然后对`ArcGISProCookbook`文件夹重复此操作。
- en: Scroll down and select the `Chapter 10` folder. Do not double-click it. Once
    selected so that `Chapter10` appears as the Name, click OK.
  id: totrans-32
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 滚动并选择 `第 10 章` 文件夹。不要双击它。一旦选择，使得 `Chapter10` 显示为名称，点击确定。
- en: Remember, for this part of creating a new project, you are selecting the location
    where the new project will be stored, not what the project is being named. So
    you must select an existing folder on a local drive or network share. If you double-click
    instead of single-clicking to select, you will need to back up one folder. You
    can do that simply by clicking the Back button located in the left corner. It
    looks like an arrow inside a circle.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 记住，在这一部分创建新项目时，你是在选择新项目将存储的位置，而不是项目的名称。因此，你必须选择一个本地驱动器或网络共享上的现有文件夹。如果你双击而不是单击来选择，你需要回退一个文件夹。你可以通过点击位于左上角的“后退”按钮来完成。它看起来像是一个箭头在圆圈里面。
- en: 'Verify your Create a New Project window looks like the following and click
    OK:'
  id: totrans-34
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确认你的创建新项目窗口看起来如下，并点击确定：
- en: '![](img/55c846df-0465-42fc-8950-b6a77f6f9781.png)'
  id: totrans-35
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/55c846df-0465-42fc-8950-b6a77f6f9781.png)'
- en: You have just created a new project. This new project contains a single local
    scene. Now you will need to add data and folder connections to the project that
    you will need in order to add layers and access data.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 你刚刚创建了一个新项目。这个新项目包含一个单独的本地场景。现在你将需要向项目中添加数据和文件夹连接，以便添加图层和访问数据。
- en: In the Catalog pane, right-click the Folders folder and select Add Folder Connection.
  id: totrans-37
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在目录窗格中，右键单击文件夹文件夹并选择添加文件夹连接。
- en: 'In the panel on the left of the Add Folder Connection window, select Computer.
    Then double-click the C: drive.'
  id: totrans-38
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '在添加文件夹连接窗口的左侧面板中，选择计算机。然后双击 C: 驱动器。'
- en: Scroll down and double-click the Student folder.
  id: totrans-39
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 滚动并双击学生文件夹。
- en: Select the ArcGISProCookbook folder with a single click and click OK.
  id: totrans-40
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过单击选择 ArcGISProCookbook 文件夹并点击确定。
- en: Expand the Folders folder in the Catalog pane and answer the following question.
  id: totrans-41
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在目录窗格中展开文件夹文件夹并回答以下问题。
- en: '**Question**: What folders do you see connected to your project?'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: '**问题**：你看到了哪些文件夹连接到你的项目？'
- en: '**Answer**:'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: '**答案**：'
- en: You should see that two folders are now connected. The first is your project
    folder. This has the same name as the project you just created. The second folder
    is the connection you just added. If you were to expand the ArcGISProCookbook
    folder connection, you will see all the other folders inside. Adding the connection
    to that folder allows you to access and use data contained in any of those folders
    inside this project. Now you will connect to a couple of databases that you will
    need in this and future recipes.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 你应该会看到现在有两个文件夹已连接。第一个是你的项目文件夹。它具有你刚刚创建的项目相同的名称。第二个文件夹是你刚刚添加的连接。如果你展开 ArcGISProCookbook
    文件夹连接，你会看到里面的所有其他文件夹。将连接添加到该文件夹允许你访问和使用该项目内部任何这些文件夹中的数据。现在你将连接到几个你将在本菜谱和未来的菜谱中需要的数据库。
- en: Right-click the Databases folder in the Catalog pane and select Add Database.
  id: totrans-45
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在目录窗格中右键单击数据库文件夹并选择添加数据库。
- en: Click Folders located under Project in the left panel of the Select Existing
    Geodatabase window. You may need to expand the Project folder to see it.
  id: totrans-46
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击位于选择现有地理数据库窗口左侧面板中的“项目”下的“文件夹”。你可能需要展开项目文件夹才能看到它。
- en: Double-click the ArcGISProCookbook folder.
  id: totrans-47
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 双击 ArcGISProCookbook 文件夹。
- en: Scroll down and double-click the Databases folder.
  id: totrans-48
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 滚动并双击数据库文件夹。
- en: Select the AthensQuarry.gdb and click OK.
  id: totrans-49
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择 AthensQuarry.gdb 并点击确定。
- en: You have just added the connection to the primary database you will be using
    in this recipe. But since you will be using this project for other recipes in
    this chapter, you will go ahead and connect to the Trippville_GIS.gdb geodatabase
    that you will need later.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 你刚刚添加了连接到本菜谱中将使用的数据库。但由于你将使用此项目在本章的其他菜谱中，你将连接到稍后需要的 Trippville_GIS.gdb 地理数据库。
- en: Repeat that same process to add the Trippville_GIS.gdb geodatabase to the project.
    The one difference being that you need to select the Trippville_GIS.gdb at the
    end before you click OK.
  id: totrans-51
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 重复相同的步骤将 Trippville_GIS.gdb 地理数据库添加到项目中。唯一的区别是你需要在点击确定之前选择 Trippville_GIS.gdb。
- en: Right-click the Local_Scene.gdb database and click Remove. You will not be using
    that database, so removing it cleans up the project.
  id: totrans-52
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 右键单击 Local_Scene.gdb 数据库并点击移除。你将不会使用那个数据库，所以移除它可以清理项目。
- en: Save your project.
  id: totrans-53
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 保存你的项目。
- en: So, you have added the databases and folder connections that you need to the
    project. Now you are ready to begin configuring your 3D scene. You will need to
    first configure some properties for the scene.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，您已将所需的数据库和文件夹连接添加到项目中。现在您已准备好开始配置您的3D场景。您首先需要为场景配置一些属性。
- en: In the Contents pane, right-click Scene and select Properties from the menu
    that appears.
  id: totrans-55
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在内容面板中，右键单击场景，并从出现的菜单中选择属性。
- en: On the General tab, rename the scene to `Quarry Project`.
  id: totrans-56
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在常规选项卡中，将场景重命名为`Quarry Project`。
- en: Set the Display units to US Feet using the drop-down arrow. This project is
    located in Georgia, which is in the southeastern United States.
  id: totrans-57
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用下拉箭头将显示单位设置为美国英尺。该项目位于美国东南部的乔治亚州。
- en: Set the Elevation Units to the same value.
  id: totrans-58
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将高程单位设置为相同的值。
- en: Click Elevation Surface in the left panel of the window.
  id: totrans-59
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在窗口的左侧面板中点击高程表面。
- en: Expand the Elevation sources option located near the bottom of the window. You
    should see the WorldElevation3D/Terrain3D web service listed. This is the default
    surface used for new scenes.
  id: totrans-60
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 展开窗口底部附近的位置的“高程源”选项。您应该会看到列出的WorldElevation3D/Terrain3D网络服务。这是用于新场景的默认表面。
- en: Add your own local Elevation source that is more accurate than the one provided
    by Esri. Click the Add Elevation Source button.
  id: totrans-61
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加您自己的本地高程源，其精度高于Esri提供的源。点击添加高程源按钮。
- en: Click the Databases folder under Project in the left panel of the Add Elevation
    Source window.
  id: totrans-62
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在添加高程源窗口的左侧面板中，点击数据库文件夹。
- en: Double-click the AthensQuarry.gdb geodatabase in the right panel.
  id: totrans-63
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在右侧面板中双击AthensQuarry.gdb地理数据库。
- en: Select quarry_dem and click OK. This is a digital elevation model that was created
    by a surveyor in the firm you are working at for this project. It is based on
    actual field survey data for the project site.
  id: totrans-64
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择quarry_dem并点击确定。这是一个由您在该项目中工作的公司测量员创建的数字高程模型。它基于项目现场的实地测量数据。
- en: You should now have two Elevation sources listed for this project. You may also
    see a warning telling you a datum transformation was applied. This is normal because
    your DEM and the Esri web service make use of two different coordinate systems
    and datums.  You can click the Transformation page in the properties if you want
    to learn more.
  id: totrans-65
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 您现在应该为该项目列出两个高程源。您也可能看到一个警告，告诉您应用了基准转换。这是正常的，因为您的DEM和Esri网络服务使用了两个不同的坐标系统和基准。如果您想了解更多信息，可以点击属性中的转换页面。
- en: It is not unusual for a scene to have more than one Elevation source. It depends
    on the area covered by both the project and local elevation sources. ArcGIS Pro
    treats overlapping elevation sources much like layers in the Contents pane. It
    will use the top one that covers the area in question if two or more of the sources
    overlap. In this case, it will use the local DEM you just added until you reach
    the spatial edge where the DEM ends. Then it will make use of the Esri Terrain
    Model as the source.
  id: totrans-66
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 一个场景拥有多个高程源并不罕见。这取决于项目和本地高程源覆盖的区域。ArcGIS Pro将重叠的高程源处理得就像内容面板中的图层一样。如果有两个或更多源重叠，它将使用覆盖相关区域的顶层。在这种情况下，它将使用您刚刚添加的本地DEM，直到达到DEM结束的空间边缘。然后它将使用Esri地形模型作为源。
- en: Click Coordinate System in the left panel. The engineer wants everything in
    the local state plane coordinate system since that is what the survey data was
    collected in.
  id: totrans-67
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在左侧面板中点击坐标系统。工程师希望所有内容都在本地州平面坐标系中，因为测量数据就是在这个坐标系中收集的。
- en: 'Click the Add Coordinate System button and select Import Coordinate System
    as illustrated in the following screenshot:'
  id: totrans-68
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击添加坐标系统按钮，并选择如图所示的导入坐标系统：
- en: '![](img/47ca4b86-cb73-4f8e-ad36-ff90aa1e7eb9.png)'
  id: totrans-69
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/47ca4b86-cb73-4f8e-ad36-ff90aa1e7eb9.png)'
- en: In the Import Coordinate System, select quarry_DEM from the right panel. If
    you do not see it, you will need to navigate to the AthensQuarry.gdb geodatabase
    located in the Databases project folder. Click OK once you select quarry_DEM.
  id: totrans-70
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在导入坐标系统时，从右侧面板中选择quarry_DEM。如果您看不到它，您需要导航到位于数据库项目文件夹中的AthensQuarry.gdb地理数据库。选择quarry_DEM后，点击确定。
- en: 'You may get a warning about the imported coordinate system. If you do, ignore
    it. You should now have both a Current XY and Current Z coordinate system assigned,
    as illustrated in the following graphic. Click OK if you do to apply these changes
    to the scene''s properties:'
  id: totrans-71
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您可能会收到有关导入坐标系统的警告。如果有，请忽略它。现在您应该已经分配了当前XY和当前Z坐标系统，如图所示。如果您想将这些更改应用到场景属性中，请点击确定：
- en: '![](img/e2576e1f-f009-46cf-9659-3f0ea0947033.png)'
  id: totrans-72
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/e2576e1f-f009-46cf-9659-3f0ea0947033.png)'
- en: Your scene will change in such a way that the earth will appear to be oblong
    in shape. This is because you have assigned a local coordinate system to your
    map that is designed to preserve the data as much as possible in the project area.
    Now you will add layers to the scene.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 您的场景将发生变化，地球看起来将呈椭圆形。这是因为您已经为地图分配了一个本地坐标系，该坐标系旨在尽可能在项目区域内保留数据。现在您将向场景添加图层。
- en: Save your project.
  id: totrans-74
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 保存您的项目。
- en: Click the Add Data button on the Map tab in the Layer group.
  id: totrans-75
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击图层组中的地图选项卡上的添加数据按钮。
- en: Double-click the Databases folder and then the AthensQuarry.gdb.
  id: totrans-76
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 双击数据库文件夹，然后选择AthensQuarry.gdb。
- en: Select the Bldg, HydroLine, HydroPoly, and Parcels feature classes. Click OK
    once you have the feature classes selected.
  id: totrans-77
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择Bldg、HydroLine、HydroPoly和Parcels要素类。在选择了要素类后，点击确定。
- en: Holding down your *Ctrl* key while selecting will allow you to select multiple
    feature classes.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 在选择时按住*Ctrl*键，这将允许您选择多个要素类。
- en: The new layers you added should appear in your map as 2D Layers. You will need
    to adjust the draw order for the layers and the symbology.
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 您添加的新图层应作为2D图层出现在您的地图中。您需要调整图层的绘制顺序和符号。
- en: In the Contents pane, select and drag the Lakes layer so it is above the Parcels.
  id: totrans-80
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在内容面板中，选择并拖动Lakes图层，使其位于Parcels之上。
- en: Select and drag the Bldg layer so it is above the Parcels layer as well. It
    can be either above or below the Lakes layer.
  id: totrans-81
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择并拖动Bldg图层，使其位于Parcels图层之上。它可以是Lakes图层之上或之下。
- en: All layers should now be visible in your map. No layer should be hiding behind
    another one. Now, let's work on the symbology.
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 所有图层现在都应可见于您的地图中。没有任何图层应隐藏在其他图层后面。现在，让我们来处理符号。
- en: Click the symbol patch located below the Streams layer name. This should open
    the Symbology pane.
  id: totrans-83
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击位于Streams图层名称下方的符号修补块。这应该会打开符号面板。
- en: Ensure you are viewing the Gallery by clicking the Gallery tab next the top
    of the pane. Select the Water (line) predefined symbol.
  id: totrans-84
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确保您正在查看图库，点击面板顶部的图库选项卡。选择预定义的水（线）符号。
- en: Click the symbol patch located below the Lakes layer name. Then select the Water
    (area) predefined symbol on the Symbology pane.
  id: totrans-85
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击位于Lakes图层名称下方的符号修补块。然后在符号面板中选择预定义的水（区域）符号。
- en: Click the symbol patch below the Bldg layer name. Then select the Building Footprint
    predefined symbol. If you see more than one, select any one you want to use.
  id: totrans-86
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击Bldg图层名称下方的符号修补块。然后选择预定义的建筑足迹符号。如果您看到多个，请选择您想要使用的任何一个。
- en: Click the symbol patch located below the Parcels layer name. Select the Black
    Outline predefined symbol.
  id: totrans-87
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击位于Parcels图层名称下方的符号修补块。选择预定义的黑色轮廓符号。
- en: Close the Symbology pane.
  id: totrans-88
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 关闭符号面板。
- en: 'Your scene should now look like the following graphic. So far, you have created
    a new project that contains a 3D scene. You then configured the source elevation,
    which is the ground surface for the scene, using a local digital elevation model.
    Lastly, you added several layers to the scene. These layers are all being displayed
    as 2D layers, which means they are just being draped across the DEM you specified
    as the elevation source:'
  id: totrans-89
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 您的场景现在应该看起来像以下图形。到目前为止，您已经创建了一个包含3D场景的新项目。然后您配置了源高程，即场景的地面，使用的是本地数字高程模型。最后，您向场景中添加了几个图层。这些图层现在都显示为2D图层，这意味着它们只是覆盖了您指定的作为高程源的地形数据：
- en: '![](img/157b5c3a-4be1-4450-bd6e-7898caa36d63.png)'
  id: totrans-90
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/157b5c3a-4be1-4450-bd6e-7898caa36d63.png)'
- en: Now it's time to make one of the 2D layers a 3D layer. This is fairly easy to
    do.
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 现在是时候将一个2D图层转换为3D图层了。这相当容易做到。
- en: Select the Bldg layer in the Contents pane.
  id: totrans-92
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在内容面板中选择Bldg图层。
- en: Drag and drop it on the 3D Layers in the list. The 3D Layers will highlight
    in blue when your mouse pointer is on top of it. This is the indication to release
    your mouse button. The Bldg layer should now appear under 3D Layers indicating
    it is now a 3D layer. This means you will be able to display the buildings as
    3D objects in the scene.
  id: totrans-93
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将其拖放到列表中的3D图层上。当您的鼠标指针位于其上时，3D图层将高亮显示蓝色。这是释放鼠标按钮的指示。现在Bldg图层应出现在3D图层下，表示它现在是一个3D图层。这意味着您将能够在场景中以3D对象的形式显示建筑物。
- en: 'In the Extrusion group, click the drop-down arrow located below Type. Select
    Min Height, as shown in the following screenshot:'
  id: totrans-94
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在挤出组中，点击位于类型下方的下拉箭头。选择最小高度，如以下截图所示：
- en: '![](img/83cfba5a-ad7e-4f2f-b4ad-3c99be32116a.png)'
  id: totrans-95
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/83cfba5a-ad7e-4f2f-b4ad-3c99be32116a.png)'
- en: 'In the cell located next to the Type option, click the drop-down arrow and
    select [Est_HGT] from the list, as illustrated in the following graphic. This
    is a field from the attribute table for the Bldg layer:'
  id: totrans-96
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在类型选项旁边的单元格中，点击下拉箭头并从列表中选择[Est_HGT]，如图所示。这是Bldg层属性表中的一个字段：
- en: '![](img/a311c93b-a814-430d-8926-a261910a81dd.png)'
  id: totrans-97
  prefs: []
  type: TYPE_IMG
  zh: '![](img/a311c93b-a814-430d-8926-a261910a81dd.png)'
- en: You have just extruded the building in the Bldg layer based on a field in the
    attribute table that has each building's estimated height. Let’s look at the results
    of your work so you can see the buildings are indeed 3D.
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 你刚刚根据属性表中每个建筑的估计高度字段，在Bldg层中拉伸了建筑。让我们看看你工作的结果，以便你可以看到建筑确实是3D的。
- en: Place your mouse pointer on the southern side of the scene; anywhere on the
    southern side will work.
  id: totrans-99
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将鼠标指针放在场景的南部；南部任何地方都可以。
- en: Press the scroll wheel located in the center of your mouse. While holding it
    down, push the mouse away from you. This should rotate the scene around the *z*
    axis. Rotate it until you can begin to see the building heights above the ground
    and 2D layers. Then release your scroll wheel.
  id: totrans-100
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 按住鼠标中央的滚轮。在按住它的同时，将鼠标从你面前推开。这应该会绕着 *z* 轴旋转场景。旋转直到你可以开始看到地面以上的建筑高度和二维层。然后释放滚轮。
- en: Roll your scroll wheel so that you zoom in closer, so you can see the buildings
    and verify they are being shown above the ground and 2D layers.
  id: totrans-101
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 滚动滚轮以便更近地放大，这样你可以看到建筑并验证它们是否显示在地面和二维层之上。
- en: 'Your scene should look similar to the following screenshot. Yours might be
    a little different depending on how far you rotated the scene along the Z axis
    and how much you zoomed in:'
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 你的场景应该看起来类似于以下截图。你的可能略有不同，这取决于你沿Z轴旋转场景的程度以及你缩放的程度：
- en: '![](img/7d4e65f9-e6af-4f59-a364-fcbe4163be89.png)'
  id: totrans-103
  prefs: []
  type: TYPE_IMG
  zh: '![](img/7d4e65f9-e6af-4f59-a364-fcbe4163be89.png)'
- en: Click the Map tab in the ribbon. Then click the drop-down arrow located in the
    Layer group. Select the Imagery basemap from the list provided. This provides
    a more realistic 3D view of the quarry project area.
  id: totrans-104
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在功能区点击地图标签。然后点击图层组中的下拉箭头。从提供的列表中选择影像底图。这提供了更真实的3D视图，用于查看采石场项目区域。
- en: If you do not see the Imagery basemap, it may be that you are not connected
    to ArcGIS Online or are connected to your organization's portal for ArcGIS. If
    possible, connect to ArcGIS Online using your login details. If you are not able
    to, skip to *Step 57*.
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你看不到影像底图，可能是因为你没有连接到ArcGIS Online，或者连接到了你的组织门户的ArcGIS。如果可能，使用您的登录详情连接到ArcGIS
    Online。如果您无法连接，请跳到 *步骤57*。
- en: Save your project.
  id: totrans-106
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 保存你的项目。
- en: 'Continue to navigate through the scene. Try zooming in and out, panning, and
    rotating along all axes. Make sure to examine the area around the quarry. You
    should be able to see all the piles of rock and the quarry pit itself in detail,
    as shown here:'
  id: totrans-107
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 继续在场景中导航。尝试放大和缩小、平移以及沿所有轴旋转。确保检查采石场周围的区域。你应该能够详细看到所有的岩石堆和采石坑本身，如图所示：
- en: '![](img/d727bd1e-7bcb-4c67-a01b-f12dcef3af65.png)'
  id: totrans-108
  prefs: []
  type: TYPE_IMG
  zh: '![](img/d727bd1e-7bcb-4c67-a01b-f12dcef3af65.png)'
- en: If you use a trackball or touch pad on a laptop, you can also use the compass
    located in the lower-left corner to navigate in the scene. Simply clicking the
    ring with your pointer will pan the view. If you click the arrow located in the
    upper-left corner of the compass, you can access more controls.
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你使用的是笔记本电脑上的轨迹球或触摸板，你还可以使用位于左下角的指南针在场景中导航。只需用指针点击环形即可平移视图。如果你点击指南针左上角的箭头，你可以访问更多控件。
- en: When you are done exploring the scene, right-click the Bldg layer in the Contents
    pane and select Zoom to layer.
  id: totrans-110
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当你完成场景探索后，在内容窗格中右键点击Bldg层并选择缩放到图层。
- en: Save your project and close ArcGIS Pro.
  id: totrans-111
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 保存你的项目并关闭ArcGIS Pro。
- en: You have just created a very basic 3D Scene using the core functionality found
    in ArcGIS Pro. What you just did can be accomplished at all license levels of
    ArcGIS Pro and does not require any extensions. If you want to learn more about
    creating 3D Scenes in ArcGIS Pro, you may want to examine *Chapter 5*, *Creating
    3D Maps*, in *Learning ArcGIS Pro* by Tripp Corbin, GISP from Packt Publishing
    and watch the author's YouTube video on creating 3D maps with ArcGIS  Pro: [https://www.youtube.com/watch?v=CRWE-CXO58s&t=58s](https://www.youtube.com/watch?v=CRWE-CXO58s&t=58s).
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 您刚刚使用ArcGIS Pro中的核心功能创建了一个非常基本的3D场景。您所做的一切可以在ArcGIS Pro的所有许可级别上完成，并且不需要任何扩展。如果您想了解更多关于在ArcGIS
    Pro中创建3D场景的信息，您可能想查看Tripp Corbin，GISP所著的《Learning ArcGIS Pro》中的第5章“创建3D地图”，以及作者在YouTube上关于使用ArcGIS
    Pro创建3D地图的视频：[https://www.youtube.com/watch?v=CRWE-CXO58s&t=58s](https://www.youtube.com/watch?v=CRWE-CXO58s&t=58s)。
- en: Enabling your data to store Z coordinates (elevation)
  id: totrans-113
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 启用您的数据存储Z坐标（高程）
- en: In [C](b6f25e84-28a9-4d2d-aaca-3550460d4650.xhtml)hapter 2, *Creating and storing
    data*, we learned that vector data, points, lines, and polygons store data using
    the X and Y coordinates for the features. This determines their location, which
    is then displayed in a map. We expanded on that in [Chapter 6](9a0a5ec0-c176-44bf-a5d0-fdffb73c78a5.xhtml),
    *Projections and Coordinate System Basics*, where we learned those X and Y coordinates
    were referencing locations in a specific, real-world coordinate system that ties
    our data to the Earth. This allowed us to bring data from all over into our maps,
    so we could see their spatial relationships. ArcGIS Pro will project data that
    is in different coordinate systems on the fly, so they are displayed together.
     However, that only represents two dimensions.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 在第2章“创建和存储数据”中，我们了解到矢量数据、点、线和多边形使用特征的位置X和Y坐标来存储数据。这确定了它们的位置，然后显示在地图上。我们在第6章“投影和坐标系统基础”中进一步探讨了这一点，我们了解到这些X和Y坐标是指特定、现实世界的坐标系统中的位置，将我们的数据与地球联系起来。这使得我们可以将来自世界各地的数据带入我们的地图中，以便我们可以看到它们的空间关系。ArcGIS
    Pro会自动将不同坐标系统中的数据投影到一起，以便它们可以一起显示。然而，这仅代表二维。
- en: Can you enable data in ArcGIS Pro to store Z, the third dimension? Of course
    you can. You typically do this when you first create the feature class or shapefile.
    Some formats, such as an AutoCAD DWG and DXF file, are always Z-enabled. The 3D
    Analyst extension for ArcGIS Pro also has tools that allow you to convert existing
    2D data to 3D Z-enabled data.
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 您能在ArcGIS Pro中启用数据以存储Z坐标，即第三维度吗？当然可以。您通常在首次创建要素类或shapefile时这样做。某些格式，如AutoCAD
    DWG和DXF文件，始终启用Z坐标。ArcGIS Pro的3D Analyst扩展也包含允许您将现有2D数据转换为3D Z坐标启用数据的工具。
- en: In this recipe, you will continue to work with the data for the quarry project
    you used in the last recipe. The engineer is now concerned about the nearby airport.
    He needs to see the runways in relation to the quarry and may need to make calculations
    concerning runoff from the quarry to those runways. He has acquired a shapefile
    that contains the location of runways, taxi ranks, and parking areas at the airport.
    However, they are not Z-enabled. You will create a new feature class in the `Athens_Quarry`
    geodatabase that is Z-enabled. Then, you will import the data from the shapefile
    into it. Lastly, you will calculate the elevation of the features based on the
    Digital Elevation Model you selected as the ground elevation in the previous recipe.
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个菜谱中，您将继续使用在上一个菜谱中使用的采石场项目的数据。工程师现在关心附近的机场。他需要看到跑道与采石场的关系，可能还需要对采石场到这些跑道的径流进行计算。他已经获取了一个包含机场跑道、滑行道和停车区的shapefile。然而，它们没有启用Z坐标。您将在`Athens_Quarry`地理数据库中创建一个新的Z坐标启用的要素类。然后，您将从中导入shapefile中的数据。最后，您将根据在先前的菜谱中选定的作为地面高程的数字高程模型计算要素的高程。
- en: Getting ready
  id: totrans-117
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 准备工作
- en: This recipe requires the sample data to be installed on the computer. You will
    need to have completed the previous recipe before starting this one. You will
    also need to have the 3D Analyst extension to complete this recipe.
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 这个菜谱需要将样本数据安装在计算机上。您必须在开始这个菜谱之前完成先前的菜谱。您还需要拥有3D Analyst扩展才能完成这个菜谱。
- en: 'To determine whether you have access to the 3D Analyst extension, open ArcGIS
    Pro. Then, open any project you have previously opened. Click the Project tab
    in the ribbon. Click the Licensing option in the left panel of the Project pane.
    This will tell you what license level and extensions you currently have access
    to, as illustrated in the following screenshot:'
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 要确定您是否有权访问3D Analyst扩展，请打开ArcGIS Pro。然后，打开您之前打开的任何项目。在功能区中点击项目选项卡。点击项目面板左侧的许可选项。这将告诉您您目前有权访问的许可级别和扩展，如图所示：
- en: '![](img/ab5e6509-9ad3-4d23-9f37-0181fa2c4c76.png)'
  id: totrans-120
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/ab5e6509-9ad3-4d23-9f37-0181fa2c4c76.png)'
- en: If you do not have access to the 3D Analyst extension, first contact your administrator
    to see whether they can provide one for you. If you do not have a license for
    this extension, you can request a trial license from Esri at [https://www.esri.com/arcgis/trial](https://www.esri.com/arcgis/trial).
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您没有访问3D Analyst扩展的权限，首先联系您的管理员，看看他们是否能为您提供。如果您没有此扩展的许可证，您可以从Esri请求试用许可证，网址为[https://www.esri.com/arcgis/trial](https://www.esri.com/arcgis/trial)。
- en: This recipe can be completed with any license level of ArcGIS Pro, as long as
    you have the 3D Analyst extension.
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 只要您有3D Analyst扩展，本菜谱可以用ArcGIS Pro的任何许可级别完成。
- en: How to do it...
  id: totrans-123
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何操作...
- en: Start ArcGIS Pro and open the `3D Analyst` project you created in the previous
    recipe. It should be in your list of recently opened projects.
  id: totrans-124
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 启动ArcGIS Pro并打开您在上一菜谱中创建的`3D Analyst`项目。它应该出现在您最近打开的项目列表中。
- en: Ensure the QuarryProject scene you created in the previous recipe is open. If
    not, open it from the Catalog pane by right-clicking it and selecting Open Local
    View.
  id: totrans-125
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确保您在上一菜谱中创建的QuarryProject场景已打开。如果没有，请从目录面板中通过右键单击并选择打开本地视图来打开它。
- en: 'In the Catalog pane, expand the Database folder. Right-click the AthensQuarry.gdb
    geodatabase. Then, go to New and Feature Class, as shown in the following screenshot.
    This will open the Create New Feature Class geoprocessing tool in the Geoprocessing
    pane:'
  id: totrans-126
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在目录面板中，展开数据库文件夹。右键单击AthensQuarry.gdb地理数据库。然后，转到新建和要素类，如图所示。这将在地理处理面板中打开创建新要素类地理处理工具：
- en: '![](img/fb736aa8-de58-4c3c-b6c9-ef4aef0c6a09.png)'
  id: totrans-127
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/fb736aa8-de58-4c3c-b6c9-ef4aef0c6a09.png)'
- en: Feature Class Location should automatically be set because you right-clicked
    the geodatabase where you are creating the new feature class. Type `Airport_Runways`
    into the feature class name.
  id: totrans-128
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要素类位置应自动设置，因为您在创建新要素类时右键单击了地理数据库。在要素类名称中输入`Airport_Runways`。
- en: Verify the Geometry type is set to Polygon. If is it not, select it using the
    drop-down arrow.
  id: totrans-129
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 验证几何类型是否设置为多边形。如果不是，请使用下拉箭头选择它。
- en: For Template Feature Class, click the Browse button located to the far right
    of the cell. It looks like a yellow folder with a black plus sign on it.
  id: totrans-130
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对于模板要素类，点击单元格最右侧的浏览按钮。它看起来像是一个带有黑色加号的黄色文件夹。
- en: Click the Folder folder located under Project in the left panel of the Template
    Feature Class window.
  id: totrans-131
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击左侧面板中项目下的文件夹文件夹。
- en: Double-click the 3DAnalyst folder that appears in the right panel of the window.
  id: totrans-132
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 双击窗口右侧面板中出现的3DAnalyst文件夹。
- en: You should now see at least two geodatabases and two shapefiles in this folder.
    Select Airport.shp and click OK.
  id: totrans-133
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您现在应该在这个文件夹中看到至少两个地理数据库和两个shapefile。选择Airport.shp并点击确定。
- en: Set Has M to No using the drop-down arrow.
  id: totrans-134
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用下拉箭头将“有M”设置为否。
- en: Ensure Has Z is set to Yes. If not, use the drop-down arrow to set it.
  id: totrans-135
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确保“有Z”设置为是。如果不是，请使用下拉箭头设置它。
- en: Click the Wireframe globe located to the right of the Coordinate System. This
    will open the Coordinate System window so you can set both the horizontal (XY)
    and vertical (Z) coordinate systems the new feature class will use.
  id: totrans-136
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击位于坐标系右侧的线框地球仪。这将打开坐标系窗口，以便您可以设置新要素类将使用水平和（XY）以及垂直（Z）坐标系。
- en: 'Click the wireframe globe with a green plus sign located to the right of the
    XY Coordinate Systems Available and select Import Coordinate System, as illustrated
    here:'
  id: totrans-137
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击位于“可用的XY坐标系”右侧带有绿色加号的线框地球仪，选择导入坐标系，如图所示：
- en: '![](img/55f807b3-c7ef-47d6-9219-c341b756f0ee.png)'
  id: totrans-138
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/55f807b3-c7ef-47d6-9219-c341b756f0ee.png)'
- en: Select the Databases folder under Project in the left panel of the Import Coordinate
    System window.
  id: totrans-139
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在导入坐标系窗口的左侧面板中，选择项目下的数据库文件夹。
- en: Double-click the AthensQuarry.gdb geodatabase in the right panel of the window.
  id: totrans-140
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 双击窗口右侧面板中的AthensQuarry.gdb地理数据库。
- en: Select quarry_DEM and click OK. You may get a warning about the Imported Coordinate
    System. If you do, ignore it.
  id: totrans-141
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择quarry_DEM并点击“确定”。你可能收到关于导入坐标系统的警告。如果有，请忽略它。
- en: Your Current XY should now be set to the NAD_1983_StatePlane_Georgia_West_FIPS_1002_Feet
    horizontal coordinate system and the Current Z set to the NAVD88_height_(ftUS)
    vertical coordinate system. If it is, click OK.
  id: totrans-142
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你的当前XY现在应设置为NAD_1983_StatePlane_Georgia_West_FIPS_1002_Feet水平坐标系，当前Z设置为NAVD88_height_(ftUS)垂直坐标系。如果是这样，请点击“确定”。
- en: 'Verify your Create Feature Class tool looks like the following and click Run:'
  id: totrans-143
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确认你的“创建要素类”工具看起来如下，然后点击“运行”：
- en: '![](img/b31b21be-9e48-4ac1-99cd-cb124a499281.png)'
  id: totrans-144
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/b31b21be-9e48-4ac1-99cd-cb124a499281.png)'
- en: When the tool completes, a new layer should appear in the QuarryProject Scene.
    This new layer references the new feature class you just created. This new feature
    class will not only store the X and Y coordinates for all the features it contains
    but it will allow you to store the Z coordinates as well. Since this is a brand-new
    feature class, it is currently empty. You will next import the features that are
    in the shapefile you used as the Template Feature Class when you created the new
    feature class. You will use the Append tool to do this.
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: 当工具完成后，应该在新QuarryProject场景中出现一个新图层。这个新图层引用了你刚刚创建的新要素类。这个新要素类不仅会存储它包含的所有要素的X和Y坐标，而且还会允许你存储Z坐标。由于这是一个全新的要素类，它目前是空的。你接下来将导入你在创建新要素类时用作模板要素类的形状文件中的要素。你将使用追加工具来完成此操作。
- en: In the Geoprocessing pane, click the Back button located in the upper-left corner.
    This will take you back to either your favorites, Toolboxes, or Portal.
  id: totrans-146
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在地理处理面板中，点击位于左上角的“后退”按钮。这将带你回到你的收藏夹、工具箱或门户。
- en: If you closed the Geoprocessing pane when the Create New Feature Class tool
    completed, you can easily reopen it by going to the Analysis tab in the ribbon
    and clicking the Tools button in the Geoprocessing group.
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你完成创建新要素类工具后关闭了地理处理面板，你可以通过转到功能区中的“分析”标签并点击地理处理组中的“工具”按钮轻松重新打开它。
- en: Click the Toolboxes tab at the top of the Geoprocessing pane.
  id: totrans-148
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在地理处理面板顶部点击“工具箱”标签。
- en: Scroll down the list of toolboxes to the Data Management Tools toolbox and expand
    it so you can see its contents.
  id: totrans-149
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 滚动工具箱列表到数据管理工具箱，并展开它，以便你可以看到其内容。
- en: Expand the General toolset. Notice the various tools included in this toolset.
  id: totrans-150
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 展开通用工具集。注意该工具集中包含的各种工具。
- en: Click the Append tool to open it.
  id: totrans-151
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击“追加”工具打开它。
- en: For the Input Dataset, click the Browse button located to the right.
  id: totrans-152
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对于输入数据集，点击右侧的“浏览”按钮。
- en: Select the Folders folder under Project in the left panel of the Input Datasets
    window.
  id: totrans-153
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在输入数据集窗口的左侧面板中，选择“项目”下的“文件夹”。
- en: Double-click the 3DAnalyst folder.
  id: totrans-154
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 双击3DAnalyst文件夹。
- en: Select the Airport.shp shapefile and click OK. This will set the dataset you
    want to add or import into the target dataset.
  id: totrans-155
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择Airport.shp形状文件并点击“确定”。这将设置你想要添加或导入到目标数据集中的数据集。
- en: Set the Target Dataset to Airport_Runways using the drop-down arrow.
  id: totrans-156
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用下拉箭头将目标数据集设置为Airport_Runways。
- en: You had to use the Browse button to set the Input Dataset because the Airport.shp
    shapefile was not already a layer in your map. The drop-down arrows only list
    existing layers or tables included in the active map or scene.
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 你必须使用“浏览”按钮来设置输入数据集，因为Airport.shp形状文件尚未成为你地图中的一个图层。下拉箭头仅列出包含在活动地图或场景中的现有图层或表。
- en: Since you used the shapefile as the template for the new Airport_Runways feature
    class, you should be able to leave the Schema Type set to `Input Schema must match
    target schema`. The schemas for the input and target should be the same.
  id: totrans-158
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 由于你使用了形状文件作为新Airport_Runways要素类的模板，你应该能够将模式类型设置为“输入模式必须与目标模式匹配”。输入和目标模式应该是相同的。
- en: 'Since the Airport_Runways feature class does not include subtypes, you can
    leave that parameter blank. Verify your Append tool looks like the following and
    click Run:'
  id: totrans-159
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 由于Airport_Runways要素类不包含子类型，你可以将该参数留空。确认你的“追加”工具看起来如下，然后点击“运行”：
- en: '![](img/1c9489c9-37fa-410e-b20a-370ef7746c6a.png)'
  id: totrans-160
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/1c9489c9-37fa-410e-b20a-370ef7746c6a.png)'
- en: For those that might have used ArcMap in the past, you may have used the Simple
    Data Loader or Load Object tools to accomplish this task. ArcGIS Pro 2.1 and earlier
    versions do not include that functionality. The author is not sure if or when
    Esri will add those tools to ArcGIS Pro.
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: 对于那些过去可能使用过ArcMap的人来说，你可能使用过简单数据加载器或加载对象工具来完成此任务。ArcGIS Pro 2.1及更早版本不包括该功能。作者不确定Esri是否会将这些工具添加到ArcGIS
    Pro中。
- en: When the Append tool completes, it will have copied the features from the shapefile
    to the Airport_Runways feature class. You will not be able to see them because
    their Z coordinate is still currently set to `0` because the shapefile was a 2D
    shapefile. Next, you will need to calculate a Z coordinate for each vertex associated
    with the features in the new feature class.
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 当追加工具完成时，它将从shapefile复制特征到机场跑道要素类。你将看不到它们，因为它们的Z坐标目前仍然设置为`0`，因为shapefile是一个2D形状文件。接下来，你需要为与新的要素类中的特征相关联的每个顶点计算一个Z坐标。
- en: You will use a tool from the 3D Analyst extension that will calculate the *z*
    for the vertices based on where it lies in relation to the DEM you set as the
    ground surface.
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: 你将使用3D Analyst扩展中的一个工具，该工具将根据它相对于你设置为地面表面的DEM的位置来计算顶点的*z*。
- en: Click the Back button in the Geoprocessing pane that has the Append tool open.
  id: totrans-164
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击打开追加工具的地理处理面板中的后退按钮。
- en: Click the Toolboxes tab at the top of the pane.
  id: totrans-165
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击面板顶部的工具箱选项卡。
- en: Expand the 3D Analyst toolbox so you can see its contents.
  id: totrans-166
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 展开3D Analyst工具箱，以便你可以看到其内容。
- en: Expand the 3D Features toolset.
  id: totrans-167
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 展开3D要素工具集。
- en: Scroll down the list of tools until you come to the Update Feature Z tool. Click
    this tool to open it. This tool will calculate the Z coordinates of features based
    on an input surface.
  id: totrans-168
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 滚动工具列表，直到你找到更新特征Z坐标的工具。点击此工具以打开它。此工具将根据输入表面计算特征的Z坐标。
- en: Set the Input Features to Airport_Runways using the drop-down arrow.
  id: totrans-169
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用下拉箭头将输入特征设置为机场跑道。
- en: Click the Browse button for the Input Surface.
  id: totrans-170
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击输入表面的浏览按钮。
- en: In the Input Surface window, click Databases in the panel on the left located
    under Project.
  id: totrans-171
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在输入表面窗口中，点击位于项目下的左侧面板中的数据库。
- en: Double-click the AthensQuarry.gdb geodatabase in the right panel.
  id: totrans-172
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在右侧面板中双击AthensQuarry.gdb地理数据库。
- en: Select quarry_DEM in the same panel and click OK.
  id: totrans-173
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在同一面板中选择quarry_DEM，然后点击确定。
- en: ArcGIS Pro will automatically determine which Interpolation Method it believes
    is best. Accept the one determined by ArcGIS Pro.
  id: totrans-174
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ArcGIS Pro将自动确定它认为最好的插值方法。接受ArcGIS Pro确定的那个。
- en: The Status Field will be left blank. You can use this field to track which features
    are not updated with new Z coordinate values. This is typically because the features
    do not overlap the surface. In this case, all the features in the Input Features
    layers overlap the Input Surface for the project area so there is no need to be
    concerned. There are parts of some of the runway features that are outside the
    project area, but those are not a concern.
  id: totrans-175
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 状态字段将被留空。你可以使用此字段来跟踪哪些特征没有更新新的Z坐标值。这通常是因为特征没有与表面重叠。在这种情况下，输入特征图层中的所有特征都与项目区域内的输入表面重叠，因此无需担心。一些跑道特征的部分位于项目区域之外，但这不是问题。
- en: 'Verify your Update Feature Z tool looks like the following and click Run:'
  id: totrans-176
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 验证你的更新特征Z工具看起来如下，然后点击运行：
- en: '![](img/68c5c03c-f41d-4cae-9d22-f927c3a701e1.png)'
  id: totrans-177
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/68c5c03c-f41d-4cae-9d22-f927c3a701e1.png)'
- en: Once the tool completes, you should start to see parts of the Airport_Runways
    layers. It maybe partially hidden by the World Imagery basemap. This is because
    both are at the same elevation. Not being able to see the entirety of the features
    on the layer is not a big concern. The fact that you can see some of them where
    before you could not see any is proof you successfully added the Z coordinates
    to the features in the layer.
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦工具完成，你应该开始看到机场跑道的部分图层。它们可能部分被世界影像底图所隐藏。这是因为两者处于相同的高度。无法看到图层上的所有特征并不是一个大问题。你能在之前看不到的地方看到一些特征，这证明了你成功地将Z坐标添加到了图层中的特征。
- en: However, we will further verify the success of the tool by using another tool
    that will add and calculate several attribute fields that are based on the 3D
    characteristics of the feature. This is the Add Z Information tool that is also
    included in the 3D Analyst extension.
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，我们将通过使用另一个工具来进一步验证工具的成功，该工具将添加和计算基于特征3D特性的几个属性字段。这是包含在3D Analyst扩展中的添加Z信息工具。
- en: Save your project.
  id: totrans-180
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 保存你的项目。
- en: In the Geoprocessing pane that contains the Update Feature Z tool you just used,
    click the Back button.
  id: totrans-181
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在包含你刚刚使用的更新要素Z工具的地理处理面板中，点击后退按钮。
- en: If needed, click the Toolboxes tab in the Geoprocessing pane.
  id: totrans-182
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果需要，请点击地理处理面板中的工具箱选项卡。
- en: Expand the 3D Analyst Tools toolbox to see its contents.
  id: totrans-183
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 展开三维分析师工具箱以查看其内容。
- en: Expand the 3D Features Toolset. Then click the Add Z Information Tool to open
    it.
  id: totrans-184
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 展开三维要素工具集。然后点击添加Z信息工具以打开它。
- en: Set the Input Features to Airport_Runways using the drop-down arrow.
  id: totrans-185
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用下拉箭头将输入要素设置为Airport_Runways。
- en: 'Under the Output Property options, select the following:'
  id: totrans-186
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在输出属性选项下，选择以下内容：
- en: Lowest Z
  id: totrans-187
  prefs:
  - PREF_UL
  - PREF_UL
  type: TYPE_NORMAL
  zh: 最低Z
- en: Highest Z
  id: totrans-188
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 最高Z
- en: Average Z
  id: totrans-189
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 平均Z
- en: Average Slope
  id: totrans-190
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 平均坡度
- en: 'Verify your Add Z Information tool looks like the following and click Run:'
  id: totrans-191
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 验证你的添加Z信息工具看起来如下，然后点击运行：
- en: '![](img/68c5c03c-f41d-4cae-9d22-f927c3a701e1.png)'
  id: totrans-192
  prefs: []
  type: TYPE_IMG
  zh: '![](img/68c5c03c-f41d-4cae-9d22-f927c3a701e1.png)'
- en: Fields for the properties you checked in the Add Z Information tool should now
    be added to the attribute table for Airport_Runways along with the appropriate
    values. Now, to verify that the tools worked.
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: 在添加Z信息工具中检查的属性字段现在应添加到Airport_Runways的属性表中，并带有相应的值。现在，为了验证工具是否工作。
- en: Close the Geoprocessing pane.
  id: totrans-194
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 关闭地理处理面板。
- en: Right-click the Airport_Runways layer and select Attribute Table from the menu
    that appears. Then answer the following questions.
  id: totrans-195
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 右键单击Airport_Runways图层，从出现的菜单中选择属性表。然后回答以下问题。
- en: '**Question**: What fields did the Add Z Information tool add to the attribute
    table?'
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: '**问题**：添加Z信息工具添加了哪些字段到属性表中？'
- en: '**Answer**:'
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: '**答案**：'
- en: '**Question**: Did the Update Feature Z tool work?'
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: '**问题**：更新要素Z工具是否工作？'
- en: '**Answer**:'
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: '**答案**：'
- en: '**Question**: How can you tell whether it did or did not work?'
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: '**问题**：你如何判断它是否工作？'
- en: '**Answer**:'
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: '**答案**：'
- en: Hopefully you were able to pick out the four fields that were added to the attribute
    table for the Airport_Runways layer. These correspond to the options you selected
    in the tool. The values stored in these newly added fields allow you to see that
    the Update Feature Z tool was successful except for the two features that extended
    beyond the project area.
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: 希望你能识别出添加到Airport_Runways图层属性表中的四个字段。这些对应于你在工具中选择的选项。这些新添加字段中存储的值允许你看到更新要素Z工具是成功的，除了两个超出项目区域的要素。
- en: Save your project and close ArcGIS Pro.
  id: totrans-203
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 保存你的项目并关闭ArcGIS Pro。
- en: You have just created a new Z-enabled feature class and imported data from a
    2D shapefile into it. You then used the Update Feature Z to calculate the Z coordinates
    for all the vertices for the features in the new feature class you created. You
    then used the Add Z Information tool to verify that the Z coordinates had been
    successfully added.
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
  zh: 你刚刚创建了一个新的Z启用要素类，并将来自2D形状文件的数据导入其中。然后你使用了更新要素Z坐标工具来计算新创建的要素类中所有顶点的Z坐标。接着你使用了添加Z信息工具来验证Z坐标是否已成功添加。
- en: Creating multipatch features from 2D
  id: totrans-205
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 从2D创建多面体要素
- en: In working through the recipes in this chapter, you have learned how to display
    2D data in 3D and how to create basic Z-enabled layers. All of these methods for
    working in 3D open the door to a wealth of capabilities within ArcGIS Pro from
    display to analysis. However, they all still have limitations. Extruding 2D data
    to display in 3D does allow us to see those features and their relationships in
    three dimensions compared to other features, but we are not able to easily calculate
    volumes or locate a position vertically within the extruded feature. Adding Z
    coordinates to a point, line, or polygon allows us to place it in the correct
    space but again they still only form a single plane. What do we need to create
    a solid shape (meaning something that has volume)? There is a more advanced 3D
    data format that is supported in ArcGIS Pro that allows for this. It is called
    **Multipatch**.
  id: totrans-206
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章的食谱中工作，你已经学会了如何在3D中显示2D数据以及如何创建基本的Z启用图层。所有这些在3D中工作的方法都为ArcGIS Pro中的显示和分析能力打开了大门。然而，它们仍然都有局限性。将2D数据拉伸以在3D中显示确实允许我们以三维形式看到这些要素及其与其他要素的关系，但我们无法轻松地计算体积或定位拉伸要素中的垂直位置。将Z坐标添加到点、线或多边形中允许我们将它们放置在正确的空间中，但它们仍然只形成一个单一平面。我们需要什么来创建一个实体形状（即有体积的东西）？ArcGIS
    Pro支持一种更高级的3D数据格式，允许这样做。它被称为**多面体**。
- en: Multipatch is a true 3D object. It is constructed using a series of planes or
    polygons that are drawn in a 3D environment. They are connected together to form
    a 3D feature.  The planes or polygons that form the feature are also called **patches**.
    Thus, the term multipatch. ArcGIS Pro is not the only application that allows
    for the display and creation of Multipatch features. Most **computer-aided drafting
    and design** (**CADD**) software also can be used to create multipatch features.
     Because of the complexity of a multipatch feature, you are often able to show
    more detail than what you can accomplish with simple extrusion. Multipatch feature
    classes also increase the number of analysis tools you can use from the 3D Analyst
    extension for calculating line of sight and more.
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
  zh: 多面体是一个真正的 3D 对象。它使用一系列在 3D 环境中绘制的平面或多边形构建。它们连接在一起形成一个 3D 要素。构成要素的平面或多边形也称为**补片**。因此，术语多面体。ArcGIS
    Pro 不是唯一允许显示和创建多面体要素的应用程序。大多数**计算机辅助设计和绘图**（**CADD**）软件也可以用来创建多面体要素。由于多面体要素的复杂性，你通常可以显示比简单挤出更多的细节。多面体要素类还增加了你可以从
    3D Analyst 扩展中使用的分析工具的数量，用于计算视线等。
- en: The City Planner for the City of Trippville wants to incorporate line of sight
    requirements into the development regulations for the City. He will want to see
    whether new buildings will adversely impact the views of existing buildings to
    key elements, such as parks and rivers, in the City. Many of these types of calculations
    require the use of multipatch features. In this recipe, you will convert the building
    footprints from extruded buildings to a new multipatch feature class.
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: Trippville 市的城市规划师希望将视线要求纳入城市的发展法规中。他希望查看新建筑是否会不利于现有建筑对城市中关键元素（如公园和河流）的视线。许多这类计算需要使用多面体要素。在本例中，你将把建筑轮廓从挤出建筑转换为新的多面体要素类。
- en: Getting ready
  id: totrans-209
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 准备工作
- en: To complete this recipe, you will need access to the 3D Analyst extension for
    ArcGIS Pro. You will need to have completed the other recipes in this chapter
    and ensure the sample data is installed before you continue.  This recipe can
    be completed with all license levels of ArcGIS Pro.
  id: totrans-210
  prefs: []
  type: TYPE_NORMAL
  zh: 要完成此配方，你需要访问 ArcGIS Pro 的 3D Analyst 扩展。在继续之前，你需要完成本章中的其他配方，并确保样本数据已安装。此配方可以使用
    ArcGIS Pro 的所有许可级别完成。
- en: How to do it...
  id: totrans-211
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何操作...
- en: Start ArcGIS Pro and open the `3DAnalyst.aprx` project you used in the previous
    recipes in this chapter. This project should be included in your list of recently
    opened projects.
  id: totrans-212
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 启动 ArcGIS Pro 并打开本章前面示例中使用的 `3DAnalyst.aprx` 项目。该项目应包含在你的最近打开的项目列表中。
- en: In the Catalog pane, right-click the Maps folder and select New Scene.
  id: totrans-213
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在目录窗格中，右键单击地图文件夹并选择新建场景。
- en: A new scene should open in the view area. Unless you have changed the default
    options, the new scene will display in the Global view. Since you are working
    with a single small city, you need to change it to a local view. Click the View
    tab in the ribbon.
  id: totrans-214
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 应在视图区域打开一个新的场景。除非你已更改默认选项，否则新场景将在全局视图中显示。由于你正在处理一个单一的小城市，你需要将其更改为本地视图。点击功能区中的视图选项卡。
- en: 'Click the Local button located in the View group. This will change your scene
    to be a local view, as illustrated in the following screenshot:'
  id: totrans-215
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击位于视图组中的本地按钮。这将使你的场景变为本地视图，如下面的截图所示：
- en: '![](img/136d9eb3-c7dd-48e5-a9c7-54215b6bded1.png)'
  id: totrans-216
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/136d9eb3-c7dd-48e5-a9c7-54215b6bded1.png)'
- en: Scenes will either be global or local. Global scenes are used for large area
    3D maps where the curvature of the earth can impact the display and analysis of
    the data. Local scenes are for smaller areas such as a City, Township, or County.
    In these cases, the curvature of the earth has less impact due to the scale of
    the 3D map. Local scenes most often make use of a projected coordinate system,
    whereas Global uses a geographic. For more information about global and local
    scenes, go to [http://pro.arcgis.com/en/pro-app/help/mapping/map-authoring/scenes.htm](http://pro.arcgis.com/en/pro-app/help/mapping/map-authoring/scenes.htm).
  id: totrans-217
  prefs: []
  type: TYPE_NORMAL
  zh: 场景可以是全局的或本地的。全局场景用于大范围 3D 地图，其中地球曲率可能会影响数据的显示和分析。本地场景适用于较小的区域，如城市、镇或县。在这些情况下，由于
    3D 地图的规模，地球曲率的影响较小。本地场景通常使用投影坐标系，而全局场景使用地理坐标系。有关全局和本地场景的更多信息，请访问 [http://pro.arcgis.com/en/pro-app/help/mapping/map-authoring/scenes.htm](http://pro.arcgis.com/en/pro-app/help/mapping/map-authoring/scenes.htm)。
- en: Set the elevation source, which will be the surface for this new scene. Right-click
    the Scene in the Contents pane and select Properties from the menu that appears.
  id: totrans-218
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 设置高程源，这将作为此新场景的表面。在内容窗格中右键单击场景并从出现的菜单中选择属性。
- en: Click Elevation Surface in the left panel of the Map Properties window.
  id: totrans-219
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在地图属性窗口的左侧面板中点击“高程表面”。
- en: Expand the Elevation sources option in the middle of the right panel of the
    window.
  id: totrans-220
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在窗口右侧面板的中间展开“高程源”选项。
- en: Click the Add Elevation Source button.
  id: totrans-221
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击“添加高程源”按钮。
- en: Click the Databases folder on the left panel of the Add Elevation Source window.
  id: totrans-222
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在“添加高程源”窗口的左侧面板中点击数据库文件夹。
- en: Double-click the Trippville_GIS.gdb geodatabase in the right panel.
  id: totrans-223
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在右侧面板中双击Trippville_GIS.gdb地理数据库。
- en: Select DEM and click OK to assign this as an elevation source. You may receive
    a warning that a datum transformation was applied. This is because the DEM and
    the Esri default terrain surface use different horizontal and vertical datums.
  id: totrans-224
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择DEM并点击确定将其分配为高程源。你可能收到一个警告，说明应用了基准转换。这是因为DEM和Esri默认地形表面使用不同的水平和垂直基准。
- en: 'You will now remove the Esri Terrain as an Elevation source because it is not
    needed. Click the small red X located to the right of the Esri WorldElevation3D
    service, as indicated here:'
  id: totrans-225
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你现在将移除Esri Terrain作为高程源，因为它不再需要。点击此处所示位于Esri WorldElevation3D服务右侧的小红色X。
- en: '![](img/b06cd007-68e1-4a87-a835-98eda5dd020b.png)'
  id: totrans-226
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/b06cd007-68e1-4a87-a835-98eda5dd020b.png)'
- en: Set the Surface color to No Color using the drop-down arrow. This will allow
    you to see layers below the surface.
  id: totrans-227
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用下拉箭头将表面颜色设置为无颜色。这将允许你看到表面下的图层。
- en: Set the coordinate system for the scene. Click the Coordinate System option
    in the left panel of the Map Properties window.
  id: totrans-228
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 设置场景的坐标系统。在地图属性窗口的左侧面板中点击“坐标系统”选项。
- en: Click the Add Coordinate System button that looks like a small wireframe globe
    with a green plus symbol on it, located on the right side of the window.
  id: totrans-229
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击窗口右侧看起来像一个小线框地球仪并带有绿色加号符号的“添加坐标系统”按钮。
- en: Select Import Coordinate System from the menu that appears.
  id: totrans-230
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从出现的菜单中选择导入坐标系统。
- en: Select DEM in the right panel of the window and click OK. If you do not see
    the DEM listed, use the skills you have learned to navigate to the Trippville_GIS
    geodatabase in the project. You may again see the warning about the imported coordinate
    system. If you do, ignore it.
  id: totrans-231
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在窗口的右侧面板中选择DEM并点击确定。如果你没有看到DEM列出来，使用你学到的技能导航到项目中的Trippville_GIS地理数据库。你可能还会看到关于导入坐标系统的警告。如果有，请忽略它。
- en: Click the General option in the left panel of the window.
  id: totrans-232
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在窗口的左侧面板中点击“常规”选项。
- en: Name the Scene Trippville Buildings.
  id: totrans-233
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将场景命名为Trippville Buildings。
- en: Set the Elevation Units to US Feet using the drop-down arrow and click OK.
  id: totrans-234
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用下拉箭头将高程单位设置为美国英尺并点击确定。
- en: Your map view may now appear empty after you click OK. Do not worry if it does.
    This is normal. When you add layers, you will see the basemap and newly added
    layers displayed in the view.
  id: totrans-235
  prefs: []
  type: TYPE_NORMAL
  zh: 点击确定后，你的地图视图现在可能看起来是空的。如果你看到这种情况，请不要担心，这是正常的。当你添加图层时，你将在视图中看到基础地图和新增的图层。
- en: The new scene is ready to begin adding layers. You will add a few layers to
    the new scene now.
  id: totrans-236
  prefs: []
  type: TYPE_NORMAL
  zh: 新的场景已经准备好开始添加图层。现在你将为新场景添加几个图层。
- en: Save your project.
  id: totrans-237
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 保存你的项目。
- en: Just a reminder, you should save your projects often because ArcGIS Pro does
    not have an autosave option for projects. Working with 3D scenes requires a lot
    more resources than 2D Maps. This makes them more prone to crashing and failure.
    To allow you to quickly recover if this happens, save your project any time you
    have made major changes to it, such as adding and configuring a new scene.
  id: totrans-238
  prefs: []
  type: TYPE_NORMAL
  zh: 提醒一下，你应该经常保存你的项目，因为ArcGIS Pro没有为项目提供自动保存选项。与3D场景一起工作需要比2D地图更多的资源。这使得它们更容易崩溃和失败。为了在你遇到这种情况时能够快速恢复，每次你对项目进行重大更改时，例如添加和配置新场景，都要保存你的项目。
- en: Click the Add Data button in the Layer group on the Map tab in the ribbon.
  id: totrans-239
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在功能区地图选项卡上的图层组中点击“添加数据”按钮。
- en: Click the Databases folder on the left panel of the Add Data window under Project.
  id: totrans-240
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在“项目”下的“添加数据”窗口的左侧面板中点击数据库文件夹。
- en: Double-click the Trippville_GIS geodatabase in the right panel.
  id: totrans-241
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在右侧面板中双击Trippville_GIS地理数据库。
- en: Double-click the Base feature dataset.
  id: totrans-242
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 双击基础要素数据集。
- en: Select the Buildings and Parcels feature classes. Hold your *Ctrl* key down
    to select both. Click OK once both are selected.
  id: totrans-243
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择建筑物和地块要素类。按住*Ctrl*键选择两者。选择后点击确定。
- en: The two layers are added as 2D layers to your scene. If your map view was blank,
    it should now display the two layers you just added along with your basemap. Now
    we will work on adjusting the symbology for both layers.
  id: totrans-244
  prefs: []
  type: TYPE_NORMAL
  zh: 这两个图层已作为二维图层添加到你的场景中。如果你的地图视图是空的，现在应该显示你刚刚添加的两个图层以及你的底图。现在我们将调整这两个图层的符号。
- en: Click the small symbol patch located below the Parcels layer name in the Contents
    pane.
  id: totrans-245
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在内容窗格中点击位于“地块层”名称下方的小符号块。
- en: In the Symbology pane that appears, ensure you are looking at the Gallery. The
    Gallery contains preconfigured symbols. Scroll down until you find the Black Outline
    (1pt) symbol and select it.
  id: totrans-246
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在出现的符号面板中，确保你正在查看图库。图库包含预配置的符号。向下滚动，直到找到黑色轮廓（1pt）符号并选择它。
- en: Click the small symbol patch located below the Buildings layer in the Contents
    pane.
  id: totrans-247
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在内容窗格中点击位于“建筑层”下方的小符号块。
- en: Scroll down through the list of symbols until you come to the dark gray Building
    Footprint symbol that is in Category 3\. Select that symbol for your buildings
    layer.
  id: totrans-248
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在符号列表中向下滚动，直到找到类别3中的深灰色建筑足迹符号。为你的建筑层选择该符号。
- en: If you hover your mouse pointer over a symbol in the Symbology pane, you will
    see information about the symbol including its name, the style in which it is
    stored, and its category. Also at the top of the Symbology pane is a Search function
    that you can use to locate predefined symbols based on a keyword. For example,
    you could have searched Building and it would have returned all symbols that are
    associated with buildings, including the one you were looking for.
  id: totrans-249
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你将鼠标指针悬停在符号面板中的符号上，你会看到有关该符号的信息，包括其名称、存储的样式和其类别。符号面板顶部还有一个搜索功能，你可以使用它根据关键词定位预定义的符号。例如，你可以搜索“建筑”，它将返回所有与建筑相关的符号，包括你正在寻找的那个。
- en: Close the Symbology pane.
  id: totrans-250
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 关闭符号面板。
- en: 'Right-click the Buildings layer in the Contents pane and select Zoom to Layer.
    You scene should now look very similar to the following screenshot. The scale
    may be different, depending on the size of your monitor and your resolution:'
  id: totrans-251
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在内容窗格中右键点击“建筑层”，然后选择“缩放到图层”。现在你的场景应该看起来非常类似于以下截图。比例可能因你的显示器大小和分辨率而异：
- en: '![](img/8b73c1ad-8b52-40f0-ae5a-de4b8a69cd83.png)'
  id: totrans-252
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/8b73c1ad-8b52-40f0-ae5a-de4b8a69cd83.png)'
- en: Drag and drop the Buildings layer from the 2D Layers to the 3D Layers.
  id: totrans-253
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将“建筑层”从二维图层拖放到三维图层。
- en: Save your project.
  id: totrans-254
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 保存你的项目。
- en: Click the Appearance tab in the ribbon.
  id: totrans-255
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在功能区点击“外观”标签。
- en: Click the drop-down arrow below Type in the Extrusion group. Select Max Height
    from the list presented.
  id: totrans-256
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在拉伸组中点击“类型”下方的下拉箭头。从显示的列表中选择最大高度。
- en: Ensure the Unit is set to US Feet.
  id: totrans-257
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确保单位设置为美国英尺。
- en: In the Extrusion Expression cell located to the right of the Type button, click
    the drop-down arrow and select the [Est_HGT] field from the list. This will extrude
    the buildings based on their estimated height stored in the attribute table for
    the layer.
  id: totrans-258
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在类型按钮右侧的拉伸表达式单元格中，点击下拉箭头并从列表中选择[Est_HGT]字段。这将根据存储在图层属性表中的估计高度拉伸建筑。
- en: 'Using the skills you learned in the first recipe of this chapter, *Creating
    a 3D map*, zoom in on the downtown area and rotate your scene so it looks similar
    to the following screenshot:'
  id: totrans-259
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用本章第一道菜谱中学到的技能，*创建3D地图*，放大市中心区域并旋转场景，使其看起来类似于以下截图：
- en: '![](img/d75a2502-53eb-4cb1-8fdf-f64a991bd6b5.png)'
  id: totrans-260
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/d75a2502-53eb-4cb1-8fdf-f64a991bd6b5.png)'
- en: You can now see the buildings extruded to their estimated height. While they
    look 3D, they are still just 2D features that are being artificially expanded
    along the *z* axis to appear 3D. Now you will convert them to 3D Multipatch features.
  id: totrans-261
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，你可以看到建筑被拉伸到它们的估计高度。虽然它们看起来是3D的，但它们仍然是沿着*z*轴人工扩展的二维特征，以看起来像是3D。现在你将它们转换为3D
    Multipatch特征。
- en: Click the Analysis tab in the ribbon.
  id: totrans-262
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在功能区点击“分析”标签。
- en: Click the Tools button on the Geoprocessing group to open the Geoprocessing
    pane.
  id: totrans-263
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击地理处理组中的“工具”按钮以打开地理处理窗格。
- en: Click the Toolboxes tab in the Geoprocessing pane.
  id: totrans-264
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在地理处理窗格中点击工具箱标签。
- en: Expand the 3D Analyst Tools toolbox.
  id: totrans-265
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 展开三维分析师工具箱。
- en: Expand the Conversion toolset and select the Layer 3D to Feature Class tool.
  id: totrans-266
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 展开转换工具集并选择“图层3D到要素类”工具。
- en: Set the Input Feature Layer to Buildings using the drop-down arrow.
  id: totrans-267
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用下拉箭头将输入要素层设置为“建筑”。
- en: Click the Browse button for the Output Feature Class.
  id: totrans-268
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击输出要素类的浏览按钮。
- en: Click the Databases folder under Project in the left panel of the Output Feature
    Class window. Double-click the Trippville_GIS geodatabase.
  id: totrans-269
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在输出要素类窗口的左侧面板中，点击项目下的数据库文件夹。双击 Trippville_GIS 地理数据库。
- en: Type Buildings_MP for the Name. Click Save.
  id: totrans-270
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将名称设置为 Buildings_MP。点击保存。
- en: 'Verify your Layer 3D to Feature Class tool looks like the following and click
    Run:'
  id: totrans-271
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确认你的 Layer 3D to Feature Class 工具看起来如下，然后点击运行：
- en: '![](img/b92ac3b6-359d-4669-aa6d-6cbb3bc67332.png)'
  id: totrans-272
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/b92ac3b6-359d-4669-aa6d-6cbb3bc67332.png)'
- en: Turn off the Buildings layer to confirm your conversion was successful. You
    should still see 3D buildings on the map. These are the multipatch features you
    just created.
  id: totrans-273
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 关闭 Buildings 图层以确认你的转换是否成功。你应该仍然在地图上看到 3D 建筑物。这些就是你刚刚创建的 multipatch 特征。
- en: Right-click the Buildings_MP layer and select Attribute Table. Then answer the
    following question.
  id: totrans-274
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 右键点击 Buildings_MP 图层并选择属性表。然后回答以下问题。
- en: '**Question**: What is the shape for the layer you just created?'
  id: totrans-275
  prefs: []
  type: TYPE_NORMAL
  zh: '**问题**：你刚刚创建的图层的形状是什么？'
- en: '**Answer**:'
  id: totrans-276
  prefs: []
  type: TYPE_NORMAL
  zh: '**答案**:'
- en: As you can see, the new layer is a Multipatch shape. It is no longer a polygon.
    Now let’s see an example of the increased capability a multipatch allows you to
    have. We will use a tool you are already familiar with, Add Z Information.
  id: totrans-277
  prefs: []
  type: TYPE_NORMAL
  zh: 如你所见，新图层是一个 Multipatch 形状。它不再是多边形。现在让我们看看 multipatch 允许你拥有的增强功能的一个例子。我们将使用你已熟悉的工具，Add
    Z Information。
- en: Close the attribute table for the Buildings_MP layer.
  id: totrans-278
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 关闭 Buildings_MP 图层的属性表。
- en: Open the Add Z Information tool in the 3D Analyst Tools and 3D Features Toolset,
    using the skills you have learned.
  id: totrans-279
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 3D Analyst 工具和 3D 特征工具集中打开 Add Z Information 工具，使用你已学到的技能。
- en: Set the Input Features to the Buildings_MP layer. Then look at the Output Property
    options that are available.
  id: totrans-280
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将输入要素设置为 Buildings_MP 图层。然后查看可用的输出属性选项。
- en: Now set the Input Features to the Buildings layer and notice the Output Property
    options available for this layer.
  id: totrans-281
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在将输入要素设置为 Buildings 图层，并注意此图层可用的输出属性选项。
- en: 'Answer the following question:'
  id: totrans-282
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 回答以下问题：
- en: '**Question**: What is the difference between the two layers when they are set
    as the Input Features?'
  id: totrans-283
  prefs: []
  type: TYPE_NORMAL
  zh: '**问题**：当它们被设置为输入要素时，两个图层之间的区别是什么？'
- en: '**Answer**:'
  id: totrans-284
  prefs: []
  type: TYPE_NORMAL
  zh: '**答案**：'
- en: When you set the Buildings_MP as the Input Features for the Add Z Information
    tool, you are presented with many output options. You can have the tool calculate
    the volume of each building, the total surface area, and more. When you set the
    Buildings layer as the input, you are presented with no options. That is because
    that layer, though being displayed in 3D, is not a true 3D layer. So the tool
    will not work with it.
  id: totrans-285
  prefs: []
  type: TYPE_NORMAL
  zh: 当你将 Buildings_MP 作为 Add Z Information 工具的输入要素时，你会看到许多输出选项。你可以让工具计算每座建筑的体积、总面积等等。当你将
    Buildings 图层作为输入时，你会看到没有选项。这是因为尽管该层在 3D 中显示，但它不是一个真正的 3D 层。因此，该工具不会与它一起工作。
- en: If you want, you can run the Add Z Information tool using the Buildings_MP layer
    as the input and whatever options for the Output Property you want just so you
    can see the results. If you do, close the Geoprocessing pane when it is complete.
    If you do not want to try this step, simply close the Geoprocessing pane.
  id: totrans-286
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果你愿意，可以使用 Buildings_MP 图层作为输入并选择你想要的任何输出属性选项来运行 Add Z Information 工具，以便查看结果。如果你这样做，当它完成时关闭地理处理面板。如果你不想尝试这一步，只需关闭地理处理面板。
- en: Save your project and close ArcGIS Pro.
  id: totrans-287
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 保存你的项目并关闭 ArcGIS Pro。
- en: Creating 3D features
  id: totrans-288
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 创建 3D 特征
- en: So far you have learned how to create 3D features from existing 2D features.
    The first method you learned was creating a new Z-enabled feature class and importing
    existing 2D features into it. Then, updating the Z coordinates based on a elevation
    surface. Next, you learned how to convert extruded features into a new multipatch
    feature class. So how do you create new 3D features from scratch?
  id: totrans-289
  prefs: []
  type: TYPE_NORMAL
  zh: 到目前为止，你已经学会了如何从现有的 2D 特征创建 3D 特征。你学到的第一种方法是创建一个新的 Z 启用要素类，并将现有的 2D 特征导入其中。然后，根据高程表面更新
    Z 坐标。接下来，你学习了如何将拉伸特征转换为新的 multipatch 要素类。那么，你是如何从头开始创建新的 3D 特征的呢？
- en: Like most things in ArcGIS Pro, there are several methods you can use. You can
    create new 3D features in either a 2D map or a 3D scene. You can then specify
    a specific Z coordinate or have them automatically inherit the ground surface
    elevation.
  id: totrans-290
  prefs: []
  type: TYPE_NORMAL
  zh: 就像在 ArcGIS Pro 中的大多数事情一样，你可以使用几种方法。你可以在 2D 地图或 3D 场景中创建新的 3D 特征。然后，你可以指定特定的
    Z 坐标，或者让它们自动继承地面表面高程。
- en: In this recipe, you will create a few new 3D features. These are based on requests
    from the Director of Planning for the City of Trippville. For the first, he wants
    to flesh out the 3D view of the City, so it includes fences. So, you will begin
    digitizing fences. You will start in a 2D map and then move to the 3D Scene. Next,
    the Director is concerned about the construction of a new proposed building. He
    believes it will block the view to one of the main parks in the City from an existing
    building. So, he needs you to establish a few observation points that you will
    use in a later recipe to establish sight lines and determine visibility.
  id: totrans-291
  prefs: []
  type: TYPE_NORMAL
  zh: 在本食谱中，您将创建一些新的3D要素。这些是基于Trippville市规划局长的请求。对于第一个，他希望充实城市的3D视图，因此包括栅栏。因此，您将开始数字化栅栏。您将从2D地图开始，然后移动到3D场景。接下来，局长关注一个新提议的建筑的建设。他相信这将阻挡从现有建筑到城市主要公园的视线。因此，他需要您建立一些观察点，您将在后面的食谱中使用这些观察点来建立视线并确定可见性。
- en: Getting ready
  id: totrans-292
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 准备工作
- en: You must have completed the other recipes in this chapter before starting this
    one. This will ensure you have the required project, maps, scenes, and data to
    complete this project. It will also confirm you have a good foundational understanding
    of where to access the required tools and basic concepts required to complete
    this recipe.
  id: totrans-293
  prefs: []
  type: TYPE_NORMAL
  zh: 在开始本节之前，您必须完成本章中的其他食谱。这将确保您拥有完成此项目所需的工程、地图、场景和数据。这还将确认您对如何访问所需的工具以及完成此食谱所需的基本概念有良好的基础理解。
- en: You will also need to ensure the sample data is installed before you continue.
  id: totrans-294
  prefs: []
  type: TYPE_NORMAL
  zh: 在继续之前，您还需要确保已安装示例数据。
- en: How to do it...
  id: totrans-295
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何操作...
- en: Start ArcGIS Pro and open the `3DAnalyst.aprx` project you used in the previous
    recipes in this chapter. This project should be included in your list of recently
    opened projects.
  id: totrans-296
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 启动ArcGIS Pro并打开本章之前使用的`3DAnalyst.aprx`项目。此项目应包含在您最近打开的项目列表中。
- en: Add an existing 2D map that contains the layers you need. Right-click the Maps
    folder in the Project pane and select Import for the menu.
  id: totrans-297
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加包含所需层的一个现有2D地图。在项目面板中右键单击地图文件夹，并从菜单中选择导入。
- en: In the Import window, expand the Computer folder in the left panel.
  id: totrans-298
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在导入窗口中，展开左侧面板中的计算机文件夹。
- en: Select the `C:` drive that may be labeled as OS or local drive.
  id: totrans-299
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择可能标记为OS或本地驱动器的`C:`驱动器。
- en: Scroll to the Student folder in the right panel and double-click it.
  id: totrans-300
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在右侧面板中滚动到学生文件夹，并双击它。
- en: Double-click the ArcGISProCookbook folder in the right panel.
  id: totrans-301
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在右侧面板中双击ArcGISProCookbook文件夹。
- en: Scroll down and double-click the Chapter10 folder.
  id: totrans-302
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 滚动并双击Chapter10文件夹。
- en: Select the Trippville_2Dd_Map.mapx file and click OK. This is a map file. Importing
    this file will create a new 2D map in your project.
  id: totrans-303
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择Trippville_2Dd_Map.mapx文件并点击确定。这是一个地图文件。导入此文件将在您的项目中创建一个新的2D地图。
- en: 'A new 2D map should be added to your project. You should now see this new map
    in your map view area of the ArcGIS Pro interface, as shown in the following screenshot:'
  id: totrans-304
  prefs: []
  type: TYPE_NORMAL
  zh: 应该会向您的项目中添加一个新的2D地图。现在您应该在ArcGIS Pro界面的地图视图区域中看到这个新地图，如下面的截图所示：
- en: '![](img/1952bbb4-f354-4102-85bc-e1fe214e2360.png)'
  id: totrans-305
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/1952bbb4-f354-4102-85bc-e1fe214e2360.png)'
- en: Before you can edit 3D data in a 2D map, you need to ensure it has an elevation
    surface assigned. Next, you will make sure the new 2D map is using the DEM for
    the City of Trippville.
  id: totrans-306
  prefs: []
  type: TYPE_NORMAL
  zh: 在您可以在2D地图中编辑3D数据之前，您需要确保它已分配了高程表面。接下来，您将确保新的2D地图使用Trippville市的DEM。
- en: Save your project.
  id: totrans-307
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 保存您的项目。
- en: Right-click the Trippville map at the top of the Contents pane.
  id: totrans-308
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在内容面板顶部右键单击Trippville地图。
- en: Select Properties from the menu that appears.
  id: totrans-309
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从出现的菜单中选择属性。
- en: Select the Elevation Surface option from the left panel of the Map Properties
    window.
  id: totrans-310
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从地图属性窗口的左侧面板中选择高程表面选项。
- en: Expand the Elevation sources option.
  id: totrans-311
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 展开高程源选项。
- en: Click the Add Elevation Source button.
  id: totrans-312
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击添加高程源按钮。
- en: Click the Databases folder in the left panel of the Add Elevation Source window.
  id: totrans-313
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在添加高程源窗口的左侧面板中点击数据库文件夹。
- en: Double-click the Trippville_GIS geodatabase in the right panel of the window.
  id: totrans-314
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在窗口的右侧面板中双击Trippville_GIS地理数据库。
- en: Select the DEM and click OK.
  id: totrans-315
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择DEM并点击确定。
- en: 'Verify your Map Properties window looks like the following screenshot and click
    OK:'
  id: totrans-316
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确认您的地图属性窗口看起来如下面的截图所示，然后点击确定：
- en: '![](img/9dd9875b-79e6-4d41-b916-ff5c482c2f77.png)'
  id: totrans-317
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/9dd9875b-79e6-4d41-b916-ff5c482c2f77.png)'
- en: Save your project.
  id: totrans-318
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 保存您的项目。
- en: You have prepared your 2D Map, so it allows you to edit 3D data by ensuring
    it has an Elevation Surface assigned to it. Sometimes it is easier to edit 3D
    data in a 2D map because you are more comfortable with those tools. Now, to digitize
    a fence.
  id: totrans-319
  prefs: []
  type: TYPE_NORMAL
  zh: 您已经准备好了二维地图，因此它允许您通过确保分配给它一个高程表面来编辑三维数据。有时在二维地图中编辑三维数据更容易，因为您更熟悉那些工具。现在，要数字化一个围栏。
- en: Click the Map tab to activate it in the ribbon.
  id: totrans-320
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击功能区中的“地图”标签以激活它。
- en: Click the Bookmark button in the Layer group and select the Fence 1 bookmark.
    This will zoom you to the area that has two fences you will digitize.
  id: totrans-321
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击图层组中的书签按钮并选择“围栏1”书签。这将您缩放到您将数字化两个围栏的区域。
- en: 'Zoom in to the parcel indicated in the following screenshot. Zoom in as close
    as you need to see the fence surrounding the backyard:'
  id: totrans-322
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 放大以下截图所示的包裹区域。放大到你需要看到后院围栏的程度：
- en: '**![](img/1bf3d0a6-3ac2-4a84-a641-286d7e6c5d01.png)**'
  id: totrans-323
  prefs: []
  type: TYPE_NORMAL
  zh: '**![](img/1bf3d0a6-3ac2-4a84-a641-286d7e6c5d01.png)**'
- en: Click the List by Editing button at the top of the Contents pane. It is the
    one that resembles a pencil.
  id: totrans-324
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击内容面板顶部的“按编辑列表”按钮。它类似于一支铅笔。
- en: Ensure the Fence layer is enabled for editing.
  id: totrans-325
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确保围栏层已启用编辑。
- en: Click the Edit tab in the ribbon.
  id: totrans-326
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在功能区中点击“编辑”标签。
- en: Since the Fence layer is Z-enabled, you need to tell ArcGIS Pro where the Z
    coordinate will come from when you draw a new fence. You will need to configure
    the Z mode to do this. Click the small arrow located below the Z Mode button.
  id: totrans-327
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 由于围栏层是Z启用的，您需要告诉ArcGIS Pro在您绘制新围栏时Z坐标将从哪里来。您需要配置Z模式来完成此操作。点击位于Z模式按钮下的小箭头。
- en: Select Surface from the small menu that appears. This should make Ground appear
    in the cell located to the lower right of the button. This means the Z value for
    each vertex will be determined based on the ground surface elevation where you
    click.
  id: totrans-328
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从出现的菜单中选择“表面”。这应该在按钮右下方的单元格中显示“地面”。这意味着每个顶点的Z值将基于您点击的地面表面高程来确定。
- en: Selecting Constant allows you to manually enter a constant Z value that will
    be applied to all new Z-enabled features you create.
  id: totrans-329
  prefs: []
  type: TYPE_NORMAL
  zh: 选择“常量”允许您手动输入一个将应用于您创建的所有新Z启用要素的常量Z值。
- en: Click the Create button in the Feature group on the Edit tab. This will open
    the Create Features pane.
  id: totrans-330
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在“编辑”标签的“要素”组中点击“创建”按钮。这将打开“创建要素”面板。
- en: Select the Fence feature template in the Create Features pane.
  id: totrans-331
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在“创建要素”面板中选择围栏要素模板。
- en: 'Digitize the fence in by clicking at the locations shown in the following screenshot:'
  id: totrans-332
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过点击以下截图所示的地点来数字化围栏：
- en: '**![](img/afb37d6d-5564-4183-84eb-67219a622aee.png)**'
  id: totrans-333
  prefs: []
  type: TYPE_NORMAL
  zh: '**![](img/afb37d6d-5564-4183-84eb-67219a622aee.png)**'
- en: Click the Attributes button located in the Selection group on the Edit tab.
    This will open the Attribute pane. You need to set the height of the fence.
  id: totrans-334
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击位于“编辑”标签的“选择”组中的“属性”按钮。这将打开属性面板。您需要设置围栏的高度。
- en: In the Height cell, type `6` and press the *Enter* key to show it is a 6 foot
    tall fence.
  id: totrans-335
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在“高度”单元格中输入`6`并按*Enter*键，以显示这是一个6英尺高的围栏。
- en: Click the Geometry tab in the Attribute pane and look at the values. Now answer
    the following question.
  id: totrans-336
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击属性面板中的“几何”选项卡并查看值。现在回答以下问题。
- en: 'Question: How did the Z values get populated when all you did was click a 2D
    location in the map?'
  id: totrans-337
  prefs: []
  type: TYPE_NORMAL
  zh: 问题：当您只是在地图中点击一个二维位置时，Z值是如何被填充的？
- en: 'Answer:'
  id: totrans-338
  prefs: []
  type: TYPE_NORMAL
  zh: 答案：
- en: As you can see, even though you were creating the Z-enabled fence features in
    a 2D map, ArcGIS Pro was still able to determine a value for the Z coordinate
    as well as the X and Y. It did this by comparing the location you clicked to the
    ground surface and interpolating the Z value for that location.
  id: totrans-339
  prefs: []
  type: TYPE_NORMAL
  zh: 如您所见，尽管您在二维地图中创建Z启用围栏要素，但ArcGIS Pro仍然能够确定Z坐标以及X和Y的值。它是通过比较您点击的位置与地面表面并插值该位置的Z值来做到这一点的。
- en: Close the Attributes pane.
  id: totrans-340
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 关闭属性面板。
- en: Click the Save button in the Manage Edits group on the Edit tab to save your
    edits. When asked to Save all edits, click Yes.
  id: totrans-341
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在“编辑”标签的“管理编辑”组中点击“保存”按钮以保存您的编辑。当被问及保存所有编辑时，点击是。
- en: Click the Clear button in the Selection group to deselect the new fence you
    just created.
  id: totrans-342
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击“选择”组中的“清除”按钮以取消选择您刚刚创建的新围栏。
- en: Click the Trippville Buildings scene you have worked with in previous recipes.
    It should be at the top of the view area.
  id: totrans-343
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击您在之前的菜谱中使用的Trippville Buildings场景。它应该在视图区域的顶部。
- en: If you closed the Trippville Buildings scene, you can reopen it from the Project
    pane. Simply locate the scene in the Maps folder in the Project pane. Then right-click
    and select Open Local View.
  id: totrans-344
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您关闭了Trippville Buildings场景，您可以从项目面板重新打开它。只需在项目面板中找到地图文件夹中的场景。然后右键单击并选择打开本地视图。
- en: Activate the Map tab in the ribbon. Then click the Basemap button in the Layer
    group and select the Imagery basemap.
  id: totrans-345
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在功能区中激活地图选项卡。然后点击图层组中的底图按钮并选择影像底图。
- en: Click the Add Data button in the Layer group on the Map tab.
  id: totrans-346
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在地图选项卡中的图层组中点击添加数据按钮。
- en: Click the `C:` drive located under `Computer`. Then navigate to the `C:\Student\ArcGISProCookbook\Chapter10`
    folder.
  id: totrans-347
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击位于`计算机`下的`C:`驱动器。然后导航到`C:\Student\ArcGISProCookbook\Chapter10`文件夹。
- en: Select the `Fence_3D` layer file and click OK. The fence layer should appear
    in your scene with the symbology already configured.
  id: totrans-348
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择`Fence_3D`图层文件，然后点击确定。栅栏层应该已经配置好符号并出现在您的场景中。
- en: Click the Bookmarks button and select the Fences 1 bookmark. This will zoom
    you to the same area you were just working with in your 2D map.
  id: totrans-349
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击书签按钮，然后选择Fences 1书签。这将使您缩放到与您在2D地图中刚刚工作的相同区域。
- en: Click the Explore tool and zoom out until you see the house with the pool located
    to the northwest of the parcel with the fence you just drew.
  id: totrans-350
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击探索工具并放大，直到您看到位于您刚刚绘制的栅栏包裹地块西北方向的带有游泳池的房屋。
- en: 'Zoom in on the house with the pool until your view looks similar to the following
    screenshot:'
  id: totrans-351
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将视图放大到带有游泳池的房屋，直到您的视图看起来与以下截图相似：
- en: '**![](img/14b5a64c-0dac-43d3-b991-731a00780d4e.png)**'
  id: totrans-352
  prefs: []
  type: TYPE_NORMAL
  zh: '**![](img/14b5a64c-0dac-43d3-b991-731a00780d4e.png)**'
- en: Click the Edit tab in the ribbon.
  id: totrans-353
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在功能区中点击编辑选项卡。
- en: Click the drop-down arrow below the Z Mode button and review your options. Answer
    the following question.
  id: totrans-354
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击Z模式按钮下方的下拉箭头并查看您的选项。回答以下问题。
- en: 'Question: What options are available for the Z mode in the scene you are working
    with?'
  id: totrans-355
  prefs: []
  type: TYPE_NORMAL
  zh: 问题：在您正在工作的场景中，Z模式有哪些选项可用？
- en: 'Answer:'
  id: totrans-356
  prefs: []
  type: TYPE_NORMAL
  zh: 回答：
- en: As you can see, the surface options are grayed out. This is because in a 3D
    scene, the ground surface is automatically used to determine the Z coordinates
    for any new features. You do not need to set this when creating new Z-enabled
    features in a scene like you do in a 2D map.
  id: totrans-357
  prefs: []
  type: TYPE_NORMAL
  zh: 如您所见，表面选项被灰色显示。这是因为在一个3D场景中，地面表面会自动用于确定任何新特征的Z坐标。在创建场景中的新Z启用特征时，您不需要设置此选项，就像在2D地图中做的那样。
- en: The Create features plane should still be open from when you created the first
    fence in the 2D map. If not, click the Create button to open it.
  id: totrans-358
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建要素平面应该仍然是从您在2D地图中创建第一个栅栏时打开的。如果不是，请点击创建按钮以打开它。
- en: 'Select the Fence feature template and digitize in the new fence, as illustrated
    in the following screenshot:'
  id: totrans-359
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择栅栏要素模板，并在新栅栏中数字化，如图所示：
- en: '**![](img/8e284ad9-d9aa-4fe6-ab9b-e6c14456d52b.png)**'
  id: totrans-360
  prefs: []
  type: TYPE_NORMAL
  zh: '**![](img/8e284ad9-d9aa-4fe6-ab9b-e6c14456d52b.png)**'
- en: The fence may not be visible after you complete it. This is because it has no
    height. It is running along the ground with all the other non-extruded layers.
    You will fix that now.
  id: totrans-361
  prefs: []
  type: TYPE_NORMAL
  zh: 完成后，栅栏可能不可见。这是因为它没有高度。它与所有其他非拉伸层一起沿着地面运行。您现在将修复这个问题。
- en: Click the Attribute button in the Selection group on the Edit tab. This will
    open the Attributes pane.
  id: totrans-362
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在编辑选项卡的选择组中点击属性按钮。这将打开属性面板。
- en: In the Height cell type `8` to make the height of the new fence display at eight
    feet. You should now see the fence in the scene.
  id: totrans-363
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在高度单元格中输入`8`以使新栅栏的高度显示为八英尺。您现在应该能在场景中看到栅栏。
- en: Close the Attributes and Create Features panes to free up screen space.
  id: totrans-364
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 关闭属性和创建要素面板以释放屏幕空间。
- en: Click the Clear button in the Selection group in the ribbon.
  id: totrans-365
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在功能区中的选择组中点击清除按钮。
- en: Click the Save button in the Manage Edits group to save the new fence you just
    created. Again, when asked if you want to save all edits, click Yes.
  id: totrans-366
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在管理编辑组中点击保存按钮以保存您刚刚创建的新栅栏。再次，当被问及是否要保存所有编辑时，请点击是。
- en: Activate the Explore tool in the Map tab in the ribbon.
  id: totrans-367
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在功能区中的地图选项卡中激活探索工具。
- en: 'Using the skills you have learned in previous recipes, rotate the view so you
    can see the new 3D fence you just created. It should look similar to the following
    graphic:'
  id: totrans-368
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用您在前面菜谱中学到的技能，旋转视图，以便您可以看到您刚刚创建的新3D栅栏。它应该看起来与以下图形相似：
- en: '**![](img/1b45ddca-0f66-48c6-858a-12d105082380.png)**'
  id: totrans-369
  prefs: []
  type: TYPE_NORMAL
  zh: '**![](img/1b45ddca-0f66-48c6-858a-12d105082380.png)**'
- en: You can see that the fence you created is being displayed in 3D using the Z
    coordinates for the starting elevation and extrusion to show the height. You are
    off to a good start with the request from the Planning Director to create and
    populate a new fence layer. However, he really wants to know whether that proposed
    new building will create a problem for the existing buildings by blocking their
    view of the park.
  id: totrans-370
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以看到，你创建的栅栏正在使用起始高程的 Z 坐标和拉伸来显示高度的方式以 3D 形式显示。你已经开始根据规划总监的要求创建和填充新的栅栏图层。然而，他真正想知道的是，那个提议中的新建筑是否会通过阻挡现有建筑的视线而给现有建筑造成问题。
- en: So, you will move on to conducting a line-of-sight analysis, the first part
    of which is establishing observation points from the existing buildings. These
    must be 3D points. You will start by creating a new Z-enabled point feature class.
    Then you will digitize new observation points from the existing buildings the
    Planning Director is concerned about. In the next recipe, you will complete the
    analysis.
  id: totrans-371
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，你将继续进行视线分析，其第一部分是从现有建筑中建立观测点。这些必须是 3D 点。你将首先创建一个新的 Z 启用点要素类。然后，你将数字化从规划总监关心的现有建筑中获取的新观测点。在下一个菜谱中，你将完成分析。
- en: In the Project pane, expand the Databases folder so you can see its contents.
  id: totrans-372
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在项目面板中，展开数据库文件夹以便查看其内容。
- en: 'Right-click the Trippville_GIS geodatabase and go to New. Then select Feature
    Class, as illustrated in the following screenshot:'
  id: totrans-373
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 右键点击 Trippville_GIS 地理数据库并选择新建。然后选择要素类，如下截图所示：
- en: '![](img/a402bb45-6265-43f8-a9bf-ef8877869f05.png)'
  id: totrans-374
  prefs: []
  type: TYPE_IMG
  zh: '![](img/a402bb45-6265-43f8-a9bf-ef8877869f05.png)'
- en: Name the new Feature Class as `Observ_PT`.
  id: totrans-375
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将新的要素类命名为 `Observ_PT`。
- en: Set the Geometry Type to Point using the drop-down arrow.
  id: totrans-376
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用下拉箭头将几何类型设置为点。
- en: Since this is a completely new feature class, not based on any existing ones,
    you will not specify a Template Feature Class. So, leave it blank.
  id: totrans-377
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 由于这是一个全新的要素类，不是基于任何现有的要素类，因此你将不会指定模板要素类。所以，留空。
- en: Set Has M to No using the drop-down arrow.
  id: totrans-378
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用下拉箭头将“有M”设置为否。
- en: Set Has Z to Yes if needed using the drop-down arrow.
  id: totrans-379
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如有必要，使用下拉箭头将“有Z”设置为是。
- en: Click the wireframe globe next to the Coordinate System to set the coordinate
    system for the new feature class so that it matches the rest of the Trippville
    data.
  id: totrans-380
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击坐标系统旁边的线框地球仪来设置新要素类的坐标系统，使其与 Trippville 数据的其余部分匹配。
- en: 'Click the Add Coordinate System button that looks like a wireframe globe with
    a green plus sign on it, as shown here. Select Import Coordinate System:'
  id: totrans-381
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击看起来像带有绿色加号的线框地球仪的添加坐标系统按钮，如下所示。选择导入坐标系统：
- en: '![](img/a74a9f13-1361-40d7-94cd-102cce00d958.png)'
  id: totrans-382
  prefs: []
  type: TYPE_IMG
  zh: '![](img/a74a9f13-1361-40d7-94cd-102cce00d958.png)'
- en: Double-click the Trippville_GIS geodatabase in the right panel of the window.
  id: totrans-383
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在窗口的右侧面板中双击 Trippville_GIS 地理数据库。
- en: Select the DEM and click OK to import the coordinate system settings from it
    to the new feature class you are creating.
  id: totrans-384
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择 DEM 并点击确定，将坐标系统设置从它导入到你正在创建的新要素类中。
- en: 'Both a Current XY and Current Z coordinate system should now be set, as illustrated
    in the following screenshot. If yours matches, click OK:'
  id: totrans-385
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在应该已经设置了当前 XY 和当前 Z 坐标系统，如下截图所示。如果与你的匹配，请点击确定：
- en: '![](img/2ad3f951-12c7-40b2-8e3f-c04338274995.png)'
  id: totrans-386
  prefs: []
  type: TYPE_IMG
  zh: '![](img/2ad3f951-12c7-40b2-8e3f-c04338274995.png)'
- en: 'Verify your Create Feature Class tool looks like the following and click Run:'
  id: totrans-387
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确认你的创建要素类工具看起来如下，然后点击运行：
- en: '![](img/5dfab7af-5e80-4b3f-a86f-cd9243d6c2cb.png)'
  id: totrans-388
  prefs: []
  type: TYPE_IMG
  zh: '![](img/5dfab7af-5e80-4b3f-a86f-cd9243d6c2cb.png)'
- en: When the Create Feature Class tool completes, you should see a new layer appear
    in your Contents pane. This new layer references the new feature class you just
    created. Now you need to digitize some points into the new layer that represent
    the observation locations the Planning Director is concerned about.
  id: totrans-389
  prefs: []
  type: TYPE_NORMAL
  zh: 当创建要素类工具完成时，你应该能在内容面板中看到一个新图层出现。这个新图层引用了你刚刚创建的新要素类。现在你需要将一些点数字化到新图层中，这些点代表规划总监关心的观测位置。
- en: Close the Geoprocessing pane that contains the Create Feature Class tool.
  id: totrans-390
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 关闭包含创建要素类工具的地理处理面板。
- en: Save your project.
  id: totrans-391
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 保存你的项目。
- en: Now you need to zoom to the proposed building location. You will do this by
    selecting the proposed building and then zooming to it. In the Map tab, click
    the Select By Attributes button.
  id: totrans-392
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，你需要将视图缩放到提议的建筑位置。你将通过选择提议的建筑然后缩放到它来完成此操作。在地图选项卡中，点击按属性选择按钮。
- en: Set the Layer Name or Table View to Buildings using the drop-down arrow and
    ensure the Selection Type is set to New Selection.
  id: totrans-393
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用下拉箭头将图层名称或表视图设置为“建筑”，并确保选择类型设置为“新选择”。
- en: Click the Add Clause button to build your SQL query.
  id: totrans-394
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击“添加子句”按钮以构建您的SQL查询。
- en: Using skills you have learned in the previous recipes, set the Field to Building
    Status, operator to is Equal too, and Values to Pr-Proposed. Depending on your
    version of ArcGIS Pro, you may only see Proposed as the displayed value. Then
    click Add.
  id: totrans-395
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用您在先前的菜谱中学到的技能，将字段设置为“建筑状态”，运算符设置为“等于”，并将值设置为“Pr-Proposed”。根据您的ArcGIS Pro版本，您可能只能看到“Proposed”作为显示值。然后点击“添加”。
- en: 'Verify your Select Layer by Attribute tool looks like the following and click
    Run:'
  id: totrans-396
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确认您的“按属性选择层”工具看起来如下，然后点击“运行”：
- en: '![](img/6f3af91f-fbf1-4610-a43c-3974c2e39117.png)'
  id: totrans-397
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/6f3af91f-fbf1-4610-a43c-3974c2e39117.png)'
- en: Close the Geoprocessing pane that contains the Select Layer by Attributes tool.
  id: totrans-398
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 关闭包含“按属性选择层”工具的地理处理窗格。
- en: 'Right-click the Buildings layer in the Contents pane. Then go to Selection
    and select Zoom to Selection, as illustrated in the following graphic:'
  id: totrans-399
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在内容窗格中右键单击Buildings层。然后转到“选择”并选择“缩放到选择”，如图所示：
- en: '![](img/29839127-2769-45e1-87f7-087a04468e1a.png)'
  id: totrans-400
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/29839127-2769-45e1-87f7-087a04468e1a.png)'
- en: 'The scene will zoom to the location of the proposed building that is causing
    all the concern. Your scene should now look similar to the following screenshot.
    Depending on the size of your monitor and the size of your ArcGIS Pro application,
    yours may look slightly different:'
  id: totrans-401
  prefs: []
  type: TYPE_NORMAL
  zh: 场景将缩放到引起所有关注的拟建建筑的位置。您的场景现在应该看起来类似于以下截图。根据您的显示器大小和ArcGIS Pro应用程序的大小，您的可能略有不同：
- en: '**![](img/2475ae51-b42d-406f-bda8-fcc3f95f9a00.png)**'
  id: totrans-402
  prefs: []
  type: TYPE_NORMAL
  zh: '**![图片](img/2475ae51-b42d-406f-bda8-fcc3f95f9a00.png)**'
- en: You can still query and zoom to features in a layer that have been turned off
    so they is not visible.
  id: totrans-403
  prefs: []
  type: TYPE_NORMAL
  zh: 您仍然可以查询并缩放到已关闭且不可见的图层中的要素。
- en: Using skills you have learned previously, add the Parks feature class located
    in the Trippville_GIS geodatabase to the scene. This will allow you to see the
    location of Washington Park, which is located to the northeast of this building.
    Ensure the Selection Type is set to New selection.
  id: totrans-404
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用您之前学到的技能，将位于Trippville_GIS地理数据库中的Parks要素类添加到场景中。这将允许您看到位于此建筑东北方向的华盛顿公园的位置。确保选择类型设置为“新选择”。
- en: 'Zoom and rotate the Trippville Buildings scene you are working in so that you
    can see the area surrounding the proposed building. Something similar to the following
    screenshot should work well. You may need to drag the Parks layer to the 2D Layers
    group in order to see it:'
  id: totrans-405
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 放大并旋转您正在工作的Trippville Buildings场景，以便您可以看到拟建建筑的周围区域。以下截图所示的效果应该很好。您可能需要将Parks层拖到2D
    Layers组中才能看到它：
- en: '![](img/7ad77645-672e-40f2-a7ed-7d4d2ddc2a56.png)'
  id: totrans-406
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/7ad77645-672e-40f2-a7ed-7d4d2ddc2a56.png)'
- en: The proposed building is the lighter gray one near the center of the scene.
    Washington Park is the light green area to the northeast of the proposed building.
    Now you need to digitize observation points for the buildings directly south and
    west of the proposed building.
  id: totrans-407
  prefs: []
  type: TYPE_NORMAL
  zh: 拟建的建筑物是场景中心附近的浅灰色建筑。华盛顿公园是位于拟建建筑东北部的浅绿色区域。现在您需要为拟建建筑直接南边和西边的建筑数字化观测点。
- en: In the Contents pane, click the List by Snapping button. Ensure the Buildings_MP
    layer is set as snappable.
  id: totrans-408
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在内容窗格中，点击“按捕捉列表”按钮。确保Buildings_MP层设置为可捕捉。
- en: Click the List by Editing button in the Contents pane. Right-click the Observ_PT
    layer and select Make this the only editable layer.
  id: totrans-409
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在内容窗格中点击“按编辑列表”按钮。右键单击Observ_PT层并选择“将此层设为唯一可编辑层”。
- en: Click the Edit tab in the ribbon.
  id: totrans-410
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在功能区中点击“编辑”标签。
- en: Click the Create button to open the Create Features pane.
  id: totrans-411
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击“创建”按钮以打开“创建要素”窗格。
- en: Ensure snapping is turned on and it is set to Edge, Vertex, End Point, and Intersection.
  id: totrans-412
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确保捕捉已开启，并设置为“边缘”、“顶点”、“端点”和“交点”。
- en: Select the Observ_PT feature template in the Create Features pane.
  id: totrans-413
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在“创建要素”窗格中选择Observ_PT要素模板。
- en: 'Click the locations shown in the following screenshot. You may need to zoom
    in to get the exact locations:'
  id: totrans-414
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击以下截图所示的地点。您可能需要放大以获取确切的位置：
- en: '![](img/1c7950e2-a5bb-4afc-bdeb-60512c2eca07.png)'
  id: totrans-415
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/1c7950e2-a5bb-4afc-bdeb-60512c2eca07.png)'
- en: Click the Map tab in the ribbon and activate the Explore tool.
  id: totrans-416
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在功能区中点击“地图”标签并激活“探索”工具。
- en: Rotate your scene so you can see the location of the new points you just digitized.
    They should be snapped to the tops of their associated buildings.
  id: totrans-417
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 旋转您的场景，以便您可以看到您刚刚数字化的新点的位置。它们应该与相关建筑的顶部对齐。
- en: If they are, click the Edit tab in the ribbon. Then click the Save button to
    save the new points you just created.
  id: totrans-418
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果它们是，请单击功能区中的“编辑”选项卡。然后单击“保存”按钮以保存您刚刚创建的新点。
- en: Close the Create Features pane.
  id: totrans-419
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 关闭创建要素面板。
- en: Save your project and close ArcGIS Pro.
  id: totrans-420
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 保存您的项目并关闭ArcGIS Pro。
- en: In this recipe, you created several new 3D features. You created two new fence
    features. The new fences inherited the Z coordinate from the location you clicked
    using the ground surface as a reference. You then specified a height for each
    fence that was then used to extrude them, so they displayed at their true height
    above the ground. Then, you created a completely new Z-enabled feature class to
    store observation points that you will use in the following recipe to analyze
    the ability to see Washington Park from those locations. The Z coordinates for
    those new points were determined by the corner of the buildings you snapped to.
  id: totrans-421
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个菜谱中，您创建了几个新的3D特征。您创建了两个新的围栏特征。新围栏从您使用地面作为参考点击的位置继承了Z坐标。然后，您为每个围栏指定了一个高度，然后将其拉伸，以便它们在地面以上显示其真实高度。然后，您创建了一个完全新的Z启用要素类来存储观测点，您将在下一个菜谱中使用这些观测点来分析从这些位置看到华盛顿公园的能力。这些新点的Z坐标由您对齐的建筑的角落确定。
- en: Calculating lines of sight
  id: totrans-422
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 计算视线
- en: You've learned several ways to create new 3D features. Now it is time to investigate
    some analyses you can perform with these features that you cannot do with 2D.
    A common analysis is to determine lines of sight. This has many uses. It can be
    used by property appraisers to determine whether a property has a good line of
    sight to a key feature, such as a river or ocean, which might increase its value.
    It is used by police to establish security perimeters for special events. It might
    be used to help plan a parade route. So, as you can see, there are many uses for
    such an analysis.
  id: totrans-423
  prefs: []
  type: TYPE_NORMAL
  zh: 您已经学习了创建新3D特征的几种方法。现在，您需要调查一些可以使用这些特征进行的分析，这些分析您无法使用2D进行。一个常见的分析是确定视线。它有许多用途。它可以由财产评估员用来确定财产是否有一个良好的视线到一个关键特征，如河流或海洋，这可能会增加其价值。它被警方用来为特殊事件建立安全警戒线。它可能被用来帮助规划游行路线。所以，如您所见，这种分析有许多用途。
- en: In this recipe, you will use the observation points you created in the previous
    recipe to determine whether there are lines of sight to Washington Park or whether
    the proposed building will block the view of the park entirely. This will be one
    of the determining factors the Planning Director will use to for deciding whether
    or not to approve the new building. This will require the use of several geoprocessing
    tools from the 3D Analyst extension for ArcGIS Pro.
  id: totrans-424
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个菜谱中，您将使用在前一个菜谱中创建的观测点来确定是否可以看到华盛顿公园，或者提议的建筑是否会完全阻挡公园的视线。这将是有助于规划总监决定是否批准新建筑的几个决定性因素之一。这需要使用来自ArcGIS
    Pro 3D Analyst扩展的几个地理处理工具。
- en: Getting ready
  id: totrans-425
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 准备工作
- en: You must have completed the other recipes in this chapter before starting this
    one. This will ensure you have the required project, maps, scenes, and data to
    complete this project. It will also confirm you have a good foundational understanding
    of where to access the required tools and basic concepts required to complete
    this recipe.
  id: totrans-426
  prefs: []
  type: TYPE_NORMAL
  zh: 您必须在开始此菜谱之前完成本章中的其他菜谱。这将确保您拥有完成此项目所需的所需项目、地图、场景和数据。它还将确认您对访问所需工具和完成此菜谱所需的基本概念有良好的基础理解。
- en: You will also need to ensure the sample data is installed before you continue
    and access to the 3D Analyst extension for ArcGIS Pro.
  id: totrans-427
  prefs: []
  type: TYPE_NORMAL
  zh: 您还必须在继续之前确保样本数据已安装，并且可以访问ArcGIS Pro的3D Analyst扩展。
- en: How to do it...
  id: totrans-428
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何操作...
- en: Start ArcGIS Pro and open the `3DAnalyst.aprx` project you used in the previous
    recipes in this chapter. This project should be included in your list of recently
    opened projects.
  id: totrans-429
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 启动ArcGIS Pro并打开您在本章前一个菜谱中使用的`3DAnalyst.aprx`项目。该项目应包含在您最近打开的项目列表中。
- en: Click the Analysis tab in the ribbon. Then click the Tools button in the Geoprocessing
    group.
  id: totrans-430
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在功能区中单击“分析”选项卡。然后单击“地理处理”组中的“工具”按钮。
- en: Click the Toolboxes tab in the Geoprocessing pane. Then expand the 3D Analyst
    Tools toolbox.
  id: totrans-431
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在地理处理面板中单击工具箱选项卡。然后展开3D Analyst工具箱。
- en: Scroll down to the Visibility toolset and expand it so you can see its contents.
  id: totrans-432
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 滚动到可见性工具集并展开它，以便您可以看到其内容。
- en: Select the Construct Sight Lines tool to open it.
  id: totrans-433
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择构建视线工具以打开它。
- en: Set the Observation Points to the Observ_PT layer using the drop-down arrow.
  id: totrans-434
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用下拉箭头将观测点设置为Observ_PT层。
- en: Set the Target Features to the Parks layer using the drop-down arrow.
  id: totrans-435
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用下拉箭头将目标要素设置为Parks层。
- en: For the Output, click the Browse button and navigate to the Trippville_GIS geodatabase
    using the skills you have learned from previous recipes. Name the new output feature
    class Park_Sight_Lines and click Save.
  id: totrans-436
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对于输出，点击浏览按钮，使用您从先前的菜谱中学到的技能导航到Trippville_GIS地理数据库。将新的输出要素类命名为Park_Sight_Lines，然后点击保存。
- en: Ensure both the Observer Height Field and Target Height Field are set to Shape.Z.
  id: totrans-437
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确保观察者高度场和目标高度场均设置为Shape.Z。
- en: Set the Sampling Distance to `200`.
  id: totrans-438
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将采样距离设置为`200`。
- en: 'Verify your Construct Sight Lines tool looks like the following and click Run:'
  id: totrans-439
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确认您的构建视线工具看起来如下，然后点击运行：
- en: '![](img/2804458a-b90f-42df-b6e8-2ea7a090107d.png)'
  id: totrans-440
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/2804458a-b90f-42df-b6e8-2ea7a090107d.png)'
- en: A new layer appears in your scene that represents every possible sight line
    from the observation point to the park using the interval you specified in the
    Sampling Distance. This tool ignores any possible obstructions. Next, you will
    use another tool that will investigate each of the sight lines you created to
    see whether they are blocked by the ground surface or other obstructions, such
    as buildings.
  id: totrans-441
  prefs: []
  type: TYPE_NORMAL
  zh: 在场景中会出现一个新层，它代表从观测点到公园的每个可能的视线，使用您在采样距离中指定的间隔。此工具忽略任何可能的障碍物。接下来，您将使用另一个工具来调查您创建的每个视线，以查看它们是否被地面或其他障碍物（如建筑物）阻挡。
- en: In the Contents pane, turn off the Park_Sight_Lines layer you just created.
    You do not need to see the layer to use it for further analysis.
  id: totrans-442
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在内容面板中，关闭您刚刚创建的Park_Sight_Lines层。您不需要看到该层来用于进一步分析。
- en: Turning off layers that you do not need to see for the final results of any
    analysis process you are pursuing can improve overall performance and reduce map
    clutter.
  id: totrans-443
  prefs: []
  type: TYPE_NORMAL
  zh: 关闭您在追求的任何分析过程的最终结果中不需要看到的层，可以提高整体性能并减少地图杂乱。
- en: Click the Back button in the Geoprocessing pane that contains the Construct
    Sight Lines tool. This will take you back to the toolboxes view.
  id: totrans-444
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在包含构建视线工具的地理处理面板中点击后退按钮。这将带您回到工具箱视图。
- en: Select the Line of Sight tool in the Visibility toolset in the 3D Analyst Tools
    toolbox.
  id: totrans-445
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在3D Analyst工具箱中的可见性工具集中选择视线工具。
- en: Click the Browse button for the Input Surface. Navigate to the Trippville_GIS
    geodatabase and select the DEM. Click OK once the DEM is selected.
  id: totrans-446
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击输入表面的浏览按钮。导航到Trippville_GIS地理数据库并选择DEM。选择DEM后点击确定。
- en: Set the Input Line Features to Park_Sight_Lines using the drop-down arrow.
  id: totrans-447
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用下拉箭头将输入线要素设置为Park_Sight_Lines。
- en: Set the Input features to Buildings_MP using the drop-down arrow.
  id: totrans-448
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用下拉箭头将输入要素设置为Buildings_MP。
- en: The Input Features is a layer that contains additional features you want to
    the tool to consider that might block the line of sight along the sight lines.
    This must be a multipatch feature class-based layer.
  id: totrans-449
  prefs: []
  type: TYPE_NORMAL
  zh: 输入要素是一个包含您希望工具考虑的、可能阻挡视线沿视线的附加要素的层。这必须是一个基于多面体要素类的层。
- en: Name your Output Feature Class `Buildings_to_Park_LOS`.
  id: totrans-450
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将输出要素类命名为`Buildings_to_Park_LOS`。
- en: You can leave the Output Obstruction Point Feature Class blank. This would create
    a new point feature class that shows exactly where the views are obstructed. For
    this analysis, we are not interested in those exact positions.
  id: totrans-451
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您可以将输出障碍点要素类留空。这将创建一个新的点要素类，显示视图被阻挡的确切位置。对于这次分析，我们对此位置不感兴趣。
- en: 'Verify your Line of Sight tool looks like the following and click Run:'
  id: totrans-452
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确认您的视线工具看起来如下，然后点击运行：
- en: '![](img/c5a8261a-1ed1-4736-b10f-e88ad945038d.png)'
  id: totrans-453
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/c5a8261a-1ed1-4736-b10f-e88ad945038d.png)'
- en: 'When the tool completes, you will see a new layer added that has identified
    which sight lines are visible and which are not, as shown in the following screenshot.
    Remember, this tool takes the ground as well as the buildings into account when
    determining what is visible and what is not:'
  id: totrans-454
  prefs: []
  type: TYPE_NORMAL
  zh: 当工具完成时，您将看到一个新层被添加，它已识别出哪些视线是可见的，哪些是不可见的，如下面的截图所示。请记住，此工具在确定可见和不可见时，会考虑地面以及建筑物：
- en: '![](img/f044a1e8-bb6c-446c-b2ca-d4d0cab99a07.png)'
  id: totrans-455
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/f044a1e8-bb6c-446c-b2ca-d4d0cab99a07.png)'
- en: You can now easily see which sight lines are being blocked by the proposed building
    and which are not. This is the information the Planning Director needed.
  id: totrans-456
  prefs: []
  type: TYPE_NORMAL
  zh: 您现在可以轻松地看到哪些视线被提议的建筑物阻挡，哪些没有被阻挡。这正是规划总监需要的信息。
- en: Close your Geoprocessing pane.
  id: totrans-457
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 关闭您的Geoprocessing面板。
- en: Save your project and close ArcGIS Pro.
  id: totrans-458
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 保存您的项目并关闭ArcGIS Pro。
- en: Now you have performed your first 3D analysis to determine lines of sight from
    specified points to an existing feature. This required you to have the 3D Analyst
    extension for ArcGIS Pro. In addition, you had to create several 3D layers before
    you were able to perform this analysis. This included creating a multipatch layer
    representing the buildings in Trippville and observation points.
  id: totrans-459
  prefs: []
  type: TYPE_NORMAL
  zh: 现在您已经完成了您的第一个3D分析，以确定从指定点到现有特征的视线。这要求您拥有ArcGIS Pro的3D Analyst扩展。此外，您必须在能够执行此分析之前创建几个3D图层。这包括创建代表Trippville建筑和观测点的multipatch图层。
- en: You could have performed this same analysis in a 2D Map. ArcGIS Pro can still
    perform 3D analysis in a 2D map. However, the results will not be as impactful
    or informative when displayed in a 2D map.
  id: totrans-460
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以在2D地图中执行此相同的分析。ArcGIS Pro仍然可以在2D地图中执行3D分析。然而，当在2D地图中显示时，结果可能不会那么有影响或信息丰富。
- en: Calculating the volume of a polygon
  id: totrans-461
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 计算多边形的体积
- en: Another common 3D analysis task is to calculate the volume of the area covered
    by a polygon feature. This is done by overlaying the polygon feature across a
    surface and then calculating the volume that exists between the plane created
    by the polygon features and the surface they overlay.
  id: totrans-462
  prefs: []
  type: TYPE_NORMAL
  zh: 另一个常见的3D分析任务是计算多边形要素覆盖区域的体积。这是通过将多边形要素叠加到表面之上，然后计算由多边形要素创建的平面与它们叠加的表面之间的体积来完成的。
- en: In this recipe, you will return to the quarry project you worked on earlier.
    The project engineer has determined the optimum full pool elevation and created
    a polygon layer for you. He wants you to determine what the total volume of water
    will be needed to fill the quarry to this level in gallons.
  id: totrans-463
  prefs: []
  type: TYPE_NORMAL
  zh: 在本食谱中，您将回到之前工作的采石场项目。项目工程师已经确定了最佳满水位并为您创建了一个多边形图层。他希望您确定填充采石场到这一水平所需的总水量（单位为加仑）。
- en: You will use the Polygon Volume tool that is part of the 3D Analyst extension
    to accomplish part of this analysis. You will then use the Calculate Field tool
    to calculate the total gallons required to fill the quarry.
  id: totrans-464
  prefs: []
  type: TYPE_NORMAL
  zh: 您将使用3D Analyst扩展中的Polygon Volume工具来完成部分分析。然后，您将使用Calculate Field工具来计算填充采石场所需的总加仑数。
- en: Getting ready
  id: totrans-465
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 准备工作
- en: You must have completed the other recipes in this chapter before starting this
    one. This will ensure you have the project, maps, scenes, and data required to
    complete this project. It will also confirm you have a good foundational understanding
    of where to access required tools and basic concepts required to complete this
    recipe.
  id: totrans-466
  prefs: []
  type: TYPE_NORMAL
  zh: 在开始本节内容之前，您必须完成本章中的其他食谱。这将确保您拥有完成此项目所需的项目、地图、场景和数据。这还将确认您对如何访问所需工具以及完成此食谱所需的基本概念有良好的基础理解。
- en: You will also need to ensure the sample data is installed before you continue
    and access to the 3D Analyst extension for ArcGIS Pro.
  id: totrans-467
  prefs: []
  type: TYPE_NORMAL
  zh: 在继续并访问ArcGIS Pro的3D Analyst扩展之前，您还需要确保样本数据已安装。
- en: How to do it...
  id: totrans-468
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何操作...
- en: Start ArcGIS Pro and open the 3DAnalyst.aprx project you used in the previous
    recipes in this chapter. This project should be included in your list of recently
    opened projects.
  id: totrans-469
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 启动ArcGIS Pro，并打开本章之前食谱中使用的3DAnalyst.aprx项目。该项目应包含在您最近打开的项目列表中。
- en: Close all the Trippville maps and scenes. If needed, reopen the Quarry Project
    scene.
  id: totrans-470
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 关闭所有Trippville地图和场景。如果需要，重新打开采石场项目场景。
- en: Remember, you can right-click a map or scene in the Catalog pane to open it.
  id: totrans-471
  prefs: []
  type: TYPE_NORMAL
  zh: 记住，您可以在目录面板中右键点击地图或场景来打开它。
- en: Now you need to add the Full Pool Layer created by the project engineer. Click
    the Add Data button located on the Map tab in the ribbon.
  id: totrans-472
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，您需要添加项目工程师创建的Full Pool Layer。在功能区地图选项卡上点击“添加数据”按钮。
- en: 'Navigate to the `C:\Student\ArcGISProCookbook\Chapter10` folder and select
    the `Full_Pool_Level.lyrx` layer file. Click OK. A new layer should have been
    added to your scene that shows the water level of the quarry when it is filled,
    as shown in the following screenshot:'
  id: totrans-473
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 导航到`C:\Student\ArcGISProCookbook\Chapter10`文件夹，并选择`Full_Pool_Level.lyrx`图层文件。点击“确定”。应该有一个新的图层被添加到您的场景中，显示采石场填满时的水位，如下面的截图所示：
- en: '![](img/81571a17-9d69-405c-bc14-e735def0fff8.png)'
  id: totrans-474
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/81571a17-9d69-405c-bc14-e735def0fff8.png)'
- en: Click the Analysis tab in the ribbon.
  id: totrans-475
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在功能区点击“分析”选项卡。
- en: Click the Tools button and the Toolboxes tab in the Geoprocessing pane.
  id: totrans-476
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在Geoprocessing面板中点击“工具”按钮和“工具箱”选项卡。
- en: Expand the 3D Analysis Tools toolbox. Then expand the Triangulated Surface toolset.
  id: totrans-477
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 展开三维分析工具箱。然后展开三角剖分表面工具集。
- en: Click the Polygon Volume tool to open it.
  id: totrans-478
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击多边形体积工具以打开它。
- en: Click the Browse button for the Input Surface.
  id: totrans-479
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击输入表面的浏览按钮。
- en: Expand the Computer folder in the left panel of the Input Surfaces window.
  id: totrans-480
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在输入表面窗口的左侧面板中展开计算机文件夹。
- en: Select the C:\ drive. Then navigate to the Student\ArcGISProCookbook\Databases
    folder.
  id: totrans-481
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择C:\驱动器。然后导航到Student\ArcGISProCookbook\Databases文件夹。
- en: Select quarry_tin and click OK.
  id: totrans-482
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择quarry_tin并点击确定。
- en: For this tool, the input surface must be a TIN, LAS, or terrain dataset. It
    will not accept a DEM surface as the input.
  id: totrans-483
  prefs: []
  type: TYPE_NORMAL
  zh: 对于此工具，输入表面必须是TIN、LAS或地形数据集。它不接受DEM表面作为输入。
- en: Set the Input Features to Full Pool Level using the drop-down arrow.
  id: totrans-484
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用下拉箭头将输入要素设置为全池水位。
- en: Set the Height Field to Z_Mean using the drop-down arrow.
  id: totrans-485
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用下拉箭头将高度字段设置为Z_Mean。
- en: Ensure the Reference Plane is set to Calculate below the plane. The plane it
    is referring to is the one created by the Input Features.
  id: totrans-486
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确保参考平面设置为在平面下方计算。它所指的是由输入要素创建的平面。
- en: Accept the default values for the Volume and Surface Area Field.
  id: totrans-487
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接受体积和表面积字段的默认值。
- en: 'Verify your Polygon Volume tool looks like the following and click Run:'
  id: totrans-488
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确认您的多边形体积工具看起来如下，然后点击运行：
- en: '![](img/1b7150cf-597f-4f7a-a78c-3c825f277c17.png)'
  id: totrans-489
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/1b7150cf-597f-4f7a-a78c-3c825f277c17.png)'
- en: Close the Geoprocessing pane when the tool completes successfully.
  id: totrans-490
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 工具成功完成后，关闭地理处理面板。
- en: This particular tool does not create a new feature class or layer like so many
    of the other tools you have used. It instead adds two new fields to the attribute
    table for the input features. You will now examine the results.
  id: totrans-491
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 这个特定的工具不会像您使用的许多其他工具那样创建新的要素类或图层。相反，它为输入要素的属性表添加了两个新字段。您现在将检查结果。
- en: 'Right-click the Full Pool Level and select Attribute Table. You should see
    two fields that were added: Volume and SArea.'
  id: totrans-492
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 右键单击全池水位并选择属性表。你应该看到已添加的两个字段：体积和S面积。
- en: The volume is in cubic feet because your horizontal and vertical units for the
    layer are set to US Feet. The engineer needs to know the volume in US gallons.
    You will now create a new field to contain the volume in gallons and use the Calculate
    Field tool to populate it.
  id: totrans-493
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 体积以立方英尺为单位，因为您的图层水平和垂直单位设置为美国英尺。工程师需要知道以美国加仑为单位的体积。您现在将创建一个新字段来包含加仑体积，并使用计算字段工具填充它。
- en: In the Table pane, click the Add Field button. It is located on the top left
    of the pane.
  id: totrans-494
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在表视图中，点击添加字段按钮。它位于面板的左上角。
- en: Name the new field Gallons then press your *Tab* key to move over to the Data
    Type.
  id: totrans-495
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将新字段命名为加仑，然后按*Tab*键移动到数据类型。
- en: Set the Data Type to Float using the drop-down arrow. This will allow it to
    store decimal values.
  id: totrans-496
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用下拉箭头将数据类型设置为浮点数。这将允许它存储小数值。
- en: 'Verify your table design looks like the following and click the Save button
    in the Changes group on the Fields tab in the ribbon:'
  id: totrans-497
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确认您的表设计看起来如下，然后点击功能区字段选项卡上的更改组中的保存按钮：
- en: '**![](img/566f78e7-d8bc-45cc-b644-68f5c7f2e168.png)**'
  id: totrans-498
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片](img/566f78e7-d8bc-45cc-b644-68f5c7f2e168.png)'
- en: Close the Design View for the table.
  id: totrans-499
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 关闭表的“设计视图”。
- en: You have just added a new field to the attribute table for the Full Pool Level
    layer. This new field will be used to store the number of gallons that will be
    required to fill the quarry.
  id: totrans-500
  prefs: []
  type: TYPE_NORMAL
  zh: 您刚刚为全池水位图层属性表添加了一个新字段。这个新字段将用于存储填充采石场所需的加仑数。
- en: Right-click the Gallons field you just added in the table view and select Calculate
    Field. The Calculate Field tool will open in the Geoprocessing pane.
  id: totrans-501
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 右键单击表格视图中刚添加的加仑字段并选择计算字段。计算字段工具将在地理处理面板中打开。
- en: Scroll down so you can see the blank cell just above the words Code Block. You
    will need to enter the conversion expression here.
  id: totrans-502
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 滚动以查看位于“代码块”一词上方空白单元格。您需要在此处输入转换表达式。
- en: 'Type the following value into that cell: `!Volume! * 7.48052`. The number `7.48052`
    is the conversion factor for gallons per cubic foot.'
  id: totrans-503
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在该单元格中输入以下值：`!Volume! * 7.48052`。数字`7.48052`是每立方英尺加仑的转换系数。
- en: 'Verify your Calculate Field tool looks like the following and click Run:'
  id: totrans-504
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确认您的计算字段工具看起来如下，然后点击运行：
- en: '![](img/18d06e84-cc0d-4687-9518-925bdee2477e.png)'
  id: totrans-505
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/18d06e84-cc0d-4687-9518-925bdee2477e.png)'
- en: When the tool completes successfully, close the Geoprocessing pane.
  id: totrans-506
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 工具成功完成后，关闭地理处理面板。
- en: Review the number that has now been populated into the Gallons field.
  id: totrans-507
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 查看现在已填充到加仑字段中的数字。
- en: Close the Full Pool Level attribute table.
  id: totrans-508
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 关闭全池水位的属性表。
- en: Save your project and close ArcGIS Pro.
  id: totrans-509
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 保存您的项目并关闭ArcGIS Pro。
- en: You have just calculated the volume for an area covered by a polygon. This required
    you to have two datasets. You needed an elevation surface. The Polygon Volume
    tool you used required the surface to be in TIN, Terrain or LAS formats. The other
    dataset you needed was a polygon that formed the plane that was used to overlay
    the surface.
  id: totrans-510
  prefs: []
  type: TYPE_NORMAL
  zh: 你刚刚计算了一个多边形覆盖区域的体积。这需要你拥有两个数据集。你需要一个高程表面。你使用的多边形体积工具要求表面以TIN、地形或LAS格式存在。另一个你需要的数据集是一个多边形，它构成了用于叠加表面的平面。
