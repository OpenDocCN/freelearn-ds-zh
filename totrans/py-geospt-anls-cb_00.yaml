- en: Preface
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 前言
- en: Geospatial analysis is not special; it is just different when compared to other
    types of analysis such as financial market analysis. We work with geometry objects,
    such as lines, points, and polygons, and connect these geometries to attributes
    such as business data. We ask "where" question, such as "Where is the nearest
    pub?", "Where are all my customers located?", and "Where is my competition located?".
    The other location questions include, "Will this new building cast a shadow over
    the park?", "What is the shortest way to school?", "What is the safest way to
    school for my kids?", "Will this building block my view of the mountains?", and
    "Where is the optimal place to build my next store?". Identify the areas that
    fire trucks can reach from their station in 5 min, 10 min, or 20 min, and so on.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 地理空间分析并不特殊；与其他类型的分析（如金融市场分析）相比，它只是有所不同。我们处理几何对象，如线、点和多边形，并将这些几何形状与属性（如业务数据）连接起来。我们提出“在哪里”的问题，例如“最近的酒吧在哪里？”“我的所有客户都位于哪里？”“我的竞争对手位于哪里？”其他位置问题包括，“这栋新建筑会投射到公园上吗？”“去学校的最短路线是什么？”“我孩子去学校最安全的路线是什么？”“这栋建筑会阻挡我观看山景的视线吗？”“在哪里建造我的下一家商店是最优的位置？”确定消防车从其站点出发5分钟、10分钟或20分钟内可以到达的区域，等等。
- en: One thing all these questions have in common is the fact that you need to know
    where certain objects are located in order to answer them. Without the *spatial*
    component, you cannot answer such questions and this is what geospatial analysis
    is all about.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 所有这些问题共同的一点是，您需要知道某些对象的位置才能回答它们。没有*空间*组件，您无法回答这些问题，这正是地理空间分析的全部内容。
- en: Geospatial features are laid over each other and patterns or trends are easily
    identified. This ability to see a pattern or trend is geospatial analysis in its
    simplest form.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 地理空间特征相互叠加，模式和趋势很容易识别。这种看到模式或趋势的能力是地理空间分析最简单的形式。
- en: Throughout this book, simple and complex code recipes are provided as small
    working models that can easily be integrated or expanded into a larger project
    or model.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 在本书中，提供了简单和复杂的代码配方作为小型工作模型，这些模型可以轻松集成或扩展到更大的项目或模型中。
- en: Analysis is the fun part of GIS, and involves visualizing relationships, identifying
    trends, and seeing patterns that are not visible in a spreadsheet.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 分析是GIS中有趣的部分，涉及可视化关系、识别趋势，以及看到在电子表格中不可见的模式。
- en: The Python programming language is clean, clear, and concise, making it great
    for beginners. It also has advanced powers for professionals to help them quickly
    code solutions to complex problems. Python makes visualization quick and easy
    for experts or beginners who work with geospatial data. It's that simple.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: Python编程语言简洁、清晰、简洁，非常适合初学者。它还拥有高级功能，帮助专业人士快速编码解决复杂问题的解决方案。Python使专家或初学者处理地理空间数据时的可视化变得快速且简单。就这么简单。
- en: What this book covers
  id: totrans-7
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 本书涵盖的内容
- en: '[Chapter 1](ch01.html "Chapter 1. Setting Up Your Geospatial Python Environment"),
    *Setting Up Your Geospatial Python Environment*, explores setting up your computer
    to handle all software requirements in one go, such as pyproj, NumPy, and Shapely.
    All your development software needs to enable spatial analysis or geoprocessing
    on Windows and Linux are met in this chapter.'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: '[第一章](ch01.html "第一章 设置您的地理空间Python环境")，*设置您的地理空间Python环境*，探讨了如何一次性设置您的计算机以处理所有软件需求，例如pyproj、NumPy和Shapely。本章满足了您在Windows和Linux上启用空间分析或地理处理的全部开发软件需求。'
- en: '[Chapter 2](ch02.html "Chapter 2. Working with Projections"), *Working with
    Projections*, explains how to deal with spatial data that''s projected or unprojected.
    You can learn and discover how to transform your data into a correct projection
    to prepare for an analysis.'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: '[第二章](ch02.html "第二章 处理投影")，*处理投影*，解释了如何处理投影或未投影的空间数据。您可以学习和发现如何将数据转换为正确的投影，以便为分析做准备。'
- en: '[Chapter 3](ch03.html "Chapter 3. Moving Spatial Data from One Format to Another"),
    *Moving Spatial Data from One Format to Another*, explains how geospatial data
    comes in many different formats and also how messaging data from one format to
    another is a daily chore. In this chapter, you will find out about the most common
    data management tasks.'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: '[第三章](ch03.html "第三章 将空间数据从一个格式转换为另一个格式")，*将空间数据从一个格式转换为另一个格式*，解释了地理空间数据以许多不同的格式出现，以及从一种格式到另一种格式的消息数据是日常工作的例行公事。在本章中，您将了解最常见的数据管理任务。'
- en: '[Chapter 4](ch04.html "Chapter 4. Working with PostGIS"), *Working with PostGIS*,
    shows you how most of our geospatial data is stored in a spatial database and
    using, accessing, manipulating this data with Python is what this chapter is about.'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: '[第4章](ch04.html "第4章。使用PostGIS"), *使用PostGIS*，展示了我们的大多数地理空间数据是如何存储在空间数据库中的，以及如何使用Python访问、操作这些数据，这正是本章的主题。'
- en: '[Chapter 5](ch05.html "Chapter 5. Vector Analysis"), *Vector Analysis*, introduces
    a very common geospatial data format, that is, the vector data format. To execute
    analysis functions on vector data, we will explore patterns used to create new
    data by snapping, clipping, cutting, and overlaying vector datasets followed by
    determining the 3D ground distance and total elevation gain.'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: '[第5章](ch05.html "第5章。矢量分析"), *矢量分析*，介绍了一种非常常见的地理空间数据格式，即矢量数据格式。为了在矢量数据上执行分析功能，我们将探索通过捕捉、裁剪、切割和叠加矢量数据集来创建新数据的模式，然后确定3D地面距离和总高程增益。'
- en: '[Chapter 6](ch06.html "Chapter 6. Overlay Analysis"), *Overlay Analysis*, explains
    how to combine spatial data to create new data by using the process of overlaying
    two sets of data over each other.'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: '[第6章](ch06.html "第6章。叠加分析"), *叠加分析*，解释了如何通过叠加两组数据来创建新数据，从而结合空间数据。'
- en: '[Chapter 7](ch07.html "Chapter 7. Raster Analysis"), *Raster Analysis*, shows
    you how to create an elevation profile and quick ways to merge images to perform
    raster analysis functions on your data.'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: '[第7章](ch07.html "第7章。栅格分析"), *栅格分析*，展示了如何创建高程剖面和快速合并图像的方法，以在你的数据上执行栅格分析功能。'
- en: '[Chapter 8](ch08.html "Chapter 8. Network Routing Analysis"), *Network Routing
    Analysis*, shows you how finding the nearest anything is a common geospatial analysis
    feature. This chapter will disclose how to go about solving an indoor network
    type problem and demonstrate some common use cases for wayfinding inside buildings.'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: '[第8章](ch08.html "第8章。网络路由分析"), *网络路由分析*，展示了寻找最近的事物是一个常见的地理空间分析功能。本章将揭示如何解决室内网络类型问题，并演示一些在建筑物内进行寻路的一些常见用例。'
- en: '[Chapter 9](ch09.html "Chapter 9. Topology Checking and Data Validation"),
    *Topology Checking and Data Validation*, covers data quality and connections.
    In this chapter, you will learn how to verify your data for errors using custom
    topological functions.'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: '[第9章](ch09.html "第9章。拓扑检查和数据验证"), *拓扑检查和数据验证*，涵盖了数据质量和连接。在本章中，你将学习如何使用自定义拓扑函数验证你的数据以查找错误。'
- en: '[Chapter 10](ch10.html "Chapter 10. Visualizing Your Analysis"), *Visualizing
    Your Analysis*, explains how geospatial data is inherently visual and you will
    learn about presenting your analysis on a web map and a 3D web.'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: '[第10章](ch10.html "第10章。可视化你的分析"), *可视化你的分析*，解释了地理空间数据天生具有可视化特性，你将了解如何在网络地图和3D网络上展示你的分析。'
- en: '[Chapter 11](ch11.html "Chapter 11. Web Analysis with GeoDjango"), *Web Analysis
    with GeoDjango*, builds on [Chapter 8](ch08.html "Chapter 8. Network Routing Analysis"),
    *Network Routing Analysis*, where you will create an indoor routing web application.
    You will easily be able to route a person from point A to point B within a building
    with real 3D network data. These key features will be presented by bringing together
    all the parts of the recipes you have learned so far.'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: '[第11章](ch11.html "第11章。使用GeoDjango进行网络分析"), *使用GeoDjango进行网络分析*，基于[第8章](ch08.html
    "第8章。网络路由分析"), *网络路由分析*，其中你将创建一个室内路由网络应用程序。你将能够轻松地将一个人从A点路由到建筑内的B点，使用真实的3D网络数据。这些关键特性将通过汇集你迄今为止所学食谱的所有部分来展示。'
- en: '[Appendix A](apa.html "Appendix A. Other Geospatial Python Libraries"), *Other
    Geospatial Python Libraries*, explains how Python flourishes with geospatial libraries,
    and you will also find a listing of many popular libraries that are used for data
    analysis, regardless of whether they''re spatial or not. This may trigger your
    interest.'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: '[附录A](apa.html "附录A。其他地理空间Python库"), *其他地理空间Python库*，解释了Python如何与地理空间库蓬勃发展，你还将找到许多用于数据分析的流行库列表，无论它们是否具有空间性。这可能会激发你的兴趣。'
- en: '[Appendix B](apb.html "Appendix B. Mapping Icon Libraries"), *Mapping Icon
    Libraries*, quickly goes over the icon libraries out there that play a special
    role in the python geospatial working environment.'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: '[附录B](apb.html "附录B。地图图标库"), *地图图标库*，快速概述了在Python地理空间工作环境中扮演特殊角色的图标库。'
- en: What you need for this book
  id: totrans-21
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 你需要这本书的内容
- en: To work with this book, you should be familiar with the programming language
    Python and the concepts involved in programming. This means that you should be
    able to install Python 2.7.x on your machine (Windows, Linux, or OS X) if it's
    not already installed. The concepts related to GIS (Geographic Information Systems)
    are definitely helpful but not necessary. A primer to this book could be *Learning
    Geospatial Analysis with Python, Joel Lawhead* or *Python Geospatial Development*,
    *Eric Westra*, both by *Packt Publishing*.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
- en: Who this book is for
  id: totrans-23
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: If you are a student, teacher, programmer, geospatial or IT administrator, GIS
    analyst, researcher, or scientist looking to learn about spatial analysis, then
    this book is for you. Anyone trying to answer simple to complex spatial analysis
    questions will get a working demonstration of the power of Python with the help
    of real-world data. Some of you may be beginners but most of you will probably
    have a basic understanding of geospatial analysis and programming.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
- en: Sections
  id: totrans-25
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In this book, you will find several headings that appear frequently (Getting
    ready, How to do it..., How it works..., There's more..., and See also).
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
- en: 'To give clear instructions on how to complete a recipe, we use these sections
    as follows:'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
- en: Getting ready
  id: totrans-28
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: This section tells you what to expect in the recipe, and describes how to set
    up any software or any preliminary settings required for the recipe.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
- en: How to do it…
  id: totrans-30
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: This section contains the steps required to follow the recipe.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
- en: How it works…
  id: totrans-32
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: This section usually consists of a detailed explanation of what happened in
    the previous section.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
- en: There's more…
  id: totrans-34
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: This section consists of additional information about the recipe in order to
    make the reader more knowledgeable about the recipe.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
- en: See also
  id: totrans-36
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: This section provides helpful links to other useful information for the recipe.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
- en: Conventions
  id: totrans-38
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In this book, you will find a number of styles of text that distinguish between
    different kinds of information. Here are some examples of these styles, and an
    explanation of their meaning.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
- en: 'Code words in text are shown as follows: "If `workon` for some reason does
    not start your virtual environment, you can start it simply by executing `source
    /home/mdiener/.venvs/pygeoan_cb/bin/activate` from the command line."'
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
- en: 'A block of code is set as follows:'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  id: totrans-42
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'Any command-line input or output is written as follows:'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  id: totrans-44
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: '**New terms** and **important words** are shown in bold. Words that you see
    on the screen, in menus or dialog boxes for example, appear in the text like this:
    "Select **Route To:** and enter `2` to see the second floor options."'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
- en: Note
  id: totrans-46
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Warnings or important notes appear in a box like this.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
- en: Tip
  id: totrans-48
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Tips and tricks appear like this.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
- en: Reader feedback
  id: totrans-50
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Feedback from our readers is always welcome. Let us know what you think about
    this book—what you liked or may have disliked. Reader feedback is important for
    us to develop titles that you really get the most out of.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
- en: To send us general feedback, simply send an e-mail to `<[feedback@packtpub.com](mailto:feedback@packtpub.com)>`,
    and mention the book title through the subject of your message.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 要发送一般反馈，只需将电子邮件发送到`<[feedback@packtpub.com](mailto:feedback@packtpub.com)>`，并在邮件主题中提及书籍标题。
- en: If there is a topic that you have expertise in and you are interested in either
    writing or contributing to a book, see our author guide on [www.packtpub.com/authors](http://www.packtpub.com/authors).
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您在某个主题上具有专业知识，并且您对撰写或为书籍做出贡献感兴趣，请参阅我们的作者指南[www.packtpub.com/authors](http://www.packtpub.com/authors)。
- en: Customer support
  id: totrans-54
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 客户支持
- en: Now that you are the proud owner of a Packt book, we have a number of things
    to help you to get the most from your purchase.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 现在您是Packt书籍的骄傲拥有者，我们有众多事项可以帮助您从您的购买中获得最大收益。
- en: Downloading the example code
  id: totrans-56
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 下载示例代码
- en: You can download the example code files for all Packt books you have purchased
    from your account at [http://www.packtpub.com](http://www.packtpub.com). If you
    purchased this book elsewhere, you can visit [http://www.packtpub.com/support](http://www.packtpub.com/support)
    and register to have the files e-mailed directly to you.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以从[http://www.packtpub.com](http://www.packtpub.com)的账户下载您购买的所有Packt书籍的示例代码文件。如果您在其他地方购买了这本书，您可以访问[http://www.packtpub.com/support](http://www.packtpub.com/support)并注册，以便将文件直接通过电子邮件发送给您。
- en: Downloading the color images of this book
  id: totrans-58
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 下载本书的彩色图像
- en: We also provide you with a PDF file that has color images of the screenshots/diagrams
    used in this book. The color images will help you better understand the changes
    in the output. You can download this file from [https://www.packtpub.com/sites/default/files/downloads/5079OS_ColorImage.pdf](https://www.packtpub.com/sites/default/files/downloads/5079OS_ColorImage.pdf).
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 我们还为您提供了一个包含本书中使用的截图/图表彩色图像的PDF文件。这些彩色图像将帮助您更好地理解输出的变化。您可以从[https://www.packtpub.com/sites/default/files/downloads/5079OS_ColorImage.pdf](https://www.packtpub.com/sites/default/files/downloads/5079OS_ColorImage.pdf)下载此文件。
- en: Errata
  id: totrans-60
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 勘误
- en: Although we have taken every care to ensure the accuracy of our content, mistakes
    do happen. If you find a mistake in one of our books—maybe a mistake in the text
    or the code—we would be grateful if you would report this to us. By doing so,
    you can save other readers from frustration and help us improve subsequent versions
    of this book. If you find any errata, please report them by visiting [http://www.packtpub.com/support](http://www.packtpub.com/support),
    selecting your book, clicking on the **errata submission form** link, and entering
    the details of your errata. Once your errata are verified, your submission will
    be accepted and the errata will be uploaded to our website, or added to any list
    of existing errata, under the Errata section of that title.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管我们已经尽最大努力确保内容的准确性，但错误仍然可能发生。如果您在我们的书中发现错误——可能是文本或代码中的错误——如果您能向我们报告这一点，我们将不胜感激。通过这样做，您可以避免其他读者的挫败感，并帮助我们改进本书的后续版本。如果您发现任何勘误，请通过访问[http://www.packtpub.com/support](http://www.packtpub.com/support)，选择您的书籍，点击**勘误提交表单**链接，并输入您的勘误详情来报告它们。一旦您的勘误得到验证，您的提交将被接受，勘误将被上传到我们的网站，或添加到该标题的勘误部分中。
- en: Piracy
  id: totrans-62
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 盗版
- en: Piracy of copyright material on the Internet is an ongoing problem across all
    media. At Packt, we take the protection of our copyright and licenses very seriously.
    If you come across any illegal copies of our works, in any form, on the Internet,
    please provide us with the location address or website name immediately so that
    we can pursue a remedy.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 互联网上版权材料的盗版是一个跨所有媒体的持续问题。在Packt，我们非常重视我们版权和许可证的保护。如果您在互联网上发现我们作品的任何非法副本，无论形式如何，请立即提供位置地址或网站名称，以便我们可以寻求补救措施。
- en: Please contact us at `<[copyright@packtpub.com](mailto:copyright@packtpub.com)>`
    with a link to the suspected pirated material.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 请通过`<[copyright@packtpub.com](mailto:copyright@packtpub.com)>`与我们联系，并提供疑似盗版材料的链接。
- en: We appreciate your help in protecting our authors, and our ability to bring
    you valuable content.
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 我们感谢您在保护我们的作者以及为我们提供有价值内容的能力方面的帮助。
- en: Questions
  id: totrans-66
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 问答
- en: You can contact us at `<[questions@packtpub.com](mailto:questions@packtpub.com)>`
    if you are having a problem with any aspect of the book, and we will do our best
    to address it.
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您在本书的任何方面遇到问题，可以通过`<[questions@packtpub.com](mailto:questions@packtpub.com)>`联系我们，我们将尽力解决。
