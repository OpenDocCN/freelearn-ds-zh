- en: Loading Data
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: The next two chapters are all about using data in QGIS. In [Chapter 3](0e2ba9ae-3346-4444-b28a-389d22737646.xhtml),
    *Creating Data*, we will look at how we build and edit GIS data. In this chapter,
    we will start by loading existing data. QGIS supports many GIS data formats. It
    makes use of the OGR library for vector data and the GDAL library for raster data.
    By default, QGIS uses the GeoPackage format. As such, we will make this the default
    format for this book.
  prefs: []
  type: TYPE_NORMAL
- en: 'These are the topics that will be covered in this chapter:'
  prefs: []
  type: TYPE_NORMAL
- en: Vector, raster, and other data types
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: GeoPackage
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Loading data
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Projections
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Creating and saving a project
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: GIS data
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: What do I mean by GIS data? By vector data, I mean points, lines, and polygons.
    The most common file format is a Shapefile (multiple files make up a Shapefile).
    By raster data, I mean (georeferenced) bitmaps. The most common file format is
    GeoTIFF.
  prefs: []
  type: TYPE_NORMAL
- en: Download the QGIS sample dataset from [https://github.com/PacktPublishing/QGIS-Quick-Start-Guide/blob/master/qgis_sample_data.zip](https://github.com/PacktPublishing/QGIS-Quick-Start-Guide/blob/master/qgis_sample_data.zip).
    Extract it to a working directory on your computer[.](https://qgis.org/downloads/data/)
  prefs: []
  type: TYPE_NORMAL
- en: 'In QGIS, you should now be able to see this data in the Browser panel, as shown
    in the following screenshot:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/8f538a9b-88d9-45ca-8535-b1a0fd648823.png)'
  prefs: []
  type: TYPE_IMG
- en: Browser panel
  prefs: []
  type: TYPE_NORMAL
- en: Loading data
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Loading data into QGIS can be done in several ways. Three of the most common
    ways are as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: You can drag data directly from a folder (Windows OS) straight into the map
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: You can drag data from the Browser panel into the map
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: You can click Layer | Add Layer and choose what type of layer to add to the
    map
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: This way opens Data Source Manager
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'In the following screenshot, we are choosing to load Add Vector Layer, which
    can also be done using the *Ctrl* + *Sh**ift* + *V* shortcut:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/514ed447-b922-4570-9d4f-1fcc4b80e771.png)'
  prefs: []
  type: TYPE_IMG
- en: Loading data
  prefs: []
  type: TYPE_NORMAL
- en: 'This screenshot gives you an idea of all the different data types that QGIS
    can consume. We will not be covering all these formats; we mention it to highlight
    the data capabilities of QGIS only. By adding data this way, you will be opening
    Data Source Manager, as shown in the following screenshot:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/6606f033-79d0-4a51-8bf9-365447f4dc00.png)'
  prefs: []
  type: TYPE_IMG
- en: The QGIS Data Source Manager
  prefs: []
  type: TYPE_NORMAL
- en: 'Data Source Manager is a really nice way of adding data to your map. You can
    add files one by one, add multiple files, or add different file types at the same
    time. To use an analogy, Data Source Manager is very much like a data menu: just
    select the data you want.'
  prefs: []
  type: TYPE_NORMAL
- en: 'From the QGIS sample data downloaded earlier, load `airport.shp` from the `shapefiles`
    folder and the `SR_50M_alaska_nad.tif` file from the `raster` folder. These should
    load into the map and appear as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/05b58db2-99db-4584-a352-aa52aaab0f9f.png)'
  prefs: []
  type: TYPE_IMG
- en: The overview of QGIS with data loaded
  prefs: []
  type: TYPE_NORMAL
- en: 'Right-click on `SR_50M_alaska_nad` and select Zoom to Layer to zoom to the
    layer extent. This is shown in the following screenshot:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/60e32648-fcb2-4b6a-880e-22a9cafea912.png)'
  prefs: []
  type: TYPE_IMG
- en: Zoom to Layer
  prefs: []
  type: TYPE_NORMAL
- en: Select Project | New and don't save changes to clear the project and open a
    new one.
  prefs: []
  type: TYPE_NORMAL
- en: GeoPackage
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'I have loaded all the Shapefiles in the `shapefiles` folder to a GeoPackage
    layer. You can download this layer from here: [https://github.com/PacktPublishing/QGIS-Quick-Start-Guide/blob/master/Alaska_GeoPackage.zip](https://github.com/PacktPublishing/QGIS-Quick-Start-Guide/blob/master/Alaska_GeoPackage.zip).'
  prefs: []
  type: TYPE_NORMAL
- en: 'Expand `GeoPackage` in the Browser panel, as shown in the following screenshot.
    In [Chapter 3](0e2ba9ae-3346-4444-b28a-389d22737646.xhtml), *Creating Data*, we
    will look at how to add a layer to this package. For now, select the `Airports`
    layer and drag it into your map as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/819ec575-0267-41ea-a442-0a642210c8e5.png)'
  prefs: []
  type: TYPE_IMG
- en: GeoPackage in the Browser panel
  prefs: []
  type: TYPE_NORMAL
- en: Experiment by dragging in more layers and zooming to the layer extent. This
    data looks no different to the Shapefiles we loaded previously. If you look at
    the file in your file manager (Windows Explorer, for example), instead of several
    Shapefiles and the several files associated to a Shapefile, we have one file.
    This makes the GeoPackage format (`.gpkg`) ideal for sharing and managing project
    data. The GeoPackage format has no file size limitations and is platform-independent,
    unlike a Shapefile.
  prefs: []
  type: TYPE_NORMAL
- en: Interacting with the data
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'In this section, we will use Map Navigation and Attributes Toolbar. Create
    a new project (Project | New) and load the following data from the GeoPackage
    into the QGIS project:'
  prefs: []
  type: TYPE_NORMAL
- en: '`Airports`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`majrivers`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`trees`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Load `SR_50M_alaska_nad.tif` from the `raster` folder. Make sure the layers
    are ordered in this way. Zoom to the extent of the `Airports` layer. Your screen
    should look similar to the following screenshot:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/89eca300-0a98-4a60-8191-0c25840746d0.png)'
  prefs: []
  type: TYPE_IMG
- en: The overview of QGIS with layers added
  prefs: []
  type: TYPE_NORMAL
- en: Identifying data
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'From Attributes Toolbar, click on the blue i button and then click on a point
    from the `Airports` layer in the map. This will display the Feature attributes
    in a new panel; again, like all panels, you can move it around and resize as needed.
    The clicked point will be highlighted in the map and its attributes displayed,
    similar to the following screenshot:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/0b1d04d8-0283-4f3d-b2cb-80439ac8d7a1.png)'
  prefs: []
  type: TYPE_IMG
- en: Identify tool
  prefs: []
  type: TYPE_NORMAL
- en: 'Investigate the identify tool with the other layers. Note that the Mode shown
    in the identify results is currently set to Current layer. That means that you
    only see the results from the layer that is currently active. There are four options
    in Mode:'
  prefs: []
  type: TYPE_NORMAL
- en: Current layer
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Top down, stop at first
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Top down
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Selection
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Set Mode to Selection and click another location on the map. This time, you
    will be presented with identify options for all the layers (relating to the clicked
    location). This way, you get to choose the feature you wish to query. An example
    of this is shown in the following screenshot:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/2858276c-209e-43e8-b0a5-dea7c2118eab.png)'
  prefs: []
  type: TYPE_IMG
- en: Identifying all layers
  prefs: []
  type: TYPE_NORMAL
- en: Close the identify results panel. Next, we will look at selecting data.
  prefs: []
  type: TYPE_NORMAL
- en: Data selection
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'There are several ways to select data in QGIS. In this chapter, we will look
    at the drawing selection options in Attributes Toolbar that we highlighted in
    [Chapter 1](44524991-c928-4616-a928-9fee41ef2270.xhtml), *Getting Started with
    QGIS 3*. Let''s select some data from `Airports`. Click on the `Airports` layer
    in the Layers panel (making sure it is highlighted) and select the Select Features
    by area or single click button. Note that there are other ways of drawing a selection
    from the drop-down button, including selecting by polygon, freehand, and radius.
    In this example, we will use the default select features option, as shown in the
    following screenshot:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/438a3cd8-c4fa-48ff-af54-07e4e6ddab1c.png)'
  prefs: []
  type: TYPE_IMG
- en: Select features by area or with a single click
  prefs: []
  type: TYPE_NORMAL
- en: 'Click and drag a box around several Airports'' points. The selected points
    will change color. Press *F6* or click on the open table button in the toolbar.
    The attribute table for the `Airports` layer will appear. In the lower-left corner,
    set the query to Show Selected Features. This is shown in the following screenshot:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/a2fdff4d-5b46-44a3-a2e5-cd2f284a9c98.png)'
  prefs: []
  type: TYPE_IMG
- en: Attribute table for Airports layer
  prefs: []
  type: TYPE_NORMAL
- en: 'In the attribute table, click on the Invert selection (Ctrl+R) button (yellow
    right-angled triangle and clear triangle forming a square), as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/c8e4ae54-cdd6-43d0-b65c-fced8b169f5a.png)'
  prefs: []
  type: TYPE_IMG
- en: Inverting a selection
  prefs: []
  type: TYPE_NORMAL
- en: 'Inverting a data selection can often be useful. For example, you might want
    to select many points, but want to exclude only a few. Using inversion allows
    you to select the few and invert the selection to select the many. Close the attribute
    table and you will see the newly selected airports on the map. Click on Deselect
    Features from All Layers from Attributes Toolbar to clear the selection. This
    is shown in the following screenshot:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/6e69e3df-2ef8-453c-b116-63f6515e1b88.png)'
  prefs: []
  type: TYPE_IMG
- en: Deselecting features from all layers
  prefs: []
  type: TYPE_NORMAL
- en: 'Finally, let''s select a feature in the `Airports` layer by an attribute value.
    Click on the Select Features by Value button in Attributes Toolbar. This is shown
    in the following screenshot:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/8992ab4c-a4f7-4981-9e55-4ecadcf85e6b.png)'
  prefs: []
  type: TYPE_IMG
- en: Selecting features by value
  prefs: []
  type: TYPE_NORMAL
- en: A selection dialog box will appear. Set the ID field to equal `1`. Click on
    the Select features button and the selected airport will be highlighted in the
    map. You can click on Flash features to flash the selected airport and also click
    on Zoom to features to zoom into the selected airport.
  prefs: []
  type: TYPE_NORMAL
- en: 'The Select Features by Value dialog box is shown in the following screenshot:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/b8f3f6e6-5c34-4310-89a3-ef2723d75eb6.png)'
  prefs: []
  type: TYPE_IMG
- en: Select Features by Value dialog box
  prefs: []
  type: TYPE_NORMAL
- en: Click on the Close button and clear the selection (using the Clear Selection
    button shown previously). Note here that Select Features by Expression is also
    available. We will look at expressions in more detail later this book.
  prefs: []
  type: TYPE_NORMAL
- en: Measuring distance and area
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: A common function of a GIS is to quickly calculate distance and area. In [Chapter
    3](0e2ba9ae-3346-4444-b28a-389d22737646.xhtml), *Creating Data*, we will show
    how to write the area of a feature to an attribute table. In this chapter, though,
    we will look at the measuring options available from Attributes Toolbar.
  prefs: []
  type: TYPE_NORMAL
- en: The measure tool does not require a layer to be selected in the layer panel
    in order for it to work. This means that it is independent of layers. The measure
    tool can measure length, area, or angle, and you can use the drop-down button
    next to the tool to select the required option. In this example, let's measure
    length. Select the Measure Line option and then left-click on the map to begin
    the measurement. After doing this, left-click again to measure the segment. Continue
    to left-click to measure segments of the line or right-click on the end point
    to finish measuring.
  prefs: []
  type: TYPE_NORMAL
- en: 'The following screenshot shows the distance in meters between airports:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/6124e047-87cf-4406-963c-33abaeb59dc4.png)'
  prefs: []
  type: TYPE_IMG
- en: The Measure tool in QGIS
  prefs: []
  type: TYPE_NORMAL
- en: Change the units from meters to kilometers to show more meaningful distance
    at this scale. Try measuring area; the tool works in the same way as distance.
    Measuring in any GIS depends on the projection of the map. In the next section,
    we will look at projections in QGIS.
  prefs: []
  type: TYPE_NORMAL
- en: Projections
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: The default projection for QGIS (on loading the first time) has the EPSG code
    4326 (WGS 84). Unless changed, the default settings in QGIS allow the projection
    of the map to be set by the projection of the first layer loaded into the map,
    assuming that the data has a projection associated to it.
  prefs: []
  type: TYPE_NORMAL
- en: It is beyond the scope of this book to go into details about various coordinate
    systems; if you are interested in learning more about this, then a good starting
    point is the Wikipedia entry on geographic coordinate systems at [https://en.wikipedia.org/wiki/Geographic_coordinate_system](https://en.wikipedia.org/wiki/Geographic_coordinate_system).
  prefs: []
  type: TYPE_NORMAL
- en: Suffice to say that getting the projection correct in your GIS is fundamental
    to any analysis, mapping, or derivation of knowledge from your data. The world
    is not flat and projecting your data is the process of taking the part of the
    Earth's surface you are working on and mathematically shrinking and distorting
    it so it fits on a plane. You can move from one projection system to another by
    transforming your data.
  prefs: []
  type: TYPE_NORMAL
- en: Using the `Airports` layer as an example, the projection of the layer is EPSG
    2964 and on loading the data, your QGIS project will be set to this projection.
    If you add data in another projection, then QGIS will make reprojections of your
    data on the fly. This is very powerful and useful, but be careful that you know
    what projection system all your data is in.
  prefs: []
  type: TYPE_NORMAL
- en: 'To illustrate projections, consider changing the projection from EPSG 2964
    to EPSG 4326 with the internal reprojection parameters. Here is our data in the
    EPSG 2964 projection:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/3fe070c7-d80b-459c-b628-5b2259456444.png)'
  prefs: []
  type: TYPE_IMG
- en: The overview of QGIS project in EPSG 2964
  prefs: []
  type: TYPE_NORMAL
- en: 'In the Status Bar, in the lower-right-hand corner you will see EPSG 2964\.
    Click on this and change the projection to WGS 84\. Search for `4326` in the Filter
    box as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/7710959c-b19a-4afa-a2ff-43d0837da9b4.png)'
  prefs: []
  type: TYPE_IMG
- en: Overview of project projection properties
  prefs: []
  type: TYPE_NORMAL
- en: 'Click on OK and return to your map. You will see the data represented very
    differently to before. This is shown in the following screenshot:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/77d82407-e9b3-4d01-abec-bb3bbd7fb5a2.png)'
  prefs: []
  type: TYPE_IMG
- en: The overview of reprojected data
  prefs: []
  type: TYPE_NORMAL
- en: Reset the projection by repeating these steps and selecting EPSG 2964.
  prefs: []
  type: TYPE_NORMAL
- en: Saving data
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In later chapters, when we start creating data, we will be working in one projection
    system. However, it is worth noting in this section that both vector data (points,
    line, and polygons) and raster data (bitmaps) can be saved in different projections.
    Right-click on the `Airports` layer and select Export | Save Features As. In the
    dialog box, you will see an option for CRS; this is where you can change the projection
    system.
  prefs: []
  type: TYPE_NORMAL
- en: 'This dialog box is shown in the following screenshot:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/d2fbe5ce-105e-4a0b-a454-848c0c3f6c94.png)'
  prefs: []
  type: TYPE_IMG
- en: Saving the layer
  prefs: []
  type: TYPE_NORMAL
- en: 'For a raster, select Raster | Projections | Warp (Reproject) from the menu
    bar. This is shown in the following screenshot:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/6814ef30-72ed-41c5-a988-afe8adba8d56.png)'
  prefs: []
  type: TYPE_IMG
- en: Reprojecting rasters in QGIS
  prefs: []
  type: TYPE_NORMAL
- en: 'The `Warp` command uses `gdalwarp` to reproject raster data. An example of
    reprojecting the `SR_50M_alaska_nad` raster to EPSG:4326 is shown in the following
    screenshot:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/705c74d4-7ed2-49f4-9cf9-e43eb3e1356a.png)'
  prefs: []
  type: TYPE_IMG
- en: Reproject raster tool
  prefs: []
  type: TYPE_NORMAL
- en: If you scroll down to the bottom of this dialog box, you will see the corresponding
    `gdalwarp` command. This could be pasted into the OSGeo4W shell (if you installed
    QGIS via the OSGeo4W installer) and run on the command line (like so many QGIS
    functions).
  prefs: []
  type: TYPE_NORMAL
- en: Saving your project
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'We can save a QGIS project so we can return to it in the future. The default
    format is `.qgz`. To save your project, go to Select Project | Save. I have called
    mine `ch2.qgz`; it is shown in Windows Explorer as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/6d08fd74-4f95-417b-90b8-cab01f3d9a01.png)'
  prefs: []
  type: TYPE_IMG
- en: Saving the project as a .qgz file
  prefs: []
  type: TYPE_NORMAL
- en: Summary
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: We have looked at geographic/spatial data in QGIS. We talked about vector and
    raster formats. This chapter has introduced the default file new format, GeoPackage.
    In the next chapter, we will be creating data in a GeoPackage. QGIS still fully
    supports Shapefiles and GeoTIFFs, and they are both still widely used throughout
    many sectors and the GIS community. In [Chapter 7](bab7139e-9f38-4dff-b1eb-c5056be9c960.xhtml),
    *Expanding QGIS 3*, we will look at exporting and loading text files into and
    out of QGIS.
  prefs: []
  type: TYPE_NORMAL
- en: We have explored the options for exploring data, via Attributes Toolbar. We
    looked at querying, selecting, and measuring data. There is so much more we can
    do, and in the next chapter we will look at building data in QGIS.
  prefs: []
  type: TYPE_NORMAL
