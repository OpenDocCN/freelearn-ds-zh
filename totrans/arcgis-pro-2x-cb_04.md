# 编辑空间和表格数据

在本章中，我们将介绍以下菜谱：

+   配置编辑选项

+   重新塑造现有要素

+   分割线要素

+   合并要素

+   对齐要素

+   创建新的点要素

+   创建新的线要素

+   创建新的多边形要素

+   使用自动完成创建新的多边形要素

+   使用属性面板编辑属性

+   在表格视图中编辑属性

# 简介

我们生活在一个不断变化的世界。新的基础设施被添加，旧的基础设施被移除，法规发生变化，新的需求被发现，等等。我们的GIS必须能够跟上这些变化，以便尽可能准确地反映我们生活的世界。这意味着我们必须能够快速轻松地更改我们的GIS数据，包括空间和表格数据。

ArcGIS Pro提供了丰富的工具和方法，您可以使用它们来更新您的数据。您可用的工具和您可以编辑或更新的数据类型将主要取决于您的许可级别。例如，如果您只有基本版许可，您将无法编辑SDE地理数据库中的数据。但是，您可以编辑文件地理数据库中的shapefile或要素类。以下是一个快速列表，列出了您可以编辑的数据格式及其许可级别：

|  | **基本版** | **标准版或高级版** |
| --- | --- | --- |
| **个人地理数据库** | 否 | 否 |
| **文件地理数据库** | 是，只要不在拓扑或几何网络中 | 是 |
| **SDE/企业地理数据库** | 否（基本版仅限查看） | 是 |
| **Shapefile** | 是 | 是 |
| **DBF文件** | 是 | 是 |
| **CAD文件（DWG、DXF、DGN）** | 否 | 否 |
| **电子表格** | 否 | 否 |

ArcGIS Pro完全不支持个人地理数据库，并且很可能永远不会支持。Esri决定用文件地理数据库替换个人地理数据库，因为它提供了更好的性能。ArcGIS Pro Basic允许您编辑存储在文件地理数据库中的数据，只要它不是拓扑或几何网络的一部分。

ArcGIS Pro无法编辑包含在几何网络中的任何数据。然而，ArcGIS Pro 2.1确实支持新发布的公用事业网络，该网络在2017年12月首次以初始版本发布。公用事业网络提供了与几何网络类似的功能，但设计用于与ArcGIS Enterprise的公用事业网络管理扩展一起使用。因此，公用事业网络将完全取代旧的几何网络模型。您可以通过访问[https://www.esri.com/en-us/arcgis/products/arcgis-utility-network-management/overview](https://www.esri.com/en-us/arcgis/products/arcgis-utility-network-management/overview)了解更多关于公用事业网络和管理扩展的信息。

ArcGIS Pro的基本许可证也不允许您编辑存储在SDE地理数据库中的数据。SDE代表空间数据库引擎，为地理数据库提供多个用户功能。SDE地理数据库要求您拥有ArcGIS Enterprise（以前称为ArcGIS Server）。使用基本许可证，您只能查看SDE地理数据库中的数据，但不能编辑它。有关不同类型地理数据库的更多信息，请访问[http://desktop.arcgis.com/en/arcmap/latest/manage-data/geodatabases/types-of-geodatabases.htm](http://desktop.arcgis.com/en/arcmap/latest/manage-data/geodatabases/types-of-geodatabases.htm)。

在所有许可级别下，Shapefile和DBF表格都可以无限制地编辑。CAD文件和电子表格只能在ArcGIS Pro中查看，并且在不转换为其他格式的情况下无法编辑。

在本章中，您将学习如何配置各种编辑选项并使用多个工具。您将体验编辑现有功能以及创建新功能的流程。最后，您将了解编辑属性和表格的不同方法。

# 配置编辑选项

在您尝试在ArcGIS Pro中编辑数据之前，有几个选项您需要配置和验证。这将有助于确保您的编辑工作顺利进行并正确保存。这包括设置您的单位，验证公差等等。

在这个菜谱中，您将配置和验证几个编辑选项，包括何时以及如何保存，设置您的度量单位，使新添加的图层默认可编辑，以及配置捕捉。

# 准备工作

对于这个菜谱，您需要确保已安装书籍数据，并且已安装ArcGIS Pro。ArcGIS Pro基本许可证级别对于这个菜谱就足够了。

# 如何操作...

1.  要开始，请启动ArcGIS Pro。

1.  在ArcGIS Pro启动窗口中，点击“打开另一个项目”。

![图片](img/56074f03-e5c1-4a9e-8f8e-5add4b10377c.png)

1.  在“打开”窗口中从计算机选择，然后在右侧区域点击“浏览”。

1.  通过点击打开项目窗口左侧区域的`C:\`，导航到`C:\Student\ArcGISProCookbook\Chapter4\Editing`。然后双击Student、ArcGISProCookbook、Chapter4和Editing文件夹。

1.  选择Editing.aprx项目文件，然后点击“确定”。

项目将以一个名为Trippville市区的单个地图打开。该地图包含三个图层：City Limits、Parcels和Railroads，以及地形底图。现在您已经打开了一个项目，您将开始设置可能影响您如何编辑数据的各种选项。您将从应用程序和项目选项开始：

1.  在功能区中点击“项目”标签。

1.  在项目窗格的左侧面板中选择“选项”，如图所示：

![图片](img/4fd1ee73-38a9-4bc8-bc4c-cb2ee9175334.png)

1.  在选项窗口左侧的面板中，选择位于项目下的单位。您应该在右侧面板中看到几个项目出现，包括距离、角度、面积、位置、方向和页面单位，以及其他单位。

1.  点击位于“距离单位”左侧的小箭头以展开选项设置。

1.  由于Trippville位于美国，请选择Foot_US作为您的距离单位。

美国测量英尺与国际英尺之间有区别。这种区别从第六位小数位开始。美国大多数地方使用美国测量英尺作为大多数测量和本地坐标系（如州平面坐标系）的标准。虽然这种差异很小，但如果未考虑在内，这种差异会累积起来，并可能导致对齐和精度问题。有关美国测量英尺与国际英尺之间差异的更多信息，请访问[https://geodesy.noaa.gov/corbin/class_description/NGS_Survey_Foot/](https://geodesy.noaa.gov/corbin/class_description/NGS_Survey_Foot/)。

1.  点击位于“面积单位”左侧的小箭头以展开这些选项。

1.  从显示的列表中选择Square_Feet_US。

1.  从选项窗口左侧的面板中选择编辑选项。

1.  如有必要，通过点击小箭头展开通用选项。

1.  通过点击旁边的框启用地图上的显示动态约束选项。

1.  确保勾选启用双击作为完成按钮的快捷键。

1.  确保在草图和地图上显示要素符号以及显示编辑工具栏在地图上都是启用的。

1.  如有必要，展开选项窗口右侧面板中的会话选项。

1.  确保显示保存编辑的确认对话框和显示放弃编辑的确认对话框都是启用的。您可以自由探索其他选项。

1.  确认您的选项窗口看起来像以下截图。如果这样，请点击确定：

![图片](img/c5b555c1-c22c-439a-84ad-223e056a78ab.png)

ArcGIS Pro编辑选项

您可能已经注意到ArcGIS Pro具有编辑自动保存功能。这是ArcGIS Pro中的新功能，如果启用，可以减少手动保存的需要。

在编辑时，您需要确保经常保存您的编辑，以防止计算机崩溃、锁定或断电时丢失工作。与其它应用程序不同，ArcGIS Pro不会创建您编辑的恢复副本。确保您的编辑持久化的唯一方法是保存它们。

原因是ArcGIS Pro实际上并不直接与你在地图或表中看到的数据工作。相反，ArcGIS Pro确定哪些要素是可见的，并将这些要素加载到你的计算机内存中。这会随着你在地图或表中的移动而改变。这允许ArcGIS处理会导致其他应用程序变慢或崩溃的大数据集。你永远不会一次性打开或加载整个数据库。你只看到你需要的内容。这也意味着你的编辑只存储在你的计算机内存中。它们实际上只有在保存你的编辑后才会提交回源数据。**因此，请确保经常保存！**

现在你已经配置了应用程序和项目选项，你将配置你的捕捉选项。

1.  在项目面板中，单击看起来像圆圈内的箭头的返回箭头，以返回到项目视图，如以下截图所示：

![](img/82bbb661-d3dd-4fb8-8ce0-03d4ba3fab8b.png)

1.  在功能区中单击编辑选项卡。

1.  在捕捉组中，单击编辑选项卡下方位于“捕捉”下方的下拉箭头。

1.  选择捕捉设置...，如截图所示：

![](img/89a0bb6c-429f-4d73-8adb-3ef9455770da.png)

1.  对于XY容差，将数值设置为`10`并将单位从像素更改为地图单位。要从像素更改为地图单位，只需单击位于“像素”一词右侧的下拉箭头，然后从出现的列表中选择地图单位。

1.  通过单击位于颜色块右侧的下拉箭头将捕捉提示颜色设置为红色。你可以选择你喜欢的任何红色色调。

1.  确认你的捕捉设置窗口看起来像以下截图，然后单击“确定”：

**![](img/604258ed-36f9-4259-b708-3d9d7d9e48b2.png)**

1.  通过单击ArcGIS Pro界面左上角的快速访问工具栏上的“保存项目”按钮来保存你的项目。

# 重塑现有要素

现在你已经设置了各种编辑选项，是时候开始实际编辑数据了。与先前的ArcMap应用程序不同，不需要开始和停止编辑。你可以在任何时候开始编辑数据。

在这个菜谱中，你将重塑城市边界以反映最近的合并。你需要确保城市边界层是可编辑的、可捕捉的、可选择的。然后，你将使用各种构造工具绘制草图，这些工具将代表城市边界的变化。

# 准备工作

要完成此菜谱，你需要完成之前的*配置编辑选项*菜谱。你还需要以`Editing.aprx`项目打开。如果你在完成之前的菜谱后关闭了ArcGIS Pro，请按照之前菜谱中的*步骤1-5*来打开`Editing.aprx`项目。

# 如何操作...

1.  要开始，请确保在功能区中激活地图选项卡，然后单击书签并选择重塑城市边界书签。这将放大到被合并到城市中的地块。

1.  点击内容窗格顶部位于左侧第三个的“按选择列表”按钮。它应该包括三个多边形：一个为蓝色，另外两个为白色。

1.  右键点击城市边界层，并在如下截图所示中选择“使此为唯一可选层”：

![截图](img/ef161d27-694f-4983-9c57-3546971d08b3.png)

1.  在内容窗格中点击“按捕捉列表”按钮。它看起来像四个带有蓝色加号的正方形，位于右下角。

1.  通过点击层名称左侧的复选框禁用对铁路层的捕捉。

1.  确保城市边界和地块层已启用捕捉。当层旁边的框被勾选时，捕捉已启用。

1.  点击内容窗格中的“按编辑列表”按钮。图标看起来像一支铅笔。

1.  右键点击城市边界层，并在出现的菜单中选择“使此为唯一可编辑层”，如下截图所示：

![截图](img/e012ae02-25de-463f-a1e3-1e8a60d940dc.png)

1.  在功能区中选择编辑选项卡。

与较旧的ArcMap应用程序不同，ArcGIS Pro不需要您启动编辑会话即可编辑数据。在ArcGIS Pro中，您基本上始终处于编辑会话中。然而，要访问大多数编辑工具以编辑数据，您需要选择编辑选项卡。

ArcMap和ArcGIS Pro在编辑时的另一个区别是您可以同时编辑的工作区数量。工作区是存储如地理数据库、文件夹或网络服务之类的数据的位置。在ArcGIS Pro中，您不需要一次编辑单个工作区中的数据。它允许您同时编辑所有可编辑层，无论它们位于哪个工作区。

1.  点击位于编辑选项卡上的捕捉组中捕捉按钮下方的下拉箭头。

1.  启用端点、顶点和边界的捕捉，并禁用所有其他捕捉，如截图所示。要启用或禁用捕捉选项，只需点击它。如果图标以蓝色突出显示，则已启用。如果没有突出显示，则已禁用：

**![截图](img/5aab8ed3-4054-416f-8bd4-5d61c949ef7e.png)**

1.  在选择组中的编辑选项卡上，点击选择工具。

1.  如截图所示，点击城市边界内部以选择它。

**![截图](img/710c19de-df10-4dad-bb59-56bba0797741.png)**

1.  在编辑选项卡的工具组中点击“重塑工具”。

1.  点击被纳入城市区域的土地的西南角，如下图所示：

**![截图](img/8a8a1efa-d211-45a3-bcc7-d87af0b2c954.png)**

1.  如下所示，从位于地图视图区域底部的编辑工具栏中选择追踪工具：

**![截图](img/03440a24-dd4b-4e54-8929-7067b0eb0231.png)**

1.  点击形成被纳入城市区域的土地西部边界的线。然后，将鼠标指针沿着地块边界移动，如图所示。当您到达地块北部边界与现有城市边界的交点时，双击：

**![](img/c5ea6175-13e1-4d40-bab5-b12380408e32.png)**

1.  在编辑选项卡的“选择”组中单击位于“清除”按钮，取消选择您刚刚编辑的城市边界线。

当您双击以结束您的草图时，您的城市边界线应该已经重新塑形以包括新并入的地块，如下所示。使用追踪工具，确保您精确地遵循现有地块的边界。这意味着您的数据是干净的，城市边界线和地块之间没有间隙：

**![](img/a1d45e00-575e-4e76-b050-0ac0d41c1e68.png)**

1.  在编辑选项卡的“管理编辑”组中单击“保存编辑”按钮。图标看起来像带有铅笔的软盘。当被要求确认保存您的编辑时，请单击是。

请记住，默认情况下，ArcGIS Pro 不自动保存数据编辑。您必须手动进行。此外，保存项目默认不会保存您的数据编辑。您可以在项目窗格中的选项中启用自动保存编辑，以及当您在项目窗格中保存项目时，您的编辑也会保存。

如果您在 ArcGIS Pro 中未启用自动保存功能，您需要确保经常保存，否则如果 ArcGIS Pro 或您的计算机崩溃，您将丢失任何未保存的编辑。

1.  保存您的项目。如果您将继续下一个菜谱，请保持 ArcGIS Pro 打开。如果不继续，您可以关闭 ArcGIS Pro。

# 它是如何工作的...

在这个菜谱中，您重新塑造了 Trippville 市的城市边界线，使其包括一个新并入的地块。为了执行此编辑，您需要做的第一件事是设置您想要作为可选和可编辑的图层。您通过内容选项卡中的列表来完成此操作。

在编辑数据时，请记住数据可以是可选的但不能编辑，可编辑但不能选择，两者都是，或者都不是。如果您需要先从地图中选择一个功能来编辑它，就像在这个菜谱中所做的那样，您需要该层既可选又可编辑。如果您使用属性查询选择功能进行编辑，则该层不需要可选。在内容窗格中将图层设置为可选仅在执行地图中的交互式选择时适用。

使用追踪工具允许您编辑城市边界线，使其精确地遵循地块边界。追踪工具自动将您正在追踪的功能的几何形状复制到新形状，因此它是一个精确的副本。这确保了您的数据是干净和准确的。它减少了重叠和间隙等错误，这些错误可能会影响分析和测量的结果。

# 分割线要素

多边形不是你需要分割的唯一类型特征。在向同一图层添加其他特征以保持正确连接时，线条通常需要分割。线条经常形成用于穿越的网络，例如道路、铁路、人行道和小径。旅行不仅限于交通。公用事业也使用线性特征将水、下水道、电力和通信从一个点移动到另一个点。其他系统，如紧急调度系统，也依赖于GIS的线性数据。因此，正确维护这些图层非常重要。

如前所述，ArcGIS Pro 2.0及更早版本目前不支持公用事业通常使用的几何网络。如果你有网络分析师扩展，ArcGIS Pro将允许你使用、创建和维护网络数据集。Esri已表示，在ArcGIS Pro的未来版本中不会添加对几何网络的支持。在ArcGIS Pro 2.1中，他们添加了对新的公用事业网络的支持。

在这个菜谱中，你将根据扫描和地理参考的图表绘制新的下水道管线。一旦绘制了新的下水道管线，你将按照图表所示在它们连接到检查井的地方分割它们，以便你可以获得检查井之间每段下水道线段的精确测量。

# 准备工作

在你能够完成这个菜谱之前，你需要完成本章的第一个菜谱，*配置编辑选项*。

# 如何操作...

1.  如果你在这个菜谱开始之前关闭了ArcGIS Pro，你需要启动ArcGIS Pro并使用你在之前菜谱中学到的技能打开位于`C:\Student\ArcGISProCookbook\Chapter4\Editing`的`Editing.aprx`项目。

1.  为了添加扫描的图表，该图表将作为添加新下水道线源数据，你需要向你的项目中添加一个文件夹连接。在目录窗格中，右键单击文件夹并选择添加文件夹连接，如图所示：

![图片](img/8e428ba2-9993-4f06-8d69-34b06615241e.png)

1.  如果需要，通过单击左侧面板上的小箭头展开添加文件夹连接窗口中的计算机。

1.  从显示的列表中选择C:\驱动器。

1.  在右侧面板中，向下滚动到Student文件夹并双击它。

1.  选择ArcGISProCookbook文件夹并单击确定。

*不要双击文件夹名称。* 双击只会选择文件夹，这是你试图连接的文件夹。双击它将打开它而不是选择它进行连接。如果你确实双击了它，只需单击窗口顶部附近的位置的“后退”按钮。它也是一个圆形中的水平箭头。它将带你回到上一个文件夹，并允许你选择正确的文件夹。

新的文件夹连接应该出现在你的列表中。你现在应该至少有两个文件夹连接，Editing和ArcGISProCookbook。

1.  通过点击位于连接名称左侧的小箭头来展开ArcGISProCookbook文件夹连接。

1.  使用相同的方法展开Chapter4文件夹。你应该会看到一个Forrest Park Subdivision.jpg文件，如图所示![截图](img/f8e0b857-963c-48b1-91c4-33b63a89698a.png)

1.  右键点击Forrest Park Subdivision.jpg文件并选择将其添加到当前地图。现在该文件应该作为地图中的一个图层出现在内容面板中。

1.  右键点击新添加的Forrest Park Subdivision层，并从出现的上下文菜单中选择缩放到图层，如图所示![截图](img/0d4127cb-4834-43d6-9602-9d37522ca427.png)现在你已放大到分区的位置。然而，你无法看到它，因为地块层遮挡了它。你需要对地块层进行快速调整，以便可以看到它。

1.  在内容面板中选择地块层。

1.  从你选择地块层时出现的特征层上下文菜单中选择外观选项卡。

1.  在外观选项卡上的绘图组中点击符号按钮以打开符号面板。

如果你点击符号按钮下的下拉箭头，从符号选项列表中选择单符号。如果你想了解更多关于如何设置图层符号的信息，请参阅Packt Publishing的*学习ArcGIS Pro* 在 *第4章*，*创建2D地图*。

1.  点击如图所示![截图](img/0ecc15ed-da42-44d9-94af-7e59719b53fd.png)中符号面板旁边的工作符号旁边的小方块符号。

1.  在符号面板的顶部附近，选择属性选项卡。

1.  点击位于颜色符号旁边的下拉箭头，选择无颜色，如图所示 ![截图](img/a52196c1-f933-400d-95a8-d2322e22d9af.png)

1.  在符号面板底部点击应用以将更改应用到地块符号。

1.  通过点击面板右上角的小X来关闭符号面板。

我发现当我不使用符号面板时关闭面板很有帮助。这限制了打开的面板数量和它们占用的屏幕空间。这也有助于防止它们在面板堆叠中丢失，如果你不管理打开的面板数量，这种情况经常发生。管理面板的另一种方法是取消停靠它们并将它们放置在辅助显示器上。这可以在你的主显示器上释放屏幕空间，同时仍然使项目易于定位。我建议你始终保持内容面板和目录面板打开。

你现在应该能看到你添加到地图中的扫描图。它应该出现在新建分区的位置。接下来，你将通过追踪新图上显示的图例来绘制新的下水道线。在你可以绘制新的下水道线之前，你需要添加下水道线层。

1.  在功能区点击地图标签以激活它。

1.  在地图选项卡上的图层组中点击添加数据按钮。确保点击按钮而不是按钮下面的下拉箭头。

1.  在添加数据窗口的左侧面板中，选择文件夹。你应该在窗口的右侧面板中看到文件夹连接出现。这应该包括至少编辑和 ArcGISProCookbook 连接。

1.  双击 ArcGISProCookbook 连接。

1.  在右侧面板中双击 Chapter4 文件夹。

1.  从右侧面板中选择 Sewerlines.lyrx 文件，然后点击确定。新的污水管线层应该以粗绿色线条的形式出现在地图和内容面板中，如图所示：

![图片](img/e378ce1e-e02e-4c0d-910c-be26469746f0.png)

添加到地图中的污水管线

图层文件允许你将具有预定义属性的层添加到地图中。这包括符号、标签、比例范围、定义查询和其他属性。图层文件允许你为图层建立一致的显示设置，以便它们在多个地图中看起来和表现方式相同。

在 ArcGIS Pro 中创建的图层文件具有 `.lyrx` 文件扩展名。在 ArcMap 中创建的具有 `.lyr` 文件扩展名。ArcGIS Pro 可以使用这两种格式。然而，使用 ArcGIS Pro 创建的图层文件是版本依赖的。这意味着使用 ArcGIS Pro 2.0 创建的图层文件与早期版本不兼容，但新的 ArcGIS Pro 版本可以使用早期版本创建的图层文件。要了解如何创建自己的图层文件，请访问 [http://pro.arcgis.com/en/pro-app/help/sharing/overview/save-a-layer-file.htm](http://pro.arcgis.com/en/pro-app/help/sharing/overview/save-a-layer-file.htm) 或阅读 Packt 出版的 *Learning ArcGIS Pro* 书籍的第 12 章“共享”。

现在你已经使分区图可见并将污水管线层添加到地图中，你就可以开始添加新的污水管线了。

1.  在功能区点击编辑选项卡。

1.  在编辑选项卡上的特征组中点击创建按钮。这应该在 ArcGIS Pro 界面的右侧打开创建特征面板。

1.  确认你在创建特征面板中看到污水管线层的特征模板。你可能还会看到其他内容，但你的主要关注点是污水管线。

如果你没有看到你刚刚添加的污水管线层的特征模板，请检查确保它在地图中可见。如果不可见，请转到内容面板。确保你正在查看“按绘图顺序”列表，这是内容面板顶部的第一个按钮。然后，点击层名称旁边的空白框以使该层可见。

如果层是可见的，但你仍然在创建特征面板中看不到特征模板，那么污水管线层可能没有被设置为可编辑。要启用污水管线层的编辑，请点击内容面板顶部的“按编辑顺序”按钮。然后，点击层名称左侧的复选框以启用该层的编辑。

要素模板直接链接到内容面板。如果图层不可见或不可编辑，您在创建要素面板中不会看到该图层的要素模板。

1.  确保捕捉功能已开启。查看编辑选项卡中捕捉组中的捕捉按钮。如果它以蓝色突出显示，则表示已启用，如图所示。如果没有突出显示，则表示未启用。要启用捕捉，如果未启用，只需单击按钮：![图片](img/c695799c-3ca9-4ed6-a72d-d1b67824ca2c.png)

1.  点击位于捕捉按钮下方的下拉箭头，并将捕捉位置设置为末端。禁用所有其他选项。与启用和禁用捕捉功能类似，以下截图所示，以蓝色突出显示的位置表示已启用：![图片](img/bc48eba0-1a68-4ed9-be77-470f1ade915c.png)

1.  在创建要素面板中，单击污水管线要素模板，以便您可以创建新的污水管线要素。模板位于图层名称下方，包括符号和要素名称。

1.  如果需要，放大到新的分区，以便您可以轻松地看到图上以红线表示的所有污水管线的位置。您应该能够使用鼠标滚轮根据需要放大或缩小。

1.  将鼠标指针移至位于新分区东北侧的现有污水管线的末端。当您看到捕捉指示器出现时，单击现有线的末端以开始创建新的污水管线，如图所示：

![图片](img/f978afa1-1b65-4e1f-99f3-f7b6d6a35351.png)

1.  通过点击每个检查井的位置（在图中以大黑点表示）继续绘制新的污水管线，如图所示。要完成绘制新的污水管线，您可以双击最后一个点或单击并按*F2*按钮：![图片](img/a9293cbf-0705-4bb5-a18c-7718472d4a1a.png)

因此，现在您已经绘制了如图所示的新的污水管线。接下来，您需要在图纸上标出的检查井位置将其分割。这将允许您确定检查井之间的管道距离，并提供更准确的管道数据模型。不过，首先请保存您的编辑，以确保您不会丢失到目前为止已完成的工作。

1.  点击位于编辑选项卡中管理编辑组下的保存按钮。当询问确认保存编辑时，点击是。

请记住，保存项目并不一定保存对数据的编辑。保存项目仅保存对项目的更改，例如添加新图层、创建新地图、添加布局等。除非您已调整编辑选项，使保存项目也保存数据编辑，否则数据编辑将单独保存。

1.  点击位于编辑选项卡中捕捉组下的捕捉按钮的下拉箭头。

1.  使用你在本菜谱的第 29 步中使用的方法启用顶点捕捉并禁用端点捕捉，如下所示：![图片](img/c900e688-eef6-4909-aed1-00841e9a834d.png)

1.  确保你绘制的新的下水道线仍然被选中。如果没有，点击“选择”按钮，然后点击你绘制的下水道线。

1.  在编辑选项卡的工具组中，选择“分割线”工具。修改要素选项卡应该在界面的右侧打开。

1.  如下图中所示，点击每个检查井的下水道线以分割线在每个检查井处：

![图片](img/e606f16c-a22e-413b-a58e-647c1ec1ad13.png)

在“修改要素”面板中，你现在应该看到四个要素列出来；在使用分割线工具之前，你只看到了一个。这表明你使用该工具创建了三个新要素。现在你将验证是否创建了新要素。

1.  在功能区编辑选项卡上的选择组中，点击“清除”按钮来取消选择下水道线。

1.  在功能区编辑选项卡上的选择组中激活“选择”工具。

1.  点击最南端的下水道线段以选中它。

1.  如果你正确地分割了下水道线，只有从最后一个检查井到位于流行圈和松树道交叉口的检查井的线段应该被选中，如下面的图所示：![图片](img/e59844bf-e926-4c2a-a86d-575ce70b0af8.png)

1.  再次，使用你在本菜谱的第 34 步中使用的方法保存你的编辑。

1.  使用你在之前菜谱中学到的技能保存你的项目。

1.  如果你不会继续到下一个菜谱，你可以关闭 ArcGIS Pro。如果你会，请保持它打开，因为你将继续使用这个相同的项目。

# 合并要素

你现在知道如何分割和重塑要素，但你可能需要进行的所有编辑并不局限于这些。有时你需要将两个或更多现有要素组合在一起。这可能是为了简化图层以便更容易分析，或者是为了反映现实世界要素的变化，例如有人购买两个相邻地块以合并成一个单一地块。

在这个菜谱中，你找到了一个道路中心线，它被分割成许多不必要的段。这导致在尝试计算每条道路的总长度时出现问题。你需要将这些段合并在一起。

# 准备工作

你可以在不完成任何之前菜谱的情况下完成这个菜谱。这个菜谱可以用任何许可级别完成。

# 如何操作...

1.  如果你在这个菜谱开始之前关闭了 ArcGIS Pro，你需要启动 ArcGIS Pro 并使用你在之前菜谱中学到的技能打开位于 `C:\Student\ArcGISProCookbook\Chapter4\Editing` 的 `Editing.aprx` 项目。

1.  在功能区地图选项卡上的导航组中，点击“书签”。选择“合并街道中心线”以缩放到需要合并的街道中心线段的位置。

1.  在目录窗格中，如果需要，通过点击文件夹名称旁边的小箭头来展开数据库文件夹。你应该能看到项目中有两个文件地理数据库连接，分别是Editing.gdb和Trippville_GIS.gdb。

1.  通过点击名称左侧的小箭头来展开Trippville_GIS地理数据库。

1.  使用相同的方法展开基础要素数据集。

要素数据集是地理数据库中的一个项目，可以用来分组相关的要素类，以更好地组织并利用高级地理数据库功能，如拓扑。要素数据集中的所有要素类共享相同的坐标系。

1.  右键点击Street_Centerlines要素类，并在弹出的上下文中选择“添加到当前地图”。

1.  在内容窗格中点击“按选择列出”按钮。按钮的图标看起来像三个多边形，其中一个为蓝色。

1.  右键点击你刚刚添加的Street_Centerlines层，并从弹出的上下文中选择“使此为唯一可选择的层”，如图所示：

![](img/c88089ed-7d1e-4779-a578-c62640754931.png)

1.  在内容窗格中点击“按编辑列出”按钮。图标看起来像一支铅笔，位于“按选择列出”按钮旁边。

1.  右键点击Street_Centerlines层，并从弹出的上下文中选择“使此为唯一可编辑的层”，如图所示：

![](img/23b6c6f6-deaa-42a4-af4d-a0cf7160fa58.png)

1.  在功能区点击编辑选项卡。

1.  在编辑选项卡上的选择组中点击选择工具。

1.  使用选择工具点击如图所示的街道中心线：

**![](img/a5d6fe63-16e1-4d4f-9f21-cb53b8ca502e.png)**

1.  按住*Shift*键并点击其他两个街道中心线段，如图所示：

**![](img/563d53f5-03c3-4bbb-a763-f80d53ed06c0.png)**

现在，你应该有三个线段被选中。你可以通过点击内容窗格中的“按选择列出”按钮来验证这一点。这将告诉你每个层中选定了多少个要素。现在，你将把三个选定的要素合并成一个单一的要素。

1.  在编辑工具栏上的工具组中点击合并工具，如图所示。这将在界面的右侧打开修改要素窗格：

**![](img/38865d2f-3e09-49ab-b31b-b697f65115ea.png)**

1.  层应该自动设置为Street_Centerlines，因为你已经选择了该层的要素。在要合并的要素网格中，选择列出的278号要素，如下一张截图所示：

![](img/e86fcb75-c7b1-4d20-8992-1111260168ad.png)

1.  在修改要素窗格的底部点击合并按钮，以实际合并要素。

你刚刚将三个线段合并成了一个单一的线段。现在你需要验证这是否发生了。

1.  在内容窗格中点击“按选择列出”按钮。然后回答以下问题：

**问题**：现在选定了多少个要素？

**答案**：

如果合并成功，您应该只选择一个特征。这是您使用合并工具创建的新单一特征。

1.  点击“编辑”标签上的“管理编辑”组中的“保存”按钮来保存您刚刚所做的编辑。当被要求确认编辑保存时，点击“是”。

1.  您可以通过点击功能区中的“项目”标签，然后点击显示的“保存”选项来保存您的项目。

1.  如果您不继续下一个菜谱，请关闭ArcGIS Pro。如果您继续到下一个菜谱，请保持ArcGIS Pro和项目打开。

# 它是如何工作的...

正如您在这个菜谱中看到的，您将三个中心线段合并成了一个单一的段。这通过减少特征总数来简化图层，使得分析和维护更加容易。合并工具允许您在保留现有特征的同时替换现有特征或创建新特征。您可以通过点击工具顶部两个标签中的一个来访问此选项，即“现有特征”或“新特征”。“现有特征”选项用具有所选特征属性的新特征替换所选特征。“新特征”选项创建一个全新的特征，同时保留所选特征。只要特征位于同一图层，您就可以合并任何类型的特征。

当使用“现有特征”选项，正如您在这个菜谱中所做的那样，您可以选择新创建的特征将继承哪个所选特征。这是通过点击“要合并的特征”网格中的特征来完成的。列出的“保留”特征是新特征将要继承的特征。

# 对齐特征

ArcGIS Pro可以是一个非常宝贵的分析工具。但任何分析的结果仅与所使用数据的品质相当。垃圾输入，垃圾输出的谚语确实适用。

因此，我们的数据尽可能干净是非常重要的。这意味着我们需要从数据中移除不需要的间隙或重叠。ArcGIS Pro有几个工具可以帮助您清理数据。其中之一就是“对齐特征”工具。此工具适用于所有许可级别。

在上一个菜谱中，您找到了两个地块重叠的区域，以及城市界限应该遵循的共同边界。您将使用“对齐特征”工具来修复数据中的此错误。

# 准备工作

在您能够完成此菜谱之前，您需要完成本章的第一个菜谱，“配置编辑选项”。此菜谱适用于ArcGIS Pro的所有许可级别。

# 如何做...

1.  如果您在开始此菜谱之前关闭了ArcGIS Pro，您需要使用之前学到的技能启动ArcGIS Pro，并打开位于`C:\Student\ArcGISProCookbook\Chapter4\Editing`的`Editing.aprx`项目。

1.  激活“地图”标签并点击“书签”按钮。选择“对齐特征”书签来放大数据错误存在的区域。

1.  你应该会看到城市边界和地块边界，它们似乎形成了一个细条或间隙。通过点击城市边界图层旁边的复选框关闭城市边界，以便你可以看到地块边界，如图所示：

**![图片](img/591f5783-6766-462e-9e1c-e6b3488d3a50.png)**

1.  现在你需要确定这是间隙还是重叠。在内容面板中，点击面板顶部附近的“按选择列表”按钮。图标看起来像三个多边形，其中一个是蓝色的。

1.  右键点击“地块”图层，并从出现的菜单中选择“使此为唯一可选图层”。

1.  在功能区地图选项卡的“选择”组中选择“选择”工具。

1.  点击以下图中所示的区域：

**![图片](img/9f9220c5-8411-454b-ace7-c7ec2f52115c.png)**

1.  接下来，点击西边的相邻地块。

**问题**：两个地块是重叠还是有间隙？

**答案**：

点击两个地块后，你应该会看到它们相互重叠。地块不应相互重叠。如果发生这种情况，土地所有者往往会感到不满。因此，你需要移除这种重叠，以便你的数据能更真实地表示地块边界。城市边界边界也应遵循两个地块之间形成的共同边界，因此你需要确保它也得到调整：

1.  点击位于功能区地图选项卡上的“清除”按钮，这将取消选择所有选定的要素。

1.  将城市边界图层重新打开，以便在地图上查看。为此，点击内容面板顶部的“按绘图顺序列表”按钮。它是左侧的第一个按钮。然后，点击图层名称左侧的方框。

1.  在内容面板的顶部点击“按选择列表”按钮。

1.  点击“城市边界图层”旁边的方框，以便地块和城市边界图层都可以选择，如图所示：

![图片](img/8b2dc46f-0b98-4930-828f-0a54630b7477.png)

1.  点击内容面板顶部的“按编辑列表”按钮。它看起来像一支铅笔，位于“按选择列表”按钮旁边。

1.  确保只有“地块”和“城市边界”图层被选中为可编辑，如图所示：

![图片](img/3e4bc6db-cdfe-4835-b15f-c01e18a13607.png)

你可能在两个图层右侧看到红色的感叹号。这些感叹号表示这些图层不可编辑。图层可能不可编辑有多种原因。它们可能不是可编辑的格式，或者你可能没有权限编辑图层。在这个菜谱的情况下，两个不可编辑的图层存储为栅格数据，这是ArcGIS Pro无法编辑的。

1.  点击功能区上的“编辑”选项卡。

1.  点击位于“捕捉”按钮下方的下拉箭头，并将捕捉位置设置为“端点”、“边缘”和“顶点”，如图所示：

![图片](img/e4de8f3b-5e74-45b2-bd85-3c589db85dbc.png)

1.  在功能区编辑选项卡的“选择”组中点击“选择”工具。

1.  在Trippville市地图视图中，点击以下图中显示的起始位置。在按下鼠标按钮的同时，将鼠标拖动到西南方向，直到达到停止点的近似位置，如图所示。这将创建一个选择框，应该选择两个地块和城市边界：

![图片](img/accebfde-8edb-4068-ae72-4b4b967235ee.png)

你应该看到两个地块和城市边界都被选中了。如果你不确定，你可以回到内容面板中的“按选择列表”选项来验证。它将显示你每个图层中选择了多少要素。

在编辑时，建议尽可能保持“按选择列表”选项的内容面板。这允许你跟踪所选图层上的要素数量。这些信息可以防止你意外编辑或删除你不想编辑或删除的要素。这是我通过艰难的方式学到的一课。记住，一旦你保存了所做的编辑，就无法撤销编辑。

1.  在编辑选项卡的“工具”组右下角，点击带有上方小线的箭头，如图所示：

![图片](img/6ea8fc17-b16f-40f7-b045-2c58e31b9c4a.png)

1.  选择“更多工具”以打开修改要素面板。你还可以点击编辑选项卡上的“要素”组中的“修改”按钮。

1.  从修改要素面板中呈现的工具列表中选择“对齐要素”工具。

1.  “对齐要素”工具选项将出现在修改要素面板中。将“对齐容差”的值设置为5，选择ftUS作为单位，并选择“插入顶点”，如图所示：

![图片](img/924d51ec-871c-4d53-8aa5-d4903cf9a7eb.png)

1.  点击两个地块和城市边界之间的最北端交叉点，如图所示，这是在*步骤24*之后显示的。如果你正确设置了捕捉位置，你应该会自动捕捉到交叉点。

1.  然后点击每个位置，如图所示。当你到达端点时，你可以双击以完成草图，或者单击并按*F2*键：

**![图片](img/009634a3-5f40-4d64-9c15-6879afb5d9ce.png)**

如果你正确追踪了对齐线，所有三个要素都应该被编辑，以便它们现在都正确对齐，并且不再有任何重叠。因此，这个单一的工具允许你一次纠正和编辑两个不同图层上的三个要素。这比单独编辑每个要素要高效得多：

1.  在编辑选项卡的“选择”组中点击“清除”按钮，取消选择你已选择的所有要素。

1.  使用编辑选项卡上的“选择”工具，点击你之前选择的两个地块之一。你应该注意到它现在与相邻地块对齐，并且不再有重叠。要验证重叠已消失，请点击另一个地块。

1.  使用与*步骤 25*中相同的方法再次清除选择。

1.  在功能区编辑选项卡上的“管理编辑”组中的“保存”按钮上单击以保存您刚刚完成的编辑。当被要求确认保存时，单击是。

1.  如果您不继续到下一个菜谱，请保存项目并关闭 ArcGIS Pro。如果您继续，请保持 ArcGIS Pro 和编辑项目打开。

# 它是如何工作的...

现在，您已经看到了对齐功能工具的实际操作，它是如何工作的？它将调整线和多边形功能，以便它们共享共线位置。这意味着调整后的线和多边形的顶点最终会处于相同的精确位置。

选择功能告诉工具哪些功能将被调整。对齐容差提供了一个值，用于考虑您希望调整的功能之间的距离差异。它只会调整您指定的容差距离内的功能部分。这可以防止您对数据进行不希望的改变。

然后，您可以从绘制代表所有选定项调整的缝合线的草图开始。您可以选择希望调整缝合线的哪一侧以及如何处理缝合线的末端。

对齐功能工具自动默认使用追踪构造工具。这允许您轻松地精确跟随现有功能，因为您正在追踪其形状。这正是您在菜谱中所做的。然而，您可以使用任何构造工具，如线、垂直或任何曲线工具来创建缝合线。

一旦创建了缝合线，ArcGIS Pro 将自动调整所选功能以匹配缝合线。它将延长或修剪线功能，并从多边形功能中减去或添加。

# 创建新的点功能

到目前为止，您一直在编辑现有功能。您已经重新排列、重塑、合并和拆分了它们。现在，您需要查看这些功能最初是如何创建的。我们将从最简单的功能开始，即一个点。

一个点标识一个位于单个位置的对象。它使用单个坐标对存储和定位。坐标对由一个 *x* 和一个 *y* 坐标组成。一个点也可以有一个 *z* 坐标，通常表示其高程。

在这个菜谱中，您将创建几个新的点功能。您将首先添加在之前章节中拆分线菜谱中查看的新分区中的检查井。

# 准备工作

在开始此菜谱之前，您需要完成本章早期提到的*配置编辑选项*和*拆分线功能*菜谱。此菜谱可以完成 ArcGIS Pro 的所有许可级别。

# 如何操作...

1.  如果您在开始此食谱之前关闭了ArcGIS Pro，您需要启动ArcGIS Pro并使用之前学到的技能打开位于`C:\Student\ArcGISProCookbook\Chapter4\Editing`的`Editing.aprx`项目。

1.  激活地图选项卡，并点击位于导航组中的书签。选择创建检查井书签以缩放到其他子区域。

1.  如有必要，将下水道管线层重新打开，并在内容窗格的“按绘图顺序列表”中找到“Forrest Park Subdivision.jpg”。如果您在项目中看不到这些层，请参考本章前面“分割线要素”食谱中的*步骤7-9*和*步骤20-24*。现在您的地图应该看起来像以下截图：

![图片](img/6abb6cfb-f068-4ca6-8716-5eb9006897ca.png)

接下来，您需要将检查井层添加到您的地图中，以便您可以创建新的检查井。

1.  在目录窗格中，展开项目中的数据库文件夹。然后展开Trippville_GIS.gdb地理数据库。

1.  展开下水道要素数据集，右键点击检查井要素类。从显示的列表中选择“添加到当前地图”。

1.  点击内容窗格中刚添加到内容窗格的检查井层下面的符号。这应该会打开符号面板。

1.  在符号面板的顶部附近，点击“属性”。

1.  点击位于颜色块旁边的箭头，并从颜色列表中选择火星红。

1.  将大小设置为`12`并点击应用。

1.  一旦您为检查井层应用了新的符号设置，请关闭符号面板。

1.  点击功能区中的编辑选项卡。

1.  在编辑选项卡中，点击“捕捉”按钮下方的下拉箭头。将捕捉选项设置为“结束捕捉”，如图所示：

![图片](img/64300a4b-9598-4b50-8252-6565a3909114.png)

1.  点击内容窗格中的“按捕捉列表”按钮。它有一个看起来像四个方形并在右下角有一个蓝色加号的图标。

1.  右键点击“下水道管线层”，并从出现的菜单中选择“使此为唯一可捕捉层”。

1.  点击内容窗格中的“按编辑列表”按钮。它的图标看起来像一支铅笔。

1.  确保您最近添加的检查井层已启用编辑。如果层名称旁边的框被勾选，则编辑已启用。如果它是空的，则编辑未启用。点击框以启用该层的编辑。

1.  点击功能区编辑选项卡中的特征组中的创建按钮。这将打开界面右侧的创建要素面板。

1.  选择检查井要素模板。要素模板位于层名称下方，包括符号和要素名称。

1.  确保已选择特征模板下方的点工具，如图所示：

![图片](img/9549ed2e-6508-41ec-9ade-0f78237b01ed.png)

1.  将鼠标移入地图，直到你到达位于橡树街和松树道交汇处附近的第一个下水道线交汇点，如Forrest Park Subdivision平面图所示。一旦你靠近，你的鼠标应该会自动捕捉到正确的位置。一旦你看到指示器显示你正在捕捉那些交汇下水道的终点，用鼠标点击该位置以在该位置创建新的检查井。新的检查井应该出现在该位置，如下面的图所示：

![图片](img/ac8bfd74-32d3-4f2e-90fa-0be24e85f036.png)

1.  现在点击位于功能区编辑选项卡中的选择组中的属性工具。这将打开位于创建要素窗格旁边的属性窗格。

1.  在属性窗格底部的网格中，点击位于MANHOLE_ID旁边的单元格，它应该显示为<NULL>，输入`101`。

1.  在网格中向下到条件字段，点击显示为<NULL>的单元格。应该会出现一个下拉菜单；从列表中选择Good。

条件字段已经分配了一个域。域定义了可以存储在字段中的可接受值。这可以是一个值列表，就像你刚才看到的，或者如果字段存储数字，则是一个值范围。

1.  使用相同的过程在以下图中所示的位置添加新的检查井。将MANHOLE_ID值增加一，以便下一个将是`102`。你创建的所有新检查井的条件应该是Good：

**![图片](img/941fb50b-95f4-4526-b9b1-6128d6e1fbbd.png)**

在你完成时，你应该已经添加了三个新的检查井。

1.  点击位于功能区编辑选项卡中的管理编辑组中的保存按钮，以保存你刚刚创建的新检查井。当被询问确认保存时，点击是。

1.  如果你不会继续到下一个食谱，请保存你的项目并关闭ArcGIS Pro。如果你会继续，只需保存你的项目即可。

# 创建新的线要素

现在我们将进入创建线要素的过程。这些要素更复杂，因为它们需要多个顶点。至少，一条线需要两个顶点：一个起点和一个终点。线要素拥有多个顶点的情况并不少见。这种情况被称为多段线。

就ArcGIS而言，线和多段线是同一件事。它们存储在相同的要素类中，创建它们的工具也是相同的。因此，你会在ArcGIS中看到线和多段线被交替使用。并非所有应用程序都如此，例如AutoCAD。

存储在地理数据库要素类中的线要素也可以包括曲线段。这些段以弧的形式存储和创建。并非所有数据存储格式都支持弧。Shapefile就是一个不支持弧的好例子。Shapefile通常使用多个非常短的直线段来模拟弧。当按比例显示时，这些短直线段看起来像曲线。地理数据库和CAD格式（DWG、DXF和DGN）确实支持真正的弧。

创建线要素有许多施工技术。您可以简单地通过鼠标点击来数字化顶点，可以指定精确的测量值，或输入坐标。哪种方法效果最好将取决于您拥有的源数据和其质量。

在这个菜谱中，您将创建几个新的线要素，代表新森林公园子区域的街道中心线。您将使用各种施工技术来完成这项工作。

# 准备工作

在开始这个菜谱之前，您需要完成本章前面提到的 *配置编辑选项* 和 *拆分行功能* 菜谱。这个菜谱适用于 ArcGIS Pro 的所有许可级别。

# 如何操作...

1.  如果您在开始这个菜谱之前关闭了 ArcGIS Pro，您需要启动 ArcGIS Pro 并使用您在先前的菜谱中学到的技能打开位于 `C:\Student\ArcGISProCookbook\Chapter4\Editing` 的 `Editing.aprx` 项目。

1.  如果您已经从上一个菜谱继续，您可以跳到下一步。否则，激活地图选项卡，并点击地图选项卡上的导航组中的书签。选择创建检查井书签以缩放到其他子区域的区域。

1.  在内容窗格中选择按绘制顺序列表按钮。它是窗格左上角的第一按钮。

1.  关闭污水管线和检查井层。

1.  如果需要，打开 Forrest Park Subdivision.jpg 层。

1.  在功能区中激活地图选项卡。然后，点击图层组中的添加数据按钮。

1.  在添加数据窗口左侧面板的项目下选择数据库文件夹。

1.  双击添加数据窗口右侧面板中的 Trippville_GIS.gdb 地理数据库。

1.  双击基础要素数据集。要素数据集由一个看起来像三个重叠正方形的图标表示。

1.  滚动并从要素类列表中选择 Street_Centerlines，然后点击确定将 Street_Centerlines 添加到您的地图中。

1.  点击功能区中的要素层上下文选项卡中的外观选项卡。

ArcGIS Pro 使用智能功能区界面。功能区选项将根据您打开和选择的内容而变化。当选择特定项目时出现的选项卡或选项卡组称为上下文选项卡或菜单。要素层上下文菜单是这些中的一个例子。

1.  确保在内容窗格中选中 Street_Centerlines 层，然后在功能区外观选项卡上的绘图组中点击符号按钮。这应该会打开符号窗格。

1.  点击符号窗格中位于“符号”一词右侧的小线修补程序，如图所示：

![图片](img/e1c85eba-924c-45c7-9701-cc157ed57253.png)

您的 Street_Centerline 层的颜色可能与图像中显示的不同。ArcGIS Pro 为新添加的层分配随机颜色。这与较旧的 ArcMap 应用程序相同。

1.  格式行符号工具应出现在符号面板中。这允许您调整图层的显示属性。如果需要，请点击符号面板中的属性选项卡。它位于面板中的图库选项卡旁边。

1.  确保在符号面板中选择符号按钮。它看起来像一把画笔。

1.  点击颜色块旁边的下拉箭头。从显示的颜色调色板中选择超蓝。它是第十列和第四行。如果您想使用不同的颜色，请随意选择。

1.  将线宽设置为`3.0`，并在面板底部点击应用。

1.  点击内容面板中刚刚添加的检查井图层下面的符号。这应该会打开符号面板。

您的地图现在应该看起来与这里显示的地图相似。新添加的Street_Centerline要素应该是可见的，并且易于在Forrest Park Subdivision图像上看到。这将在创建新的中心线要素时帮助您：

![](img/6df3188f-2742-45d4-aa98-29f2a8d2ccf9.png)

1.  点击功能区中的编辑选项卡。

1.  在内容面板中点击按编辑列表按钮，并验证Street_Centerlines图层是否设置为可编辑。如果不是，通过点击方框来设置它。

1.  在内容面板中点击按捕捉列表按钮。将Street_Centerline图层设置为唯一的可捕捉图层。

1.  在内容面板中点击按选择列表按钮。将Street_Centerlines图层设置为唯一的可选取图层。

您已配置好地图，以便成功创建新的街道中心线要素。您已确保Street_Centerline图层可选取、可捕捉和可编辑。现在您可以使用Forrest Park Subdivision图像作为指南，开始创建新的中心线。街道中心线以虚线黑色线表示。您将使用各种方法来追踪这条线。

1.  在功能区编辑选项卡的要素组中点击创建按钮。这将打开创建要素面板，以便您访问Street_Centerlines的要素模板。

1.  在创建要素面板中选择Street_Centerline要素模板。要素模板位于图层名称下方，并带有符号和名称。

1.  使用鼠标滚轮缩放和平移到Oak Place和GA HWY 50的南部交叉口，直到您的地图看起来与以下图相似：

![](img/edf71f63-e558-455e-8fe3-640b712611ac.png)

1.  点击Oak Place和GA HWY 50之间的大致交叉口开始绘制新线。当您接近位置时，您的鼠标应该会捕捉到该位置。

1.  现在通过点击以下图中所示的位置来追踪扫描图像上显示的中心线：

![](img/c46d9964-8bda-4c08-b055-424c66a43d9e.png)

1.  按住鼠标的滚轮向下滚动，以便向右平移，这样您可以看到更多要追踪的中心线，同时仍然能够看到您的最后一个顶点。

1.  在街道中心线上单击一个点，就在它开始向西北弯曲之前，如图所示：

![图片](img/3081ce83-5b07-4079-9eb5-a9a972ffefc0.png)

1.  在地图视图底部位于编辑工具栏中的“弧段工具”上单击，如图所示：

![图片](img/ba2e7333-2df0-4e2a-871c-5f91268ca3e8.png)

1.  使用弧段工具，在图示中指示的位置单击。起点与你在切换到弧段工具之前最后单击的点相同。然后，单击剩余的两个位置。弧线中间的位置设置半径。第三个点设置弧线的终点：

![图片](img/4224e17a-4dac-4443-9dbc-8a34c3c268b3.png)

当使用弧段工具时，你可以通过按*R*来指定半径。这将打开一个窗口，允许你输入半径测量值。

1.  从编辑工具栏中选择“线”工具。它是编辑工具栏左侧的第一个工具。

1.  如果需要，按下鼠标滚轮并平移地图，直到你可以看到道路的下一个弯曲处。单击你认为道路开始弯曲的位置。

1.  使用与之前曲线相同的方法，追踪道路中心线的弧线，当它转向北方时。以下图示显示了曲线的起点、中点和终点的大致位置：

![图片](img/fc60e0b6-438e-43ea-b11f-d0a0af538ecf.png)

1.  继续执行相同的步骤，直到你完全追踪了Oak Place的中心线，直到它与小区北边的GA HWY 50再次相交。完成后，你的中心线应该看起来类似于以下图示：

![图片](img/9d754f34-547f-4b04-935a-e27c69b38b2f.png)

1.  在“编辑”标签页的“管理编辑”组中单击“保存”按钮。当询问确认编辑时，单击“是”。

你刚刚创建了一个复杂的折线要素。它包括直线段和弧线，因此它能准确表示现实世界的特征。你是通过追踪扫描的小区平面图上的线条形状来创建这个特征的。现在我们将使用测量值来创建平面图上显示的一些其他中心线。

1.  在功能区“编辑”标签页的“捕捉”组中，单击位于“捕捉”按钮下方的下拉箭头。

1.  将捕捉位置选项设置为顶点、边和交点，如图所示：

![图片](img/0ff9af4b-73f8-48d2-ad75-a6ba36892029.png)

1.  在功能区激活“地图”标签页，并选择“探索”工具。

1.  按住你的*Shift*键，围绕位于小区西北侧的短死胡同绘制一个框。你的地图应该放大到你绘制的框的区域，并且应该看起来类似于以下图示：

![图片](img/e4d9eee9-cb10-456e-b9d1-bded8d143d46.png)

1.  在功能区单击“编辑”标签页。

1.  从“创建要素”面板中选择“Street_Centerlines”要素模板。

1.  你即将绘制死胡同的中心线。这条中心线在平面图上没有显示，因此你会得到它的测量数据。点击你之前绘制的中心线，在你认为中心线与死胡同中心线相交的位置。

1.  将鼠标移动到死胡同大致中心线的方向。当你接近水线的末端时（在扫描的平面图上显示为蓝色线），右击一次。

1.  从出现的上下文菜单中选择方向/距离，如图以下截图所示：

![图片](img/66ad0aec-f079-4aeb-80aa-9add2d2c10fd.png)

1.  将方向设置为`N47-06-50W`，距离设置为`125`英尺，如图所示，然后按下你的*Enter*键应用测量数据：

![图片](img/1b7ac085-16b2-4439-9cdc-044b08a36682.png)

1.  按下你的*F2*键以完成特征。

方向旁边的QB代表**象限方位角**。这是一种测量方法，通常由测量员和工程师使用来识别方向。象限方位角将罗盘分为四个象限：东北、东南、西南和西北。然后，在该象限内根据从正北或正南的角度测量方向，最大为90度。因此，一个直接朝东的特征可以标识为北90东或南90东。通常，测量数据使用度、分、秒表示，而不是十进制度。在本食谱中使用的示例中，47是度，6是分，50是西北象限内的秒。

1.  在编辑选项卡上的编辑组中点击保存按钮。当被询问确认保存时，点击是。

1.  使用你学到的技能，放大以再次查看整个小区区域。然后，缩小以查看Pine Drive，它在Forrest Park小区平面图上显示。这将是你接下来要绘制的下一个中心线。

1.  再次，在创建特征面板中点击Street_Centerline特征模板。

1.  点击Pine Drive和Oak Place的北部交叉口，如图所示。它应该非常接近检查井的位置。

1.  沿着平面图上显示的Pine Drive中心线移动鼠标，直到你到达与Popular Circle的交叉口。然后，右击并从上下文菜单中选择距离。

1.  输入距离`350`英尺，然后按下你的*Enter*键。这将锁定线段长度为350英尺，但仍然允许你控制方向。

1.  移动鼠标，直到新的线段与平面图上显示的中心线对齐。你可能需要使用鼠标滚轮放大以清楚地看到位置。一旦你对对齐满意，点击鼠标以设置新段的方向。

1.  使用相同的过程绘制下一段，它通往Pine Drive和Popular Circle的南部交叉口。将距离设置为`342`英尺。

1.  最后，点击Pine Drive和Oak Place的交汇处，使你的新中心线看起来像以下这样：

![图片](img/1967383a-ba02-45c6-bf8c-7c7ee40fa4e8.png)

1.  在功能区编辑标签页的编辑组中点击保存按钮。当被要求确认保存时，点击是。

1.  使用你学到的技能，为流行圆绘制中心线。完成编辑后，请确保保存你的更改。

一旦你在新划分区域中绘制了所有街道中心线，它们应该看起来像以下这样：

![图片](img/7d7769c9-8953-4a60-b7ef-6c63b2818ff1.png)

接下来，你将使用缓冲区编辑工具根据你刚刚绘制的中心线创建道路通行权。这是你可以用来创建线特征的另一种方法。

1.  关闭创建特征面板。

1.  在目录面板中，展开数据库文件夹，然后展开Trippville_GIS.gdb地理数据库。

1.  接下来，展开基础特征数据集，在RW特征类上右键单击。从出现的菜单中选择添加到当前地图。这应该会将图层添加到地图上。这个图层代表街道通行权边界。

1.  在功能区编辑标签页的编辑选项卡中，点击选择工具。

1.  选择你为Oak Place、Pine Drive和流行圆创建的中心线。不要选择死胡同中心线。

你可以使用多种方法选择多个特征。第一种是按住*Shift*键点击每个单独的特征。另一种是在一个位置点击并按住鼠标按钮拖动一个矩形。这通常会选择你创建的矩形内部或接触到的所有特征。如果你点击选择工具下方的下拉箭头，你可以选择创建其他形状，包括多边形、圆形、线或套索（自由手绘），或追踪现有特征。

1.  在功能区编辑标签页中，点击特征组中的修改按钮。它有一个图标，包括一个看起来像在画三条线和多个点的铅笔。这将打开修改特征面板。

1.  在修改特征面板中，向下滚动到构造工具集。如果需要，可以通过点击左侧的小箭头展开它。

1.  点击列表底部的缓冲区编辑工具。这将打开缓冲区编辑工具。应该显示面板顶部已选择三个街道中心线特征。

1.  通过点击下拉箭头并从提供的列表中选择，将模板设置为RW（或道路通行权）。

1.  将缓冲区距离设置为`25`英尺US。如果你在图纸上测量通行权线之间的距离，你会发现它们相距50英尺。由于中心线位于中心，25英尺的缓冲区将通行权线放置在正确的位置。

1.  通过点击左侧的小箭头展开选项。

1.  确保环设置为`1`，并启用溶解。显示预览是可选的。

1.  侧边应设置为两侧，末端设置为圆形。

1.  一旦你验证你的缓冲工具设置，如以下截图所示，点击窗格底部的缓冲按钮：

**![](img/efadd074-209b-4bbf-bdd9-a73845e6aaca.png)**

一旦点击缓冲按钮，你应该会在地图上看到一组新的线条出现，这些线条代表着你之前创建的道路中心线的通行权。新的通行权应该看起来如下：

**![](img/82da5d8d-e678-4d47-bbf9-9e43281a484f.png)**

ArcGIS Pro包含多个缓冲工具。你刚刚使用的是编辑缓冲工具。它将根据所选模板创建新的多边形或线要素。此工具仅在现有图层上创建新要素。除了编辑缓冲工具之外，还有几个缓冲地理处理工具，这些工具在执行空间分析时最常使用。这些包括缓冲、多环缓冲和图形缓冲。缓冲和多环缓冲创建全新的多边形要素类，实际上并不编辑任何现有图层。

现在将执行你刚刚创建的通行权的清理工作。如果你查看与GA HWY 50的交叉点，你会注意到通行权重叠。这需要修复。

1.  通过点击保存按钮并确认保存来保存你的编辑。

1.  使用滚动轮将Oak Place与GA HWY 50的北部交叉点放大。

1.  在内容窗格中关闭地块、城市界限和森林公园子区域图层。点击按绘制顺序列表按钮来完成此操作。

1.  通过在编辑选项卡上的捕捉按钮上点击来禁用捕捉。如果它不再以蓝色突出显示，则捕捉已被禁用。

1.  在修改要素窗格中，滚动到重塑工具集。如有必要，展开它。

1.  选择扩展或修剪工具。

1.  点击以下图中所示的位置以修剪通行权要素的不必要部分。当你的鼠标指针在它们上时，它们应该呈现虚线外观：

**![](img/64bc7146-375c-47ae-a7d4-4409c357bc32.png)**

此交叉点的通行权现在应该看起来如下图所示。你已经使用扩展或修剪工具移除了重叠部分：

**![](img/3da40db3-72a3-43cf-adee-1418cd51d8a9.png)**

1.  如果你的数据看起来像之前的图，则保存你的编辑。如果不一致，则点击放弃并重试。

1.  将视图缩放回子区域的范围。然后，将Oak Place与GA HWY 50的南部交叉点放大。如有必要，重复相同的步骤来清理重叠的通行权线。你可能不需要这样做，因为前面的步骤也可能已经清理了这个交叉点。

1.  如果需要额外的清理，保存你的编辑并再次放大到子区域的范围。

你的地图现在应该类似于以下图所示。你应该看到你创建的中心线和通行权要素。它们应该是干净的，没有重叠，并且正确连接：

**![](img/3c5d5a90-57b4-48fe-a6d1-852944111698.png)**

你仍然需要为环道添加通行权。你现在就要这么做。

1.  将视图放大到位于小区东北侧的环道。

1.  使用你学到的技能，将环道中心线缓冲`50`英尺。

1.  修剪环道和橡树街的通行权，使它们看起来像以下图示：

![图片](img/1a2d05e0-ff59-47a0-8e35-ac32a71898be.png)

有时候，延伸或修剪工具可能不会修剪所需的段落。如果发生这种情况，尝试在交叉点处分割线条，然后删除不需要的段落。

1.  再次保存你的编辑。

1.  如果你没有继续到下一个食谱，请保存你的项目并关闭ArcGIS Pro。否则，继续到下一个食谱。

# 创建新的多边形要素

你已经学会了如何使用ArcGIS Pro创建点和线要素。现在是时候学习如何创建多边形要素了。多边形与折线非常相似，因为它们由多个顶点组成。最大的区别是，多边形必须形成一个封闭的图形，而折线则不需要。

多边形由至少四个顶点构成。这可能会让人感到困惑，因为三角形是多边形，但只有三条边。那么为什么需要四个顶点呢？嗯，那是因为多边形必须是封闭的。所以，第一个和最后一个顶点必须在完全相同的位置。在ArcGIS Pro中创建新的多边形时，软件会自动做到这一点。所以，你永远不必担心你的多边形是否封闭。

在这个食谱中，你将创建代表建筑轮廓的多边形。你将使用几种不同的方法来完成这个任务。其中许多方法与你创建线条时使用的方法相似。

# 准备工作

在开始这个食谱之前，你需要完成*配置编辑选项*食谱。建议你完成*创建新的线要素*食谱，尽管这不是必需的。然而，完成那个食谱将帮助你学习一些你将需要创建新多边形时也会用到的工具和技能。这个食谱可以在ArcGIS Pro的所有许可级别下完成。你还需要确保你有互联网访问权限，以便使用Esri提供的底图。

# 如何操作...

1.  如果你在这个食谱开始之前关闭了ArcGIS Pro，你需要启动ArcGIS Pro并使用之前学到的技能打开位于`C:\Student\ArcGISProCookbook\Chapter4\Editing`的`Editing.aprx`项目。

1.  在功能区中点击地图标签。然后，点击底图按钮并选择图像底图，如图下截图所示：

![图片](img/ee98e3d2-aa2e-40a3-841b-85b241699a6b.png)

1.  如果这些图层目前在地图中可见，请关闭以下图层：Forrest Park Subdivision、Parcels、Sewer lines和Manholes。你将在内容窗格中使用按绘制顺序列表，就像在之前的食谱中做的那样来做这件事。

1.  在功能区地图选项卡上的图层组中点击“书签”按钮。选择“建筑物1”书签以缩放到您将创建的第一个建筑物足迹。您现在的地图视图应类似于以下截图：

![图片](img/c28ea4a8-fbca-4d25-86e1-014cd1236d50.png)

1.  使用您从过去的菜谱中学到的技能，将建筑物要素类添加到您的地图中，来自Trippville_GIS地理数据库和基础要素数据集。

1.  在内容面板中，点击“通过选择列表”按钮。然后，右键点击您刚刚添加的建筑物层，并选择“使此为唯一可选择的层”。

1.  接下来，在内容面板中点击“通过编辑列表”按钮，并确保建筑物层被标记为可编辑。如果它被标记，将在层名称旁边的框中有一个勾选标记。如果没有，点击框以启用该层的编辑。

1.  在功能区点击“编辑”选项卡。

1.  通过点击“捕捉”按钮来禁用捕捉功能。如果“捕捉”按钮以蓝色突出显示，则捕捉功能已启用。如果没有突出显示，则捕捉功能未启用。

1.  在编辑选项卡上的“要素”组中点击“创建”按钮以打开“创建要素”面板。

1.  选择建筑物层的要素模板。它位于层名称下方，包括符号补丁和描述。

1.  点击建筑物的西南角，如图所示：

![图片](img/64851005-6ec3-41c4-be59-d57b1f23f54f.png)

1.  将鼠标移至建筑物的东南角，如图所示的航空照片中。然后，点击以创建下一个顶点。

1.  从位于地图视图底部的编辑工具栏中选择“直角线”工具，如图所示：

![图片](img/19158266-01c3-4ddb-9dea-0ce03e8d0747.png)

1.  点击建筑物的东北角，如图所示的航空照片中。注意您的线被锁定，使其与您创建的线垂直，该线代表建筑的南侧。

1.  然后，移动到建筑物的西北角，如图所示的航空照片中。双击以完成多边形的创建。如果您单击一次，请按*F2*按钮以完成。您的新建筑物应类似于以下所示：

![图片](img/cf7e0555-3b3c-4fd6-9b62-9851a924577e.png)

您刚刚使用一种非常简单的方法创建了一个多边形。您首先通过追踪航空照片构建了一侧。然后，您使用直角线工具确保多边形有直角角落。这生成了建筑的准确表示。

1.  通过点击编辑选项卡上的“管理编辑”组中的“保存”按钮来保存您的编辑。

1.  在功能区点击“地图”选项卡。然后，选择书签按钮并选择“建筑物2”书签。

1.  再次点击编辑选项卡。

1.  在“创建要素”面板中，点击“建筑物”要素模板以显示与模板关联的构造工具。到目前为止，您已经使用了默认的多边形工具。

1.  选择矩形工具，如图所示：

![](img/140bf4f0-5682-463f-b6d0-5bf79fe24129.png)

1.  点击建筑的西南角。然后，点击东南角，如图所示：

![](img/0630cdf0-753a-42b4-9cd1-ac8e870df391.png)

1.  将鼠标拖向建筑的东北角。当你到达角落并且矩形与建筑的形状和大小匹配，如图中航空截图所示，点击以创建多边形。

你的建筑应该看起来与下面的截图相似。这个矩形工具创建了一个与第一个你创建的多边形相似的建筑物多边形。这是一个更快、更简单的方法：

**![](img/812cc6f6-404c-4160-9867-f5ef83dc60f4.png)**

1.  通过点击编辑标签页上的“管理编辑”组中的“保存”按钮来保存你的编辑。当被要求确认保存时，请确认。

1.  在功能区激活地图标签页，然后点击书签按钮。选择3号建筑。

1.  在功能区点击编辑标签页。

1.  在创建要素面板中选择建筑要素模板。

1.  选择位于模板下方的多边形工具，如图所示：

**![](img/f9e57287-3159-4392-95f4-494eba36696a.png)**

1.  使用你在本菜谱和*创建线要素*菜谱中学到的技能，绘制你已缩放的建筑的足迹。完成后，你的建筑应该看起来像这样：

![](img/d6d1f296-c863-4cf0-bb95-09c460c5ed35.png)

1.  通过点击功能区编辑标签页上的“管理编辑”组中的“保存”按钮来保存你的编辑。

1.  如果你不再继续下一个菜谱，请保存你的项目并关闭ArcGIS Pro。如果你继续下一个菜谱，你不需要在这个菜谱中做任何事情。

# 使用自动完成创建新的多边形要素

现在，你已经知道如何创建不与其他多边形连接或相邻的新多边形要素。那么，如何创建与现有多边形要素相邻的新多边形要素呢？你希望以不会在新的多边形和现有多边形之间产生缝隙或重叠的方式构建这些要素。使用自动完成工具是成功完成这一任务的一种方法。

在这个菜谱中，你将在Trippville市界外创建一个新的地块多边形。市政委员会正在考虑将该地块并入，并希望了解它与现有城市界限的关系。你将使用自动完成工具创建新的地块。

# 准备工作

在开始此菜谱之前，你需要完成*配置编辑选项*菜谱。建议你完成*创建新的线要素*和*创建新的多边形要素*菜谱，尽管这不是必需的。完成这些菜谱将帮助你学习一些有助于完成此菜谱的工具和技能。

此菜谱适用于ArcGIS Pro的所有许可级别。你还需要确保你有互联网访问权限，以便使用Esri提供的底图。

# 如何操作...

1.  如果你在这道菜谱开始之前关闭了ArcGIS Pro，你需要使用之前学到的技能启动ArcGIS Pro，并打开位于`C:\Student\ArcGISProCookbook\Chapter4\Editing`的`Editing.aprx`项目。

1.  点击功能区中的地图选项卡。然后点击书签并选择自动完成多边形书签。

1.  如果需要，在内容面板中打开地块和城市界限图层。记住，你需要选择按绘制顺序列表来完成此操作。

1.  点击功能区中的编辑选项卡。

1.  通过点击编辑选项卡上的捕捉按钮启用捕捉。如果按钮以蓝色突出显示，则捕捉已启用。

1.  点击捕捉按钮下方的下拉箭头并确保捕捉位置已设置，如图所示：

**![](img/38929489-f6f3-48bd-8f70-78e0253f189e.png)**

1.  点击内容面板顶部附近的位置列表捕捉按钮。确保地块和城市界限图层被设置为可捕捉。

1.  点击内容面板中的按编辑列表按钮。确保地块图层被设置为可编辑。

1.  点击功能区编辑选项卡中的特征组中的创建按钮，以打开创建特征窗口。

1.  点击创建特征窗口中位于图层名称下方的地块特征模板。

1.  选择位于功能模板下方的自动完成多边形工具，如图所示：

![](img/881d671c-b504-4632-aa14-0a1db82060a2.png)

1.  在地图中点击城市界限和道路权属线的交汇处，如图所示：

**![](img/05fb0917-e1ad-4717-81ea-327b08e21925.png)**

1.  点击地图视图底部的编辑工具栏上的追踪工具。然后点击之前截图所示的位置。

1.  按下*O*键打开追踪选项窗口。点击位于限制追踪长度左侧的框，并输入`125` ftUS的值，如图所示。一旦确认已成功配置，点击确定。

**![](img/f3b887c8-ce2f-46a3-b353-c8756a47ed0e.png)**

1.  将鼠标指针沿着道路权属线移动，直到追踪工具停止绘制边界。这意味着你已经达到了125英尺的限制。一旦追踪停止，点击追踪停止处的道路权属线，如图所示：

**![](img/16f49ee9-0afb-4211-bd0b-186498592b57.png)**

1.  从编辑工具栏中选择线工具。

1.  将鼠标指针移向北方/西北方并右击。从出现的菜单中选择方向/距离工具。

1.  将方向值设置为`N33-34-03W` QB，并将距离设置为`290.00` ftUS。你可能需要按*Enter*键来应用这些值。

1.  将鼠标移向现有地块的东方并右击。从出现的菜单中选择方向。

1.  将方向值设置为`N60-03-45E` QB。你可能需要按*Enter*键来应用这个值。你现在绘制的边界应该已经锁定到设定的方向。

1.  将你的鼠标指针移动到你正在绘制的边界东边已有的地块内部。一旦你进入了已有的地块内部，双击以完成新地块边界的绘制。新地块应该看起来像以下这样：

![图片](img/88a0a3ef-8c90-4c7c-97c3-7c85ce25a271.png)

1.  通过在编辑标签页的“管理编辑”组中点击“保存”按钮来保存你的编辑。

1.  如果你不会继续到下一个菜谱，请保存你的项目并关闭ArcGIS Pro。如果你会继续到下一个菜谱，你在这个菜谱中不需要做任何更多的事情。

# 它是如何工作的...

当创建代表地块、政治边界、应急响应边界等要素的多边形时，重要的是要以确保它们没有重叠和缺口的方式创建它们。自动完成工具是确保你创建的新多边形精确遵循现有边界的一个很好的方法。这意味着它们没有缺口或重叠。

在这个菜谱中，你通过使用本章其他菜谱中学到的传统方法定义了三个四边形的边，从而创建了一个新的地块多边形。第四边是自动创建的，因为自动完成工具自动追踪相邻现有地块的边界。

当使用自动完成工具时，你需要确保你创建的草图开始和结束于接触或穿越现有相邻多边形的边界。如果你的草图没有接触或穿越现有的相邻边界，该工具将无法创建新的多边形。

# 使用属性面板编辑属性

在本章前面的菜谱中，你学习了如何编辑和创建新的空间要素。然而，那只是数据的一半。每个要素也都有与之关联的属性信息。同样重要的是确保你保持属性信息的更新。

ArcGIS Pro提供了多种方法，你可以使用这些方法来更新与你的GIS中要素关联的属性。在这个菜谱中，你将学习如何使用属性面板来更新与要素关联的值。你将更新之前菜谱中添加的道路中心线的属性。

# 准备工作

在开始这个菜谱之前，你需要完成*配置编辑选项*、*分割线要素*和*创建新的线要素*的菜谱。这个菜谱可以在ArcGIS Pro的所有许可级别上完成。你还需要确保你有互联网访问权限，以便使用Esri提供的底图。

# 如何操作...

1.  如果你在这个菜谱开始之前关闭了ArcGIS Pro，你需要启动ArcGIS Pro并使用你之前菜谱中学到的技能打开位于`C:\Student\ArcGISProCookbook\Chapter4\Editing`的`Editing.aprx`项目。

1.  在功能区中点击地图标签页。然后，点击书签并选择创建检查井的书签。

1.  在内容中，确保Street_Centerlines图层和Forrest Park Subdivision可见。如果需要，你可以关闭RW和Parcels图层以去除杂乱。记住，你需要选择“按绘制顺序列表”来完成此操作。你也可以关闭World Imagery Basemap。

关闭不必要的图层总是一个好主意。这将有助于加快地图重绘并减少地图的整体杂乱。结果是提高了效率和性能。

1.  点击内容面板中的“按选择列表”按钮。使用你之前在食谱中学到的方法，将Street_Centerlines图层设置为唯一可选择的图层。

1.  点击内容面板中的“按编辑列表”按钮。确保Street_Centerline图层已启用编辑。

1.  点击功能区中的“编辑”选项卡。

1.  如果仍然打开，关闭创建特征面板。

1.  激活编辑选项卡上的选择工具组中的选择工具。

1.  如下所示，点击Oak Place的中心线段：

**![](img/eae93c4e-3b5b-44b8-8f1e-f145df69331c.png)**

1.  点击功能区编辑选项卡上的选择组中的“属性”按钮。这将默认打开界面右侧的属性面板。

属性面板由两个面板组成。顶部面板显示所选特征的列表。在你的情况下，你应该只看到一个。底部面板显示字段列表以及每个字段的关联值：

1.  点击位于ST_NAME字段旁边的单元格，并输入`OAK PL`。完成后按*Enter*键。

1.  使用相同的过程，填写以下截图所示的剩余值：

**![](img/bb2e90cb-a485-4662-b3d2-fb7b1fcd4373.png)**

1.  通过点击功能区编辑选项卡上的“管理编辑”组中的“保存”按钮来保存你的属性编辑。

1.  确保编辑选项卡上的选择工具组中的选择工具仍然处于活动状态。然后，选择Pine Drive的中心线。

1.  属性面板应更新以显示Pine Drive的值，其中大部分应该是<Null>。为Pine Drive设置以下值：

    +   ST_NAME：`PINE DR`

    +   RD_CLASS：`City`

    +   条件：`Good`

    +   名称：`Pine`

    +   类型：`Dr`

    +   收费：`N`

    +   速度：`25`

    +   单向：`N`

1.  通过点击功能区编辑选项卡上的“管理编辑”组中的“保存”按钮来保存你的属性编辑。

1.  选择Popular Circle的中心线，并在属性面板中编辑其属性，就像你为其他两条道路所做的那样，使用以下值：

    +   ST_NAME：`POPULAR CIR`

    +   RD_CLASS：`City`

    +   条件：`Good`

    +   名称：`Popular`

    +   类型：`Cir`

    +   收费：`N`

    +   速度：`25`

    +   单向：`N`

1.  如前两个中心线一样保存你的编辑。

通常，最好在创建新特征时更新属性值。这样，你就不会忘记对属性进行必要的更新，这些属性在GIS中与空间数据一样重要。

您现在已经在属性面板中编辑了单个特征的属性值。如果您有多个特征需要分配相同的属性值怎么办？您可以像之前一样逐个进行，但还有一种更有效的方法。您现在将通过更新之前菜谱中创建的污水管道的管道材料来学习如何这样做：

1.  在功能区编辑选项卡中，点击选项卡上的清除按钮。这将取消选择所有当前选定的特征。

1.  在内容面板中，打开污水管线图层并关闭Street_Centerlines图层。

1.  在内容面板中，点击按编辑列表按钮。然后，将污水管线图层设置为可编辑。

1.  在内容面板中，点击按选择列表按钮。然后，将污水管线设置为唯一可选择的图层。

1.  如果需要，点击功能区中的编辑选项卡，并激活选择组中的选择工具。

1.  在新分区中所有污水管线东南方向的位置点击，然后按住鼠标按钮的同时将鼠标指针拖动到西北方向。一旦您绘制了一个包含之前菜谱中绘制的所有污水管线的矩形，就释放鼠标按钮，如图所示：

**![](img/73fa6706-45dd-49c6-bd2f-704ffaa38786.png)**

1.  在属性面板中，您应该在顶部面板中看到四个特征被选中。点击属性面板顶部面板中位于四个选定特征上方的Sewer Line。

1.  点击属性面板底部面板中位于PIPE SIZE旁边的单元格，并输入`10`。完成后按*Enter*键提交更改。

1.  然后，点击属性面板底部面板中位于MATERIAL旁边的单元格，并从列表中选择PVC。

1.  最后，点击位于条件字段旁边的单元格，并从出现的列表中选择Good。您的属性面板应类似于以下截图：

**![](img/5bbe82f0-4fcb-4702-96d3-f7656651abf6.png)**

1.  如果您的属性面板与之前的截图匹配，请保存您的编辑。

通过选择上面板顶部的图层名称，您能够更改所有选定特征的属性。这是更新具有共同值的多个特征的一种更高效、更有效的方法。

1.  如果您不继续到下一个菜谱，请保存您的项目并关闭ArcGIS Pro。如果您继续到下一个菜谱，您不需要在此菜谱中做任何更多的事情。

# 在表格视图中编辑属性

在上一个菜谱中，您学习了如何使用属性面板更新属性值。您体验了编辑单个特征和多个特征的属性。这只是编辑属性的一种方式。

ArcGIS Pro还允许您在查看整个层的属性表时直接在表中编辑属性。与属性面板类似，您可以单独编辑或一次性编辑多个要素。当编辑单个要素的属性时，工作流程与在属性面板中编辑非常相似。要编辑多个要素的值，您需要使用一个新的工具，即“计算字段”。

“计算字段”工具非常强大。它允许您创建用于计算值的表达式或公式，然后将这些值填充到字段中。这些表达式可以非常简单或复杂。复杂的表达式必须使用Python编写。Python是ArcGIS的主要脚本语言。

在这个食谱中，您将在表格视图中更新单个要素的属性。然后，您将使用“计算字段”工具计算您在之前的练习中绘制的新的道路的英里长度。

# 准备工作

在开始这个食谱之前，您需要完成本章中所有之前的食谱。这个食谱可以在所有ArcGIS Pro许可级别下完成。您还需要确保您有互联网访问权限，以便使用Esri提供的底图。

# 如何操作...

1.  如果在开始此食谱之前关闭了ArcGIS Pro，您需要启动ArcGIS Pro并使用之前学到的技能打开位于`C:\Student\ArcGISProCookbook\Chapter4\Editing`的`Editing.aprx`项目。

1.  在功能区中点击“地图”标签。然后，点击书签并选择“创建人孔”书签。

1.  在“内容”中，确保人孔和Street_Centerlines层可见。如果需要，您可以关闭Forrest Park Subdivision、RW和Parcels层以去除杂乱。记住，您需要选择“按绘制顺序列表”来完成此操作。您还可以关闭World Imagery底图。

1.  在内容面板中点击“按选择列表”按钮。将人孔层设置为唯一可选择的层。

1.  在内容面板中点击“按编辑列表”按钮。确保人孔层设置为可编辑。

1.  如果需要，关闭“创建要素”和“属性”面板。

1.  在内容面板中右键点击人孔层，并选择属性表，如图所示。这将打开界面底部的表格面板：

![图片](img/c53b9a39-99bb-485e-b756-7c026dff75d6.png)

您可以将表格视图从停靠状态移出，并将其移动到另一个位置，包括另一个显示器（如果您有的话）。将表格视图移动到另一个显示器是一种常见做法。它为地图释放更多空间，并允许您放大表格以更好地查看它。要取消停靠表格视图，只需点击包含打开表格名称的标签，并将其拖到新位置。

1.  在功能区中点击“编辑”标签。然后，激活位于选择组中的选择工具。

1.  点击位于Oak Place和Pine Drive北部交叉处的人孔，如图所示：

![图片](img/d07dfce9-b076-470f-8e09-f3646bb84194.png)

1.  查看表格视图的底部。您应该看到显示选中要素的数量。它应该显示为1/545。点击位于指示选中记录数量的文本旁边的“显示选中记录”按钮。

1.  现在，您应该只能看到您刚刚选中的单个记录。点击位于“水池”字段名下面的单元格。输入`Sweetwater`，如图所示。这标识了检查井位于哪个排水区。您可能需要按一下*Enter*键来应用新值：

**![图片](img/a42029eb-0a92-4847-a2d1-6038779d85d5.png)**

单个选中的记录已更新值

1.  点击位于“深度”下面的单元格，并输入`4.0`。您可能需要按一下您的*Enter*键来应用新值。

1.  确保选择工具仍然处于活动状态，并选择位于您刚刚编辑的检查井正南方的下一个检查井。它在Pine Drive和Popular Circle的北部交叉处。

1.  按照指示编辑以下属性值：

    +   水池：`Sweetwater`

    +   深度：`3.8`

1.  选择位于Pine Drive和Popular Circle南部交叉处的检查井。

1.  按照指示编辑以下属性值：

    +   水池：`Sweetwater`

    +   深度：`3.0`

1.  选择位于Pine Drive和Oak Place交叉处的最后一个检查井。

1.  按照指示编辑以下属性值：

    +   水池：`Sweetwater`

    +   深度：`2.5`

1.  通过点击工具栏上“编辑”选项卡上的“管理编辑”组中的“保存”按钮来保存您的编辑。

您刚刚学习了如何在表格视图中编辑单个要素的属性值。但如果有必要将一个共同的值应用到多个要素，或者根据其他信息或公式/表达式计算一个值，该怎么办呢？这就是“计算字段”工具发挥作用的地方。

接下来，您将看到“计算字段”工具是如何工作的。您将从一项简单的更改开始。您将更改之前在某个菜谱中添加的污水管道的材料。您将它们的材料从PVC更改为DI。然后，您将通过创建一个表达式来计算每段道路的长度（以英里为单位）来增加复杂性。

1.  点击位于“编辑”选项卡上的“选择”组中的“清除”按钮，取消选择所有选中的要素。

1.  使用您学到的技能，确保污水管道图层是可见的、可选择的和可编辑的。

1.  点击工具栏上的“编辑”选项卡，并激活位于“选择”组中的选择工具。

1.  点击您在“分割线要素”菜谱中添加的任意一条污水管道。

1.  在按住*Shift*键的同时，点击您在“分割线要素”菜谱中创建的剩余污水管道，直到它们都被选中，如图所示。您应该有四条污水管道被选中：

![图片](img/4418f797-2924-49b9-80e2-767801f54c86.png)

多条污水管道被选中并在表格和地图中显示

1.  在表格视图中，右键单击“材料”字段名称。从出现的菜单中选择“计算字段”，如图所示。这将在地理处理面板中打开“计算字段”工具：

**![](img/51668af2-4070-44ac-9d70-ba47a3753106.png)**

1.  确保输入表设置为排水管线。它应该自动设置，因为你是从该表调用了工具。

1.  确保“字段名称”设置为`MATERIAL`。这应该自动设置。

1.  在“表达式”下，位于“字段”和“辅助”面板下方，找到写着“MATERIAL =”的地方及其下方的单元格。在单元格中输入以下内容：“DI”。你的“计算字段”工具应该看起来像以下截图：

![](img/44856279-be9b-444c-bbb2-daebb81b0a2d.png)

1.  点击位于地理处理面板底部的“验证”按钮。它应该看起来像绿色的勾号。

1.  如果验证结果显示“表达式有效”，则点击“运行”按钮。如果验证给出错误，请检查错误并修复它。最常见错误是未在DI值周围包含双引号。

如果你未选择任何要素就运行“计算字段”工具，它将根据你在工具中输入的值或表达式为表中的所有记录填充新值。在这个菜谱中，你选择了四条排水管线，所以只有这四条的材料值被更改。如果你没有选择这四条并且运行了“计算字段”工具，它将把图层中所有排水管线的材料值更改为DI。

1.  你应该看到每个所选排水管线的材料值从PVC更改为DI。如果值更改正确，请保存你的编辑。

1.  关闭地理处理面板。

现在你已经知道如何将简单值填充到多个要素中，是时候看看如何创建一个简单的表达式了。你将使用形状长度字段作为基础，计算每段道路的长度（以英里为单位）。此字段显示每个段落的长度（以美制英尺为单位）。

1.  点击位于功能区编辑选项卡上的“选择”组中的“清除”按钮。

1.  右键单击Street_Centerlines图层并选择属性表。图层的属性表应该在表格视图中打开。

1.  在表格视图中右键单击Leng_Miles字段，并从出现的菜单中选择“计算字段”工具。

你会注意到字段已经包含值。然而，这不是默认字段；你想要确保值是最新且正确的。

1.  确保输入表设置为Street_Centerline，字段名称设置为Leng_Miles。这应该自动设置，因为你是在Street_Centerlines表中右键单击Leng_Miles字段。

1.  定位到Leng_Miles =下方的单元格。它应该在“字段”和“辅助”面板下方。输入以下内容：`!Shape_Length!/5280`。这将把每个要素的Shape_length字段中的值除以5280，这是一英里的英尺数。

在创建表达式时，语法非常重要。在这个表达式中，使用感叹号将形状长度字段标识为这样的。为了帮助减少语法错误的风险，您只需在字段面板中找到Shape_Length字段，然后双击它将其以正确的语法添加到表达式中。有关如何使用计算字段工具的更多信息，请访问[http://pro.arcgis.com/en/pro-app/tool-reference/data-management/calculate-field.htm](http://pro.arcgis.com/en/pro-app/tool-reference/data-management/calculate-field.htm)。

您的计算字段工具现在应该看起来像这样：

![图片](img/5f2112a9-2188-4de0-a7d7-928c9cf13249.png)

1.  通过点击位于地理处理面板底部的验证按钮来验证您的表达式。

1.  如果验证成功，请点击运行按钮。如果验证返回错误，请修复它并重新验证。

1.  在功能区编辑选项卡上的选择组中激活选择工具。

1.  选择Oak Place的街道中心线。

1.  在表格视图中，点击位于底部的显示所选记录按钮。

您现在应该只看到表格中Oak Place的记录。Leng_Miles字段的值现在已填充了大约半英里的值。这是由您刚刚运行的计算字段工具填充的。该工具不仅填充了您在先前的菜谱中添加的新道路的值，而且还更新了图层中所有街道中心线的值：

1.  保存您的编辑和项目。

1.  关闭ArcGIS Pro。
