<html><head></head><body>
        <section>

                            <header>
                    <h1 class="header-title">Publishing Your Own Content to ArcGIS Online</h1>
                </header>
            
            <article>
                
<p>In this chapter, we will cover the following recipes:</p>
<ul>
<li>Publishing shapefiles using your browser</li>
<li>Creating a layer using a CSV file</li>
<li>Publishing layer packages using ArcGIS Pro</li>
<li>Publishing web layers using ArcGIS Pro</li>
<li>Publishing 2D maps</li>
<li>Sharing published content</li>
</ul>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Introduction</h1>
                </header>
            
            <article>
                
<p>As you have seen if you completed the previous chapter, ArcGIS Online is an amazing resource. It provides access to a wealth of data and tools that can greatly enhance the abilities of your GIS. But, can you add your own data and maps to your content, or are you limited to the content that is already there?</p>
<p>ArcGIS Online does allow you to publish your own content. This can take many forms, including:</p>
<ul>
<li>Data files:
<ul>
<li> Shapefiles</li>
<li> Text files (TXT and CSV)</li>
<li> Spreadsheets</li>
<li> PDF files</li>
<li> Map packages</li>
<li> Layer packages</li>
<li> KML</li>
<li> Styles</li>
<li> And more…</li>
</ul>
</li>
<li>Web map and feature services:
<ul>
<li> Publish directly through ArcGIS Online</li>
<li> Connections to web maps from your own ArcGIS Server or Portal</li>
</ul>
</li>
<li>Web applications</li>
<li>And more</li>
</ul>
<p>For a full list of all the items you can add to your ArcGIS Online content, go to  <a href="https://doc.arcgis.com/en/arcgis-online/reference/supported-items.htm">https://doc.arcgis.com/en/arcgis-online/reference/supported-items.htm</a>.</p>
<p>Depending on the content you are attempting to publish, there are different methods you can use to publish it. Files can be directly uploaded to ArcGIS Online via your web browser. Maps and scenes can be published directly from ArcGIS Pro. The best method will depend on the content type, size, and desired capabilities. The number of credits you have can also influence the method.  </p>
<p>In this chapter, you will begin to explore some of the ways you can publish your own content to ArcGIS Online. You will upload a shapefile and a CSV file to ArcGIS Online. You will then configure the ArcGIS Online options associated with the uploaded files. Next, you will publish a layer package from ArcGIS Pro to your ArcGIS Online content. From there, you will learn how to publish both an entire 2D map and 3D scene to ArcGIS Online. Lastly, you will explore simple methods for sharing some of the new content you have published.  </p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Publishing shapefiles using your browser</h1>
                </header>
            
            <article>
                
<p>ArcGIS Online can be used as a repository for GIS data and files. Putting these files up in ArcGIS Online allows you to access the information anywhere you have an internet connection, much like Google Drive or DropBox. It also allows you to use that data to create web maps and share them with others. This can greatly increase the overall flexibility of you GIS by making the data available whenever you need it, and not just when you are back in the office.</p>
<p>If you are going to upload and publish files to ArcGIS Online, some of them may need to be prepared or configured before you upload them. For example, a shapefile must be compressed into a single ZIP file before you are able to publish it to ArcGIS Online. This is because each shapefile actually consists of multiple files. If you remember from <a href="b6f25e84-28a9-4d2d-aaca-3550460d4650.xhtml">Chapter 2</a>, <em>Creating and Storing Data</em>, a single shapefile will consist of a SHP, SHX, and DBF file at a minimum. Additional files such as a PRJ, SBN, and SBX might also exist. All of these files make up a single shapefile. So, it makes sense that in order to publish it to ArcGIS Online, you would need to compress all these files into a single ZIP file first. </p>
<p>The formatting required for a CSV or TXT file will depend on how you intend to use it in ArcGIS Online. If you just want to make the file available to download, then no formatting is required. However, if you want to map the data included in the file, then specific formatting is required. You will explore that in the following recipe.  </p>
<p>In this recipe, you will upload a shapefile and CSV file to your ArcGIS Online content. You will start by zipping a shapefile which represents the city limits of Trippville. You will use that data later as a layer in a new web map you will create. Then, you will upload a CSV file containing natural wildlife view locations a friend has sent you.  </p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Getting ready</h1>
                </header>
            
            <article>
                
<p>This recipe will require you to have an ArcGIS Online account and access to the internet. You will need to be a level 2 user. If you do not have an ArcGIS Online user login, or do not wish to use your organization's account to complete the recipes in this chapter, you can request a trial license from Esri at  <a href="http://www.esri.com/arcgis/trial">http://www.esri.com/arcgis/trial</a>. </p>
<p>You will also need a web browser that supports HTML 5 and JavaScript. This includes current versions of Chrome, Edge, Firefox, and Safari. Internet Explorer 11 or newer is also supported. Other browsers may also work but have not been tested by Esri.</p>
<p>It is recommended that you have completed all the recipes in <a href="4ba4882e-2afc-4bb8-9906-cb4ef46722ca.xhtml">Chapter 12</a>, <em>Introducing ArcGIS Online</em>, before starting this recipe. This will ensure you have a strong foundational understanding of what ArcGIS Online is and how it integrates with ArcGIS Pro.</p>
<p>You also need to ensure you have installed the sample data before starting this exercise. This recipe will also use credits. It is estimated it will use less than 1 credit.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">How to do it...</h1>
                </header>
            
            <article>
                
<ol>
<li>To get started, you will first need to create a ZIP file which contains the required files which form the city limit shapefile. Open <kbd>File Explorer</kbd>, or <kbd>Windows Explorer</kbd>, depending on what version of Microsoft Windows you are using. There should be a quick-start icon on your taskbar which resembles a file folder in a stand, as illustrated in the following screenshot:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img height="185" src="assets/fdccb1a7-4a14-4d33-9b6f-354abf07e5f0.png" width="769"/></div>
<ol start="2">
<li>In the left panel of the File Explorer window, expand <kbd>This PC</kbd>, or <kbd>My Desktop</kbd>, depending on your version of Windows. From this point forward, we will assume you are running Windows 10.</li>
<li>Locate and select the <kbd>C:</kbd> drive, which is often labeled as OS or local drive.</li>
<li>In the right panel, scroll down and double-click on the <kbd>Student</kbd> folder.</li>
<li>Then, double-click on the <kbd>ArcGISProCookbook</kbd> folder.</li>
<li>Double-click again on the <kbd>Chapter13</kbd> folder, and then the <kbd>Files</kbd> folder.</li>
<li>You should now see a series of files within this folder. You will now select all those that make up the Trippville city limits shapefile. At the top of the right panel, click on <span class="packt_screen">Name</span> to ensure you are sorting the files by name.</li>
<li>Select the <kbd>Trippville_City_Limits.cpg</kbd> file. Then, hold your <em>Shift</em> key down and select the <kbd>Trippville_City_Limits.shx</kbd> file. This should select all the files that make up the single Trippville city limits shapefile.</li>
</ol>
<div class="packt_tip">
<p>In order for a shapefile to be uploaded and work in ArcGIS Online, it must include the SHP, DBF, SHX, and PRJ files. Other files are also helpful but not required.  </p>
</div>
<ol start="9">
<li>Once you have the files selected, right-click on any of the selected files. Then, go to <span class="packt_screen">Send to</span> and <span class="packt_screen">Compressed (zipped) folder</span> in the menu that appears, as illustrated in the following screenshot:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1039 image-border" height="406" src="assets/e103c71e-67ea-4130-850e-692c003e47e3.png" width="686"/></div>
<div class="packt_tip">
<p>If you have a ZIP utility you prefer to use, such as WinZip or 7-Zip, you can use it as well. The method demonstrated above will work for everyone without any additional software.</p>
</div>
<ol start="10">
<li>Name the new ZIP file <kbd>Trippville_City_Limits.zip</kbd>:</li>
</ol>
<p style="padding-left: 60px">You have just completed the first process required to upload a shapefile to ArcGIS Online. Now, it is time to finish it by uploading the file to your content.</p>
<ol start="11">
<li>Open your web browser and log in to ArcGIS Online using the skills you learned in the previous chapter.</li>
<li>Click on the <span class="packt_screen">My Content</span> tab.</li>
</ol>
<ol start="13">
<li>Click on <span class="packt_screen">Add Item</span> located in the upper-left corner below the <span class="packt_screen">My Content</span> tab, and select <span class="packt_screen">From my computer</span>, as illustrated in the following screenshot:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1040 image-border" height="188" src="assets/f3ddf0f6-d6d0-40aa-9573-3704d872eca0.png" width="413"/></div>
<ol start="14">
<li>In the <span class="packt_screen">Add an item from my computer</span> window under <span class="packt_screen">File</span>, click the <span class="packt_screen">Choose File</span> button as shown in the following screenshot:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img height="260" src="assets/a00efb4d-01b7-4078-a4a5-0fafefc31158.png" width="389"/></div>
<ol start="15">
<li>Using skills you have learned in previous recipes, navigate to <kbd>C:\Student\ArcGISProCookbook\Chapter13\Files</kbd>. Then, select the <kbd>Trippville_City_Limits.zip</kbd> file you just created, and click <span class="packt_screen">Open</span>.</li>
</ol>
<p style="padding-left: 60px">The <span class="packt_screen">Add an item from my computer</span> window should change to indicate that the contents of the file you selected is a shapefile.</p>
<ol start="16">
<li>Ensure <span class="packt_screen">Publish this file as a hosted layer</span> is enabled (adds a hosted-layer item with the same name).</li>
</ol>
<div class="packt_tip">
<p>This option not only adds the ZIP file to your content but will also create a hosted web layer. You can then use the web layer in web maps you create using ArcGIS Online, as well as in local maps you create with ArcGIS Pro. This does slightly increase the number of credits used, but by only a fraction.   </p>
</div>
<ol start="17">
<li>Title the new item <kbd>Trippville City Limits</kbd>. If more than one person in your organization is also working through this recipe, or has done so in the past, add your name to the end of the title.</li>
<li>Add the following tags for the new item: <kbd>Trippville</kbd>, <kbd>City Limits</kbd>, <kbd>Boundary</kbd>, <kbd>Polygon</kbd>, and <kbd>Training</kbd>. Remember to press the <em>Enter</em> key for each tag.</li>
<li>Verify your <span class="packt_screen">Add an item from my computer</span> window looks like the following, and click <span class="packt_screen">Add Item</span>.</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img height="314" src="assets/679ba35b-19a4-40c7-9c55-bb3d3b8462c0.png" width="373"/></div>
<p style="padding-left: 60px">Once the file successfully uploads, you will be taken to a properties page. Here you can see the ArcGIS Online properties associated with the data you just uploaded to your content. It is important to ensure the information and settings for your content are correct and up-to-date. This forms the metadata which users will see to determine if this is the data they need. It also determines what capabilities the user will have when they use this data.</p>
<p style="padding-left: 60px">Now, you will update a few of the properties associated with the new file you just uploaded. You will start with the <span class="packt_screen">Overview</span> and then move through the other levels, including <span class="packt_screen">Data</span>, <span class="packt_screen">Visualization</span>, <span class="packt_screen">Usage</span>, and <span class="packt_screen">Settings</span>.</p>
<ol start="20">
<li>Next to the <span class="packt_screen">Thumbnail</span>, click on <span class="packt_screen">Add a brief summary about this item</span>. This will allow you to provide a very short description about what this data is.</li>
<li>Type in the following summary: <kbd>This represents the City Limits for the City of Trippville</kbd>. Then click <span class="packt_screen">Save</span>.</li>
<li>Under the <span class="packt_screen">Thumbnail</span> and below the word <span class="packt_screen">Description</span>, click on the <span class="packt_screen">Add an in-depth description of this item</span>.</li>
<li>A robust text editing window will open allowing you to create a thorough description of this data. It can include pictures, links to other sites, and more. It is up to you how much detail you wish to provide. We will keep it simple for this new layer. Type in the following description: <kbd>This data represents the City Limits for the imaginary City of Trippville</kbd>. It was created as a shapefile using various sources of information, and adjusted to fit existing parcel data. This data is for training use only. Click <span class="packt_screen">Save</span> once you are done typing the description.</li>
<li>Scroll down to the <span class="packt_screen">Terms of Use</span>. This is where you can identify in-use restrictions, disclaimers, or other legal information you or your organization feels is required. Click on <span class="packt_screen">Add any special restrictions</span>. This will open another text editing window. Type the following: <kbd>For training use only</kbd>, and click <span class="packt_screen">Save</span>.</li>
</ol>
<p style="padding-left: 60px">The <span class="packt_screen">Overview</span> tab for the <span class="packt_screen">Trippville City Limits</span> properties should now look like the following screenshot:</p>
<div class="CDPAlignCenter CDPAlign"><img src="assets/1733498c-c310-4d94-8bfe-a7e9f30b4d7f.png"/></div>
<div class="mce-root CDPAlignCenter CDPAlign packt_figref">Properties of Trippville City Limits data in ArcGIS Online</div>
<ol start="25">
<li>Now, click on the <span class="packt_screen">Data</span> tab located near the top of the page.</li>
<li>Here you can review and make changes to the attribute table for the city limits shapefile. You will not make any changes now; just take a quick moment to review it.</li>
<li>Click on the <span class="packt_screen">Visualization</span> tab located next to the <span class="packt_screen">Data</span> tab you just clicked on. This will allow you to view the data in a map. From here, you can set the default symbology which is used when this data is added to a map or scene. You will now make some changes to the default symbology.</li>
<li>In the left panel, click on the <span class="packt_screen">Change Style</span> button.</li>
</ol>
<div class="packt_tip">
<p>If you don’t remember which is the <span class="packt_screen">Change Style</span> button, refer back to step 14 in the <em>Creating a simple web map in ArcGIS Online</em> recipe, in the previous chapter. </p>
</div>
<ol start="29">
<li>Click on the <span class="packt_screen">OPTIONS </span>button located under item 2, <span class="packt_screen">Select a drawing style</span> as illustrated in the following screenshot:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img height="362" src="assets/3e1224b6-52ac-4254-ad0d-a7332e460fe0.png" width="395"/></div>
<ol start="30">
<li>Click on the word Symbols to open the symbology settings window.</li>
<li>Using the skills you learned in the previous chapter, set the fill to <span class="packt_screen">No Color</span>, the outline to <span class="packt_screen">Black</span>, and the line width to 6 px. Then, click <span class="packt_screen">OK</span>.</li>
<li>Verify your <span class="packt_screen">Visualization</span> tab now looks like the following, and click <span class="packt_screen">OK</span>.</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img src="assets/f70e3ab3-fc62-439f-807d-b01b35a2bc04.png"/></div>
<div class="mce-root CDPAlignCenter CDPAlign packt_figref">City limit data stored in ArcGIS Online shown in a web map using </div>
<ol start="33">
<li>After clicking <span class="packt_screen">OK</span>, click <span class="packt_screen">Done</span> to complete the symbology changes. Then click <span class="packt_screen">Save Layer</span> to save the changes.</li>
<li>Click on the <span class="packt_screen">Usage</span> tab at the top next to the <span class="packt_screen">Visualization</span> tab. The <span class="packt_screen">Usage</span> tab allows you to monitor how often and how much this particular item is being used.</li>
<li>Now, click on the <span class="packt_screen">Settings</span> tab located next to the <span class="packt_screen">Usage</span> tab.</li>
<li>The <span class="packt_screen">Settings</span> tab allows you to configure various settings associated with the data you just uploaded. Take a moment to scroll through all the options available.</li>
<li>Feel free to make any adjustments you wish. When done, click on the <span class="packt_screen">Content</span> tab located at the very top of the ArcGIS Online page.</li>
</ol>
<p style="padding-left: 60px">Assuming you have not been creating ArcGIS Online content before starting this book, your content should now contain four items, as shown in the following screenshot:</p>
<div class="CDPAlignCenter CDPAlign"><img src="assets/7ab1afa0-e118-457f-9e20-e1ae69df1736.png"/></div>
<div class="mce-root CDPAlignCenter CDPAlign packt_figref">The content of items you have published to ArcGIS Online</div>
<p style="padding-left: 60px">Notice there are two Trippville City Limits items. One is a feature layer. A feature layer is an item that can be added to maps or scenes as a layer. It was created from the shapefile you uploaded. The shapefile is the actual ZIP file you uploaded. That file can be downloaded from ArcGIS Online for local use similar to how you can download files from Google Drive or Dropbox.</p>
<ol start="38">
<li>If you are continuing to the next recipe, leave your browser open. Otherwise, you may close it.</li>
</ol>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Creating a layer using a CSV file</h1>
                </header>
            
            <article>
                
<p>Now that you have uploaded a shapefile and created a feature layer based on the shapefile, let’s look at a CSV file. You can upload a CSV or TXT file to your content just as you did the shapefile. Because it is a single file, there is no need to ZIP it before you upload it to your ArcGIS Online content.</p>
<p>When you add a CSV file to your content, it is typically used in one of two ways. The first is just to allow others to download the file or to use it as a standalone table. The file is not used to create a layer in a map or scene. In that case, you do not need to worry about formatting.</p>
<p>However, if you want to create a layer in a map or scene from the data in the CSV file, it will need to be formatted to support that operation. Here are the formatting requirements for a CSV file if you want to use it to create a layer. This also applies to a TXT file:</p>
<ul>
<li>The first line must contain column headers, not feature values</li>
<li>The first line must include identifiers for two columns that will identify the location of the features</li>
<li>Location column identifiers must be named:
<ul>
<li><kbd>Lat</kbd> and <kbd>Long</kbd></li>
<li><kbd>Latitude</kbd> and <kbd>Longitude</kbd></li>
<li><kbd>Longitude83</kbd>, <kbd>Latitude83</kbd></li>
<li><kbd>Longdecdeg</kbd>, <kbd>Latdecdeg</kbd></li>
<li><kbd>Long_dd</kbd>, <kbd>Latdd</kbd></li>
<li><kbd>Y</kbd>, <kbd>X</kbd></li>
<li><kbd>Ycenter</kbd>, <kbd>Xcenter</kbd></li>
<li><kbd>Xcenter</kbd>, <kbd>Ycenter</kbd></li>
<li><kbd>Point-y</kbd>, <kbd>Point-x</kbd></li>
<li><kbd>Point-x</kbd>, <kbd>Point-y</kbd></li>
<li><kbd>MGRS</kbd></li>
<li><kbd>USNG</kbd></li>
<li><kbd>Address</kbd></li>
<li><kbd>City</kbd></li>
<li><kbd>State</kbd></li>
<li><kbd>ZIP</kbd></li>
</ul>
</li>
</ul>
<p>In this recipe, you will upload a CSV file which contains information about wildlife observation points you got from a friend. He wants you to create a map showing where these locations are. Instead of uploading using the method you did with the shapefile, you will drag and drop it into a web map. Before you do that though, you will examine the CSV file to ensure it is properly formatted.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Getting ready</h1>
                </header>
            
            <article>
                
<p>This recipe will require you to have an ArcGIS Online account and access to the internet. You will need to be a level 2 user. If you do not have an ArcGIS Online user login, or do not wish to use your organization's account to complete the recipes in this chapter, you can request a trial license from Esri at  <a href="http://www.esri.com/arcgis/trial">http://www.esri.com/arcgis/trial</a>. </p>
<p>You will also need a web browser that supports HTML 5 and JavaScript. This includes current versions of Chrome, Edge, Firefox, and Safari. Internet Explorer 11 or newer is also supported. Other browsers may also work but have not been tested by Esri.</p>
<p>You will need to have completed the previous recipe before starting this one. It is also recommended that you have completed all the recipes in <a href="4ba4882e-2afc-4bb8-9906-cb4ef46722ca.xhtml">Chapter 12</a>, <em>Introducing ArcGIS Online</em>, before starting this recipe. This will ensure you have a strong foundational understanding of what ArcGIS Online is and how it integrates with ArcGIS Pro.</p>
<p>You also need to ensure you have installed the sample data before starting this exercise. This recipe will also use credits. It is estimated it will use less than 1 credit.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">How to do it...</h1>
                </header>
            
            <article>
                
<ol>
<li>First, you will examine the CSV file provided by your friend. Using skills you have learned in previous recipes, open <kbd>File Explorer</kbd> and navigate to <kbd>C:\Student\ArcGISProCookbook\Chapter13\Files</kbd>.</li>
<li>Right-click on the <kbd>Wild_Life_Obser_Sta.csv</kbd> file and select <span class="packt_screen">Edit</span> from the menu that appears. This should open the file in Notepad, illustrated as follows:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1041 image-border" height="139" src="assets/d82a7353-4131-4662-a9bc-bf2968764d6a.png" width="317"/></div>
<ol start="3">
<li>Take a moment to review the contents of the CSV and compare it to the requirements listed at the start of the recipe. Then, answer the questions below.</li>
</ol>
<div class="packt_infobox">
<p><strong>Question</strong>: Does the first row contain column names? </p>
<p><strong>Answer</strong>:</p>
<p><strong>Question</strong>: If so, what are the column names?</p>
<p><strong>Answer</strong>: </p>
<p><strong>Question</strong>: Does it contain location information with required column names? </p>
<p><strong>Answer</strong>:</p>
</div>
<p style="padding-left: 60px">After reviewing the information in the file, you will see that the first row does indeed contain column names which will be interpreted as field names by ArcGIS Online. It also does include location coordinates for each feature, along with required field names for those location values. So, this file is formatted correctly. You can use it to create a layer in a map or scene.</p>
<ol start="4">
<li>Close Notepad when you are done reviewing the information. If asked, do not save any changes or edits to this file. Leave <kbd>File Explorer</kbd> open.</li>
<li>If you closed your browser after completing the last recipe, open it and log in to your ArcGIS Online account.</li>
<li>Click on the <span class="packt_screen">Map</span> tab at the top of the ArcGIS Online page.</li>
</ol>
<ol start="7">
<li>Now, position <kbd>File Explorer</kbd> and ArcGIS Online on your screen so they are side by side, as illustrated in the following screenshot:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1042 image-border" height="564" src="assets/1ec7d8ae-ad26-4b6a-bf1e-1bda8c445f70.png" width="1500"/></div>
<div class="mce-root CDPAlignCenter CDPAlign packt_figref">File Explorer and ArcGIS Online displayed side by side</div>
<ol start="8">
<li>Select the <kbd>Wild_Life_Obser_Sta.csv</kbd> file in <kbd>File Explore</kbd>. Then, drag and drop it into ArcGIS Online in the map. If you have completed this operation successfully, points should appear in the map showing the location of the wildlife observation stations.</li>
<li>You have the option to configure the symbology for the new layer you just created. In this case, you will just accept the defaults determined by ArcGIS Online. So, click the <span class="packt_screen">Done</span> button.</li>
<li>You need to save the map now. Click on the <span class="packt_screen">Save</span> button and select <span class="packt_screen">Save As</span> from the list that appears.</li>
<li>Title your map <kbd>Wild Life Observations Stations</kbd>. If others in your organization are also working through this book, or have, you may need to add your name to the end of the title to ensure it is unique.</li>
<li>Add the following tags: <kbd>Wild life</kbd>, <kbd>observation</kbd>, <kbd>locations</kbd>, and <kbd>training</kbd>.</li>
<li>Type in the following <span class="packt_screen">Summary</span>: <kbd>Locations of wild life observation stations as identified by my friend</kbd>.</li>
<li>Verify your <span class="packt_screen">Save Map</span> window looks like the following, and click <span class="packt_screen">SAVE MAP</span>:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1043 image-border" height="177" src="assets/e9123aa5-37c9-44d7-9a0b-f87e0876f739.png" width="359"/></div>
<p style="padding-left: 60px">You have just created a new web map which contains a layer that was built from data contained in a CSV file. This map should look similar to the following graphic:</p>
<div class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1044 image-border" height="331" src="assets/e6ba5209-051d-43ae-90f5-815c3d9023a6.png" width="525"/></div>
<div class="mce-root CDPAlignCenter CDPAlign packt_figref">Results of adding CSV data to web map</div>
<p style="padding-left: 60px">This same exact process will also work for a TXT file. However, you may have created more than just a map with a layer. Let’s explore your ArcGIS Online contents to see if you did create more content.</p>
<ol start="15">
<li>Click on the drop-down arrow located next to <span class="packt_screen">Home</span> in the top-left side of ArcGIS Online. Select <span class="packt_screen">Contents</span> from the list that appears.</li>
<li>Review your contents and answer the following questions.</li>
</ol>
<div class="packt_infobox">
<p><strong>Question</strong>: Did the process you used to add the CSV file create multiple items in your contents?</p>
<p><strong>Answer</strong>:</p>
<p><strong>Question</strong>: What items did this process create?</p>
<p><strong>Answer</strong>:</p>
</div>
<p style="padding-left: 60px">Using the drag-and-drop process into a map only created the single web map, unlike the process you used for the shapefile which created multiple items. Because the data in the CSV file was for a friend and would only be used in the single map, it made sense to use the drag-and-drop method. If you knew you would be using that data again in other maps, it would have made more sense to use the same method you did with the shapefile.  </p>
<ol start="17">
<li>Close your browser when you are done reviewing your contents.</li>
</ol>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Publishing layer packages using ArcGIS Pro</h1>
                </header>
            
            <article>
                
<p>You have now experienced how you are able to publish files to ArcGIS Online. This includes GIS files such as shapefiles, and non-GIS files such as CSV files. So far, you have done this without using ArcGIS Pro. However, you can publish content to ArcGIS Online directly from ArcGIS Pro.</p>
<p>ArcGIS Pro can not only use content which has been published to ArcGIS Online, but it can also be used to author content. Similar to how you published the shapefile to ArcGIS Online, you can publish a layer from a map in ArcGIS Pro as a layer package. The layer package will contain all the layer property settings you configure in ArcGIS Pro, along with the data. The data referenced by the layer can be stored in various formats, including geodatabase feature classes, shapefiles, spreadsheets, and more. This is useful when you need to share information with someone that is not on your network or that does not have direct access to your GIS data.</p>
<p>In this recipe, you will publish a layer package from ArcGIS Pro to your ArcGIS Online content. In this case, the City of Trippville has hired a planning consultant to review their Zoning Ordinance and GIS data. The consultant does not have access to the City’s network, so you will need to share that data with them using a layer package. The consultant does have an ArcGIS Online account, so this makes it easy to share with them.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Getting ready</h1>
                </header>
            
            <article>
                
<p>As with previous recipes in this chapter, you need to have completed the recipes in <a href="4ba4882e-2afc-4bb8-9906-cb4ef46722ca.xhtml">Chapter 12</a>, <em>Introducing ArcGIS Online</em>, as well as all previous ones in this chapter to ensure you have the foundational knowledge and skills needed to complete this one. You will also need to have ArcGIS Pro installed and a license assigned. Any license level will work to complete this recipe.</p>
<p>This recipe also requires that you have an ArcGIS Online account with at least a Publisher-level role assigned. You will also need internet access along with a web browser that supports HTML5 and JavaScript. You must install the sample data before beginning this recipe.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">How to do it...</h1>
                </header>
            
            <article>
                
<ol>
<li>You will start by launching ArcGIS Pro and opening the <kbd>ArcGISOnlineContent</kbd> project. This project is located in the <kbd>C:\Student\ArcGISProCookbook\Chapter13\ArcGISOnlineContent</kbd> folder. When the project opens, you should see the <span class="packt_screen">Zoning Map</span> open in the view, as illustrated in the following screenshot. If not, use the skills you have learned to open the map from the <span class="packt_screen">Catalog</span> pane:</li>
</ol>
<div class="mce-root CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1045 image-border" height="964" src="assets/1bc0a089-f844-4f0e-925f-6ab347ebfbca.png" width="1689"/></div>
<div class="mce-root CDPAlignCenter CDPAlign packt_figref">Trippville Zoning Map which should now be displayed</div>
<p style="padding-left: 60px">This map contains several layers. You only need to share one layer with the consultant. So, you will create a layer package and upload it to ArcGIS Online using a single tool.</p>
<ol start="2">
<li>Select the Zoning layer in the <span class="packt_screen">Contents</span> pane.</li>
<li>Click on the <span class="packt_screen">Share</span> tab in the ribbon.</li>
<li>Click on the <span class="packt_screen">Layer</span> button in the <span class="packt_screen">Package group</span> on the <span class="packt_screen">Share</span> tab. This will open the <span class="packt_screen">Sharing As A Layer Package</span> tool.</li>
</ol>
<ol start="5">
<li>Under <span class="packt_screen">Start Packaging</span>, ensure <span class="packt_screen">Upload package to Online account</span> is enabled.</li>
<li>Set the <span class="packt_screen">Name and Location</span> to <kbd>Trippville_Zoning</kbd> by typing that value into the cell. Make sure to include the underscore; spaces or other special characters are not allowed.</li>
<li>Accept the values that appear for the <span class="packt_screen">Summary</span> and <span class="packt_screen">Tags</span>. These were copied from the layers metadata.</li>
<li>Ensure none of the items under options are enabled. These do not apply to the data in this layer.</li>
<li>Under <span class="packt_screen">Sharing Options</span>, ensure only <span class="packt_screen">My Content</span> is selected. For now, you are not sharing this with anyone else. You will learn how to share in a later recipe.</li>
</ol>
<ol start="10">
<li>Ensure your <span class="packt_screen">Sharing As A Layer Package</span> tool is configured as shown in the following graphic. Then, click the <span class="packt_screen">Analyze</span> button:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1046 image-border" height="575" src="assets/a57462d9-4759-4f02-9448-1e3a096af322.png" width="466"/></div>
<p style="padding-left: 60px">The <span class="packt_screen">Analyze</span> button will review your settings and the layer to locate anything that might prevent the layer package from publishing successfully. The results will then be presented in the tool window. Any issues identified as errors must be fixed before packaging the layer. Messages should be reviewed, but you are not required to take action before packaging the layer. In this recipe, you should not get any errors or messages.  </p>
<ol start="11">
<li>Once the analysis is complete and no errors are returned, click the <span class="packt_screen">Package</span> button. This will create the layer package and upload it to your ArcGIS Online content.</li>
<li>Once the tool has run successfully, close it.</li>
</ol>
<div class="packt_tip">
<p>You could have also accessed this same tool by right-clicking on the layer in the <span class="packt_screen">Contents</span> pane, then selecting <span class="packt_screen">Share as Layer Package</span> from the menu that appears.</p>
</div>
<ol start="13">
<li>Now, to verify the tool actually uploaded the new layer package to your ArcGIS Online content, in the <span class="packt_screen">Catalog</span> pane, click on the <span class="packt_screen">Portal</span> tab located next to the <span class="packt_screen">Project</span> tab.</li>
<li>Ensure <span class="packt_screen">My Content</span> is the active resource. It should be the first button located just below the word <span class="packt_screen">Project</span>. The icon resembles a cloud with a single person standing in front.</li>
<li>Review your ArcGIS Online content. You should see the content you created in previous recipes along with the new layer file that you just created.</li>
</ol>
<div class="packt_tip">
<p>If you do not see the Trippville_Zoning layer package you just created, you may need to refresh the pane. To refresh the pane, click on the three stacked bars in the upper-right corner and select Refresh from the menu that appears. With the Catalog pane selected, pressing the F5 key will also refresh the pane.  </p>
</div>
<ol start="16">
<li>Notice the different icons associated with your content. Esri uses different icons to help you quickly identify different types of content.</li>
<li>Save your project and close ArcGIS Pro.</li>
</ol>
<p>In this recipe, you learned how to successfully upload a new layer package to ArcGIS Pro. A layer package contains all the layer properties you configure in ArcGIS Pro, such as the symbology, labeling, elevation, transparency, definition query, and more, plus the actual data itself. All of that is compressed or zipped together in a single LPKX file and then uploaded to ArcGIS Online. Once there, it becomes part of your content, which you can share with others so they can download and use it in their own maps or scenes.</p>
<p>An important thing to remember with layer packages is that they are a copy of the data at the time the package was created. If changes are made to the data or layer properties after that, the layer package will need to be updated. Also, if you make changes to the data in the layer package, they will not be changed in the original source data either.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Publishing web layers using ArcGIS Pro</h1>
                </header>
            
            <article>
                
<p>Publishing layer packages to ArcGIS Online is extremely useful if you need to share data with someone that needs to have access to the entire dataset and to work on a copy of the data. This allows them to run different scenarios, perform different analyses, and make changes to the data without actually impacting the data sharing through ArcGIS Online. What if you wanted to share a layer to ArcGIS Online that you wanted included in a web map, which users would access through the ArcGIS Online Web Map Viewer, or other custom web or mobile applications? A layer package would not allow that. What you need is a web layer.</p>
<p>Web layers allow you to publish a single layer so that it may be added to a web map. You add the layer using the same process you used in <a href="4ba4882e-2afc-4bb8-9906-cb4ef46722ca.xhtml">Chapter 12</a>, <em>Introducing ArcGIS Online</em>, and the <em>Creating a simple web map in ArcGIS Online</em> recipe. Once added to a web map, you can then visualize it using the <em>Web Map Viewer</em> application or even incorporate it into your own custom web or mobile application.</p>
<p>There are seven different types of web layers you can create from ArcGIS Pro. These include: feature, tile, vector tile, map image, imagery, scene, and elevation. Web layers such as feature, tile, vector tile, map image, and imagery layers are created from 2D data. Scenes and elevation layers are created from 3D data. To learn more about these different types of web layers, go to <a href="http://pro.arcgis.com/en/pro-app/help/sharing/overview/introduction-to-sharing-web-layers.htm">http://pro.arcgis.com/en/pro-app/help/sharing/overview/introduction-to-sharing-web-layers.htm</a>.</p>
<p>In this recipe, you will create a new web layer for the City of Trippville parcels. Several departments in the City are considering deploying GIS web applications. Most of these will need to include the parcel data, so it makes sense to create a new web layer. For this recipe, we will keep it simple and you will create it as a feature layer. This also uses the least amount of credits.   </p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Getting ready</h1>
                </header>
            
            <article>
                
<p>You must have completed the other recipes in this chapter along with those in <a href="4ba4882e-2afc-4bb8-9906-cb4ef46722ca.xhtml">Chapter 12</a>, <em>Introducing ArcGIS Online</em>, before starting this one. This will ensure you have a strong foundational understanding of ArcGIS Online and how it is linked to ArcGIS Pro. You will also need to ensure the sample data is installed before you continue.  </p>
<p>This recipe, like the others in this chapter, will require you to have an ArcGIS Online user account. User level 2 and the Publisher role are also required to complete this recipe. This recipe will use up some of your ArcGIS Online credits. The amount should be very small, under 1 credit in most cases.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">How to do it...</h1>
                </header>
            
            <article>
                
<ol>
<li>You will start by launching ArcGIS Pro and opening the <kbd>ArcGISOnlineContent</kbd> project you used in the previous recipe. This project should be included in your list of recently opened projects.</li>
<li>The <span class="packt_screen">Zoning Map</span> should still be open. If it is not, open it from the <span class="packt_screen">Catalog</span> pane.</li>
<li>Notice this map contains the <span class="packt_screen">Parcels</span> layer you need to upload to ArcGIS Online as a web layer. Select the <span class="packt_screen">Parcels</span> layer and then right click on it.</li>
<li>Select <span class="packt_screen">Share as a web layer</span> from the menu that appears. This option will be near the bottom of the menu.</li>
<li>Name the web layer you will create <kbd>Trippville_Parcels</kbd>. Remember that spaces and special characters are not allowed. Also, if you have others from your organization working through this book, or that have in the past, you may need to add your name to the end of the name for the web layer to ensure it is unique and does not already exist.</li>
<li>Verify the <span class="packt_screen">Layer Type</span> is set to <span class="packt_screen">Feature</span>. This is important. If you have it set to <span class="packt_screen">Tile</span> or <span class="packt_screen">Vector Tile</span>, you will use a lot of your ArcGIS Online credits.</li>
</ol>
<ol start="7">
<li>Type in the following <span class="packt_screen">Summary</span>: <kbd>This contains the parcel data for the City of Trippville and surrounding area. It was originally compiled by the county in which Trippville is located.</kbd>  </li>
<li>Enter the following tags: <kbd>Trippville</kbd>, <kbd>parcels</kbd>, <kbd>polygons</kbd>, <kbd>property</kbd>, and <kbd>boundary</kbd>.</li>
<li>Under <span class="packt_screen">Sharing Options</span>, select <span class="packt_screen">My Content</span> and the name of your organization. This will not only allow you to access this data, but also all ArcGIS Online users in your organization.</li>
<li>Verify your <span class="packt_screen">General</span> information looks like the graphic below. Then, click on the <span class="packt_screen">Configuration</span> tab located at the top of the tool window.</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1047 image-border" height="448" src="assets/55af5710-d855-45a3-99ce-ad5f0aa0b08a.png" width="397"/></div>
<ol start="11">
<li>Under the <span class="packt_screen">Operations</span> options, click on <span class="packt_screen">Enable Sync</span>. This will allow the data to be downloaded to a device if they lose data connection.</li>
<li>Click on the <span class="packt_screen">Analyze</span> button at the bottom of the tool. This will warn you of any issues before you attempt to publish the layer to ArcGIS Online.</li>
<li>If no errors are found, click <span class="packt_screen">Publish</span>.</li>
</ol>
<div class="packt_tip">
<p>This might take several minutes to complete depending on your computer and internet speed. Do not be concerned if it does.</p>
</div>
<ol start="14">
<li>Once the tool completes successfully, close it.</li>
<li>Now to verify the <span class="packt_screen">Parcels</span> web layer was successfully published to ArcGIS Online. In the <span class="packt_screen">Catalog</span> pane, click on the <span class="packt_screen">Portal</span> tab.</li>
<li>Review your contents. You should now have at least six items listed in your content, including the new feature layer you just created. If not, refresh the view. If the new web layer was successfully created, it should appear under <span class="packt_screen">My Content</span> in your portal.</li>
<li>Notice that the icon next to the <span class="packt_screen">Trippville_Parcels</span> web layer is different than the one for the <span class="packt_screen">Trippville_Zoning</span> layer package. That is because they are two different types of data.</li>
<li>Save your project and close ArcGIS Pro.</li>
</ol>
<p>You have just learned another way to publish a layer to ArcGIS Online. This time, you published it as a web layer that can be used in a web map, which you can view in the ArcGIS Web Map Viewer, or custom web or mobile applications you create.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Publishing 2D maps</h1>
                </header>
            
            <article>
                
<p>Now that you know how to publish a layer as either a layer file or a web layer, is it possible to publish an entire map to ArcGIS Online? Well, of course you can. Just like a layer, you can publish a map as as map package or as as a web map.</p>
<p>Publishing a map as a map package uses the same basic procedure as publishing a layer package. It packages the entire map including layer properties and data into a single MAPX file. You can then upload that to ArcGIS Online, so others can download it just as they would a layer package. While certainly a valuable tool in your arsenal, it does have limited use.  Publishing a web map offers much more flexibility.</p>
<p>A web map can be accessed and used multiple ways. You can add it to a project in ArcGIS Pro, or incorporate it into a web application so it can be used via a web browser and be part of a mobile application. Depending on the settings you configure, users might be able query, print, edit, and download the data using any or all of these access methods. All of this make web maps very versatile.</p>
<p>If you are going to publish a map from ArcGIS Pro as a web map, you need to ensure it is optimized to provide the greatest performance. In general, this means that simpler is better. You want to use simple symbology; basic line patterns, simple marker symbols, and generic polygon fills. Another thing you can do to improve performance is to apply scale ranges that turn on and off layers automatically as the user zooms in or out. Limit the use of labels; labels can greatly hinder the performance of a web map because they require a lot of processing to render. Limiting the number of layers to only those you absolutely need for the given map will also help it perform better. Each map should have a specific purpose. Make sure each layer in the map supports that primary purpose.</p>
<p>In this recipe, the Utility Superintendent has asked you to create a web map of the City of Trippville’s sewer system. He is intending to deploy a new web and mobile application for the inspection and maintenance of this utility.  He wants to display the current condition of the sewer lines in the map, so that, as the lines are inspected, the map will reflect the condition identified during the inspection.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Getting ready</h1>
                </header>
            
            <article>
                
<p>Before you start this recipe, ensure you have completed all the previous recipes in this chapter and in <a href="4ba4882e-2afc-4bb8-9906-cb4ef46722ca.xhtml">Chapter 12</a>, <em>Introducing ArcGIS Online</em>. This will ensure you have the foundational knowledge and skills required to complete this recipe.</p>
<p>To complete this recipe, you will need a level 2 ArcGIS Online user account with Publisher-level role permissions. You will also need an internet connection, a web browser which supports HTML 5 and JavaScript, and ArcGIS Pro. The sample data for the book must also be installed on your computer.  </p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">How to do it...</h1>
                </header>
            
            <article>
                
<ol>
<li>We will start by launching ArcGIS Pro and opening the project we used in the previous recipe, <kbd>ArcGISOnlineContent</kbd>. This project should be included in your list of recently opened projects.</li>
<li>The superintendent needs a map of the Trippville sewer system that shows the conditions of the sewer lines. The project already has a map which we will start with. Open the <span class="packt_screen">Trippville Sewer Map</span> from the <span class="packt_screen">Catalog</span> pane by right-clicking on it and selecting <span class="packt_screen">Open</span>.</li>
<li>The new map should open in your view, containing the layers required by the superintendent, as illustrated in the following graphic. If the <span class="packt_screen">Zoning Map</span> is still open, you can close it.</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1048 image-border" height="859" src="assets/c2a3fc57-708a-4024-b510-10a3a6759160.png" width="1500"/></div>
<div class="mce-root CDPAlignCenter CDPAlign packt_figref">Trippville Sewer Map</div>
<p style="padding-left: 60px">This map will provide you with a head start. It already contains the required layers. They have been symbolized with simple symbols to ensure better performance via the web. The Sewer Lines layer is already symbolized based on the condition of each line. So, the basics have already been done. If you want to know more about how to create a map from the beginning, review, <a href="45fda239-2b00-4355-9553-6c6c2b69b0ab.xhtml">Chapter 1</a>, <em>ArcGIS Pro Capabilities and Terminology</em>. You might also want to work through <em>Learning ArcGIS Pro</em> by Tripp Corbin from Packt Publishing as well. <em>Learning ArcGIS Pro</em> goes into great detail regarding the workflows required to create a map.</p>
<p style="padding-left: 60px">Now, you will configure some of the layers to provide better performance.</p>
<ol start="4">
<li>One of the first things you will do is limit the extents of the map to the City Limits of Trippville. This will allow users to click on the <span class="packt_screen">Zoom Extents</span> button and be taken to the limits of the City. Right-click on the <span class="packt_screen">Trippville Sewer Map</span> at the top of the <span class="packt_screen">Contents</span> pane. Select <span class="packt_screen">Properties</span> from the menu that appears.</li>
<li>In the left panel of the <span class="packt_screen">Map Properties</span> window, select <span class="packt_screen">Extent</span>.</li>
<li>Click on the radial button next to <span class="packt_screen">Custom</span> extent. This should enable the <span class="packt_screen">Calculate from option</span>.</li>
<li>Click on <span class="packt_screen">Choose calculation type</span> and select <span class="packt_screen">City Limits from the list</span> that is displayed.</li>
</ol>
<p style="padding-left: 60px">The values for the top, bottom, left, and right should change. These values define the bounding limits used as the full extents of the map.</p>
<div class="packt_infobox">
<p>By default, the extents of a map are equal to the largest layer in the map. This includes the basemap. So, if you make use of an Esri-provided basemap, the full extents for your map are equal to the entire world.</p>
</div>
<ol start="8">
<li>Click on the <span class="packt_screen">Metadata</span> option in the left panel. Review the data contained here. As you can see, this has already been filled in for you. If this was a completely new map, you would need to fill this information out yourself before publishing the map to ArcGIS Online.</li>
<li>Click <span class="packt_screen">OK</span> to close the <span class="packt_screen">Map Properties</span> window.</li>
</ol>
<ol start="10">
<li>Now, you will set the scale visibility for the <span class="packt_screen">Sewer Manholes</span> layer. This will improve the overall performance of the map by only displaying this layer once you zoom in to a specific scale. You will start by zooming to the desired scale at which you want this layer to become visible. In the lower-left corner of the map view, locate the map scale, as shown in the following graphic:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1049 image-border" height="602" src="assets/00907a2f-2860-4fdf-993d-6a641f13ced0.png" width="1038"/></div>
<div class="mce-root CDPAlignCenter CDPAlign packt_figref">Map scale located in lower left corner of map view area</div>
<ol start="11">
<li>In that cell, type <kbd>1:4000</kbd>, and press the <em>Enter</em> key. Your map will zoom to the scale you just entered. The area will be based on the center of your map view.</li>
</ol>
<div class="packt_tip">
<p>You can also type just <kbd>4000</kbd> and ArcGIS Pro will automatically add the <kbd>1:</kbd> to the front. In future situations where you may want the map to be set to a scale where 1 unit equals so many different units, such as 1 inch equals 100 feet or 1 centimeter equals 5 kilometers, you can simply type that into this cell as well. ArcGIS Pro will automatically make the required conversions.</p>
</div>
<ol start="12">
<li>In the <span class="packt_screen">Contents</span> pane, right-click on the Sewer Manholes layer and select <span class="packt_screen">Properties</span> from the menu that appears.</li>
<li>In the left panel of the <span class="packt_screen">Layer Properties</span> window, select the <span class="packt_screen">General</span> option.</li>
<li>In the right panel of the window below where it says <span class="packt_screen">Out beyond</span> (<span class="packt_screen">minimum scale</span>), click on the drop-down arrow and select <span class="packt_screen">&lt;Current&gt;</span> from the list that appears. This should set the value to <kbd>1:4000</kbd>.</li>
<li>Click <span class="packt_screen">OK</span>. This will set it so that the Manhole layer does not become visible until you zoom in to a scale of <kbd>1:4000</kbd>. This reduces the amount of data the computer must render when zoomed out beyond that scale. That improves the performance of the map.</li>
<li>Click on the <span class="packt_screen">Full Extent</span> button located in the <span class="packt_screen">Navigate</span> group on the <span class="packt_screen">Map</span> tab in the ribbon. This will zoom your map to the extents of the map which you set earlier to match the City Limits layer.</li>
<li>Look at the map. The <span class="packt_screen">Sewer Manholes</span> are no longer visible. That is because you have zoomed out beyond the <kbd>1:4000</kbd> scale.</li>
<li>Look at the box next to the <kbd>Sewer Manholes</kbd> layer. Notice it is grayed out and has a small rectangle below it. This indicates it has a scale visibility range assigned to the layer, and you are not zoomed to a scale that causes the layer to be visible. Now, answer the following question.</li>
</ol>
<div class="packt_infobox">
<p><strong>Question</strong>: What other layers appear to have scale visibility ranges assigned in this map?</p>
<p><strong>Answer</strong>:</p>
</div>
<p style="padding-left: 60px">As you can see, several layers have scale visibility ranges assigned. This includes the <span class="packt_screen">Street Name Labels</span> and the <span class="packt_screen">Street Rights of Way</span>. The only ones that do not are the <span class="packt_screen">Sewer Lines</span>, <span class="packt_screen">City Limits</span>, and <span class="packt_screen">World Imagery</span>.</p>
<ol start="19">
<li>Select the <span class="packt_screen">Sewer Lines</span> layer in the <span class="packt_screen">Contents</span> pane.</li>
<li>Click on the <span class="packt_screen">Appearance</span> tab in the ribbon.</li>
<li>In the <span class="packt_screen">Visibility</span> group on the <span class="packt_screen">Appearance</span> tab, click on the drop-down arrow for <span class="packt_screen">Out Beyond</span>, and select <kbd>1:4000</kbd> from the list that is presented. If you are still zoomed to the full extent, the <span class="packt_screen">Sewer Lines</span> layer should no longer be visible in your map.</li>
</ol>
<p style="padding-left: 60px">You have just assigned visibility scales to two layers within your map using two different methods. One was through the layer properties, and the other was using the <span class="packt_screen">Appearance</span> tab in the ribbon. Both methods do the same thing. In the future, you can use whichever method works best for you.</p>
<p style="padding-left: 60px">You are almost ready to publish this map as a web map. You have verified the symbology is simple lines, points and polygons. You have enhanced the performance of the map by limiting the extents and applying scale visibility ranges. The next step is to verify all the layers have metadata, like you did for the map itself. While not necessarily required, it is a recommended best practice.</p>
<ol start="22">
<li>Using the skills you have learned, open the properties for each layer and verify the metadata has been filled out for each layer. You will need to close the properties window before you can open the one for the next layer. At least one layer is missing metadata information. Using the metadata from the other layers as a guide, complete the metadata for the layer or layers that are missing it.</li>
<li>Save your project.</li>
<li>Click on the <span class="packt_screen">Share</span> tab in the ribbon.</li>
<li>Click on the <span class="packt_screen">Web Map</span> button in the <span class="packt_screen">Share As</span> group on the <span class="packt_screen">Share</span> tab. This will open the <span class="packt_screen">Sharing As A Web Map</span> tool.</li>
<li>Accept the <span class="packt_screen">Default name</span> which should be <span class="packt_screen">Trippville_Sewer_Map</span>. If others in your organization are also working through this book, or have, you may need to add your name to the end in order to make the name unique. Remember, spaces and special characters are not allowed.</li>
<li>Review the <span class="packt_screen">Summary</span> and answer the following question.</li>
</ol>
<div class="packt_infobox">
<p><strong>Question</strong>: Where did the Summary come from?</p>
<p><strong>Answer</strong>:</p>
</div>
<p style="padding-left: 60px">If you remember reviewing the <span class="packt_screen">Trippville Sewer Map</span> properties, specifically, looking over the metadata, the summary in the tool should look familiar. It comes from the maps metadata. The same is true for the tags.</p>
<ol start="28">
<li>Under the Sharing Options, enable sharing with your organization. This will allow others in your organization to access the web map you are about to create.</li>
</ol>
<ol start="29">
<li>Using the drop-down arrow, set the <span class="packt_screen">Select a Configuration</span> option to <span class="packt_screen">Copy all data: Editable</span>. This option will upload all the data referenced in the map to ArcGIS Online and publish it as feature layers, so the data can be edited using a web or mobile app in addition to ArcGIS Pro. This option also uses the least amount of credits.</li>
</ol>
<div class="packt_infobox">
<p>The options available for configuration will depend on the source of the data referenced in the map. Because all your layers reference a file geodatabase, except for the basemap, you are presented with three options, all of which copy the data to ArcGIS Online. If your map contained data that referenced a web resource, you would be presented with different options. To learn more about all the configuration options you might encounter, go to <a href="http://pro.arcgis.com/en/pro-app/help/sharing/overview/share-a-web-map.htm/">http://pro.arcgis.com/en/pro-app/help/sharing/overview/share-a-web-map.htm/</a></p>
</div>
<ol start="30">
<li>Verify the <span class="packt_screen">Map</span> options look like the following graphic, then click on the <span class="packt_screen">Configuration</span> tab near the top of the tool window.</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1050 image-border" height="335" src="assets/94386a6c-1d33-4d57-9af7-57181b9df3b6.png" width="270"/></div>
<div class="mce-root CDPAlignCenter CDPAlign packt_figref">Sharing the Trippville sewer map as as web map using the Share As Web Map tool</div>
<ol start="31">
<li>In the window area located in the middle of the tool, select the <span class="packt_screen">Trippville_Sewer_Map_WFL1</span> item.</li>
<li>The <span class="packt_screen">Properties</span> option located above the window should now be available. Click on <span class="packt_screen">Properties</span>.</li>
<li>Ensure the <span class="packt_screen">Layer Type</span> is set to feature. If it is set to <span class="packt_screen">Tile</span> or <span class="packt_screen">Vector</span> tile, you selected the wrong configuration in step 29.</li>
<li>Click on the <span class="packt_screen">Configuration</span> tab at the top next to the <span class="packt_screen">General</span> tab.</li>
<li>Now, time to analyze your map to see if it contains anything which would prevent it from being published as a web map. Click the <span class="packt_screen">Analyze</span> button at the bottom of the tool.</li>
</ol>
<p style="padding-left: 60px">When the analysis is complete, you should not see any errors. One thing you should know when publishing a web map to ArcGIS Online is it requires you to have a basemap. If you are using an Esri basemap, then your map must use the WGS84 Web Mercator Auxiliary Sphere coordinate system.</p>
<ol start="36">
<li>Click the <span class="packt_screen">Share</span> button located at the bottom of the tool, next to the <span class="packt_screen">Analyze</span> button. This will publish your map to ArcGIS Online.</li>
<li>Once the tool is successful, close it.</li>
</ol>
<p style="padding-left: 60px">You have successfully published your first web map to ArcGIS Online from ArcGIS Pro. As you have seen, there are many items you need to consider in order for it to be successfully published. Now, let’s take a look at the new map you just published using the ArcGIS Online Web Map Viewer application.</p>
<ol start="38">
<li>Launch your web browser and go to <a href="http://www.arcgis.com">www.arcgis.com</a>.</li>
<li>Using the skills you have learned, sign in to your ArcGIS Online account.</li>
<li>Click on the <span class="packt_screen">Content</span> tab near the top of ArcGIS Online, as you have done in previous recipes.</li>
<li>Examine your content. Assuming you have not used ArcGIS Online before starting this book, you should now have 11 items in your content. Three of those were created when you published the <span class="packt_screen">Trippville Sewer Map</span> as a web map.</li>
<li>Click on the <span class="packt_screen">Trippville_Sewer_Map</span> web map in your contents. This will take you to the properties of the web map you published.</li>
</ol>
<ol start="43">
<li>Now to look at it in the <span class="packt_screen">Map Viewer</span>. Click on the <span class="packt_screen">Open in Map Viewer</span> button located on the right side of the page.  The web map you created should now be open in the view, as shown in the following screenshot:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1051 image-border" height="828" src="assets/e56baf6e-b4af-43e1-8c3c-3451bdb59962.png" width="1318"/></div>
<div class="mce-root CDPAlignCenter CDPAlign packt_figref">The Trippville sewer map displayed in ArcGIS Online as a  web map</div>
<ol start="44">
<li>Place your mouse pointer over the approximate center of the City, and use your mouse wheel to zoom in until you start to see the sewer layers.</li>
<li>Feel free to navigate around your new map. When you are done, close your browser to exit ArcGIS Online.</li>
<li>Close ArcGIS Pro.</li>
</ol>
<p>You have successfully published a web map from ArcGIS Pro to ArcGIS online. This map can now be used with those in your organization in many different ways. Users can log in to ArcGIS Online and open it in the <span class="packt_screen">Map Viewer</span>, as you did. It can also be incorporated into custom web applications, which you will learn how to do in the next chapter.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Sharing published content</h1>
                </header>
            
            <article>
                
<p>As you have seen, ArcGIS Online is a great repository of content, including maps and data. However, one of the strongest capabilities ArcGIS Online provides is the ability to share that content with others. Any content you add to ArcGIS Online can be shared so that others can also access and make use of it. That makes the content more dynamic and can greatly increase its value.</p>
<p>If you choose to share your content, you have three options for sharing it. First, you can share it only with yourself. That means you can access it anywhere you have a connection to ArcGIS Online, but no one else can. The next option is to share it with your organization. That allows that anyone with an ArcGIS Online user login from your organization will be able to access your content. Lastly, you can choose to share your content with specific groups. Groups can include specific users from your organization, and possibly those outside if allowed by your organization's ArcGIS Online administrator.</p>
<p>What users are allowed to do with the content that has been shared depends on three things: their user level, user role, and the settings for the content. Level 1 users will only have very limited capability, while level 2 users are allowed greater potential abilities. User roles are the next level which determine a user’s ability to use the content. User levels and roles were discussed in more detail during the introduction to <a href="4ba4882e-2afc-4bb8-9906-cb4ef46722ca.xhtml">Chapter 12</a>, <em>Introducing ArcGIS Online</em>. If you want to refresh your memory, you may want to review <a href="4ba4882e-2afc-4bb8-9906-cb4ef46722ca.xhtml">Chapter 12</a>, <em>Introducing ArcGIS Online</em>.</p>
<p>The last thing that determines a user’s capability is the settings for the content they can access. This is initially determined by what type of content it is. For example, the settings for a web map will be different than those for a feature layer. You saw some of these differences when you published these from ArcGIS Pro in previous recipes. Some possible optional settings you might allow are:</p>
<ul>
<li>Ability to download a copy of the data</li>
<li>Enable editing</li>
<li>Enable sync</li>
<li>Prevent delete</li>
<li>Allow Save As copy</li>
<li>Allow tools and capabilities if used in an application</li>
</ul>
<p>These are just a few of the possible settings options you might encounter. Typically, you configure these when you publish the content. However, you can adjust these settings as needed for any content you publish to ArcGIS Online via your browser and My Content.  </p>
<p>But how do you actually share your content? It is actually very simple. As you have seen in previous recipes, when you publish content from ArcGIS Pro, you are able to select if you share the content with others or not. If you have already published your content, you can choose to share it or make changes to the share settings through your web browser and the ArcGIS Online portal.  </p>
<p>In <a href="4ba4882e-2afc-4bb8-9906-cb4ef46722ca.xhtml">Chapter 12</a>, <em>Introducing ArcGIS Online</em>, you created a basic map for the City of Trippville in ArcGIS Online. The purpose of this map was to create a template others could use as a starting point for creating their own web maps. In this recipe, you will adjust the sharing settings for the web map you created in <a href="4ba4882e-2afc-4bb8-9906-cb4ef46722ca.xhtml">Chapter 12</a>, <em>Introducing ArcGIS Online</em>. In addition, you will review the settings for this web map to ensure all the capabilities that you believe will be needed are enabled.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Getting ready</h1>
                </header>
            
            <article>
                
<p>Before you start this recipe, ensure you have completed all the previous recipes in this chapter and <a href="4ba4882e-2afc-4bb8-9906-cb4ef46722ca.xhtml">Chapter 12</a>, <em>Introducing ArcGIS Online</em>. This will ensure the <span class="packt_screen">Trippville Basic Map</span> you will need for this recipe exists, in addition to making sure you have the foundational knowledge and skills required to complete this recipe.</p>
<p>To complete this recipe, you will need a level 2 ArcGIS Online user account with Publisher-level role permissions. You will also need an internet connection, a web browser that supports HTML 5 and JavaScript, and ArcGIS Pro. The sample data for the book must also be installed on your computer. </p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">How to do it...</h1>
                </header>
            
            <article>
                
<ol>
<li>We will start by launching your web browser and signing in to ArcGIS Online. So, launch your web browser and go to <a href="http://www.arcgis.com">www.arcgis.com</a>. Using the skills you have learned in previous recipes, sign in to your ArcGIS Online account.</li>
</ol>
<ol start="2">
<li>Once you are logged in to your ArcGIS Online account, click on <span class="packt_screen">Content</span> so you can see all your ArcGIS Online content. It should look similar to the following screenshot. Depending on how long you have been using ArcGIS Online, you may have more content.</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1053 image-border" height="803" src="assets/00f6edb4-e2d6-407c-bdf8-646362b0c585.png" width="1297"/></div>
<div class="mce-root CDPAlignCenter CDPAlign packt_figref">My Content page in ArcGIS Online</div>
<ol start="3">
<li>At the top center of the <span class="packt_screen">Content</span> page is a search function. Search for the following value: <kbd>Trippville Basic Map</kbd>. This will filter your content so only items matching the search string are displayed.</li>
<li>Click on the <span class="packt_screen">Trippville Basic Map</span> that is returned by your search. This will take you to the properties for this item. That is the starting point for sharing an item.</li>
<li>Before you share an item with others, it is a recommended best practice to complete the metadata associated with the item. So, you will do that now. Under <span class="packt_screen">Description</span>, click on <span class="packt_screen">Add</span> <span class="packt_screen">an in-depth description of the item</span>. This will open a text editing box.</li>
</ol>
<ol start="6">
<li>Scroll down to <span class="packt_screen">Terms of Use</span> and click on the <span class="packt_screen">Edit</span> button located to the right. This will also open a text edit box.</li>
<li>Type <kbd>For training</kbd> use only into the editing box, and click <span class="packt_screen">Save</span>.</li>
<li>Now, click on the <span class="packt_screen">Settings</span> tab located below the name of the web map, near the top.</li>
<li>Ensure that <span class="packt_screen">Prevent</span> <span class="packt_screen">this item from being accidentally deleted</span> is checked. Since you intend for this map to serve as the basis for other new web maps others might create, you do not want someone to accidentally delete it. Click the <span class="packt_screen">Save</span> button.</li>
<li>Scroll down and review the other settings which are available. Accept the default settings.</li>
<li>Once you are done reviewing the available options, scroll back to the top and click on the <span class="packt_screen">Overview</span> tab to return to the metadata.</li>
<li>Before you actually share the <span class="packt_screen">Trippville Basic Map</span>, you want to create a group for those which will be allowed to create their own web maps in your organization. Click on the <span class="packt_screen">Groups</span> tab located at the very top of the page. This will take you to the <span class="packt_screen">Groups</span> page in ArcGIS Online.</li>
<li>Click on the <span class="packt_screen">Create New Group</span> button to start the process of creating a new group.</li>
<li>Name the new group: <kbd>Map Makers</kbd></li>
<li>Type the following <span class="packt_screen">Summary</span>: <kbd>This group is for those within the organization which are allowed to create new web maps</kbd>.</li>
<li>Add the following tags: <kbd>Trippville</kbd>, <kbd>web maps</kbd>, <kbd>template</kbd>, <kbd>base layers</kbd>.</li>
<li>Set the remaining settings as indicated here:
<ul>
<li>Who can view this group? – people in the organization</li>
<li>Who can join this group? – only those invited by the group manager</li>
<li>Who can contribute content? – group members</li>
<li>What items in the group can its members update? - all items (group membership is limited to the organization)</li>
</ul>
</li>
</ol>
<ol start="18">
<li>Verify your <span class="packt_screen">Create New Group</span> page looks like the following, and click <span class="packt_screen">Create Group</span>:</li>
</ol>
<div class="CDPAlignCenter CDPAlign">&gt;<img class="alignnone size-full wp-image-1054 image-border" height="892" src="assets/cd4f1dc2-1258-4a4b-bfa1-b4f05e720e21.png" width="1007"/></div>
<div class="mce-root CDPAlignCenter CDPAlign packt_figref">Creating a new Group page in ArcGIS Online</div>
<div class="packt_tip">
<p>You can also add a custom icon/logo that will help others identify your group and its purpose. This must be a raster file including a GIF, PNG, and JPG file. The raster should be square and a minimum of 400 x 400 pixels.</p>
</div>
<ol start="19">
<li>You have just created a new group in your organization. Groups can be used to control who you share your content with. Edit the description for your new group using the skills you have learned to create descriptions for other items in ArcGIS Pro. Use the summary you created as a guide for creating your description.</li>
<li>Click on the <span class="packt_screen">Content</span> tab at the very top of ArcGIS Online, located between <span class="packt_screen">Groups and Organization</span>. This will take you back to your <span class="packt_screen">Content</span> page.</li>
<li>Click on the <span class="packt_screen">Trippville Basic Map</span> web map to return to its properties. Use the search tool if you need to in order to locate it.</li>
<li>Click on the <span class="packt_screen">Share</span> button located on the right side. This will open the <span class="packt_screen">Share</span> window.</li>
<li>Deselect the <span class="packt_screen">Everyone (public)</span> and <span class="packt_screen">Trippville</span> options. Enable the <span class="packt_screen">These groups</span> option. Then, enable the <span class="packt_screen">Map Makers</span> group you just created.</li>
<li>Verify your <span class="packt_screen">Share</span> window looks like the following, and click <span class="packt_screen">OK</span>:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1055 image-border" height="281" src="assets/5db35224-1be2-44dc-91e0-697d43f48192.png" width="290"/></div>
<ol start="25">
<li>Click on the <span class="packt_screen">Groups</span> tab at the top of ArcGIS Online.</li>
<li>Select the <span class="packt_screen">Map Makers</span> group in the right panel of the page. This will open that group.</li>
<li>Click on the <span class="packt_screen">Content</span> tab located under the group map. This will display all content which has been shared with the group.</li>
</ol>
<ol start="28">
<li>Verify that you see the <span class="packt_screen">Trippville Basic Map</span>, as shown in the following screenshot:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1056 image-border" height="541" src="assets/eada8f6c-84c3-40a7-850a-da54bb0a4a95.png" width="1462"/></div>
<div class="mce-root CDPAlignCenter CDPAlign packt_figref">Map Makers group content in ArcGIS Online</div>
<ol start="29">
<li>You are done. It is just that easy. Now, close your web browser.</li>
<li>If ArcGIS Pro is still open from a previous recipe, make sure to close it as well. If asked if you want to save the open project, click <span class="packt_screen">Yes</span>.</li>
</ol>
<p>You have just shared content you created in a previous recipe with a new group you created within your organization. As you can see, it is very easy to share your content with others. You get to select specific content to share and have active control over who you share your content with. All this helps ensure your content is safe and secure. One thing to remember is that if you choose to share your content with everyone, that may mean everyone with access to ArcGIS Online, even if they are not part of your organization.</p>


            </article>

            
        </section>
    </body></html>