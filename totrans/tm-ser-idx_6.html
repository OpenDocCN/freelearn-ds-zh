<html><head></head><body>
<div id="sbo-rt-content"><div id="_idContainer047">
<h1 class="chapter-number" id="_idParaDest-134"><a id="_idTextAnchor145"/>6</h1>
<h1 id="_idParaDest-135"><a id="_idTextAnchor146"/>Visualizing iSAX Indexes</h1>
<p>In the previous chapter, we learned about comparing and joining iSAX indexes. However, it is still difficult to imagine the structure and the height of an iSAX index without seeing it as <span class="No-Break">an image.</span></p>
<p>And although some people prefer text, some other people prefer log files, and some others prefer numbers, almost all people like good-looking and informative visualizations. Additionally, all people understand the importance of having a high-level view of their data. This includes iSAX indexes and tree structures in general, mainly because there is no other practical way to perform the same task, especially when working with big <span class="No-Break">time series.</span></p>
<p>In <a href="B14769_01.xhtml#_idTextAnchor015"><span class="No-Break"><em class="italic">Chapter 1</em></span></a>, we saw how to visualize a time series. This chapter is all about visualizing iSAX indexes in order to get a better understanding of their size, shape, <span class="No-Break">and structure.</span></p>
<p>Visualizing large structures and trees such as iSAX indexes is not a trivial process but of a trial-and-error one. As no single visualization can do the job, we are going to try different kinds of plots and see what they tell us about the iSAX index. Therefore, you should expect to see lots of visualizations in this chapter, and I expect that you are going to create many more visualizations on your own while reading <span class="No-Break">this book.</span></p>
<p>In this chapter, we are going to cover the following <span class="No-Break">main topics:</span></p>
<ul>
<li>Storing an iSAX index in <span class="No-Break">JSON format</span></li>
<li>Visualizing an <span class="No-Break">iSAX index</span></li>
<li>Trying <span class="No-Break">something radical</span></li>
<li>More iSAX <span class="No-Break">index visualizations</span></li>
<li>Using <span class="No-Break">icicle plots</span></li>
<li>Visualizing iSAX as a <span class="No-Break">Collapsible Tree</span></li>
</ul>
<h1 id="_idParaDest-136"><a id="_idTextAnchor147"/>Technical requirements</h1>
<p>The GitHub repository for the book is at <a href="https://github.com/PacktPublishing/Time-Series-Indexing">https://github.com/PacktPublishing/Time-Series-Indexing</a>. The code for each chapter is in its own directory. Therefore, the code for <a href="B14769_06.xhtml#_idTextAnchor145"><span class="No-Break"><em class="italic">Chapter 6</em></span></a> can be found in the <strong class="source-inline">ch06</strong> folder. However, in this chapter, there exist many directories under the <strong class="source-inline">ch06</strong> folder that contain the code for the different visualizations that we are going to create – this is a good way to <span class="No-Break">organize code.</span></p>
<h1 id="_idParaDest-137"><a id="_idTextAnchor148"/>Storing an iSAX index in JSON format</h1>
<p>For the visualizations <a id="_idIndexMarker386"/>of this chapter, we are going to use <a id="_idIndexMarker387"/>the low-level <strong class="source-inline">D3.js</strong> <span class="No-Break">JavaScript library.</span></p>
<p class="callout-heading">Is D3.js the only way to create visualizations?</p>
<p class="callout">The powerful <strong class="source-inline">D3.js</strong> JavaScript library is not a panacea and therefore, it is not the only way to create <a id="_idIndexMarker388"/>visualizations. There exist many Python packages that are good at plotting data, as well as programming languages such as R or Julia. However, JavaScript can be used for presenting your plots in a web page environment, which is not usually the case with the <span class="No-Break">other options.</span></p>
<p>For the JavaScript <strong class="source-inline">D3.js</strong> code to <a id="_idIndexMarker389"/>work, we need to represent an iSAX index in <strong class="bold">JSON</strong> format so that it can be understood by the JavaScript code – we mainly need to represent <strong class="bold">the structure and the connections</strong> between iSAX nodes in a way that can be understood by a computer and a programming language. Therefore, the first step we should take is to convert an iSAX index representation with its structures from Python code into a different structure made by <span class="No-Break">JSON records.</span></p>
<p>Although this JSON format is not universal and might fail in some cases, it is going to be used throughout this chapter as all presented <strong class="source-inline">D3.js</strong> code works fine with it – all presented examples are tested and <span class="No-Break">fully working.</span></p>
<p>First, we need to visit <a href="https://d3js.org/">https://d3js.org/</a> and click on <strong class="bold">Examples</strong> at the top of the page, which is going to take us to <a href="mailto:https://observablehq.com/@d3/gallery">https://observablehq.com/@d3/gallery</a>. The latter page is going to bring us to a page with professional, functional, and beautiful plots that look appropriate for the kind and amount of data that we want to plot in <span class="No-Break">this chapter.</span></p>
<p>From the long list of available visualizations, we need to pick the ones that we prefer and are a good match for our data and its structure – our first attempt might not be perfect. Do not forget that iSAX indexes can have a large number of nodes. Therefore, we should think rationally and pick something that is going to look good with lots <span class="No-Break">of data.</span></p>
<p>From that list, we pick <strong class="source-inline">Tree, Tidy</strong>. Behind the visualization, there is JavaScript code embedded into HTML that reads the JSON data, parses it, and creates <span class="No-Break">the visualization.</span></p>
<p>Now that we have found our visualization of preference (<a href="mailto:https://observablehq.com/@d3/tree">https://observablehq.com/@d3/tree</a>), we might begin looking at the JavaScript code to get a better <a id="_idIndexMarker390"/>idea of the data format that is expected from the <a id="_idIndexMarker391"/>JavaScript code. However, what is more important is the JSON <span class="No-Break">record format.</span></p>
<p class="callout-heading">Where is the JavaScript code?</p>
<p class="callout">JavaScript is a powerful <a id="_idIndexMarker392"/>but low-level programming language. The good thing is that the presented visualizations do not need any JavaScript knowledge to work. You just need to put your own data in the right format, at the right place, and that <span class="No-Break">is all!</span></p>
<p>The JSON records that we are going to support should have the following format – this format was found by looking into the JSON file that the JavaScript code uses to get <span class="No-Break">its data:</span></p>
<pre class="source-code">
 "name": "flare",
 "children": [
  {
   "name": "analytics",
   "children": [
    {
.
.
.</pre>
<p>The common idea behind the structure that we want to support is that we have a root node – the root of the tree – that has multiple children, those children have children of their own, and so on. The name of each node is a <strong class="bold">string</strong> value, and the children of each node are kept in an <strong class="bold">array</strong>. This is the most important information about the JSON file format. Additionally, the first value of the <strong class="source-inline">name</strong> field is given to the root node of the tree – in this case, that name will <span class="No-Break">be </span><span class="No-Break"><strong class="source-inline">flare</strong></span><span class="No-Break">.</span></p>
<p>There is an additional field that is going to be needed in some of the presented visualizations. Later <a id="_idIndexMarker393"/>on in this chapter, we are going to learn <a id="_idIndexMarker394"/>that terminal nodes have an additional field for storing the number of the subsequences that they hold – this is not used by every visualization. However, the thought remains <span class="No-Break">the same.</span></p>
<p>A sample tidy tree visualization with custom data can be seen in the following figure. We are going to present more complex visualizations in the sections that follow. This is a simple tree structure with a root node and 13 nodes as <span class="No-Break">its children:</span></p>
<div>
<div class="IMG---Figure" id="_idContainer034">
<img alt="Figure 6.1 – A tree visualization" height="279" src="image/Figure_6.1_B14769.jpg" width="1103"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 6.1 – A tree visualization</p>
<p>With all that in mind, we can now begin working on our Python code. The Python script for representing an iSAX index as a JSON file is called <strong class="source-inline">exportJSON.py</strong>. The logic behind <strong class="source-inline">exportJSON.py</strong> is that after creating the iSAX index, we traverse it in order to generate the JSON output in the <span class="No-Break">desired format.</span></p>
<p>But first, here is the definition of the JSON record that is going to be used in the <span class="No-Break">Python script:</span></p>
<pre class="source-code">
JSON_message = {
  "name": None,
  "size": None,
  "children": []
}</pre>
<p>This is the basic JSON record format – we can add more fields to this record depending on our needs for any customization requirements without breaking any JavaScript code, as JavaScript is going to read only the fields that it needs. Although the format is defined in the code, it is not used by the Python code, mainly because Python does not need a predefined structure for JSON data that is stored in dictionaries. However, it is good to have it defined <a id="_idIndexMarker395"/>as a point of reference. The <strong class="source-inline">size</strong> field stores <a id="_idIndexMarker396"/>the total number of subsequences stored under each terminal node. Inner nodes do not need such <span class="No-Break">a field.</span></p>
<p>The Python code within <strong class="source-inline">exportJSON.py</strong> that reads the existing iSAX index and prints the JSON output can be found at the end of the <span class="No-Break"><strong class="source-inline">main()</strong></span><span class="No-Break"> function:</span></p>
<pre class="source-code">
    # The JSON data to return
    data = {}
    data['name'] = "0"
    data['children'] = []
    # Create JSON output
    for subTree in ISAX.children:
        if ISAX.ht[subTree] == None:
            continue
        subTreeData = createJSON(ISAX.ht[subTree])
        data['children'].append(subTreeData)
    print(json.dumps(data))</pre>
<p>The name of the Python dictionary that holds the JSON records is <strong class="source-inline">data</strong>. By default, the root node has the name <strong class="source-inline">0</strong>, which is a string – this is analogous to <strong class="source-inline">flare</strong>. You can change that to anything <span class="No-Break">you like.</span></p>
<p>The previous code visits and processes the children of the root node of the iSAX index only. The rest is handled by the <strong class="source-inline">createJSON()</strong> function. <strong class="source-inline">createJSON()</strong> is the function that actually generates the JSON output by adding data for the current subtree that is being examined. The <strong class="source-inline">data</strong> variable holds all <span class="No-Break">JSON data.</span></p>
<p>The last statement <a id="_idIndexMarker397"/>prints all JSON records on the <a id="_idIndexMarker398"/>screen <span class="No-Break">using </span><span class="No-Break"><strong class="source-inline">json.dumps()</strong></span><span class="No-Break">.</span></p>
<p>The <strong class="source-inline">createJSON()</strong> function is implemented <span class="No-Break">as follows:</span></p>
<pre class="source-code">
def createJSON(subtree):
    if subtree == None:
        return None
    t = {}
    t['name'] = subtree.word
    t['children'] = []
    # First, check if this is a Terminal node
    if subtree.terminalNode == True:
        t['size'] = subtree.nTimeSeries()
        return t
    # This is still a Terminal node
    # Just in case!
    elif subtree.left == None and subtree.right == None:
        print("This should not happen!")
        return t
    else:
        ch1 = createJSON(subtree.left)
        ch2 = createJSON(subtree.right)
        t['children'].append(ch1)
        t['children'].append(ch2)
    return t</pre>
<p>The <strong class="source-inline">createJSON()</strong> function is called recursively in order to visit all the nodes of each subtree. This mainly happens because we need to process all inner nodes and all <span class="No-Break">terminal nodes.</span></p>
<p class="callout-heading">About the JSON output</p>
<p class="callout">This particular Python script generates JSON output based on a particular JSON record format. Once you get the idea right, it is going to be easy to make small changes to the script, add more fields to the JSON records, or create something totally different. All these depend on the format that the visualization script expects to <span class="No-Break">work with.</span></p>
<p>For terminal nodes, we keep the number of the subsequences they hold – this takes place in the <strong class="source-inline">size</strong> field, and the processing of each terminal node ends here. However, for inner nodes, we recursively call <strong class="source-inline">createJSON()</strong> in order to process the left and the right children or subtrees of each <span class="No-Break">inner node.</span></p>
<p>With all <a id="_idIndexMarker399"/>that in mind, let us see <strong class="source-inline">exportJSON.py</strong> in action. First, we <a id="_idIndexMarker400"/>are going to use it with a small iSAX index, using a time series named <strong class="source-inline">ts.gz</strong> that contains 100 elements – due to its small size, <strong class="source-inline">ts.gz</strong> is going to be used for experimentation purposes.  <strong class="source-inline">ts.gz</strong> was created by running <strong class="source-inline">../ch01/synthetic_data.py 100 -10 10</strong>, saving the output in a file named <strong class="source-inline">ts</strong> and compressing <strong class="source-inline">ts</strong> <span class="No-Break">with </span><span class="No-Break"><strong class="source-inline">gzip(1)</strong></span><span class="No-Break">.</span></p>
<p>Running <strong class="source-inline">exportJSON.py</strong> with <strong class="source-inline">ts.gz</strong> produces the following kind <span class="No-Break">of output:</span></p>
<pre class="source-code">
$ ./exportJSON.py -s 3 -c 8 ts.gz
{"name": "0", "children": [{"name": "0_0_1", "children": [], "size": 18}, {"name": "0_1_1", "children": [], "size": 12}, {"name": "1_0_1", "children": [], "size": 12}, {"name": "1_0_0", "children": [], "size": 17}, {"name": "0_1_0", "children": [], "size": 12}, {"name": "1_1_0", "children": [], "size": 13}, {"name": "1_1_1", "children": [], "size": 1}]}</pre>
<p>Processing that <a id="_idIndexMarker401"/>data with the <strong class="source-inline">jq(1)</strong> utility, which beautifies <a id="_idIndexMarker402"/>JSON records, generates the next better-looking output – in this case, all the children of the root are <span class="No-Break">terminal nodes:</span></p>
<pre class="source-code">
$ ./exportJSON.py -s 3 -c 8 ts.gz | jq
{
  "name": "0",
  "children": [
    {
      "name": "0_0_1",
      "children": [],
      "size": 18
    },
    {
      "name": "0_1_1",
      "children": [],
      "size": 12
    },
    {
      "name": "1_0_1",
      "children": [],
      "size": 12
    },
    {
      "name": "1_0_0",
      "children": [],
      "size": 17
    },
    {
      "name": "0_1_0",
      "children": [],
      "size": 12
    },
    {
      "name": "1_1_0",
      "children": [],
      "size": 13
    },
    {
      "name": "1_1_1",
      "children": [],
      "size": 1
    }
  ]
}</pre>
<p><strong class="bold">Bear in mind that the output depends on the parameters of the iSAX index</strong>. Different iSAX parameters generate different outputs and different <span class="No-Break">tree structures.</span></p>
<p>Now, let us <a id="_idIndexMarker403"/>try <strong class="source-inline">exportJSON.py</strong> with a bigger time series <a id="_idIndexMarker404"/>that is named <strong class="source-inline">100k.gz</strong>, which contains 100,000 elements and was created <span class="No-Break">as follows:</span></p>
<pre class="source-code">
$ ../ch01/synthetic_data.py 100000 -100 100 &gt; 100k
$ gzip 100k</pre>
<p>We ran <strong class="source-inline">exportJSON.py</strong> with <strong class="source-inline">100k.gz</strong> <span class="No-Break">as follows:</span></p>
<pre class="source-code">
$ ./exportJSON.py -s 4 -c 16 -t 2500 100k.gz &gt; 100k.json</pre>
<p>The output file was saved as <strong class="source-inline">100k.json</strong>. The reason for using a threshold value of <strong class="source-inline">2500</strong> is to have a more compact tree. However, at the end of the day, what matters is your needs and the actual parameters of your <span class="No-Break">iSAX indexes.</span></p>
<p>At this point, we <a id="_idIndexMarker405"/>processed <strong class="source-inline">ts.gz</strong> and <strong class="source-inline">100k.gz</strong> with <strong class="source-inline">exportJSON.py</strong>, and <a id="_idIndexMarker406"/>we end up having two JSON files named <strong class="source-inline">ts.json</strong> and <strong class="source-inline">100k.json</strong>, respectively. Although we might need <strong class="source-inline">ts.json</strong> for testing, all coming visualizations are going to <span class="No-Break">use </span><span class="No-Break"><strong class="source-inline">100k.json</strong></span><span class="No-Break">.</span></p>
<p>The next subsection is about downloading the JavaScript project on our local machine and executing it <span class="No-Break">from there.</span></p>
<h2 id="_idParaDest-138"><a id="_idTextAnchor149"/>Downloading the JavaScript code locally</h2>
<p><strong class="bold">Observablehq</strong> allows you to <a id="_idIndexMarker407"/>download the code locally, make changes to it, and change the <a id="_idIndexMarker408"/>contents of the JSON file that gets visualized – as I do not know JavaScript, I find that this is the easiest way to use <strong class="source-inline">D3.js</strong> and its powerful capabilities. Therefore, in this subsection, we are going to learn how to <span class="No-Break">do so.</span></p>
<p>In every visualization from <a href="mailto:https://observablehq.com/@d3/gallery">https://observablehq.com/@d3/gallery</a>, there is a menu that appears when we click on the three dots that appear near the upper-right corner of the web page. From that menu, click on the <strong class="bold">Export</strong> link, which displays a submenu. From that submenu, we should click on the <strong class="bold">Download code</strong> option. This is going to download the contents of the current project on our local machine as a compressed file that we should extract <span class="No-Break">and use.</span></p>
<p>For the purpose of this section, we are going to download the JavaScript project found at <a href="mailto:https://observablehq.com/@d3/tree">https://observablehq.com/@d3/tree</a>, which is going to download a file named <strong class="source-inline">tree.tgz</strong>. After we have uncompressed that file, we are going to get a directory called <strong class="source-inline">tree</strong>. It is not necessary to fully understand the contents of the directory, but it helps. However, you need to know the path to the JSON file with <span class="No-Break">the data.</span></p>
<p>The output of the <strong class="source-inline">tree(1)</strong> utility, which lists the contents of directories in a tree-like format, when examining the contents of the <strong class="source-inline">tree</strong> directory, is <span class="No-Break">the following:</span></p>
<pre class="source-code">
$ tree
.
├── 5432439324f2c616@268.js
├── 7a9e12f9fb3d8e06@498.js
├── LICENSE.txt
├── README.md
├── files
│   └── 85b8f86120ba5c8012f55b82fb5af4fcc9ff5e3cf250d110e111b3ab 98c32a3fa8f5c19f956e096fbf550c47d6895783a4edf72a9c474bef5782f 879573750ba.json
├── index.xhtml
├── index.js
├── inspector.css
├── package.json
└── runtime.js
2 directories, 10 files</pre>
<p>The JSON file with the <a id="_idIndexMarker409"/>records is located in the <strong class="source-inline">files</strong> directory – this is the file that we need to overwrite with our own data file. In order to load the project, we need to access the <strong class="source-inline">index.xhtml</strong> file, which is going to load all the <span class="No-Break">necessary dependencies.</span></p>
<p>We only need to put our own JSON data into the <strong class="source-inline">files</strong> folder – this is the only required change to <span class="No-Break">be done.</span></p>
<p>The next subsection <a id="_idIndexMarker410"/>is about running the downloaded JavaScript project on your own machine, which requires running your own local <span class="No-Break">HTTP server.</span></p>
<h2 id="_idParaDest-139"><a id="_idTextAnchor150"/>Running the code locally</h2>
<p>The process of <a id="_idIndexMarker411"/>running the code locally includes the <span class="No-Break">following steps:</span></p>
<ol>
<li>Go into the directory with <span class="No-Break">the code.</span></li>
<li>Make changes to the JSON file with the data – each example has its own JSON data file in a directory <span class="No-Break">named </span><span class="No-Break"><strong class="source-inline">files</strong></span><span class="No-Break">.</span></li>
<li>Run a local <span class="No-Break">HTTP server.</span></li>
</ol>
<p>The JSON file with the data has a long and strange filename that is embedded into the JavaScript code. I am not so proficient with JavaScript, so I am going to use the default filename, which is located in the <strong class="source-inline">files</strong> directory. For security reasons, it is not allowed for the web server to access files outside of its root directory. Therefore, we need to <em class="italic">copy the JSON file</em> we have created with <strong class="source-inline">exportJSON.py</strong> in the <strong class="source-inline">files</strong> directory of each individual project and <em class="italic">overwrite the existing JSON file</em>, even if we are using the same one in all <span class="No-Break">our examples.</span></p>
<p>The next subsection shows how to run your own local HTTP server and view the JavaScript code <span class="No-Break">in action.</span></p>
<h3>Running a local HTTP server</h3>
<p>The easiest way to <a id="_idIndexMarker412"/>run a local HTTP server is by executing <strong class="source-inline">python3 -m http.server</strong> in the directory that interests you. If everything goes fine, the HTTP server is going to listen to port number <strong class="source-inline">8000</strong> and it is going to be accessed as http://localhost:8000/. This is much easier than <span class="No-Break">it looks.</span></p>
<p>This process is going to be used throughout this chapter. All the required documents and files are in the GitHub repository of the book, so you have nothing more to download. If you want to experiment, just change the contents of the JSON file with <span class="No-Break">the data.</span></p>
<p>The next subsection shows how to test <span class="No-Break">the process.</span></p>
<h3>Testing the process</h3>
<p>I have renamed the <a id="_idIndexMarker413"/>directory of the previous project from <strong class="source-inline">tree</strong> to <strong class="source-inline">TreeTidy</strong> – it is a good practice to use descriptive <span class="No-Break">directory names.</span></p>
<p>So, first, we need to go to the <strong class="source-inline">ch06</strong> directory of the GitHub repository for this book and then go to the <strong class="source-inline">TreeTidy</strong> directory. After that, we need to run <strong class="source-inline">python3 -m http.server</strong>. Now, we have an HTTP server running on our local machine that listens to the <strong class="source-inline">8000</strong> TCP port. Therefore, we need to point our web browser to <strong class="source-inline">http://localhost:8000/</strong> and see the <span class="No-Break">generated visualization.</span></p>
<p>The generated output from the Python web server is going to look <span class="No-Break">as follows:</span></p>
<pre class="source-code">
$ python3 -m http.server
Serving HTTP on :: port 8000 (http://[::]:8000/) ...
::ffff:127.0.0.1 - - [29/Mar/2023 20:42:08] "GET / HTTP/1.1" 200 -
::ffff:127.0.0.1 - - [29/Mar/2023 20:42:08] "GET /inspector.css HTTP/1.1" 200 -
::ffff:127.0.0.1 - - [29/Mar/2023 20:42:08] "GET /runtime.js HTTP/1.1" 200 -
::ffff:127.0.0.1 - - [29/Mar/2023 20:42:08] "GET /index.js HTTP/1.1" 200 -
::ffff:127.0.0.1 - - [29/Mar/2023 20:42:08] "GET /5432439324f2c616@268.js HTTP/1.1" 200 -
::ffff:127.0.0.1 - - [29/Mar/2023 20:42:08] "GET /7a9e12f9fb3d8e06@498.js HTTP/1.1" 200 -
::ffff:127.0.0.1 - - [29/Mar/2023 20:42:08] code 404, message File not found
::ffff:127.0.0.1 - - [29/Mar/2023 20:42:08] "GET /favicon.ico HTTP/1.1" 404 -</pre>
<p>If you see any error messages in the generated output, you should try to <span class="No-Break">resolve them.</span></p>
<p>However, unless you are in the wrong directory or there is another TCP service running on TCP port <strong class="source-inline">8000</strong>, there should be <span class="No-Break">no issues.</span></p>
<p>So far, we have <a id="_idIndexMarker414"/>learned how to represent an iSAX index in JSON format and how to download the JavaScript projects <span class="No-Break">from </span><a href="https://observablehq.com/"><span class="No-Break">https://observablehq.com/</span></a><span class="No-Break">.</span></p>
<p>In the section that follows, we will begin our iSAX <span class="No-Break">visualization journey.</span></p>
<h1 id="_idParaDest-140"><a id="_idTextAnchor151"/>Visualizing an iSAX index</h1>
<p>In this section, we <a id="_idIndexMarker415"/>are going to begin visualizing <span class="No-Break">iSAX indexes.</span></p>
<p>As in most areas of computing, your visualizations are going to improve over time. The first visualizations are usually less beautiful and/or informative than later ones. So, we are going to experiment and try things before we end up with a good-looking <span class="No-Break">iSAX visualization.</span></p>
<p>As visualizations include personal taste, your visualization of choice might differ from the ones used in this chapter. However, we need to start doing and improve in <span class="No-Break">the process!</span></p>
<p>Let us begin with the visualization of the <span class="No-Break">next subsection.</span></p>
<p class="callout-heading">A personal story</p>
<p class="callout">At the time of writing this book, I am doing research related to iSAX. In one of my experiments, I ran a utility that creates two iSAX indexes and joins them in a more sophisticated way than the one presented in <a href="B14769_05.xhtml#_idTextAnchor124"><span class="No-Break"><em class="italic">Chapter 5</em></span></a>. The utility processed 2 time series with 500,000 elements each and ran for more than 18 days! Additionally, it took the same utility about 2 hours to process 2 time series with 1,500,000 elements each, which means that the utility works well. I decided to visualize each iSAX index using a separate Python utility. Long story short, in the case of the time series with 500,000 elements, I mistakenly used 32 segments and a cardinality value of 4, instead of 4 segments and a cardinality value of 32! This means that the root of each iSAX index had <span class="_-----MathTools-_Math_Number">2</span><span class="_-----MathTools-_Math_Base"> </span><span class="_-----MathTools-_Math_Number">32</span> children! Therefore, joining them included so many calculations, which explained the fact that the utility still ran after 18 days. If I had visualized each iSAX index earlier, I would have found the issue <span class="No-Break">much sooner.</span></p>
<h2 id="_idParaDest-141"><a id="_idTextAnchor152"/>Visualizing iSAX as a tree</h2>
<p>In this first try, we are <a id="_idIndexMarker416"/>going to visualize an iSAX index as a tree using various visualizations. As iSAX has a tree structure, using this kind of visualization makes <span class="No-Break">perfect sense.</span></p>
<p>For this subsection, we are going to use the visualization stored in the <strong class="source-inline">TreeTidy</strong> directory that we saw earlier. The first task to up is to update the JSON file stored in the <strong class="source-inline">files</strong> directory of the <strong class="source-inline">TreeTidy</strong> directory. If we are in the <strong class="source-inline">TreeTidy</strong> directory, we can run <strong class="source-inline">cp ../100k.json files/85b8f8…9573750ba.json</strong>. The full filename is omitted for brevity – just make sure that you use the correct filename with the help of <span class="No-Break"><strong class="source-inline">shell</strong></span><span class="No-Break"> auto-completion.</span></p>
<p>In <span class="No-Break"><em class="italic">Figure 6</em></span><em class="italic">.2</em>, you can see the visualization of the iSAX index generated for the <strong class="source-inline">100k.gz</strong> time series using the <strong class="source-inline">D3.js</strong> code that also generated the sample output of <span class="No-Break"><em class="italic">Figure 6</em></span><span class="No-Break"><em class="italic">.1</em></span><span class="No-Break">.</span></p>
<div>
<div class="IMG---Figure" id="_idContainer035">
<img alt="Figure 6.2 – Visualizing an iSAX index as a tree" height="519" src="image/Figure_6.2_B14769.jpg" width="1160"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 6.2 – Visualizing an iSAX index as a tree</p>
<p>What does <span class="No-Break"><em class="italic">Figure 6</em></span><em class="italic">.2</em> tell us? It tells us that we are dealing with a relatively small iSAX index that is pretty balanced (the depths of the terminal nodes do not differ too much), which is a good thing. By default, terminal nodes are visualized with gray color circles, whereas inner nodes <span class="No-Break">are black.</span></p>
<p>So, what can we do next? Next, we can try visualizing <strong class="source-inline">100k.gz</strong> using different iSAX parameters. So, in this case, we are going to use the <span class="No-Break">following parameters:</span></p>
<pre class="source-code">
$ ./exportJSON.py -s 4 -c 16 -t 5000 100k.gz</pre>
<p>As before, the <a id="_idIndexMarker417"/>generated output is going to be stored in the existing JSON file inside the <strong class="source-inline">files</strong> directory. The updated output can be seen in <span class="No-Break"><em class="italic">Figure 6</em></span><span class="No-Break"><em class="italic">.3</em></span><span class="No-Break">:</span></p>
<div>
<div class="IMG---Figure" id="_idContainer036">
<img alt="Figure 6.3 – Increasing the threshold value to 5,000" height="276" src="image/Figure_6.3_B14769.jpg" width="1175"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 6.3 – Increasing the threshold value to 5,000</p>
<p>As expected, the iSAX index is smaller than before, mainly because we have fewer node splits. However, it looks less balanced than the iSAX presented in <span class="No-Break"><em class="italic">Figure 6</em></span><span class="No-Break"><em class="italic">.2</em></span><span class="No-Break">.</span></p>
<p>Is there anything more to do? We can experiment a little bit more and change the segments value from <strong class="source-inline">4</strong> to <strong class="source-inline">3</strong> while keeping the threshold value <span class="No-Break">at </span><span class="No-Break"><strong class="source-inline">5000</strong></span><span class="No-Break">.</span></p>
<p>So, this time, the JSON output is going to be generated using <span class="No-Break">this command:</span></p>
<pre class="source-code">
$ ./exportJSON.py -s 3 -c 16 -t 5000 100k.gz</pre>
<p>After that, we need to store the output in the JSON file located in the <strong class="source-inline">files</strong> directory. The new visualization can be seen in <span class="No-Break"><em class="italic">Figure 6</em></span><span class="No-Break"><em class="italic">.4</em></span><span class="No-Break">:</span></p>
<div>
<div class="IMG---Figure" id="_idContainer037">
<img alt="Figure 6.4 – Visualizing an iSAX with three segments" height="285" src="image/Figure_6.4_B14769.jpg" width="1186"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 6.4 – Visualizing an iSAX with three segments</p>
<p>As expected, the root node has fewer children. However, the general shape of the iSAX index presented in <span class="No-Break"><em class="italic">Figure 6</em></span><em class="italic">.4</em> is similar to the one presented in <span class="No-Break"><em class="italic">Figure 6</em></span><em class="italic">.3</em>. In my personal opinion, <span class="No-Break"><em class="italic">Figure 6</em></span><em class="italic">.2</em> shows a better and more balanced iSAX index compared to the other two <a id="_idIndexMarker418"/>versions. Balanced trees, and therefore balanced iSAX indexes, are generally faster to search, which is a <span class="No-Break">desired property.</span></p>
<p>In this section, we saw how to visualize iSAX indexes as tree structures, which makes perfect sense, as iSAX indexes <span class="No-Break">are trees.</span></p>
<p>In the next section, we are going to try a different kind of visualization for the iSAX index structure. After all, visualization and experimentation are <span class="No-Break">good friends.</span></p>
<h1 id="_idParaDest-142"><a id="_idTextAnchor153"/>Trying something radical</h1>
<p>In this section, we are going to try a different kind of visualization for visualizing an iSAX index, just in case <a id="_idIndexMarker419"/>it reveals any extra kind of information. So, we are going to use a <strong class="bold">Radial Tree</strong> structure instead of a regular tree. For that, we need to go to the <strong class="source-inline">TreeRadialTidy</strong> directory inside the <strong class="source-inline">ch06</strong> directory and replace the JSON file found in the <strong class="source-inline">files</strong> directory with <strong class="source-inline">100k.json</strong> – the correct file is already there. However, if you want to use your own data, you should update <span class="No-Break">that file.</span></p>
<p>Next, we should run the Python HTTP server and point our web browser to http://localhost:8000/. The generated output is presented in <span class="No-Break"><em class="italic">Figure 6</em></span><span class="No-Break"><em class="italic">.5</em></span><span class="No-Break">:</span></p>
<div>
<div class="IMG---Figure" id="_idContainer038">
<img alt="Figure 6.5 – Using a Radial Tree structure" height="1320" src="image/Figure_6.5_B14769.jpg" width="1211"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 6.5 – Using a Radial Tree structure</p>
<p>What kind of information <a id="_idIndexMarker420"/>can we get from <span class="No-Break"><em class="italic">Figure 6</em></span><em class="italic">.5</em>? Is that better than a regular tree structure? I do not know whether it is better or not, but it surely presents the same information in a totally <span class="No-Break">new way!</span></p>
<p>One advantage of the radial tree is that it performs better when dealing with iSAX indexes with large depths <a id="_idIndexMarker421"/>as they can fit better on screen. Personally, I believe <a id="_idIndexMarker422"/>that the plain tree structure is more suitable for iSAX indexes than the <span class="No-Break">radial tree.</span></p>
<p>The next section continues the visualization process of iSAX indexes by trying <span class="No-Break">more visualizations.</span></p>
<h1 id="_idParaDest-143"><a id="_idTextAnchor154"/>More iSAX index visualizations</h1>
<p>We are not done yet! There exist ways to improve the previous visualization by adding more information to the output as well as the ability to compress various parts of it – there is always the danger of <em class="italic">putting too much information</em> on a graph or a plot, but we are not going to make that <span class="No-Break">mistake here.</span></p>
<p>First, we are going <a id="_idIndexMarker423"/>to go to the <strong class="source-inline">ZoomableTreemap</strong> directory <a id="_idIndexMarker424"/>in order to try a zoomable structure named <strong class="bold">Zoomable Treemap</strong>, which is better when dealing with large <span class="No-Break">iSAX indexes.</span></p>
<p>The Zoomable Treemap uses an additional attribute called <strong class="source-inline">value</strong>. In this case, I had two choices: either change the output of the Python script or change the JavaScript code. I decided to do the latter. So, I changed the <strong class="source-inline">value</strong> attribute in the JavaScript code to <strong class="source-inline">size</strong>, which is what the Python script generates. However, in our case, this created a bug in the JavaScript code related to the sum of the presented values, which means that this was not the <span class="No-Break">correct decision.</span></p>
<p>Therefore, we are going to change the JSON file and replace the <strong class="source-inline">size</strong> field name <span class="No-Break">with </span><span class="No-Break"><strong class="source-inline">value</strong></span><span class="No-Break">.</span></p>
<p>As before, we should overwrite the JSON file in the <strong class="source-inline">files</strong> directory with <strong class="source-inline">100k.json</strong> and run the Python HTTP server. The generated output can be seen in <span class="No-Break"><em class="italic">Figure 6</em></span><span class="No-Break"><em class="italic">.6</em></span><span class="No-Break">:</span></p>
<div>
<div class="IMG---Figure" id="_idContainer039">
<img alt="Figure 6.6 – A Zoomable Treemap visualization" height="1596" src="image/Figure_6.6_B14769.jpg" width="1649"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 6.6 – A Zoomable Treemap visualization</p>
<p>It turns out that the <a id="_idIndexMarker425"/>Zoomable Treemap might be <a id="_idIndexMarker426"/>difficult to read and understand – it is even difficult to realize that we are talking about a tree structure. Therefore, it might not be a good choice for the iSAX visualization. However, the <em class="italic">zoomable</em> capability is very handy in almost <span class="No-Break">all cases.</span></p>
<p>If we used the buggy version, then instead of the numeric values in the output, we would have got a <strong class="source-inline">NaN</strong> value – this probably had to do with the <span class="No-Break">JavaScript code.</span></p>
<p>Let us now continue with something different. Go to the <strong class="source-inline">ZoomableSunburst</strong> directory and replace the file in the <strong class="source-inline">files</strong> directory with the <strong class="source-inline">100k.json</strong> file. Once again, we need to make code changes. Specifically, we need to replace the <strong class="source-inline">value</strong> field used in <strong class="source-inline">86ddbc29bd33f9d6@357.js</strong> with the <strong class="source-inline">size</strong> field that our JSON record has. The code stored in GitHub has all the necessary changes in it. The generated output can be seen in <span class="No-Break"><em class="italic">Figure 6</em></span><span class="No-Break"><em class="italic">.7</em></span><span class="No-Break">:</span></p>
<div>
<div class="IMG---Figure" id="_idContainer040">
<img alt="Figure 6.7 – A Zoomable Sunburst visualization" height="1659" src="image/Figure_6.7_B14769.jpg" width="1588"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 6.7 – A Zoomable Sunburst visualization</p>
<p>The main advantage of this <a id="_idIndexMarker427"/>visualization is that it does <a id="_idIndexMarker428"/>not display the entire iSAX from the beginning, but it <a id="_idIndexMarker429"/>can do so as we are zooming in on the visualization by clicking on the different parts of the sunburst. So, it hides some information, which can be displayed <span class="No-Break">on demand.</span></p>
<p>If we zoom into any part of the Sunburst, we are going to get a closer look at that particular part of the <span class="No-Break">iSAX index.</span></p>
<p><span class="No-Break"><em class="italic">Figure 6</em></span><em class="italic">.8</em> shows such a part of <span class="No-Break">the Sunburst:</span></p>
<div>
<div class="IMG---Figure" id="_idContainer041">
<img alt="Figure 6.8 – Zooming in the 0_0_1_1 subtree of the Sunburst" height="1665" src="image/Figure_6.8_B14769.jpg" width="1593"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 6.8 – Zooming in the 0_0_1_1 subtree of the Sunburst</p>
<p>Once again, the <a id="_idIndexMarker430"/>zooming capability is handy, and we <a id="_idIndexMarker431"/>want to have it in our visualizations. The next section discusses an interesting kind of plot, which is called icicle, and looks like it is suitable for visualizing <span class="No-Break">iSAX indexes.</span></p>
<h1 id="_idParaDest-144"><a id="_idTextAnchor155"/>Using icicle plots</h1>
<p>In this section, we are going to discuss a different kind of plot, which is called an <strong class="bold">icicle plot</strong>. An icicle plot is a <a id="_idIndexMarker432"/>method for presenting hierarchical clustering and is able to visualize hierarchical data using <a id="_idIndexMarker433"/>rectangular sectors that go from the root node to the leaves. In our case, we are going to use a <strong class="bold">zoomable </strong><span class="No-Break"><strong class="bold">icicle plot</strong></span><span class="No-Break">.</span></p>
<p>First, please go to the <strong class="source-inline">ZoomableIcicle</strong> directory and replace the JSON file in <strong class="source-inline">files</strong> with <strong class="source-inline">100k.json</strong>. This time, instead of changing the JavaScript code, we are going to change the field name of the JSON file from <strong class="source-inline">size</strong> to <strong class="source-inline">value</strong>. In general, <em class="italic">it is better to change your input data than </em><span class="No-Break"><em class="italic">the code</em></span><span class="No-Break">.</span></p>
<p><span class="No-Break"><em class="italic">Figure 6</em></span><em class="italic">.9</em> shows a part of the generated icicle visualization. The rectangle on the left side represents the root node, which contains <strong class="bold">99,985</strong> subsequences – this is the total number of subsequences stored in the <span class="No-Break">iSAX index.</span></p>
<div>
<div class="IMG---Figure" id="_idContainer042">
<img alt="Figure 6.9 – Visualizing iSAX using an icicle" height="1377" src="image/Figure_6.9_B14769.jpg" width="1541"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 6.9 – Visualizing iSAX using an icicle</p>
<p>Apart from the SAX <a id="_idIndexMarker434"/>representation of a node, each rectangle displays the number of subsequences stored under it. So, the <strong class="bold">1_0_0_1</strong> subtree has <strong class="bold">10,936</strong> subsequences – this is another <span class="No-Break">handy feature.</span></p>
<p>Going further, if we zoom on the <strong class="bold">1_0_0_0</strong> subtree, we are going to get the output displayed as shown in <span class="No-Break"><em class="italic">Figure 6</em></span><span class="No-Break"><em class="italic">.10</em></span><span class="No-Break">:</span></p>
<div>
<div class="IMG---Figure" id="_idContainer043">
<img alt="Figure 6.10 – Taking a closer look at the 1_0_0_0 subtree" height="1018" src="image/Figure_6.10_B14769.jpg" width="1117"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 6.10 – Taking a closer look at the 1_0_0_0 subtree</p>
<p>Similarly, if we <a id="_idIndexMarker435"/>zoom in on the <strong class="bold">1_1_1_0</strong> subtree, we are going to get the visualization presented in <span class="No-Break"><em class="italic">Figure 6</em></span><span class="No-Break"><em class="italic">.11</em></span><span class="No-Break">:</span></p>
<div>
<div class="IMG---Figure" id="_idContainer044">
<img alt="Figure 6.11 – Taking a closer look at the 1_1_1_0 subtree" height="721" src="image/Figure_6.11_B14769.jpg" width="1123"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 6.11 – Taking a closer look at the 1_1_1_0 subtree</p>
<p>Let us discuss <span class="No-Break"><em class="italic">Figure 6</em></span><em class="italic">.11</em> a little more. What does it tell us? It tells us that the <strong class="bold">1_1_1_0</strong> child of the root <a id="_idIndexMarker436"/>node stores <strong class="bold">4,342</strong> subsequences. <strong class="bold">4,246</strong> of these subsequences are under the <strong class="bold">10_1_1_0</strong> subtree and the rest of the subsequences are under the <span class="No-Break"><strong class="bold">11_1_1_0</strong></span><span class="No-Break"> subtree.</span></p>
<p>If we zoom in on the <strong class="bold">10_1_1_0</strong> node, we are going to get <span class="No-Break"><em class="italic">Figure 6</em></span><em class="italic">.12</em>, which shows that the <strong class="bold">10_10_10_0</strong> subtree has <span class="No-Break"><strong class="bold">4,031</strong></span><span class="No-Break"> nodes.</span></p>
<div>
<div class="IMG---Figure" id="_idContainer045">
<img alt="Figure 6.12 – Taking a closer look at the 10_1_1_0  subtree" height="515" src="image/Figure_6.12_B14769.jpg" width="1210"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 6.12 – Taking a closer look at the 10_1_1_0  subtree</p>
<p>As we are using a smaller threshold value, we know that the <strong class="bold">10_10_10_0</strong> node is an inner node that can <a id="_idIndexMarker437"/>be <span class="No-Break">further expanded.</span></p>
<p>This way, we can explore the iSAX index and find the information <span class="No-Break">we want.</span></p>
<p>The icicle plot looks appropriate for visualizing iSAX indexes. However, we might find a better type of visualization if we <span class="No-Break">experiment more.</span></p>
<p>The next section presents a Collapsible Tree visualization of an <span class="No-Break">iSAX index.</span></p>
<h1 id="_idParaDest-145"><a id="_idTextAnchor156"/>Visualizing iSAX as a Collapsible Tree</h1>
<p>Although the zoomable <a id="_idIndexMarker438"/>icicle looks very promising, <a id="_idIndexMarker439"/>some people might want a visualization that looks like a tree but still has some of the versatility of the zoomable icicle. For those people, we are going to try the <span class="No-Break"><strong class="bold">Collapsible Tree</strong></span><span class="No-Break">.</span></p>
<p>First, we go to the <strong class="source-inline">CollapsibleTree</strong> directory and then we run the Python web server. Then, we go to <strong class="source-inline">http://localhost:8000/</strong>. <span class="No-Break"><em class="italic">Figure 6</em></span><em class="italic">.13</em> shows the output of the Collapsible <span class="No-Break">Tree visualization:</span></p>
<div>
<div class="IMG---Figure" id="_idContainer046">
<img alt="Figure 6.13 – Visualizing iSAX as a Collapsible Tree" height="317" src="image/Image97716.jpg" width="1211"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 6.13 – Visualizing iSAX as a Collapsible Tree</p>
<p>The main advantage of the Collapsible Tree is that we can expand or collapse nodes at will, which means that we can easily concentrate on the nodes that interest us the most instead of getting lost in the details of the <span class="No-Break">iSAX index.</span></p>
<p>However, the Collapsible Tree does not display the number of subsequences stored under each subtree of <span class="No-Break">the index.</span></p>
<p>In this last section, we <a id="_idIndexMarker440"/>saw the operation of the <a id="_idIndexMarker441"/>Collapsible Tree and understood its versatility, as well as <span class="No-Break">its limitations.</span></p>
<h1 id="_idParaDest-146"><a id="_idTextAnchor157"/>Summary</h1>
<p>Visualization offers a great way to understand your data. Similarly, visualization is a great way to understand the structure of an iSAX index, especially a big one. In this chapter, we saw various ways to visualize an iSAX index with the help of the <strong class="source-inline">D3.js</strong> JavaScript library and got a better look at the distribution of the subsequences and the height of <span class="No-Break">iSAX indexes.</span></p>
<p>However, it would be great to try your own visualizations using the <strong class="source-inline">D3.js</strong> JavaScript library, R, or other appropriate Python packages, which can also create <span class="No-Break">impressive visualizations.</span></p>
<p>Lastly, do not underestimate the power of a good visualization as it can reveal lots of information in an easy-to-discover way. Just keep in mind that visualization is an art that is hard <span class="No-Break">to master.</span></p>
<p>The next chapter is about using iSAX indexes for the approximate calculation of the Matrix Pr<a href="https://en.wikipedia.org/wiki/JavaScript">ofile and the <span class="No-Break">MPdist distance.</span></a></p>
<h1 id="_idParaDest-147"><a href="https://en.wikipedia.org/wiki/JavaScript"><span id="_idTextAnchor158"/>Useful li</a>nks</h1>
<ul>
<li><span class="No-Break"><em class="italic">JavaScript</em></span><span class="No-Break">: </span><a href="https://en.wikipedia.org/wiki/JavaScript"><span class="No-Break">https://en.wikipedia.org/wiki/JavaScript</span></a></li>
<li>The Mozilla Developer <span class="No-Break">Network: </span><a href="https://developer.mozilla.org/en/JavaScript"><span class="No-Break">https://developer.mozilla.org/en/JavaScript</span></a></li>
<li>The official page for the <strong class="source-inline">D3.js</strong> JavaScript <span class="No-Break">library: </span><a href="https://d3js.org/"><span class="No-Break">https://d3js.org/</span></a></li>
<li>You can learn more information about icicle plots by reading the <em class="italic">Icicle Plots: Better Displays for Hierarchical Clustering</em> paper, which was wri<a href="https://www.r-project.org/">tten by J. B. Kruskal and </a>J. <span class="No-Break">M. Landwehr</span></li>
<li>The R <span class="No-Break">Project: </span><a href="https://www.r-project.org/"><span class="No-Break">https://www.r-project.org/</span></a></li>
<li>The Seaborn Python <span class="No-Break">package: </span><a href="https://seaborn.pydata.org/"><span class="No-Break">https://seaborn.pydata.org/</span></a></li>
<li>The Julia programming <span class="No-Break">language: </span><a href="https://julialang.org/"><span class="No-Break">https://julialang.org/</span></a></li>
<li>The <strong class="source-inline">plotly</strong> Python <span class="No-Break">library: </span><a href="https://plotly.com/python/"><span class="No-Break">https://plotly.com/python/</span></a></li>
<li>A very good book about the art of data visualization is <em class="italic">The Visual Display of Quantitative Information</em>, by Edward <span class="No-Break">R. Tufte</span></li>
<li><em class="italic">D3 </em><span class="No-Break"><em class="italic">Gallery</em></span><span class="No-Break">: </span><a href="mailto:https://observablehq.com/@d3/gallery"><span class="No-Break">https://observablehq.com/@d3/gallery</span></a></li>
<li><em class="italic">Tree, </em><span class="No-Break"><em class="italic">Tidy</em></span><span class="No-Break">: </span><a href="mailto:https://observablehq.com/@d3/tree"><span class="No-Break">https://observablehq.com/@d3/tree</span></a></li>
<li><em class="italic">Zoomable </em><span class="No-Break"><em class="italic">Treemap</em></span><span class="No-Break">: </span><a href="mailto:https://observablehq.com/@d3/zoomable-treemap"><span class="No-Break">https://observablehq.com/@d3/zoomable-treemap</span></a></li>
<li><em class="italic">Zoomable </em><span class="No-Break"><em class="italic">Sunburst</em></span><span class="No-Break">: </span><a href="mailto:https://observablehq.com/@d3/zoomable-sunburst"><span class="No-Break">https://observablehq.com/@d3/zoomable-sunburst</span></a></li>
<li><em class="italic">Zoomable </em><span class="No-Break"><em class="italic">Icicle</em></span><span class="No-Break">: </span><a href="mailto:https://observablehq.com/@d3/zoomable-icicle"><span class="No-Break">https://observablehq.com/@d3/zoomable-icicle</span></a></li>
<li><em class="italic">Tree, Radial </em><span class="No-Break"><em class="italic">Tidy</em></span><span class="No-Break">: </span><a href="mailto:https://observablehq.com/@d3/radial-tree"><span class="No-Break">https://observablehq.com/@d3/radial-tree</span></a></li>
<li><em class="italic">Collapsible </em><span class="No-Break"><em class="italic">Tree</em></span><span class="No-Break">: </span><a href="mailto:https://observablehq.com/@d3/collapsible-tree"><span class="No-Break">https://observablehq.com/@d3/collapsible-tree</span></a></li>
</ul>
<h1 id="_idParaDest-148"><a id="_idTextAnchor159"/>Exercises</h1>
<p>Try to do the <span class="No-Break">following exercises:</span></p>
<ul>
<li>Create a time series with 50,000 elements and plot its iSAX index using 6, 8, and 10 segments. In all cases, use a threshold value <span class="No-Break">of </span><span class="No-Break"><strong class="source-inline">500</strong></span><span class="No-Break">.</span></li>
<li>Create a time series with 150,000 elements and plot its iSAX index using 4, 6, and <span class="No-Break">8 segments.</span></li>
<li>Create a time series with 250,000 elements and plot its iSAX index for 4, 6, and 10 segments. In all cases, use a threshold value <span class="No-Break">of </span><span class="No-Break"><strong class="source-inline">5000</strong></span><span class="No-Break">.</span></li>
<li>Make a version of <strong class="source-inline">exportJSON.py</strong> that replaces the <strong class="source-inline">size</strong> field with a field <span class="No-Break">named </span><span class="No-Break"><strong class="source-inline">value</strong></span><span class="No-Break">.</span></li>
<li>If you are familiar with JavaScript, change the colors of the zoomable <span class="No-Break">icicle plot.</span></li>
<li>If you are familiar with JavaScript, make the zoomable icicle plot go from <em class="italic">top to bottom</em> instead of <em class="italic">left </em><span class="No-Break"><em class="italic">to right</em></span><span class="No-Break">.</span></li>
<li>If you are familiar with JavaScript, make the Collapsible Tree visualization go from <em class="italic">top to bottom</em> instead of <em class="italic">left to right</em>. Is that better <span class="No-Break">than before?</span></li>
<li>Experiment with the Zoomable Circle Packing visualization, which can be found at <a href="mailto:https://observablehq.com/@d3/zoomable-circle-packing">https://observablehq.com/@d3/zoomable-circle-packing</a>. What do you think <span class="No-Break">of it?</span></li>
</ul>
</div>
</div></body></html>