<html><head></head><body>
        <section>

                            <header>
                    <h1 class="header-title">Building Your Data Model</h1>
                </header>
            
            <article>
                
<p class="mce-root"><span>Data analysis and visualization go hand in hand.</span> <span class="veryhardreadability"><span>Tableau allows users to perform in-depth data analysis and share results via interactive visualiza</span></span><span class="veryhardreadability"><span>tions</span></span><span>.</span> <span class="veryhardreadability"><span>Tableau includes</span></span> <span class="complexword"><span>numerous</span></span> <span class="veryhardreadability"><span>data modeling capabilities that allow users to make sense of data and to</span></span> <span class="complexword"><span>obtain</span></span> <span class="veryhardreadability"><span>meaningful insights, without having to deal with advanced database concepts</span></span><span>. Data modeling is an important concept, and the more data you are working with, the more important it is.</span></p>
<p class="mce-root"><span>As the amount of information we work with grows, we need to be able to efficiently perform analysis. Data modeling allows us to not only prepare for our analysis but to also make it as efficient as possible. At the end of the day, we use data to help us make better decisions. <span class="hardreadability">Spending time learning how we can model the data will help us identify what questions we can answer, and how to answer them</span>. Regardless of the size of the data you are working with, Tableau will help you glean insights with ease.</span></p>
<p class="mce-root"><span>This chapter will explain how to connect to your data and</span> <span>use Tableau's data modeling capabilities to begin your analysis.</span></p>
<p class="mce-root"><span>The following topics will be covered in this chapter:</span></p>
<ul>
<li>Initial preparation</li>
<li>Connecting to your data</li>
<li>Building your data model</li>
<li>Preparing your data</li>
</ul>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Technical requirements</h1>
                </header>
            
            <article>
                
<p>This chapter uses the Global Superstore dataset, which can be found at<span> <a href="https://www.tableau.com/sites/default/files/getting_started_data_sets.zip">https://www.tableau.com/sites/default/files/getting_started_data_sets.zip</a>.</span></p>
<div class="">
<p class="public-DraftStyleDefault-block public-DraftStyleDefault-ltr"><span>Once extracted, you will see two files:</span></p>
<ul>
<li class="public-DraftStyleDefault-block public-DraftStyleDefault-ltr"><kbd><span>Global Superstore Orders 2016</span></kbd></li>
<li class="public-DraftStyleDefault-block public-DraftStyleDefault-ltr"><kbd><span>Global Superstore Returns 2016</span></kbd></li>
</ul>
</div>
<div class="packt_tip"><span>We believe that following along is the best way to learn and become comfortable with any application. Follow along using the examples provided in this chapter, or find a dataset that you are interested in.</span></div>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Initial preparation</h1>
                </header>
            
            <article>
                
<p><span>Before connecting to your data, you need to do a few things. First, you must look for data that will answer your questions.</span> <span class="hardreadability"><span>Once you have validated that it exists, where it is stored and how to</span></span> <span class="complexword"><span>acquire</span></span> <span class="hardreadability"><span>access/permissions (if necessary)</span></span><span>. In most cases, you will be connecting</span> <span class="adverb"><span>directly</span></span> <span>to a database using a username and password.</span> <span class="complexword"><span>However,</span></span> <span>you can also connect to files such as Excel workbooks on your local machine. You can even use a combination of both if needs be.</span></p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">The Global Superstore dataset</h1>
                </header>
            
            <article>
                
<p>The Global Superstore dataset is data from a fictional global retail chain that sells office supplies. In the real world, you will most likely be connecting to databases; however, working with Excel files is similar – sheets in Excel are treated similarly to tables in a database. <span>The data in these workbooks is </span><span class="complexword"><span>similar to</span></span> w<span>hat you would see in a database.</span></p>
<p>The Global Superstore dataset consists of one Excel workbook and one Excel CSV file:</p>
<ul>
<li><kbd>Global Superstore Orders 2016</kbd> (<kbd>.xlsx</kbd>)<br/>
Sheet 1: <kbd>Orders</kbd><br/>
Sheet 2: <kbd>People</kbd></li>
<li><kbd>Global Superstore Returns 2016</kbd> (<kbd>.csv</kbd>)<br/>
Sheet 1: <kbd>Global Superstore Returns 2016</kbd></li>
</ul>
<p><span>The</span> <kbd>Orders</kbd> sheet contains sales data where each record (<kbd>Row ID</kbd>) re<span>presents a single transaction:</span></p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1435 image-border" src="assets/df24179e-0aa4-4e89-a9a0-24a92d9b8ec5.png" style="width:81.50em;height:62.50em;"/></p>
<p><span>The</span> <kbd>People</kbd> <span>sheet contains a mapping of persons to region:</span></p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-986 image-border" src="assets/2363a10d-5b30-4123-8fec-af92bc137077.png" style="width:81.50em;height:62.50em;"/></p>
<p><span class="hardreadability"><span>The</span></span> <kbd>Global Superstore Returns 2016</kbd> <span class="hardreadability"><span>sheet contains order IDs for returned orders by region:</span></span></p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-987 image-border" src="assets/4b94caea-a2f3-4a0a-9bad-76d4f7bc1d01.png" style="width:81.42em;height:62.42em;"/></p>
<p>We have found the data we need for our analysis, we know where it's located, and have access to use it. Now we will move on to connecting to the data source with Tableau.</p>
<div class="packt_tip">It is always a good idea to get an idea of the data you are working with by viewing a few records. If you are working with an Excel file, open it in Excel to get a feel for the dataset.</div>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Connecting to your data</h1>
                </header>
            
            <article>
                
<p><span>Before diving into your data, you have to connect to it. Tableau allows you to connect to</span> <span class="complexword"><span>numerous</span></span> <span>data sources. You can connect to files on your local machine, to databases on servers, or other database sources.</span> <span class="hardreadability"><span>Tableau allows users to connect to numerous data sources – for a full list, visit Tableau's website to view a comprehensive and up-to-date list</span></span><span>. The types of data sources you can connect with</span> <span class="passivevoice"><span>are listed</span></span> <span>in the <strong>Connect</strong> pane of the start page. Files that you have recently connected to will appear on this page as well.</span></p>
<p><span class="hardreadability"><span>Depending on which version of Tableau Desktop you are using, you will have access to different built-in connectors</span></span><span>. Search for your required connection type to connect to your data. If you are connecting to a</span> <span class="adverb"><span>commonly</span></span> <span>used connector then it is almost certain to be available.</span> <span class="veryhardreadability"><span>If the file or database that you need to connect to is not available in the <span class="packt_screen">Connect</span> pane section, you can create a custom connection using</span></span> <span class="packt_screen">Other Databases (ODBC)</span> or a <span class="packt_screen">Web Data Connector</span>. <span>You can see a list of all of the native data connection types Tableau allows in the <span class="packt_screen">Connect</span> pane by clicking on the <span class="packt_screen">More...</span> button (under the</span> <span class="packt_screen">To a File</span> or <span class="packt_screen">To a Server</span> <span>sections):</span></p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1057 image-border" src="assets/5f629525-654c-4183-aea1-b5a73ea302de.png" style="width:39.33em;height:52.92em;"/></p>
<div class="packt_tip"><span>If the data source you want to connect to is not available in the <strong>Connect</strong> pane, do a little research online. </span><span class="hardreadability">There are often helpful suggestions made by the community that will help you solve questions or issues that you will run into</span><span>. </span></div>
<p><span><span>Now we will move on to connecting to the Global Superstore Orders dataset.</span></span></p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Connecting to the Global Superstore dataset</h1>
                </header>
            
            <article>
                
<p class="mce-root"><span>Click on the <span class="packt_screen">Microsoft Excel</span> button in the <span class="packt_screen">Connect</span> pane. It will be under the <span class="packt_screen">To a File</span> section. Your file browser window will open. Navigate to and open the <kbd>Global Superstore Orders 2016</kbd> Excel file:</span></p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-989 image-border" src="assets/e5470a8e-8ae0-4aaf-8d8f-4e06df914f74.png" style="width:104.92em;height:62.58em;"/></p>
<p class="mce-root">After connecting to the data source, you will be taken to the <span class="packt_screen">Data Source</span> screen. <span>From this screen, we can select which tables (in this case, sheets) that we want to use in our analysis:</span></p>
<p class="mce-root CDPAlignCenter CDPAlign"><img src="assets/3526802d-eaa5-4aa5-af11-e49ccc869086.png"/></p>
<p><span class="hardreadability"><span>Double click the <span class="packt_screen">Orders</span> table icon in the <span class="packt_screen">Connections</span> pane (under the <span class="packt_screen">Sheets</span> section) or drag the <span class="packt_screen">Orders</span> table icon to the canvas</span></span><span>. You will then see orders in the canvas (rectangle name icon with a blue border to the left). You will also see a sample of 1,000 rows in the data grid. We previously mentioned how important it is to view your data before you start working with it. The data grid is an easy way to do this.</span></p>
<p><span>The <span class="packt_screen">Data Source</span> page allows you to prepare the data for analysis. Once connected to a data source, you can make changes to how Tableau imports and interprets tables.</span><span> </span>Take a look at the preceding screenshot, which shows the <span class="packt_screen">Data Source</span> page after connecting to and importing the orders sheet from the <em>Global Superstore Orders 2016</em> dataset. </p>
<p>There are four main sections of the <span class="packt_screen">Data Source</span> page. These sections are highlighted in the following screenshot. Next, we will look at these sections in detail, starting with the left pane:</p>
<p class="CDPAlignCenter CDPAlign"><img src="assets/1b3becf2-501c-4747-a024-090afa7889cc.png"/></p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">The left pane</h1>
                </header>
            
            <article>
                
<p>The left pane shows connection details for the data sources you have connected to. This section allows you to add additional data source connections using the <span class="packt_screen">Add</span> button. </p>
<p><span>When connected to flat files (for example, Excel), the <span class="packt_screen">Connections</span> section will show the Excel workbook you are connected to with the sheets listed here. In the preceding screenshot, <kbd>Global Superstore Orders 2016</kbd> is the Excel workbook and the sheets are <kbd>Orders</kbd> and <kbd>People</kbd>.</span></p>
<p><span class="hardreadability"><span>When connected to databases, t</span></span>he left pane <span class="hardreadability"><span>will display the server name, the database, schema, and tables listed in the following screenshot:</span></span></p>
<p class="CDPAlignCenter CDPAlign"><span><img style="color: #333333;width:21.42em;height:34.00em;" src="assets/204ca26c-4434-4fea-bf51-526e4bf34fb7.png"/></span></p>
<p>If you hover over the right of the connection name, a down caret will appear. This allows us to make extra changes to the connection, such as renaming it.</p>
<p><span class="hardreadability"><span>You can view records in any table that you</span></span> <span class="passivevoice"><span>are connected</span></span> <span class="hardreadability"><span>to by hovering to the right of the table name, then clicking the <span class="packt_screen">View data</span> icon</span></span><span>. This is shown in the following screenshot:</span></p>
<p class="CDPAlignCenter CDPAlign"><img src="assets/6ef3a683-2a65-4ef3-b4d1-e77e177a18dc.png" style="width:22.75em;height:33.33em;"/></p>
<p>This results in the following popup:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1058 image-border" src="assets/b4c95587-4d11-4f34-a8cf-2228c7a53de2.png" style="width:82.17em;height:52.58em;"/></p>
<p><span>If you need to go back to the start page, click the Tableau logo in the upper left-hand corner of the screen (under <span class="packt_screen">File</span>).</span></p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">The canvas</h1>
                </header>
            
            <article>
                
<p>The canvas displays data import details as well as modeling options (joins, cross-database joins, data blending, custom SQL, and data prep). The tables that you see in the <span class="packt_screen">Connections</span> pane is what you have access to. After dragging and dropping (or double-clicking) tables from the left pane, you will see them in the canvas. You can only work with data that has been brought into the canvas.</p>
<p><span>Once a table has</span><span> </span><span class="passivevoice"><span>been</span></span> <span class="passivevoice"><span>imported</span></span><span> i</span><span>nto the canvas,</span> <span>it can</span><span> </span><span class="passivevoice"><span>be renamed by</span></span><span> </span><span>double-clicking on the rectangle name icon.</span></p>
<p>If you hover over the <span class="packt_screen">Orders</span> icon in the canvas, a down caret icon will appear. Click on it to view additional modifications that you can make to the table. You can see the drop-down menu along with the options in the following screenshot:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1059 image-border" src="assets/c0b3a090-8a7c-49d1-b485-e1b652cd435c.png" style="width:70.67em;height:47.92em;"/></p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">The data grid</h1>
                </header>
            
            <article>
                
<p><span>The data grid is a tabular view of the imported data (the default display is a view of the first 1,000 records). The data grid is displayed in the following screenshot along with a sample of the records:</span></p>
<p class="CDPAlignCenter CDPAlign"><img src="assets/87916821-9a00-4afd-a7cc-3f8d56c48ad8.png"/></p>
<p>You can rename columns by double-clicking on their names as shown in the following screenshot: </p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1060 image-border" src="assets/1e25b788-6074-4130-be0a-47179d890792.png" style="width:16.67em;height:15.92em;"/></p>
<p><span>After connecting to a data source, Tableau automatically identifies the data types of columns. Occasionally, columns will be incorrectly classified. For example, Tableau might interpret a field that contains dates as an integer data type, rather than a date data type. You can change the datatypes of columns by clicking on the data type icon and selecting the new data type, as shown in the following screenshot:</span> </p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1436 image-border" src="assets/83152534-00fd-4635-82e1-ff6de4f61d93.png" style="width:20.58em;height:17.42em;"/></p>
<p>If you hover over the top-right of the column name, a down caret will appear. This allows us to make extra attribute changes to the column. You can see the drop-down menu along with the options in the following <span>screenshot</span>: </p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1062 image-border" src="assets/79986dc5-8d65-4e49-8092-66cdbef82c52.png" style="width:27.67em;height:21.25em;"/></p>
<div class="packt_tip">In Tableau, there are usually multiple ways to accomplish the same task. Figure out what works best for your workflow and go with that.</div>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">The metadata grid</h1>
                </header>
            
            <article>
                
<p>The metadata grid allows you to get a glance of the fields you have imported, the source tables, and the remote field name (the name of the field as it is in the data source). Click on the <span class="packt_screen">Manage metadata</span> icon (to the left of <span class="packt_screen">Sort fields</span>) to get an overview of the data source structure. </p>
<p>You can perform all the same operations on columns that you could in the data grid view (for example, rename columns, change the datatypes of columns, and so on). <span>The following screenshot shows how field name, table, and remote field name are presented in the <span class="packt_screen">Manage metadata</span> view:</span></p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1437 image-border" src="assets/771bb7f2-8c56-425e-b3a6-140a3a5d135d.png" style="width:20.17em;height:30.17em;"/></p>
<div class="packt_tip"><span class="hardreadability"><span>O</span></span><span class="hardreadability"><span>nce you have imported a table into the canvas, you can</span></span><span> </span><span class="adverb"><span>quickly</span></span><span> </span><span class="hardreadability"><span>explore field names and data types by clicking on the <span class="packt_screen">Manage metadata</span> icon</span></span><span>. This is an excellent view to</span><span> </span><span class="complexword"><span>validate</span></span><span> </span><span>what you are importing.</span></div>
<p>In the next section, we will talk about what must be done before you build visualizations.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Building your data model</h1>
                </header>
            
            <article>
                
<p class="mce-root"><span>Building your data model consists of how you combine your data before you analyze it. There are numerous factors to take into account when determining a data model structure – the amount of data, type of data, granularity of the data, number of data sources, and so on. </span>The <span class="packt_screen">Data Source</span> page is where we will set up how Tableau interprets the data from the data source. The settings we modify on this page tell Tableau where to find the data (for example, network location, server name, and more) and what data is available, and it allows us to customize the data that is brought in (for example, change field names, create new columns based on calculations, and more).<br/>
Tableau allows you to easily combine data from different sources. Here are the various ways in which we can join data together on the <span class="packt_screen">Data Source</span> page.</p>
<ul>
<li><strong>Data from a single source</strong>: The workflow when needing only one table is simple – drag the table name (or double-click) from the left pane onto the canvas. You will only need to make one data connection.</li>
<li class="mce-root"><strong>Data from a single database but multiple tables</strong>: When using multiple tables in the same database, the canvas gives you the ability to join and union tables. You will only need to make one data connection.</li>
<li class="mce-root"><strong>Data from multiple databases and multiple tables</strong>: If you are connecting to multiple databases and need to use data from many tables then you can use cross-database joins.</li>
<li class="mce-root"><strong>Data blending</strong>: This shows data from two different sources that are at a different grain. You will need to make multiple data connections.</li>
</ul>
<p>Now that we have a general overview of what we can do on the <span class="packt_screen">Data Source</span> page, let's move on to how we can further refine our data model.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Preparing your data</h1>
                </header>
            
            <article>
                
<p>Once the data sources have been defined, you can apply various actions to help tidy your data before analysis. We will begin by discussing data types and how to work with them.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Working with data types</h1>
                </header>
            
            <article>
                
<p><span>If you have worked in data analysis before, you know how important it is to work with the right data types. Tableau allows users to make all the common data type conversions in a few different places.</span><span> </span><span class="hardreadability"><span>We will discuss data types in much more detail in the coming chapters but</span></span><span> </span><span class="qualifier"><span>just</span></span><span> </span><span class="hardreadability"><span>remember that you can change the type of data in the metadata panel</span></span><span>. The available data types in Tableau are presented in the following table:</span></p>
<table style="border-collapse: collapse;width: 100%" class="TableStyle-Basic-Border" border="1">
<thead>
<tr class="TableStyle-Basic-Border-Head-Header1">
<th style="width: 36px" class="TableStyle-Basic-Border-HeadE-Column1-Header1">Icon</th>
<th style="width: 346px" class="TableStyle-Basic-Border-HeadD-Column1-Header1">Data type</th>
</tr>
</thead>
<tbody>
<tr class="TableStyle-Basic-Border-Body-Body1">
<td style="width: 36px" class="TableStyle-Basic-Border-BodyE-Column1-Body1">         <img src="assets/bf32ead5-2850-4940-baed-e59b6a319a89.png"/></td>
<td style="width: 346px" class="TableStyle-Basic-Border-BodyD-Column1-Body1 CDPAlignCenter CDPAlign">Text (string) values</td>
</tr>
<tr class="TableStyle-Basic-Border-Body-Body1">
<td style="width: 36px" class="TableStyle-Basic-Border-BodyE-Column1-Body1">        <img src="assets/6a3e2363-e218-49d4-9cc8-cac8bdaea2cd.png"/></td>
<td style="width: 346px" class="TableStyle-Basic-Border-BodyD-Column1-Body1 CDPAlignCenter CDPAlign">Date values</td>
</tr>
<tr class="TableStyle-Basic-Border-Body-Body1">
<td style="width: 36px" class="TableStyle-Basic-Border-BodyE-Column1-Body1">        <img src="assets/553f5418-e79f-4b6b-9fff-fdbe28d5546d.png"/></td>
<td style="width: 346px" class="TableStyle-Basic-Border-BodyD-Column1-Body1 CDPAlignCenter CDPAlign">Date and time values</td>
</tr>
<tr class="TableStyle-Basic-Border-Body-Body1">
<td style="width: 36px" class="TableStyle-Basic-Border-BodyE-Column1-Body1">         <img src="assets/c0c47814-6ad3-4c28-bf15-e0aa245c4e33.png"/></td>
<td style="width: 346px" class="TableStyle-Basic-Border-BodyD-Column1-Body1 CDPAlignCenter CDPAlign">Numerical values</td>
</tr>
<tr class="TableStyle-Basic-Border-Body-Body1">
<td style="width: 36px" class="TableStyle-Basic-Border-BodyE-Column1-Body1">          <img src="assets/0910ebca-a465-4ee1-b990-42ff1e4a8f30.png"/></td>
<td style="width: 346px" class="TableStyle-Basic-Border-BodyD-Column1-Body1 CDPAlignCenter CDPAlign">Boolean values (relational only)</td>
</tr>
<tr class="TableStyle-Basic-Border-Body-Body1">
<td style="width: 36px" class="TableStyle-Basic-Border-BodyE-Column1-Body1">         <img src="assets/22a2e3f6-cc90-4078-a877-367118718263.png"/></td>
<td style="width: 346px" class="TableStyle-Basic-Border-BodyD-Column1-Body1 CDPAlignCenter CDPAlign">Geographic values (used with maps)</td>
</tr>
<tr class="TableStyle-Basic-Border-Body-Body1">
<td style="width: 36px" class="TableStyle-Basic-Border-BodyB-Column1-Body1">         <img src="assets/125e53c0-8ff1-4333-958a-d0c115a165f4.png"/></td>
<td style="width: 346px" class="TableStyle-Basic-Border-BodyA-Column1-Body1 CDPAlignCenter CDPAlign">Cluster group (<a href="https://help.tableau.com/current/pro/desktop/en-us/clustering.htm">https://help.tableau.com/current/pro/desktop/en-us/clustering.htm</a>)</td>
</tr>
</tbody>
</table>
<p><span class="hardreadability"><span>After you have connected to your data, click the <span class="packt_screen">Manage metadata</span> icon in the center of the page (left of the <span class="packt_screen">Sort fields</span> drop-down menu)</span></span><span>. The metadata grid view will appear:</span></p>
<div class="">
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1438 image-border" src="assets/37875cf1-2a66-45f5-8b3f-93a62e5df966.png" style="width:133.67em;height:115.92em;"/></p>
<p><span>To change the data type of a field, click on the data type icon to the left of the field name. Here, you can convert between types of data. Various geographic data types are also available in the pane:</span></p>
<p class="CDPAlignCenter CDPAlign"><img src="assets/9ec04d77-6b83-49a9-969a-2c1db2b574cc.png" style="width:27.00em;height:25.58em;"/></p>
</div>
<div class="">
<p class="public-DraftStyleDefault-block public-DraftStyleDefault-ltr"><span>One example of when you may want to change data types is when you import dates as a string instead of a date. You can click the icon and convert it to a date field without having to make any changes to the source data.</span></p>
</div>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Pivoting data</h1>
                </header>
            
            <article>
                
<p><span class="hardreadability"><span>If you've worked with Microsoft Excel or data in a tabular format before, you have</span></span><span> </span><span class="adverb"><span>probably</span></span><span> </span><span class="hardreadability"><span>pivoted data</span></span><span>. Generally, you want to pivot data when it is in a cross-tab format to work with it in Tableau. While wide data may work well for reporting, data should be long when conducting the analysis. After you have connected to your data source, select multiple columns. Click the down caret to the upper-right of the column name and click the <span class="packt_screen">Pivot</span> option in the menu:</span></p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1065 image-border" src="assets/623ba2dc-9d78-4890-a49b-88709d37674e.png" style="width:126.42em;height:69.92em;"/></p>
<p><span>The columns that you have</span><span> </span><span class="complexword"><span>previously</span></span><span> </span><span>selected will</span><span> </span><span class="passivevoice"><span>be pivoted</span></span><span>.</span><span> </span><span class="hardreadability"><span>Always</span></span><span> </span><span class="complexword"><span>validate</span></span><span> </span><span class="hardreadability"><span>your data after you make any transformation; this will give you confidence in the results of the analysis</span></span><span>.</span><span> </span><span class="veryhardreadability"><span>You can add or remove</span></span><span> </span><span class="complexword"><span>additional</span></span><span> </span><span class="veryhardreadability"><span>columns to the pivot in a similar manner – click the down caret of the field that you</span></span><span> </span><span class="passivevoice"><span>are interested</span></span><span> </span><span class="veryhardreadability"><span>in and follow the instructions:</span></span></p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1066 image-border" src="assets/673dc41b-594a-470c-b544-12a25d7874d4.png" style="width:136.00em;height:100.75em;"/></p>
<div class="packt_infobox">You can use custom SQL to pivot data in tables from databases. Note that the pivot data option in Tableau Desktop is only available for selected data sources such as text files, Google sheets, Microsoft Excel, and PDF files. If you are working with SQL then you must use custom SQL to pivot your data.</div>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Splitting fields</h1>
                </header>
            
            <article>
                
<p>If one of your fields is a string and you need to split it up, you can use Tableau's split into multiple fields options. When you are on the <span class="packt_screen">Data Source</span> page in the data grid, click the down caret icon next to a column, then click the <span class="packt_screen">Split</span> option. The split will be automatic, but you can get more control of the split if you click the <span class="packt_screen">Custom Split...</span> option. <span class="hardreadability"><span>When using the automatic split option, the field</span></span><span> </span><span class="passivevoice"><span>is split</span></span><span> </span><span class="hardreadability"><span>on a common separator that Tableau identifies</span></span><span>. In the following example, it is a space between the first and last name.</span></p>
<p>An example of when you would want to use this option is if you had full names in a column and needed the first name and last name in different columns:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1067 image-border" src="assets/33b66eb2-b5e8-4fdc-910a-4b34213079e0.png" style="width:225.75em;height:123.00em;"/></p>
<p>After splitting the column, you can see that there are two new columns – one containing the first name and one containing the last. You can rename the column by double-clicking on the column name:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1439 image-border" src="assets/ff84cdf5-a136-418a-ab7b-8dcfca1acde9.png" style="width:22.83em;height:27.75em;"/></p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Filtering data </h1>
                </header>
            
            <article>
                
<div class="">
<p class="public-DraftStyleDefault-block public-DraftStyleDefault-ltr"><span>Tableau</span><span> </span><span class="passivevoice"><span>is built</span></span><span> </span><span>to work with big data, but your performance takes a hit as the size of your data increases.</span><span> </span><span class="hardreadability"><span>One of the best ways to manage the performance of your analysis is to limit the amount of data that Tableau needs to read</span></span><span>. On the <span class="packt_screen">Data Source</span> page, you can include a data source filter.</span></p>
</div>
<div class="">
<p class="public-DraftStyleDefault-block public-DraftStyleDefault-ltr"><span>To add a data source filter, click the <span class="packt_screen">Add</span> button in the <span class="packt_screen">Filters</span> section of the canvas. An <span class="packt_screen">Edit Data Source Filters</span> menu will appear. Click <span class="packt_screen">Add</span> and select the filter you would like applied. You can add more filters or remove added filters using the same method:</span></p>
</div>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1069 image-border" src="assets/30c96784-b270-453c-a16a-c860c2aaf6e9.png" style="width:225.33em;height:123.17em;"/></p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Combining data</h1>
                </header>
            
            <article>
                
<p>When performing data analysis, you will often work with data in multiple tables. Tableau allows you to combine data sources using multiple methods. The four primary methods are as follows:</p>
<ul>
<li>Joins</li>
<li>Cross-database joins</li>
<li>Unions</li>
<li>Blends</li>
</ul>
<p class="mce-root">The following sections will explain each of these methods in detail.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Joins</h1>
                </header>
            
            <article>
                
<p><span class="hardreadability"><span>Joining the data allows you to combine tables using common fields</span></span> <span class="complexword"><span>in order to</span></span> <span class="hardreadability"><span>perform analysis</span></span><span>. You can think of joining tables as extending a table by adding columns from a source table to a target table. You can combine tables using a common field (a column present in both tables) in Tableau. Based on the related field, we can combine rows from</span> <span class="complexword"><span>multiple</span></span> <span>tables. </span>If the tables you are using are from the same source (database, workbook, and so on) then the procedure involves a single connection. Working with tables from the same data source is computationally more efficient; however, it is not a requirement. </p>
<p>The <kbd>Orders</kbd> table should already be in the canvas.</p>
<p>Double-click or drag the <kbd>People</kbd> table to the canvas (an inner-join icon will appear between the rectangular icons for each table name that is in the canvas).</p>
<p>Select/change the join type (when a new table is brought into the canvas section, Tableau will look for a column to join on – in the case of our example, it has joined on <kbd>Region</kbd>, which is a column in both sheets).</p>
<p><span>You can click the blue inner-join icon to make changes to how the tables are being joined.</span> <span class="hardreadability"><span>You may want to edit the join type (for example, inner-join to left) or</span></span> <span class="qualifier"><span>perhaps</span></span> <span class="hardreadability"><span>even edit the clause itself by adding more conditions to it</span></span>. <span><span class="hardreadability">The following screenshot shows the results of the join between the</span></span> <kbd>Orders</kbd> and <kbd>People</kbd> <span><span class="hardreadability">sheets:</span></span></p>
<p class="CDPAlignCenter CDPAlign"><img src="assets/4c7f100c-9ceb-4431-aa20-78c7c4264df8.png" style="width:75.33em;height:41.25em;"/></p>
<div class="packt_tip">You can view the data in the data grid after joins to visually inspect for errors.</div>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">The join types</h1>
                </header>
            
            <article>
                
<p>The four basic SQL join types are all supported by Tableau: <strong>inner</strong>, <strong>left</strong>, <strong>right</strong>, and <strong>full outer</strong>. Prior to joining data, you must verify that the data types from the common field used in the join are the same:</p>
<table style="border-collapse: collapse;width: 97.9367%" border="1">
<tbody>
<tr>
<td style="width: 15%" class="CDPAlignCenter CDPAlign"><strong>Type of join</strong></td>
<td style="width: 64%" class="CDPAlignCenter CDPAlign"><strong>Description</strong></td>
<td style="width: 14.0716%"><strong>Venn diagram of join</strong></td>
</tr>
<tr>
<td style="width: 15%" class="CDPAlignCenter CDPAlign">Inner join</td>
<td style="width: 64%">The result set includes all records that have a matching value in both tables. For the Global Superstore Orders 2016 example, this will return all records from the <kbd>Orders</kbd> table for which there is a matching person in the <kbd>People</kbd> table.</td>
<td style="width: 14.0716%" class="CDPAlignCenter CDPAlign"><img src="assets/68675c3b-d0da-48d1-b5d8-64b9be416607.png"/></td>
</tr>
<tr>
<td style="width: 15%" class="CDPAlignCenter CDPAlign">Left join</td>
<td style="width: 64%">The result set includes all records from the left table (<kbd>Orders</kbd>) and matching records from the <kbd>People</kbd> table. For records where there is no match, NULL values will appear.</td>
<td style="width: 14.0716%" class="CDPAlignCenter CDPAlign"><img src="assets/08bd8497-d041-46bc-bd9e-3486195cfcd1.png"/></td>
</tr>
<tr>
<td style="width: 15%" class="CDPAlignCenter CDPAlign">Right join</td>
<td style="width: 64%">The result set includes all records from the right table (<kbd>People</kbd>) and matching records from the <kbd>Orders</kbd> table. For records where there is no match, NULL values will appear.</td>
<td style="width: 14.0716%" class="CDPAlignCenter CDPAlign"><img src="assets/9e73dc3f-feb7-4109-83ea-4cf5b9bff7ea.png"/></td>
</tr>
<tr>
<td style="width: 15%" class="CDPAlignCenter CDPAlign">Full outer join</td>
<td style="width: 64%">The result set includes all records from both tables regardless of whether there is a match or not.</td>
<td style="width: 14.0716%">
<p class="mce-root CDPAlignCenter CDPAlign"><img src="assets/653d3ccc-4f5d-4bb0-a304-c192e15bffde.png"/></p>
</td>
</tr>
</tbody>
</table>
<div class="packt_infobox">The maximum number of tables that can be joined in Tableau is 32. Tables also have a limit of 255 columns. </div>
<p>Some instructions for joins are as follows:</p>
<ol>
<li>Click and drag (or double-click) the second table from the left pane onto the canvas.</li>
<li>Tableau will automatically attempt to detect a common field from both data sources in order to join both tables.</li>
<li>Click the <span class="packt_screen">Join</span> icon to change the join type or to change the join operation by adding/removing additional clauses. When finished, close the <span class="packt_screen">Join</span> dialog box.</li>
<li>Validate the join so that the data pane will reflect how you want the data to be ingested by Tableau in the data grid. To remove a join, click the <span class="packt_screen">x</span> button icon by the join condition.</li>
</ol>
<p>Next, we will move on to a similar type of join – the cross-database join.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Cross-database joins</h1>
                </header>
            
            <article>
                
<p class="mce-root">A cross-database join is an inner, left, right, or full outer join between two or more tables that are in different databases. You will often encounter multiple databases systems that house different information. Order information may be in an Amazon Redshift database while information about store locations may be in an SQL Server database. To join information from different sources, you will need to use a cross-database join.</p>
<p class="mce-root">There may be multiple reasons why data resides in different databases but that is beyond the scope of this chapter.</p>
<p class="mce-root"><span>The four types of joins mentioned previously are available with cross-database joins. Cross-database joins</span> <span class="complexword"><span>require</span></span> <span>a multi-connection data source setup. This means that you need to create a new connection to each database for each of the tables that you want to join.</span> <span class="hardreadability"><span>We have already connected to the <kbd>Global Super Orders 2016</kbd> Excel workbook and brought in the <kbd>Orders</kbd> table</span></span><span>. We want to join orders with the <kbd>Returns</kbd> table but it is in a different file (<kbd>Global Superstore Returns 2016.csv</kbd>).</span></p>
<div class="packt_infobox"><span class="hardreadability"><span>Although we are working with data in flat files, the process is similar when working with databases</span></span><span>. Each connection will be to a database instead of a flat file.</span></div>
<p>In the following <span>screenshot</span>, we see that we are connected to a data source (<kbd>Global Superstore Orders 2016</kbd>). The <kbd>Orders</kbd> sheet has already been imported onto the canvas:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1070 image-border" src="assets/56d7f1e1-a8f1-42d9-9ea3-f468d2b45d71.png" style="width:63.67em;height:33.67em;"/></p>
<p>To join the <kbd>Returns</kbd> table to the <kbd>Orders</kbd> table, connect to <kbd>Global Superstore Returns 2016</kbd> by clicking on the <span class="packt_screen">Add link</span> option in the <span class="packt_screen">Connections</span> pane. From here, navigate to the file and double-click it:</p>
<p class="CDPAlignCenter CDPAlign"><img src="assets/3431d485-a913-41fd-9f73-fb5c5888a363.png" style="width:77.75em;height:42.58em;"/></p>
<p><span class="veryhardreadability"><span>Once the second connection </span></span><span class="passivevoice"><span>is added,</span></span> <span class="veryhardreadability"><span>you will see the connection name under the pre-existing connection as well as all the tables under the <span class="packt_screen">Files</span> section of the <span class="packt_screen">Connections </span>pane</span></span><span>.</span> <span class="veryhardreadability"><span>Double-click the <kbd>Global Superstore Returns 2016</kbd> table name (or drag it onto the canvas) and Tableau will try to</span></span> <span class="adverb"><span>automatically</span></span> <span class="veryhardreadability"><span>join these tables</span></span><span>. In our example, the join</span> <span class="passivevoice"><span>is done</span></span> <span>on the <kbd>Order ID</kbd> column, which is a common field in both tables:</span></p>
<p class="CDPAlignCenter CDPAlign"><img src="assets/81a16d99-0862-4a26-b172-4c3a9ae1946a.png" style="width:81.00em;height:44.33em;"/></p>
<p><span>When you cross-join tables, Tableau will color-code them according to their source.</span> <span class="hardreadability"><span>Note that the <kbd>Orders</kbd> table in the canvas has a blue left border indicating that it is from the <kbd>Global Superstore Orders 2016</kbd> workbook</span></span><span>.</span> <span class="adverb"><span>Similarly</span></span><span class="hardreadability"><span>, the table from the <kbd>Global Superstore Returns 2016</kbd> flat file has an orange left border in the canvas</span></span><span>.</span> <span class="hardreadability"><span>The borders of the rectangular table button in the canvas corresponds to the color of its connection</span></span><span>. <span class="hardreadability">When viewing the data grid after a cross-database join, the top borders of columns will be color-coded to the connection name as well</span>.</span></p>
<p>Some instructions for cross-database joins are as follows:</p>
<ol>
<li>Click the <span class="packt_screen">Add</span> button in the <span class="packt_screen">Connections</span> pane to add a new connection. <span>A connection to another data source must</span> <span class="passivevoice"><span>be made</span></span> <span class="complexword"><span>prior to</span></span> <span>joining a table that</span> <span class="passivevoice"><span>is stored</span></span> <span>in that source.</span></li>
<li>Select a second table under the new connection then click and drag (or double-click) the second table from the left pane onto the canvas<span>. Tableau will</span> <span class="adverb">automatically</span> <span>try to join the tables using a common field.</span></li>
<li>Click the <strong>Join</strong> icon to change the join type or to change the join operation by adding/removing additional clauses. When finished, close the <strong>Join</strong> dialog box.</li>
<li>Validate that the join was done properly. The data grid will display the results of the data after the join and should help you to easily identify whether there are issues with your join.</li>
</ol>
<div class="packt_infobox">Cross-database joins are extremely powerful as they are<span> often the easiest way to join tables from different databases.</span></div>
<p>Next, we will describe how Tableau can union data.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Unions</h1>
                </header>
            
            <article>
                
<p>A union is another way to combine your data. When you union two tables, you append the rows from one table to another. Since you are effectively stacking tables on top of each other, there is one important condition that must be satisfied – the data types of the columns that will be stacked need to be compatible. You should not stack a date column on top of a text column.</p>
<div class="">
<p>The following table includes a description of a union along with a Venn diagram visual to help you visualize how a union operates:</p>
</div>
<table style="border-collapse: collapse;width: 100%;border-color: #000000;background-color: #ffffff" border="1">
<tbody>
<tr>
<td style="width: 15.1617%" class="CDPAlignCenter CDPAlign"><strong>Union</strong></td>
<td style="width: 65.8383%" class="CDPAlignCenter CDPAlign"><strong>Description</strong></td>
<td style="width: 11%" class="CDPAlignCenter CDPAlign"><strong>Venn diagram of Union</strong></td>
</tr>
<tr>
<td style="width: 15.1617%" class="CDPAlignCenter CDPAlign">Union</td>
<td style="width: 65.8383%" class="CDPAlignCenter CDPAlign">The result set of a union is all records from the first table appended to all records from the second table. </td>
<td style="width: 11%" class="CDPAlignCenter CDPAlign"><img src="assets/3af78460-ec61-484f-bb3d-3539a4b61994.png" style="width:3.00em;height:4.25em;"/></td>
</tr>
</tbody>
</table>
<p> </p>
<p>To illustrate unions, we will append the <kbd>Orders</kbd> table to itself; this will yield a result set where every record is duplicated. Make sure the <kbd>Global Superstore Orders 2016</kbd> connection is highlighted then click and drag the <kbd>Orders</kbd> table to the canvas on top of the <kbd>Orders</kbd> table rectangular button already in the canvas. Drop it on top:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1071 image-border" src="assets/149f87ee-514e-4bc4-b9ee-9a0ce052d9d8.png" style="width:64.83em;height:31.33em;"/></p>
<p>You will see a plus symbol to the right of the <kbd>Orders</kbd> table icon and table icons peeking out underneath. This indicates that the union was successful:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1072 image-border" src="assets/4ce235e9-80c6-48e2-b815-4d0a7bca36ab.png" style="width:28.25em;height:6.50em;"/></p>
<p>If you right-click the <kbd>Orders</kbd> table icon, a submenu will appear. Click on <span class="packt_screen">Edit Union...</span>:</p>
<p class="CDPAlignCenter CDPAlign"><img src="assets/fb7b6897-07b6-44ee-b22f-556011520e4a.png" style="width:32.67em;height:17.08em;"/></p>
<p>The <span class="packt_screen">Specific (manual)</span> menu allows you to see how many tables are in your union. You can also union tables by dragging tables on the canvas of the <span class="packt_screen">Specific (manual)</span> menu:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1073 image-border" src="assets/14b2fdba-ed85-49cb-93dc-ce5704e648a2.png" style="width:30.08em;height:31.17em;"/></p>
<p>A second option is for Tableau to automatically include tables in your join based on wildcard criteria that you set up. This is useful when you would like to append numerous tables that may have different date suffixes:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1074 image-border" src="assets/3b56dfbc-2efb-4249-96ed-52374ee3eb49.png" style="width:35.58em;height:37.58em;"/></p>
<p><span class="veryhardreadability"><span>In Tableau, you cannot union tables from different databases (cross-database unions), but this may</span></span> <span class="passivevoice"><span>be changed</span></span> <span class="veryhardreadability"><span>in future updates</span></span><span>.</span> <span class="veryhardreadability"><span>While you cannot union tables from different databases, you can union tables (sheets) from different Excel workbooks</span></span><span>. </span><span class="veryhardreadability"><span>Tableau has released a tool called <strong>Tableau Prep Builder</strong> that allows you to union data across</span></span> <span class="complexword"><span>multiple</span></span> <span class="veryhardreadability"><span>connections but that is beyond the scope of this chapter</span></span><span>.</span> <span class="hardreadability"><span>For more information on Tableau Prep, visit the product page at</span></span> <a href="https://www.tableau.com/products/prep"><span>https://www.tableau.com/products/prep</span></a>.</p>
<p>Next, we move onto blends and how they differ from joins.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Blends</h1>
                </header>
            
            <article>
                
<p>Like joins and unions, data blending allows you to work with data from different sources. Blends allow you to show data from two or more sources in the same view. The difference between a blend and a join is that when you blend, you are not combining data at the row level. A blend is a relationship. It allows data from different sources to be displayed in the same sheet. A data blend is primarily used when you need to show data from two different sources that are at a different grain. </p>
<p>When you connect to a database, Tableau automatically displays a blue checkmark next to the connection icon (see the following <span>screenshot</span>). The blue checkmark indicates that it is the primary, or first connected to, data source. After adding a second connection, an additional icon will appear, this time with an orange checkmark. Instructions for blends are as follows:</p>
<ol>
<li>Make sure that the workbook contains at least two sources of data. You can do this by clicking <span class="packt_screen">Data &gt; New data source</span> in the menu.</li>
<li>The primary data source is the database icon with the blue checkmark; the database icon with the orange check mark is the secondary source. Click on the secondary database icon in the <span class="packt_screen">Data</span> pane to use fields from this source.</li>
<li>The orange link icon indicates the field on which the data sources are blended using. If the link icon is gray, click it to activate the blend.</li>
<li>Use fields from the secondary data source as you would in the primary data source.</li>
</ol>
<p>The following <span>screenshot </span>displays the <span class="packt_screen">Data</span> pane once a successful blend has been made:</p>
<p class="CDPAlignCenter CDPAlign"><img src="assets/23ec09cf-60ba-48b0-80d7-8057bd3d6a41.png" style="width:27.50em;height:32.08em;"/></p>
<p class="CDPAlignLeft CDPAlign">We have learned a tremendous amount of how to connect to, prepare, and join our data before analysis. In the next section, we will summarize what we have learned in this chapter.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Summary</h1>
                </header>
            
            <article>
                
<div class="">
<p class="public-DraftStyleDefault-block public-DraftStyleDefault-ltr"><span>We have gone through some ways to model data in Tableau. At this stage, you know how to connect to a data source. You should also have seen how important the <span class="packt_screen">Data Source</span> page is when it comes to modeling your data. You can make your life so much easier if you use many of the features that are available in this section.</span></p>
<p>The main takeaway for data modeling in Tableau is that it helps you prepare your workspace to answer questions using data. Taking the time to understand your business or project requirements will help you perform a better analysis. Tableau allows you to quickly connect to and build visualizations but the <span class="packt_screen">Data Source</span> page should not be ignored. Tableau also adds extra features with new releases. <span class="hardreadability"><span>In the next chapter, you will learn how to use the data that you have prepared to begin building your visualizations</span></span><span> </span><span class="complexword"><span>in order to</span></span><span> </span><span class="hardreadability"><span>share insights</span></span><span>. </span></p>
</div>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Questions</h1>
                </header>
            
            <article>
                
<p>Answer the following questions to test your knowledge of the information in this chapter. </p>
<p>1. To connect to multiple tables in multiple data sources, what must be specified?</p>
<p class="mce-root">a. A blend<br/>
b. A cross-database join<br/>
c. A join</p>
<p>A: <span>b. A cross-database join</span></p>
<p class="mce-root">2. What types of joins are supported by Tableau?</p>
<p>A: <span>Inner join, Left join, Right join and Full outer join</span></p>
<p class="mce-root">3. You can change the data types of fields in Tableau's <span class="packt_screen">Data Source</span> page.<br/>
a. True<br/>
b. False</p>
<p><span>A: a. True</span></p>
<p><span>4. Tableau has a row limit.</span><br/>
<span>a. True</span><br/>
<span>b. False</span></p>
<p><span>A: b. False</span></p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Further reading</h1>
                </header>
            
            <article>
                
<p>You can check out the following link for more information about the topics that were covered in this chapter:</p>
<ul>
<li>Full list of supported connectors (data sources Tableau can connect to):<span> </span><a href="https://help.tableau.com/current/pro/desktop/en-gb/exampleconnections_overview.htm">https://help.tableau.com/current/pro/desktop/en-gb/exampleconnections_overview.htm</a>.</li>
</ul>


            </article>

            
        </section>
    </body></html>