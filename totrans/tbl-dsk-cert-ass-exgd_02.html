<html><head></head><body>
        

                            
                    <h1 class="header-title">Building Your Data Model</h1>
                
            
            
                
<p class="mce-root">Data analysis and visualization go hand in hand. Tableau allows users to perform in-depth data analysis and share results via interactive visualizations. Tableau includes numerous data modeling capabilities that allow users to make sense of data and to obtain meaningful insights, without having to deal with advanced database concepts. Data modeling is an important concept, and the more data you are working with, the more important it is.</p>
<p class="mce-root">As the amount of information we work with grows, we need to be able to efficiently perform analysis. Data modeling allows us to not only prepare for our analysis but to also make it as efficient as possible. At the end of the day, we use data to help us make better decisions. Spending time learning how we can model the data will help us identify what questions we can answer, and how to answer them. Regardless of the size of the data you are working with, Tableau will help you glean insights with ease.</p>
<p class="mce-root">This chapter will explain how to connect to your data and use Tableau's data modeling capabilities to begin your analysis.</p>
<p class="mce-root">The following topics will be covered in this chapter:</p>
<ul>
<li>Initial preparation</li>
<li>Connecting to your data</li>
<li>Building your data model</li>
<li>Preparing your data</li>
</ul>


            

            
        
    

        

                            
                    <h1 class="header-title">Technical requirements</h1>
                
            
            
                
<p>This chapter uses the Global Superstore dataset, which can be found at <a href="https://www.tableau.com/sites/default/files/getting_started_data_sets.zip">https://www.tableau.com/sites/default/files/getting_started_data_sets.zip</a>.</p>
<div><p class="public-DraftStyleDefault-block public-DraftStyleDefault-ltr">Once extracted, you will see two files:</p>
<ul>
<li class="public-DraftStyleDefault-block public-DraftStyleDefault-ltr"><kbd>Global Superstore Orders 2016</kbd></li>
<li class="public-DraftStyleDefault-block public-DraftStyleDefault-ltr"><kbd>Global Superstore Returns 2016</kbd></li>
</ul>
</div>
<p>We believe that following along is the best way to learn and become comfortable with any application. Follow along using the examples provided in this chapter, or find a dataset that you are interested in.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Initial preparation</h1>
                
            
            
                
<p>Before connecting to your data, you need to do a few things. First, you must look for data that will answer your questions. Once you have validated that it exists, where it is stored and how to acquire access/permissions (if necessary). In most cases, you will be connecting directly to a database using a username and password. However, you can also connect to files such as Excel workbooks on your local machine. You can even use a combination of both if needs be.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">The Global Superstore dataset</h1>
                
            
            
                
<p>The Global Superstore dataset is data from a fictional global retail chain that sells office supplies. In the real world, you will most likely be connecting to databases; however, working with Excel files is similar – sheets in Excel are treated similarly to tables in a database. The data in these workbooks is similar to what you would see in a database.</p>
<p>The Global Superstore dataset consists of one Excel workbook and one Excel CSV file:</p>
<ul>
<li><kbd>Global Superstore Orders 2016</kbd> (<kbd>.xlsx</kbd>)<br/>
Sheet 1: <kbd>Orders</kbd><br/>
Sheet 2: <kbd>People</kbd></li>
<li><kbd>Global Superstore Returns 2016</kbd> (<kbd>.csv</kbd>)<br/>
Sheet 1: <kbd>Global Superstore Returns 2016</kbd></li>
</ul>
<p>The <kbd>Orders</kbd> sheet contains sales data where each record (<kbd>Row ID</kbd>) represents a single transaction:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1435 image-border" src="img/df24179e-0aa4-4e89-a9a0-24a92d9b8ec5.png" style="width:81.50em;height:62.50em;"/></p>
<p>The <kbd>People</kbd> sheet contains a mapping of persons to region:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-986 image-border" src="img/2363a10d-5b30-4123-8fec-af92bc137077.png" style="width:81.50em;height:62.50em;"/></p>
<p>The <kbd>Global Superstore Returns 2016</kbd> sheet contains order IDs for returned orders by region:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-987 image-border" src="img/4b94caea-a2f3-4a0a-9bad-76d4f7bc1d01.png" style="width:81.42em;height:62.42em;"/></p>
<p>We have found the data we need for our analysis, we know where it's located, and have access to use it. Now we will move on to connecting to the data source with Tableau.</p>
<p>It is always a good idea to get an idea of the data you are working with by viewing a few records. If you are working with an Excel file, open it in Excel to get a feel for the dataset.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Connecting to your data</h1>
                
            
            
                
<p>Before diving into your data, you have to connect to it. Tableau allows you to connect to numerous data sources. You can connect to files on your local machine, to databases on servers, or other database sources. Tableau allows users to connect to numerous data sources – for a full list, visit Tableau's website to view a comprehensive and up-to-date list. The types of data sources you can connect with are listed in the <strong>Connect</strong> pane of the start page. Files that you have recently connected to will appear on this page as well.</p>
<p>Depending on which version of Tableau Desktop you are using, you will have access to different built-in connectors. Search for your required connection type to connect to your data. If you are connecting to a commonly used connector then it is almost certain to be available. If the file or database that you need to connect to is not available in the Connect pane section, you can create a custom connection using Other Databases (ODBC) or a Web Data Connector. You can see a list of all of the native data connection types Tableau allows in the Connect pane by clicking on the More... button (under the To a File or To a Server sections):</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1057 image-border" src="img/5f629525-654c-4183-aea1-b5a73ea302de.png" style="width:39.33em;height:52.92em;"/></p>
<p>If the data source you want to connect to is not available in the <strong>Connect</strong> pane, do a little research online. There are often helpful suggestions made by the community that will help you solve questions or issues that you will run into. </p>
<p>Now we will move on to connecting to the Global Superstore Orders dataset.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Connecting to the Global Superstore dataset</h1>
                
            
            
                
<p class="mce-root">Click on the Microsoft Excel button in the Connect pane. It will be under the To a File section. Your file browser window will open. Navigate to and open the <kbd>Global Superstore Orders 2016</kbd> Excel file:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-989 image-border" src="img/e5470a8e-8ae0-4aaf-8d8f-4e06df914f74.png" style="width:104.92em;height:62.58em;"/></p>
<p class="mce-root">After connecting to the data source, you will be taken to the Data Source screen. From this screen, we can select which tables (in this case, sheets) that we want to use in our analysis:</p>
<p class="mce-root CDPAlignCenter CDPAlign"><img src="img/3526802d-eaa5-4aa5-af11-e49ccc869086.png"/></p>
<p>Double click the Orders table icon in the Connections pane (under the Sheets section) or drag the Orders table icon to the canvas. You will then see orders in the canvas (rectangle name icon with a blue border to the left). You will also see a sample of 1,000 rows in the data grid. We previously mentioned how important it is to view your data before you start working with it. The data grid is an easy way to do this.</p>
<p>The Data Source page allows you to prepare the data for analysis. Once connected to a data source, you can make changes to how Tableau imports and interprets tables. Take a look at the preceding screenshot, which shows the Data Source page after connecting to and importing the orders sheet from the <em>Global Superstore Orders 2016</em> dataset. </p>
<p>There are four main sections of the Data Source page. These sections are highlighted in the following screenshot. Next, we will look at these sections in detail, starting with the left pane:</p>
<p class="CDPAlignCenter CDPAlign"><img src="img/1b3becf2-501c-4747-a024-090afa7889cc.png"/></p>


            

            
        
    

        

                            
                    <h1 class="header-title">The left pane</h1>
                
            
            
                
<p>The left pane shows connection details for the data sources you have connected to. This section allows you to add additional data source connections using the Add button. </p>
<p>When connected to flat files (for example, Excel), the Connections section will show the Excel workbook you are connected to with the sheets listed here. In the preceding screenshot, <kbd>Global Superstore Orders 2016</kbd> is the Excel workbook and the sheets are <kbd>Orders</kbd> and <kbd>People</kbd>.</p>
<p>When connected to databases, the left pane will display the server name, the database, schema, and tables listed in the following screenshot:</p>
<p class="CDPAlignCenter CDPAlign"><img style="color: #333333;width:21.42em;height:34.00em;" src="img/204ca26c-4434-4fea-bf51-526e4bf34fb7.png"/></p>
<p>If you hover over the right of the connection name, a down caret will appear. This allows us to make extra changes to the connection, such as renaming it.</p>
<p>You can view records in any table that you are connected to by hovering to the right of the table name, then clicking the View data icon. This is shown in the following screenshot:</p>
<p class="CDPAlignCenter CDPAlign"><img src="img/6ef3a683-2a65-4ef3-b4d1-e77e177a18dc.png" style="width:22.75em;height:33.33em;"/></p>
<p>This results in the following popup:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1058 image-border" src="img/b4c95587-4d11-4f34-a8cf-2228c7a53de2.png" style="width:82.17em;height:52.58em;"/></p>
<p>If you need to go back to the start page, click the Tableau logo in the upper left-hand corner of the screen (under File).</p>


            

            
        
    

        

                            
                    <h1 class="header-title">The canvas</h1>
                
            
            
                
<p>The canvas displays data import details as well as modeling options (joins, cross-database joins, data blending, custom SQL, and data prep). The tables that you see in the Connections pane is what you have access to. After dragging and dropping (or double-clicking) tables from the left pane, you will see them in the canvas. You can only work with data that has been brought into the canvas.</p>
<p>Once a table has been imported into the canvas, it can be renamed by double-clicking on the rectangle name icon.</p>
<p>If you hover over the Orders icon in the canvas, a down caret icon will appear. Click on it to view additional modifications that you can make to the table. You can see the drop-down menu along with the options in the following screenshot:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1059 image-border" src="img/c0b3a090-8a7c-49d1-b485-e1b652cd435c.png" style="width:70.67em;height:47.92em;"/></p>


            

            
        
    

        

                            
                    <h1 class="header-title">The data grid</h1>
                
            
            
                
<p>The data grid is a tabular view of the imported data (the default display is a view of the first 1,000 records). The data grid is displayed in the following screenshot along with a sample of the records:</p>
<p class="CDPAlignCenter CDPAlign"><img src="img/87916821-9a00-4afd-a7cc-3f8d56c48ad8.png"/></p>
<p>You can rename columns by double-clicking on their names as shown in the following screenshot: </p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1060 image-border" src="img/1e25b788-6074-4130-be0a-47179d890792.png" style="width:16.67em;height:15.92em;"/></p>
<p>After connecting to a data source, Tableau automatically identifies the data types of columns. Occasionally, columns will be incorrectly classified. For example, Tableau might interpret a field that contains dates as an integer data type, rather than a date data type. You can change the datatypes of columns by clicking on the data type icon and selecting the new data type, as shown in the following screenshot: </p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1436 image-border" src="img/83152534-00fd-4635-82e1-ff6de4f61d93.png" style="width:20.58em;height:17.42em;"/></p>
<p>If you hover over the top-right of the column name, a down caret will appear. This allows us to make extra attribute changes to the column. You can see the drop-down menu along with the options in the following screenshot: </p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1062 image-border" src="img/79986dc5-8d65-4e49-8092-66cdbef82c52.png" style="width:27.67em;height:21.25em;"/></p>
<p>In Tableau, there are usually multiple ways to accomplish the same task. Figure out what works best for your workflow and go with that.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">The metadata grid</h1>
                
            
            
                
<p>The metadata grid allows you to get a glance of the fields you have imported, the source tables, and the remote field name (the name of the field as it is in the data source). Click on the Manage metadata icon (to the left of Sort fields) to get an overview of the data source structure. </p>
<p>You can perform all the same operations on columns that you could in the data grid view (for example, rename columns, change the datatypes of columns, and so on). The following screenshot shows how field name, table, and remote field name are presented in the Manage metadata view:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1437 image-border" src="img/771bb7f2-8c56-425e-b3a6-140a3a5d135d.png" style="width:20.17em;height:30.17em;"/></p>
<p>Once you have imported a table into the canvas, you can quickly explore field names and data types by clicking on the Manage metadata icon. This is an excellent view to validate what you are importing.</p>
<p>In the next section, we will talk about what must be done before you build visualizations.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Building your data model</h1>
                
            
            
                
<p class="mce-root">Building your data model consists of how you combine your data before you analyze it. There are numerous factors to take into account when determining a data model structure – the amount of data, type of data, granularity of the data, number of data sources, and so on. The Data Source page is where we will set up how Tableau interprets the data from the data source. The settings we modify on this page tell Tableau where to find the data (for example, network location, server name, and more) and what data is available, and it allows us to customize the data that is brought in (for example, change field names, create new columns based on calculations, and more).<br/>
Tableau allows you to easily combine data from different sources. Here are the various ways in which we can join data together on the Data Source page.</p>
<ul>
<li><strong>Data from a single source</strong>: The workflow when needing only one table is simple – drag the table name (or double-click) from the left pane onto the canvas. You will only need to make one data connection.</li>
<li class="mce-root"><strong>Data from a single database but multiple tables</strong>: When using multiple tables in the same database, the canvas gives you the ability to join and union tables. You will only need to make one data connection.</li>
<li class="mce-root"><strong>Data from multiple databases and multiple tables</strong>: If you are connecting to multiple databases and need to use data from many tables then you can use cross-database joins.</li>
<li class="mce-root"><strong>Data blending</strong>: This shows data from two different sources that are at a different grain. You will need to make multiple data connections.</li>
</ul>
<p>Now that we have a general overview of what we can do on the Data Source page, let's move on to how we can further refine our data model.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Preparing your data</h1>
                
            
            
                
<p>Once the data sources have been defined, you can apply various actions to help tidy your data before analysis. We will begin by discussing data types and how to work with them.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Working with data types</h1>
                
            
            
                
<p>If you have worked in data analysis before, you know how important it is to work with the right data types. Tableau allows users to make all the common data type conversions in a few different places. We will discuss data types in much more detail in the coming chapters but just remember that you can change the type of data in the metadata panel. The available data types in Tableau are presented in the following table:</p>
<table style="border-collapse: collapse;width: 100%" class="TableStyle-Basic-Border" border="1">
<thead>
<tr class="TableStyle-Basic-Border-Head-Header1">
<th style="width: 36px" class="TableStyle-Basic-Border-HeadE-Column1-Header1">Icon</th>
<th style="width: 346px" class="TableStyle-Basic-Border-HeadD-Column1-Header1">Data type</th>
</tr>
</thead>
<tbody>
<tr class="TableStyle-Basic-Border-Body-Body1">
<td style="width: 36px" class="TableStyle-Basic-Border-BodyE-Column1-Body1">         <img src="img/bf32ead5-2850-4940-baed-e59b6a319a89.png"/></td>
<td style="width: 346px" class="TableStyle-Basic-Border-BodyD-Column1-Body1 CDPAlignCenter CDPAlign">Text (string) values</td>
</tr>
<tr class="TableStyle-Basic-Border-Body-Body1">
<td style="width: 36px" class="TableStyle-Basic-Border-BodyE-Column1-Body1">        <img src="img/6a3e2363-e218-49d4-9cc8-cac8bdaea2cd.png"/></td>
<td style="width: 346px" class="TableStyle-Basic-Border-BodyD-Column1-Body1 CDPAlignCenter CDPAlign">Date values</td>
</tr>
<tr class="TableStyle-Basic-Border-Body-Body1">
<td style="width: 36px" class="TableStyle-Basic-Border-BodyE-Column1-Body1">        <img src="img/553f5418-e79f-4b6b-9fff-fdbe28d5546d.png"/></td>
<td style="width: 346px" class="TableStyle-Basic-Border-BodyD-Column1-Body1 CDPAlignCenter CDPAlign">Date and time values</td>
</tr>
<tr class="TableStyle-Basic-Border-Body-Body1">
<td style="width: 36px" class="TableStyle-Basic-Border-BodyE-Column1-Body1">         <img src="img/c0c47814-6ad3-4c28-bf15-e0aa245c4e33.png"/></td>
<td style="width: 346px" class="TableStyle-Basic-Border-BodyD-Column1-Body1 CDPAlignCenter CDPAlign">Numerical values</td>
</tr>
<tr class="TableStyle-Basic-Border-Body-Body1">
<td style="width: 36px" class="TableStyle-Basic-Border-BodyE-Column1-Body1">          <img src="img/0910ebca-a465-4ee1-b990-42ff1e4a8f30.png"/></td>
<td style="width: 346px" class="TableStyle-Basic-Border-BodyD-Column1-Body1 CDPAlignCenter CDPAlign">Boolean values (relational only)</td>
</tr>
<tr class="TableStyle-Basic-Border-Body-Body1">
<td style="width: 36px" class="TableStyle-Basic-Border-BodyE-Column1-Body1">         <img src="img/22a2e3f6-cc90-4078-a877-367118718263.png"/></td>
<td style="width: 346px" class="TableStyle-Basic-Border-BodyD-Column1-Body1 CDPAlignCenter CDPAlign">Geographic values (used with maps)</td>
</tr>
<tr class="TableStyle-Basic-Border-Body-Body1">
<td style="width: 36px" class="TableStyle-Basic-Border-BodyB-Column1-Body1">         <img src="img/125e53c0-8ff1-4333-958a-d0c115a165f4.png"/></td>
<td style="width: 346px" class="TableStyle-Basic-Border-BodyA-Column1-Body1 CDPAlignCenter CDPAlign">Cluster group (<a href="https://help.tableau.com/current/pro/desktop/en-us/clustering.htm">https://help.tableau.com/current/pro/desktop/en-us/clustering.htm</a>)</td>
</tr>
</tbody>
</table>
<p>After you have connected to your data, click the Manage metadata icon in the center of the page (left of the Sort fields drop-down menu). The metadata grid view will appear:</p>
<div><p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1438 image-border" src="img/37875cf1-2a66-45f5-8b3f-93a62e5df966.png" style="width:133.67em;height:115.92em;"/></p>
<p>To change the data type of a field, click on the data type icon to the left of the field name. Here, you can convert between types of data. Various geographic data types are also available in the pane:</p>
<p class="CDPAlignCenter CDPAlign"><img src="img/9ec04d77-6b83-49a9-969a-2c1db2b574cc.png" style="width:27.00em;height:25.58em;"/></p>
</div>
<div><p class="public-DraftStyleDefault-block public-DraftStyleDefault-ltr">One example of when you may want to change data types is when you import dates as a string instead of a date. You can click the icon and convert it to a date field without having to make any changes to the source data.</p>
</div>


            

            
        
    

        

                            
                    <h1 class="header-title">Pivoting data</h1>
                
            
            
                
<p>If you've worked with Microsoft Excel or data in a tabular format before, you have probably pivoted data. Generally, you want to pivot data when it is in a cross-tab format to work with it in Tableau. While wide data may work well for reporting, data should be long when conducting the analysis. After you have connected to your data source, select multiple columns. Click the down caret to the upper-right of the column name and click the Pivot option in the menu:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1065 image-border" src="img/623ba2dc-9d78-4890-a49b-88709d37674e.png" style="width:126.42em;height:69.92em;"/></p>
<p>The columns that you have previously selected will be pivoted. Always validate your data after you make any transformation; this will give you confidence in the results of the analysis. You can add or remove additional columns to the pivot in a similar manner – click the down caret of the field that you are interested in and follow the instructions:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1066 image-border" src="img/673dc41b-594a-470c-b544-12a25d7874d4.png" style="width:136.00em;height:100.75em;"/></p>
<p>You can use custom SQL to pivot data in tables from databases. Note that the pivot data option in Tableau Desktop is only available for selected data sources such as text files, Google sheets, Microsoft Excel, and PDF files. If you are working with SQL then you must use custom SQL to pivot your data.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Splitting fields</h1>
                
            
            
                
<p>If one of your fields is a string and you need to split it up, you can use Tableau's split into multiple fields options. When you are on the Data Source page in the data grid, click the down caret icon next to a column, then click the Split option. The split will be automatic, but you can get more control of the split if you click the Custom Split... option. When using the automatic split option, the field is split on a common separator that Tableau identifies. In the following example, it is a space between the first and last name.</p>
<p>An example of when you would want to use this option is if you had full names in a column and needed the first name and last name in different columns:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1067 image-border" src="img/33b66eb2-b5e8-4fdc-910a-4b34213079e0.png" style="width:225.75em;height:123.00em;"/></p>
<p>After splitting the column, you can see that there are two new columns – one containing the first name and one containing the last. You can rename the column by double-clicking on the column name:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1439 image-border" src="img/ff84cdf5-a136-418a-ab7b-8dcfca1acde9.png" style="width:22.83em;height:27.75em;"/></p>


            

            
        
    

        

                            
                    <h1 class="header-title">Filtering data </h1>
                
            
            
                
<div><p class="public-DraftStyleDefault-block public-DraftStyleDefault-ltr">Tableau is built to work with big data, but your performance takes a hit as the size of your data increases. One of the best ways to manage the performance of your analysis is to limit the amount of data that Tableau needs to read. On the Data Source page, you can include a data source filter.</p>
</div>
<div><p class="public-DraftStyleDefault-block public-DraftStyleDefault-ltr">To add a data source filter, click the Add button in the Filters section of the canvas. An Edit Data Source Filters menu will appear. Click Add and select the filter you would like applied. You can add more filters or remove added filters using the same method:</p>
</div>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1069 image-border" src="img/30c96784-b270-453c-a16a-c860c2aaf6e9.png" style="width:225.33em;height:123.17em;"/></p>


            

            
        
    

        

                            
                    <h1 class="header-title">Combining data</h1>
                
            
            
                
<p>When performing data analysis, you will often work with data in multiple tables. Tableau allows you to combine data sources using multiple methods. The four primary methods are as follows:</p>
<ul>
<li>Joins</li>
<li>Cross-database joins</li>
<li>Unions</li>
<li>Blends</li>
</ul>
<p class="mce-root">The following sections will explain each of these methods in detail.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Joins</h1>
                
            
            
                
<p>Joining the data allows you to combine tables using common fields in order to perform analysis. You can think of joining tables as extending a table by adding columns from a source table to a target table. You can combine tables using a common field (a column present in both tables) in Tableau. Based on the related field, we can combine rows from multiple tables. If the tables you are using are from the same source (database, workbook, and so on) then the procedure involves a single connection. Working with tables from the same data source is computationally more efficient; however, it is not a requirement. </p>
<p>The <kbd>Orders</kbd> table should already be in the canvas.</p>
<p>Double-click or drag the <kbd>People</kbd> table to the canvas (an inner-join icon will appear between the rectangular icons for each table name that is in the canvas).</p>
<p>Select/change the join type (when a new table is brought into the canvas section, Tableau will look for a column to join on – in the case of our example, it has joined on <kbd>Region</kbd>, which is a column in both sheets).</p>
<p>You can click the blue inner-join icon to make changes to how the tables are being joined. You may want to edit the join type (for example, inner-join to left) or perhaps even edit the clause itself by adding more conditions to it. The following screenshot shows the results of the join between the <kbd>Orders</kbd> and <kbd>People</kbd> sheets:</p>
<p class="CDPAlignCenter CDPAlign"><img src="img/4c7f100c-9ceb-4431-aa20-78c7c4264df8.png" style="width:75.33em;height:41.25em;"/></p>
<p>You can view the data in the data grid after joins to visually inspect for errors.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">The join types</h1>
                
            
            
                
<p>The four basic SQL join types are all supported by Tableau: <strong>inner</strong>, <strong>left</strong>, <strong>right</strong>, and <strong>full outer</strong>. Prior to joining data, you must verify that the data types from the common field used in the join are the same:</p>
<table style="border-collapse: collapse;width: 97.9367%" border="1">
<tbody>
<tr>
<td style="width: 15%" class="CDPAlignCenter CDPAlign"><strong>Type of join</strong></td>
<td style="width: 64%" class="CDPAlignCenter CDPAlign"><strong>Description</strong></td>
<td style="width: 14.0716%"><strong>Venn diagram of join</strong></td>
</tr>
<tr>
<td style="width: 15%" class="CDPAlignCenter CDPAlign">Inner join</td>
<td style="width: 64%">The result set includes all records that have a matching value in both tables. For the Global Superstore Orders 2016 example, this will return all records from the <kbd>Orders</kbd> table for which there is a matching person in the <kbd>People</kbd> table.</td>
<td style="width: 14.0716%" class="CDPAlignCenter CDPAlign"><img src="img/68675c3b-d0da-48d1-b5d8-64b9be416607.png"/></td>
</tr>
<tr>
<td style="width: 15%" class="CDPAlignCenter CDPAlign">Left join</td>
<td style="width: 64%">The result set includes all records from the left table (<kbd>Orders</kbd>) and matching records from the <kbd>People</kbd> table. For records where there is no match, NULL values will appear.</td>
<td style="width: 14.0716%" class="CDPAlignCenter CDPAlign"><img src="img/08bd8497-d041-46bc-bd9e-3486195cfcd1.png"/></td>
</tr>
<tr>
<td style="width: 15%" class="CDPAlignCenter CDPAlign">Right join</td>
<td style="width: 64%">The result set includes all records from the right table (<kbd>People</kbd>) and matching records from the <kbd>Orders</kbd> table. For records where there is no match, NULL values will appear.</td>
<td style="width: 14.0716%" class="CDPAlignCenter CDPAlign"><img src="img/9e73dc3f-feb7-4109-83ea-4cf5b9bff7ea.png"/></td>
</tr>
<tr>
<td style="width: 15%" class="CDPAlignCenter CDPAlign">Full outer join</td>
<td style="width: 64%">The result set includes all records from both tables regardless of whether there is a match or not.</td>
<td style="width: 14.0716%">
<p class="mce-root CDPAlignCenter CDPAlign"><img src="img/653d3ccc-4f5d-4bb0-a304-c192e15bffde.png"/></p>
</td>
</tr>
</tbody>
</table>
<p>The maximum number of tables that can be joined in Tableau is 32. Tables also have a limit of 255 columns. </p>
<p>Some instructions for joins are as follows:</p>
<ol>
<li>Click and drag (or double-click) the second table from the left pane onto the canvas.</li>
<li>Tableau will automatically attempt to detect a common field from both data sources in order to join both tables.</li>
<li>Click the Join icon to change the join type or to change the join operation by adding/removing additional clauses. When finished, close the Join dialog box.</li>
<li>Validate the join so that the data pane will reflect how you want the data to be ingested by Tableau in the data grid. To remove a join, click the x button icon by the join condition.</li>
</ol>
<p>Next, we will move on to a similar type of join – the cross-database join.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Cross-database joins</h1>
                
            
            
                
<p class="mce-root">A cross-database join is an inner, left, right, or full outer join between two or more tables that are in different databases. You will often encounter multiple databases systems that house different information. Order information may be in an Amazon Redshift database while information about store locations may be in an SQL Server database. To join information from different sources, you will need to use a cross-database join.</p>
<p class="mce-root">There may be multiple reasons why data resides in different databases but that is beyond the scope of this chapter.</p>
<p class="mce-root">The four types of joins mentioned previously are available with cross-database joins. Cross-database joins require a multi-connection data source setup. This means that you need to create a new connection to each database for each of the tables that you want to join. We have already connected to the <kbd>Global Super Orders 2016</kbd> Excel workbook and brought in the <kbd>Orders</kbd> table. We want to join orders with the <kbd>Returns</kbd> table but it is in a different file (<kbd>Global Superstore Returns 2016.csv</kbd>).</p>
<p>Although we are working with data in flat files, the process is similar when working with databases. Each connection will be to a database instead of a flat file.</p>
<p>In the following screenshot, we see that we are connected to a data source (<kbd>Global Superstore Orders 2016</kbd>). The <kbd>Orders</kbd> sheet has already been imported onto the canvas:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1070 image-border" src="img/56d7f1e1-a8f1-42d9-9ea3-f468d2b45d71.png" style="width:63.67em;height:33.67em;"/></p>
<p>To join the <kbd>Returns</kbd> table to the <kbd>Orders</kbd> table, connect to <kbd>Global Superstore Returns 2016</kbd> by clicking on the Add link option in the Connections pane. From here, navigate to the file and double-click it:</p>
<p class="CDPAlignCenter CDPAlign"><img src="img/3431d485-a913-41fd-9f73-fb5c5888a363.png" style="width:77.75em;height:42.58em;"/></p>
<p>Once the second connection is added, you will see the connection name under the pre-existing connection as well as all the tables under the Files section of the Connections pane. Double-click the <kbd>Global Superstore Returns 2016</kbd> table name (or drag it onto the canvas) and Tableau will try to automatically join these tables. In our example, the join is done on the <kbd>Order ID</kbd> column, which is a common field in both tables:</p>
<p class="CDPAlignCenter CDPAlign"><img src="img/81a16d99-0862-4a26-b172-4c3a9ae1946a.png" style="width:81.00em;height:44.33em;"/></p>
<p>When you cross-join tables, Tableau will color-code them according to their source. Note that the <kbd>Orders</kbd> table in the canvas has a blue left border indicating that it is from the <kbd>Global Superstore Orders 2016</kbd> workbook. Similarly, the table from the <kbd>Global Superstore Returns 2016</kbd> flat file has an orange left border in the canvas. The borders of the rectangular table button in the canvas corresponds to the color of its connection. When viewing the data grid after a cross-database join, the top borders of columns will be color-coded to the connection name as well.</p>
<p>Some instructions for cross-database joins are as follows:</p>
<ol>
<li>Click the Add button in the Connections pane to add a new connection. A connection to another data source must be made prior to joining a table that is stored in that source.</li>
<li>Select a second table under the new connection then click and drag (or double-click) the second table from the left pane onto the canvas. Tableau will automatically try to join the tables using a common field.</li>
<li>Click the <strong>Join</strong> icon to change the join type or to change the join operation by adding/removing additional clauses. When finished, close the <strong>Join</strong> dialog box.</li>
<li>Validate that the join was done properly. The data grid will display the results of the data after the join and should help you to easily identify whether there are issues with your join.</li>
</ol>
<p>Cross-database joins are extremely powerful as they are often the easiest way to join tables from different databases.</p>
<p>Next, we will describe how Tableau can union data.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Unions</h1>
                
            
            
                
<p>A union is another way to combine your data. When you union two tables, you append the rows from one table to another. Since you are effectively stacking tables on top of each other, there is one important condition that must be satisfied – the data types of the columns that will be stacked need to be compatible. You should not stack a date column on top of a text column.</p>
<div><p>The following table includes a description of a union along with a Venn diagram visual to help you visualize how a union operates:</p>
</div>
<table style="border-collapse: collapse;width: 100%;border-color: #000000;background-color: #ffffff" border="1">
<tbody>
<tr>
<td style="width: 15.1617%" class="CDPAlignCenter CDPAlign"><strong>Union</strong></td>
<td style="width: 65.8383%" class="CDPAlignCenter CDPAlign"><strong>Description</strong></td>
<td style="width: 11%" class="CDPAlignCenter CDPAlign"><strong>Venn diagram of Union</strong></td>
</tr>
<tr>
<td style="width: 15.1617%" class="CDPAlignCenter CDPAlign">Union</td>
<td style="width: 65.8383%" class="CDPAlignCenter CDPAlign">The result set of a union is all records from the first table appended to all records from the second table. </td>
<td style="width: 11%" class="CDPAlignCenter CDPAlign"><img src="img/3af78460-ec61-484f-bb3d-3539a4b61994.png" style="width:3.00em;height:4.25em;"/></td>
</tr>
</tbody>
</table>
<p> </p>
<p>To illustrate unions, we will append the <kbd>Orders</kbd> table to itself; this will yield a result set where every record is duplicated. Make sure the <kbd>Global Superstore Orders 2016</kbd> connection is highlighted then click and drag the <kbd>Orders</kbd> table to the canvas on top of the <kbd>Orders</kbd> table rectangular button already in the canvas. Drop it on top:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1071 image-border" src="img/149f87ee-514e-4bc4-b9ee-9a0ce052d9d8.png" style="width:64.83em;height:31.33em;"/></p>
<p>You will see a plus symbol to the right of the <kbd>Orders</kbd> table icon and table icons peeking out underneath. This indicates that the union was successful:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1072 image-border" src="img/4ce235e9-80c6-48e2-b815-4d0a7bca36ab.png" style="width:28.25em;height:6.50em;"/></p>
<p>If you right-click the <kbd>Orders</kbd> table icon, a submenu will appear. Click on Edit Union...:</p>
<p class="CDPAlignCenter CDPAlign"><img src="img/fb7b6897-07b6-44ee-b22f-556011520e4a.png" style="width:32.67em;height:17.08em;"/></p>
<p>The Specific (manual) menu allows you to see how many tables are in your union. You can also union tables by dragging tables on the canvas of the Specific (manual) menu:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1073 image-border" src="img/14b2fdba-ed85-49cb-93dc-ce5704e648a2.png" style="width:30.08em;height:31.17em;"/></p>
<p>A second option is for Tableau to automatically include tables in your join based on wildcard criteria that you set up. This is useful when you would like to append numerous tables that may have different date suffixes:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1074 image-border" src="img/3b56dfbc-2efb-4249-96ed-52374ee3eb49.png" style="width:35.58em;height:37.58em;"/></p>
<p>In Tableau, you cannot union tables from different databases (cross-database unions), but this may be changed in future updates. While you cannot union tables from different databases, you can union tables (sheets) from different Excel workbooks. Tableau has released a tool called <strong>Tableau Prep Builder</strong> that allows you to union data across multiple connections but that is beyond the scope of this chapter. For more information on Tableau Prep, visit the product page at <a href="https://www.tableau.com/products/prep">https://www.tableau.com/products/prep</a>.</p>
<p>Next, we move onto blends and how they differ from joins.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Blends</h1>
                
            
            
                
<p>Like joins and unions, data blending allows you to work with data from different sources. Blends allow you to show data from two or more sources in the same view. The difference between a blend and a join is that when you blend, you are not combining data at the row level. A blend is a relationship. It allows data from different sources to be displayed in the same sheet. A data blend is primarily used when you need to show data from two different sources that are at a different grain. </p>
<p>When you connect to a database, Tableau automatically displays a blue checkmark next to the connection icon (see the following screenshot). The blue checkmark indicates that it is the primary, or first connected to, data source. After adding a second connection, an additional icon will appear, this time with an orange checkmark. Instructions for blends are as follows:</p>
<ol>
<li>Make sure that the workbook contains at least two sources of data. You can do this by clicking Data &gt; New data source in the menu.</li>
<li>The primary data source is the database icon with the blue checkmark; the database icon with the orange check mark is the secondary source. Click on the secondary database icon in the Data pane to use fields from this source.</li>
<li>The orange link icon indicates the field on which the data sources are blended using. If the link icon is gray, click it to activate the blend.</li>
<li>Use fields from the secondary data source as you would in the primary data source.</li>
</ol>
<p>The following screenshot displays the Data pane once a successful blend has been made:</p>
<p class="CDPAlignCenter CDPAlign"><img src="img/23ec09cf-60ba-48b0-80d7-8057bd3d6a41.png" style="width:27.50em;height:32.08em;"/></p>
<p class="CDPAlignLeft CDPAlign">We have learned a tremendous amount of how to connect to, prepare, and join our data before analysis. In the next section, we will summarize what we have learned in this chapter.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Summary</h1>
                
            
            
                
<div><p class="public-DraftStyleDefault-block public-DraftStyleDefault-ltr">We have gone through some ways to model data in Tableau. At this stage, you know how to connect to a data source. You should also have seen how important the Data Source page is when it comes to modeling your data. You can make your life so much easier if you use many of the features that are available in this section.</p>
<p>The main takeaway for data modeling in Tableau is that it helps you prepare your workspace to answer questions using data. Taking the time to understand your business or project requirements will help you perform a better analysis. Tableau allows you to quickly connect to and build visualizations but the Data Source page should not be ignored. Tableau also adds extra features with new releases. In the next chapter, you will learn how to use the data that you have prepared to begin building your visualizations in order to share insights. </p>
</div>


            

            
        
    

        

                            
                    <h1 class="header-title">Questions</h1>
                
            
            
                
<p>Answer the following questions to test your knowledge of the information in this chapter. </p>
<p>1. To connect to multiple tables in multiple data sources, what must be specified?</p>
<p class="mce-root">a. A blend<br/>
b. A cross-database join<br/>
c. A join</p>
<p>A: b. A cross-database join</p>
<p class="mce-root">2. What types of joins are supported by Tableau?</p>
<p>A: Inner join, Left join, Right join and Full outer join</p>
<p class="mce-root">3. You can change the data types of fields in Tableau's Data Source page.<br/>
a. True<br/>
b. False</p>
<p>A: a. True</p>
<p>4. Tableau has a row limit.<br/>
a. True<br/>
b. False</p>
<p>A: b. False</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Further reading</h1>
                
            
            
                
<p>You can check out the following link for more information about the topics that were covered in this chapter:</p>
<ul>
<li>Full list of supported connectors (data sources Tableau can connect to): <a href="https://help.tableau.com/current/pro/desktop/en-gb/exampleconnections_overview.htm">https://help.tableau.com/current/pro/desktop/en-gb/exampleconnections_overview.htm</a>.</li>
</ul>


            

            
        
    </body></html>