- en: Preface
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In a world where data is becoming increasingly important, business people and
    scientists need tools to analyze and process large volumes of data efficiently.
    R is one of the tools that have become increasingly popular in recent years for
    data processing, statistical analysis, and data science. While R has its roots
    in academia, it is now used by organizations across a wide range of industries
    and geographical areas.
  prefs: []
  type: TYPE_NORMAL
- en: But the design of R imposes some inherent limits on the size of the data and
    the complexity of computations that it can manage efficiently. This can be a huge
    obstacle for R users who need to process the ever-growing volume of data in their
    organizations.
  prefs: []
  type: TYPE_NORMAL
- en: This book, *R High Performance Programming*, will help you understand the situations
    that often pose performance difficulties in R, such as memory and computational
    limits. It will also show you a range of techniques to overcome these performance
    limits. You can choose to use these techniques alone, or in various combinations
    that best fit your needs and your computing environment.
  prefs: []
  type: TYPE_NORMAL
- en: This book is designed to be a practical guide on how to improve the performance
    of R programs, with just enough explanation of why, so that you understand the
    reasoning behind each solution. As such, we will provide code examples for every
    technique that we cover in this book, along with performance profiling results
    that we generated on our machines to demonstrate the performance improvements.
    We encourage you to follow along by entering and running the code in your own
    environment to see the performance improvements for yourself.
  prefs: []
  type: TYPE_NORMAL
- en: If you would like to understand how R is designed and why it has performance
    limitations, the R Internals documentation ([http://cran.r-project.org/doc/manuals/r-release/R-ints.html](http://cran.r-project.org/doc/manuals/r-release/R-ints.html))
    will provide helpful clues.
  prefs: []
  type: TYPE_NORMAL
- en: This book is written based on open source R because it is the most widely used
    version of R and is freely available to anybody. If you are using a commercial
    version of R, check with your software vendor to see what performance improvements
    they might have made available to you.
  prefs: []
  type: TYPE_NORMAL
- en: The R community has created many new packages to improve the performance of
    R, which are available on the Comprehensive R Archive Network (CRAN) ([http://cran.r-project.org/](http://cran.r-project.org/)).
    We cannot analyze every package on CRAN—there are thousands of them—to see if
    they provide performance enhancements for specific operations. Instead, this book
    focuses on the most common tasks for R programmers and introduces techniques that
    you can use on any R project.
  prefs: []
  type: TYPE_NORMAL
- en: What this book covers
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: '[Chapter 1](ch01.html "Chapter 1. Understanding R''s Performance – Why Are
    R Programs Sometimes Slow?"), *Understanding R''s Performance – Why Are R Programs
    Sometimes Slow?*, kicks off our journey by taking a peek under R''s hood to explore
    the various ways in which R programs can hit performance limits. We will look
    at how R''s design sometimes creates performance bottlenecks in R programs in
    terms of computation (CPU), memory (RAM), and disk input/output (I/O).'
  prefs: []
  type: TYPE_NORMAL
- en: '[Chapter 2](ch02.html "Chapter 2. Profiling – Measuring Code''s Performance"),
    *Profiling – Measuring Code''s Performance*, introduces a few techniques that
    we will use throughout the book to measure the performance of R code, so that
    we can understand the nature of our performance problems.'
  prefs: []
  type: TYPE_NORMAL
- en: '[Chapter 3](ch03.html "Chapter 3. Simple Tweaks to Make R Run Faster"), *Simple
    Tweaks to Make R Run Faster*, describes how to improve the computational speed
    of R code. These are basic techniques that you can use in any R program.'
  prefs: []
  type: TYPE_NORMAL
- en: '[Chapter 4](ch04.html "Chapter 4. Using Compiled Code for Greater Speed"),
    *Using Compiled Code for Greater Speed*, explores the use of compiled code in
    another programming language such as C to maximize the performance of our computations.
    We will see how compiled code can perform faster than R, and look at how to integrate
    compiled code into our R programs.'
  prefs: []
  type: TYPE_NORMAL
- en: '[Chapter 5](ch05.html "Chapter 5. Using GPUs to Run R Even Faster"), *Using
    GPUs to Run R Even Faster*, brings us to the realm of modern accelerators by leveraging
    Graphics Processing Units (GPUs) to run complex computations at high speed.'
  prefs: []
  type: TYPE_NORMAL
- en: '[Chapter 6](ch06.html "Chapter 6. Simple Tweaks to Use Less RAM"), *Simple
    Tweaks to Use Less RAM*, describes the basic techniques to manage and optimize
    RAM utilization of your R programs to allow you to process larger datasets.'
  prefs: []
  type: TYPE_NORMAL
- en: '[Chapter 7](ch07.html "Chapter 7. Processing Large Datasets with Limited RAM"),
    *Processing Large Datasets with Limited RAM*, explains how to process datasets
    that are larger than the available RAM using memory-efficient data structures
    and disk resident data formats.'
  prefs: []
  type: TYPE_NORMAL
- en: '[Chapter 8](ch08.html "Chapter 8. Multiplying Performance with Parallel Computing"),
    *Multiplying Performance with Parallel Computing*, introduces parallelism in R.
    We will explore how to run code in parallel in R on a single machine and on multiple
    machines. We will also look at the factors that need to be considered in the design
    of our parallel code.'
  prefs: []
  type: TYPE_NORMAL
- en: '[Chapter 9](ch09.html "Chapter 9. Offloading Data Processing to Database Systems"),
    *Offloading Data Processing to Database Systems*, describes how certain computations
    can be offloaded to an external database system. This is useful to minimize Big
    Data movements in and out of the database, and especially when you already have
    access to a powerful database system with computational power and speed for you
    to leverage.'
  prefs: []
  type: TYPE_NORMAL
- en: '[Chapter 10](ch10.html "Chapter 10. R and Big Data"), *R and Big Data*, concludes
    the book by exploring the use of Big Data technologies to take R''s performance
    to the limit.'
  prefs: []
  type: TYPE_NORMAL
- en: 'If you are in a hurry, we recommend that you read the following chapters first,
    then supplement your reading with other chapters that are relevant for your situation:'
  prefs: []
  type: TYPE_NORMAL
- en: '[Chapter 1](ch01.html "Chapter 1. Understanding R''s Performance – Why Are
    R Programs Sometimes Slow?"), *Understanding R''s Performance – Why Are R Programs
    Sometimes Slow?*'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Chapter 2](ch02.html "Chapter 2. Profiling – Measuring Code''s Performance"),
    *Profiling – Measuring Code''s Performance*'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Chapter 3](ch03.html "Chapter 3. Simple Tweaks to Make R Run Faster"), *Simple
    Tweaks to Make R Run Faster*'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Chapter 6](ch06.html "Chapter 6. Simple Tweaks to Use Less RAM"), *Simple
    Tweaks to Use Less RAM*'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: What you need for this book
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: All the codes in this book were developed in R 3.1.1 64-bit on Mac OS X 10.9\.
    Wherever possible, they have also been tested on Ubuntu desktop 14.04 LTS and
    Windows 8.1\. All code examples can be downloaded from [https://github.com/r-high-performance-programming/rhpp-2015](https://github.com/r-high-performance-programming/rhpp-2015).
  prefs: []
  type: TYPE_NORMAL
- en: To follow along the code examples, we recommend you to install R 3.1.1 64-bit
    or a later version in your environment.
  prefs: []
  type: TYPE_NORMAL
- en: We also recommend you to run R in a Unix environment (this includes Linux and
    Mac OS X). While R runs on Windows, some packages that we will use, for example,
    "bigmemory" runs only in a Unix environment. Whenever there are differences between
    Unix and Windows in our code examples, we will indicate them.
  prefs: []
  type: TYPE_NORMAL
- en: You will need the 64-bit version of R, as certain operations (for example, creating
    a vector with 231 or more elements) are not possible in the 32-bit version. Also,
    the 64-bit version of R can make use of as much memory as is available on your
    system, whereas the 32-bit version is limited to not more than 4 GB of memory
    (on some operating systems, the limit can be as low as 2 GB).
  prefs: []
  type: TYPE_NORMAL
- en: You will also need to install packages in your R environment, as the examples
    in several chapters will depend on additional packages.
  prefs: []
  type: TYPE_NORMAL
- en: The examples in some chapters require other software or packages to run. These
    will be listed in the respective chapters along with installation instructions.
  prefs: []
  type: TYPE_NORMAL
- en: If you do not have access to some of the software and tools required for the
    examples, you can run them on Amazon Web Services (AWS). In particular, the examples
    in [Chapter 5](ch05.html "Chapter 5. Using GPUs to Run R Even Faster"), *Using
    GPUs to Run R Even Faster*, require a computer with an NVIDIA GPU with CUDA capabilities;
    those in [Chapter 9](ch09.html "Chapter 9. Offloading Data Processing to Database
    Systems"), *Offloading Data Processing to Database Systems*, require various database
    systems; and those in [Chapter 10](ch10.html "Chapter 10. R and Big Data"), *R
    and Big Data*, require Hadoop.
  prefs: []
  type: TYPE_NORMAL
- en: To use AWS, log in to [http://aws.amazon.com/](http://aws.amazon.com/) with
    your Amazon account. Create an account if you do not have one. Creating an account
    is free, but there are charges for using servers, storage, and other resources.
    Consult the AWS website for the latest prices in your preferred region.
  prefs: []
  type: TYPE_NORMAL
- en: AWS services are provided in different regions around the world. At the time
    of writing this book, there are eight regions—three in the United States, one
    in Europe, three in the Asia Pacific, and one in South America. Pick any region
    you like, such as the one closest to where you are or the one with the lowest
    prices. To select a region, go to AWS Console ([http://console.aws.amazon.com](http://console.aws.amazon.com))
    and select the region in the upper-right corner. Once you have selected a region,
    use the same region for all the AWS resources you need for the examples in this
    book.
  prefs: []
  type: TYPE_NORMAL
- en: 'Before setting up any compute resource, such as a server or Hadoop cluster,
    you need a key pair to log in to the server. If you do not already have an AWS
    Elastic Compute Cloud (EC2) key pair, follow these steps to generate one:'
  prefs: []
  type: TYPE_NORMAL
- en: Go to AWS Console and click on EC2.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Click on Key Pairs in the menu on the left.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Click on Create Key Pair.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Enter a name for the new key pair (for example, mykey).
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Once you click on Create, the private key (for example, mykey.pem) will be downloaded
    on your computer.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: On Linux and Mac OS X, change the permissions of the private key file to allow
    only the read access to the owner; this can be done with chmod 400 mykey.pem in
    a Terminal window.
  prefs: []
  type: TYPE_NORMAL
- en: Who this book is for
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'If you are already an R programmer and you want to find ways to improve the
    efficiency of your code, then this book is for you. While you need to be familiar
    with and comfortable using R, you do not need deep expertise in the language.
    The skills that you need to benefit from this book are:'
  prefs: []
  type: TYPE_NORMAL
- en: Installing, upgrading and running R on your computer
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Installing and upgrading CRAN packages within your R environment
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Creating and manipulating basic data structures like vectors, matrices, lists,
    and data frames
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Using and converting between different R data types
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Performing arithmetic, logical, and other basic R operations
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Using R control statements such as if, for, while, and repeat
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Writing R functions
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Plotting charts using R Graphics
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: If you are new to R and want to learn how to write R programs, there are many
    books, online courses, tutorials, and other resources available. Just search for
    them using your favorite search engine.
  prefs: []
  type: TYPE_NORMAL
- en: Conventions
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In this book, you will find a number of styles of text that distinguish among
    different kinds of information. Here are some examples of these styles, and an
    explanation of their meaning.
  prefs: []
  type: TYPE_NORMAL
- en: 'Code words in text, database table names, folder names, filenames, file extensions,
    pathnames, dummy URLs, user input, and Twitter handles are shown as follows: "To
    compile the function, we will use the `cmpfun()` function in the compiler package."'
  prefs: []
  type: TYPE_NORMAL
- en: 'A block of code is set as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: '**New terms** and **important words** are shown in bold. Words that you see
    on the screen, in menus or dialog boxes for example, appear in the text like this:
    "Be sure to select the **Package authoring installation** and **Edit the system
    PATH** options in the installation wizard."'
  prefs: []
  type: TYPE_NORMAL
- en: Note
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Warnings or important notes appear in a box like this.
  prefs: []
  type: TYPE_NORMAL
- en: Tip
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Tips and tricks appear like this.
  prefs: []
  type: TYPE_NORMAL
- en: Reader feedback
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Feedback from our readers is always welcome. Let us know what you think about
    this book—what you liked or may have disliked. Reader feedback is important for
    us to develop titles that you really get the most out of.
  prefs: []
  type: TYPE_NORMAL
- en: To send us general feedback, simply send an e-mail to `<[feedback@packtpub.com](mailto:feedback@packtpub.com)>`,
    and mention the book title via the subject of your message.
  prefs: []
  type: TYPE_NORMAL
- en: If there is a topic that you have expertise in and you are interested in either
    writing or contributing to a book, see our author guide on [www.packtpub.com/authors](http://www.packtpub.com/authors).
  prefs: []
  type: TYPE_NORMAL
- en: Customer support
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Now that you are the proud owner of a Packt book, we have a number of things
    to help you to get the most from your purchase.
  prefs: []
  type: TYPE_NORMAL
- en: Downloading the example code
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: You can download the example code files for all Packt books you have purchased
    from your account at [http://www.packtpub.com](http://www.packtpub.com). If you
    purchased this book elsewhere, you can visit [http://www.packtpub.com/support](http://www.packtpub.com/support)
    and register to have the files e-mailed directly to you.
  prefs: []
  type: TYPE_NORMAL
- en: Errata
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Although we have taken every care to ensure the accuracy of our content, mistakes
    do happen. If you find a mistake in one of our books—maybe a mistake in the text
    or the code—we would be grateful if you would report this to us. By doing so,
    you can save other readers from frustration and help us improve subsequent versions
    of this book. If you find any errata, please report them by visiting [http://www.packtpub.com/submit-errata](http://www.packtpub.com/submit-errata),
    selecting your book, clicking on the **errata** **submission** **form** link,
    and entering the details of your errata. Once your errata are verified, your submission
    will be accepted and the errata will be uploaded on our website, or added to any
    list of existing errata, under the Errata section of that title. Any existing
    errata can be viewed by selecting your title from [http://www.packtpub.com/support](http://www.packtpub.com/support).
  prefs: []
  type: TYPE_NORMAL
- en: Piracy
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Piracy of copyright material on the Internet is an ongoing problem across all
    media. At Packt, we take the protection of our copyright and licenses very seriously.
    If you come across any illegal copies of our works, in any form, on the Internet,
    please provide us with the location address or website name immediately so that
    we can pursue a remedy.
  prefs: []
  type: TYPE_NORMAL
- en: Please contact us at `<[copyright@packtpub.com](mailto:copyright@packtpub.com)>`
    with a link to the suspected pirated material.
  prefs: []
  type: TYPE_NORMAL
- en: We appreciate your help in protecting our authors, and our ability to bring
    you valuable content.
  prefs: []
  type: TYPE_NORMAL
- en: Questions
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: You can contact us at `<[questions@packtpub.com](mailto:questions@packtpub.com)>`
    if you are having a problem with any aspect of the book, and we will do our best
    to address it.
  prefs: []
  type: TYPE_NORMAL
