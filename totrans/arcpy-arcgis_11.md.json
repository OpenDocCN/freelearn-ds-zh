["```py\nimport arcpy\narcpy.CheckOutExtension(\"Network\")\nbusStops = r'C:\\Projects\\PacktDB.gdb\\Chapter11Results\\BusStops'\nnetworkDataset = r'C:\\Projects\\PacktDB.gdb\\Chapter11Results\\street_network'\nnetworkLayer = \"streetRoute\"\nimpedance = \"Length\"\nrouteFile = \"C:\\Projects\\Layer\\{0}.lyr\".format(networkLayer)\narcpy.MakeRouteLayer_na(networkDataset,\n networkLayer, impedance)\nprint 'layer created'\nsql = \"NAME = '71 IB' AND BUS_SIGNAG = 'Ferry Plaza'\"\nwith arcpy.da.SearchCursor(busStops,['SHAPE@', 'STOPID'],sql) as cursor:\n for row in cursor:\n stopShape = row[0]\n print row[1]\n arcpy.AddLocations_na(networkLayer,'Stops',stopShape, \"\", \"\") \n arcpy.Solve_na(networkLayer,\"SKIP\")\narcpy.SaveToLayerFile_management(networkLayer,routeLayerFile,\"RELATIVE\")\nprint 'finished'\n\n```", "```py\narcpy.CheckOutExtension(\"Network\")\n\n```", "```py\narcpy.MakeRouteLayer_na(networkDataset,\n networkLayer, impedance)\n\n```", "```py\nsql = \"NAME = '71 IB' AND BUS_SIGNAG = 'Ferry Plaza'\"\nwith arcpy.da.SearchCursor(busStops,['SHAPE@', 'STOPID'],sql) as cursor:\n for row in cursor:\n stopShape = row[0]\n print row[1]\n arcpy.AddLocations_na(networkLayer,'Stops',stopShape,\"\", \"\")\n\n```", "```py\n arcpy.Solve_na(networkLayer,\"SKIP\")\narcpy.SaveToLayerFile_management(networkLayer,routeLayerFile,\"RELATIVE\")\n\n```", "```py\nimport arcpy\narcpy.CheckOutExtension(\"Network\")\nbusStops = r'C:\\Projects\\SanFrancisco.gdb\\SanFrancisco\\Bus_Stops\nnetworkDataset = r'C:\\Projects\\SanFrancisco.gdb\\Chapter11Results\\street_network'\nnetworkLayer = \"streetRoute\"\nimpedance = \"Length\"\nrouteLayerFile = \"C:\\Projects\\Layer\\{0}_2.lyr\".format(networkLayer)arcpy.na.MakeRouteLayer(networkDataset, networkLayer,impedance)\nprint 'layer created'\nsql = \"NAME = '71 IB' AND BUS_SIGNAG = 'Ferry Plaza'\"\nwith arcpy.da.SearchCursor(busStops,['SHAPE@','STOPID'],sql) as cursor:\n for row in cursor:\n stopShape = row[0]\n print row[1]\n arcpy.na.AddLocations(networkLayer,'Stops', stopShape, \"\", \"\")\narcpy.na.Solve(networkLayer,\"SKIP\")\narcpy.management.SaveToLayerFile(networkLayer,routeLayerFile,\"RELATIVE\")\nprint 'finished'\n\n```", "```py\nimport arcpy\narcpy.CheckOutExtension(\"Spatial\")\nbusStops = r'C:\\Projects\\PacktDB.gdb\\SanFrancisco\\Bus_Stops'\nsanFranciscoHoods = r'C:\\Projects\\PacktDB.gdb\\SanFrancisco\\SFFind_Neighborhoods'\nsfElevation = r'C:\\Projects\\PacktDB.gdb\\sf_elevation'\nsomaGeometry = []\nsql = \"name = 'South of Market'\"\nwith arcpy.da.SearchCursor(sanFranciscoHoods,['SHAPE@XY'],sql,None, True) as cursor:\n for row in cursor:\n X = row[0][0]\n Y = row[0][1]\n somaGeometry.append(arcpy.Point(X,Y))\nsomaElev = arcpy.sa.ExtractByPolygon(sfElevation,somaGeometry,\"INSIDE\")\nsomaOutPath = sfElevation.replace('sf_elevation','SOMA_elev')\nsomaElev.save(somaOutPath)\nprint 'extraction finished'\n\n```", "```py\nsomaOutPath = sfElevation.replace('sf_elevation','SOMA_elev')\noutTimes = arcpy.sa.Times(somaOutPath, 3.28084)\nsomaFeetOutPath = sfElevation.replace('sf_elevation','SOMA_feet')\noutTimes.save(somaFeetOutPath)\n\n```", "```py\nwith arcpy.da.SearchCursor(sanFranciscoHoods,['SHAPE@'],sql) as cursor:\n for row in cursor:\n somaPoly = row[0]\narcpy.MakeFeatureLayer_management(busStops, 'soma_stops')\narcpy.SelectLayerByLocation_management(\"soma_stops\", \"INTERSECT\",somaPoly)\noutStops = r'C:\\Projects\\PacktDB.gdb\\Chapter11Results\\SoMaStops'\narcpy.sa.ExtractValuesToPoints(\"soma_stops\", somaOutFeet,outStops,\"INTERPOLATE\",\"VALUE_ONLY\")\nprint 'points generated'\n\n```", "```py\nimport arcpy\narcpy.CheckOutExtension(\"Spatial\")\narcpy.env.overwriteOutput = True\nbusStops = r'C:\\Projects\\PacktDB.gdb\\SanFrancisco\\Bus_Stops'\nsanFranciscoHoods = r'C:\\Projects\\SanFrancisco.gdb\\SanFrancisco\\SFFind_Neighborhoods'\nsfElevation = r'C:\\Projects\\SanFrancisco.gdb\\sf_elevation'\n\nsomaGeometry = []\nsql = \"name = 'South of Market'\"\nwith arcpy.da.SearchCursor(sanFranciscoHoods,['SHAPE@XY'],sql,None, True) as cursor:\n for row in cursor:\n somaGeometry.append(arcpy.Point(row[0][0],row[0][1]))\nsomaElev = arcpy.sa.ExtractByPolygon(sfElevation, somaGeometry,\"INSIDE\")\nsomaOutput = sfElevation.replace('sf_elevation','SOMA_elev')\nsomaElev.save(somaOutput)\nprint 'extraction finished'\n\nsomaOutput = sfElevation.replace('sf_elevation','SOMA_elev')\noutTimes = arcpy.sa.Times(somaOutput, 3.28084)\nsomaOutFeet = sfElevation.replace('sf_elevation','SOMA_feet')\noutTimes.save(somaOutFeet)\nprint 'conversion complete'\n\nwith arcpy.da.SearchCursor(sanFranciscoHoods,['SHAPE@'],sql) as cursor:\n for row in cursor:\n somaPoly = row[0]\n\narcpy.MakeFeatureLayer_management(busStops, 'soma_stops')\narcpy.SelectLayerByLocation_management(\"soma_stops\", \"INTERSECT\",somaPoly)\n\noutStops = r'C:\\Projects\\SanFrancisco.gdb\\Chapter11Results\\SoMaStops'\narcpy.sa.ExtractValuesToPoints(\"soma_stops\", somaOutFeet,outStops,\"INTERPOLATE\",\"VALUE_ONLY\")\nprint 'points generated'\n\n```"]