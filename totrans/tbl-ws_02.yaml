- en: '2\. Data Preparation: Using Tableau Desktop'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 2. 数据准备：使用 Tableau Desktop
- en: Overview
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 概述
- en: In this chapter, you will learn to use various tools for data preparation in
    Tableau Desktop and join different data sources using various options. This will
    equip you with the knowledge required to perform data manipulation activities,
    data transformation, and data blending, and provide options to manage various
    data sources. By the end of this chapter, you will be able to extract and filter
    data and use aliases for the clean presentation of data.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，你将学习如何使用 Tableau Desktop 中的各种数据准备工具，并使用各种选项连接不同的数据源。这将使你具备执行数据操作活动、数据转换和数据混合以及管理各种数据源所需的知识。到本章结束时，你将能够提取和过滤数据，并为数据的整洁展示使用别名。
- en: Introduction
  id: totrans-3
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 简介
- en: Often, the data sources required for Tableau visualizations are stored in separate
    tables or files. A very common example is that of an online order on an e-commerce
    website. The order information and the customer information are stored separately
    within the website database. However, when suggestions are provided based on previous
    purchases, the website might combine the information to show a unified view. This
    is a very simple example of a data join, which is one of the most common scenarios
    that can be fulfilled using data preparation techniques. In addition to data joining,
    there is often a need to perform data manipulation activities such as grouping
    and adding calculations on the data being used. In this chapter, you will learn
    about using all such techniques to pull the data into Tableau for effective analysis
    and visualization.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 通常，用于 Tableau 可视化的数据源存储在单独的表或文件中。一个非常常见的例子是在电子商务网站上在线订购。订单信息和客户信息在网站数据库中分别存储。然而，当基于之前的购买提供建议时，网站可能会合并信息以显示统一视图。这是一个数据连接的简单示例，这是可以使用数据准备技术实现的最常见场景之一。除了数据连接外，通常还需要执行数据操作活动，如对使用的数据进行分组和添加计算。在本章中，你将学习如何使用所有这些技术将数据拉入
    Tableau 以进行有效的分析和可视化。
- en: Connecting to a Data Source
  id: totrans-5
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 连接到数据源
- en: For any visualization, you need to have an underlying data source that contains
    all the information you wish to show. This is the first step of any data visualization
    task.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 对于任何可视化，你需要有一个包含你希望显示的所有信息的底层数据源。这是任何数据可视化任务的第一步。
- en: 'The very first thing that you will see when you open Tableau Desktop is the
    `Connect` pane. Here, you can connect to a variety of data sources and perform
    various tasks related to data handling, which you will study in this chapter.
    The following figure shows the screen that comes up when you start Tableau Desktop:'
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 当你打开 Tableau Desktop 时，首先看到的是 `连接` 面板。在这里，你可以连接到各种数据源并执行与数据处理相关的各种任务，这些内容你将在本章学习。以下图显示了启动
    Tableau Desktop 时出现的屏幕：
- en: '![Figure 2.1: Start screen on launching Tableau Desktop'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 2.1：启动 Tableau Desktop 的起始屏幕](img/B16342_02_01.jpg)'
- en: '](img/B16342_02_01.jpg)'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: '![img/B16342_02_01.jpg](img/B16342_02_01.jpg)'
- en: 'Figure 2.1: Start screen on launching Tableau Desktop'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 图 2.1：启动 Tableau Desktop 的起始屏幕
- en: 'Depending on the version, this screen might look slightly different, but it
    should remain this way for the most part: you can observe that you can connect
    to multiple file options such as Excel, text, and JSON files. You can also connect
    to server-based data sources such as MySQL and Oracle. `Saved Data Sources` provides
    sample data sources that are available with Tableau Desktop.'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 根据版本的不同，这个屏幕可能看起来略有不同，但大部分应该保持这种方式：你可以观察到你可以连接到多种文件选项，如 Excel、文本和 JSON 文件。你还可以连接到基于服务器的数据源，如
    MySQL 和 Oracle。`已保存的数据源` 提供了与 Tableau Desktop 一起可用的示例数据源。
- en: In the following exercise, you will connect to an Excel file named `Sample -
    Superstore`, which is available with Tableau Desktop. This file contains an `Orders`
    sheet, which consists of information for various orders, based on attributes such
    as order ID, order category, ship mode, and customer details. It also has a `Returns`
    sheet, which consists of orders that were returned. You will use all of this data
    to perform various operations throughout this chapter, and visualize the data
    in Tableau Desktop.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 在接下来的练习中，你将连接到一个名为 `Sample - Superstore` 的 Excel 文件，该文件与 Tableau Desktop 一起提供。该文件包含一个
    `Orders` 工作表，其中包含基于订单 ID、订单类别、运输方式和客户详情等属性的订单信息。它还有一个 `Returns` 工作表，其中包含已退回的订单。你将使用所有这些数据在本章中进行各种操作，并在
    Tableau Desktop 中可视化数据。
- en: 'Exercise 2.01: Connecting to an Excel File'
  id: totrans-13
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 练习 2.01：连接到 Excel 文件
- en: In this exercise, you will connect to your very first data source in Tableau,
    the `Sample - Superstore` Excel file. This file is automatically accessible to
    you if you have installed Tableau as mentioned in *Chapter 1*, *Introduction to
    Tableau*. It contains three sheets, comprising order-level information stored
    in the `Orders` sheet, customer information stored in the `People` sheet, and
    order returns stored in the `Returns` sheet, and can be quickly downloaded from
    the GitHub repository for this chapter at [https://packt.link/14u86](https://packt.link/14u86).
    Make sure to download this file on your system before proceeding with the exercise.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个练习中，你将在Tableau中连接到你的第一个数据源，即`Sample - Superstore` Excel文件。如果你已经按照*第1章*，*Tableau简介*中提到的安装了Tableau，那么这个文件将自动对你可用。它包含三个工作表，包括存储在`Orders`工作表中的订单级别信息，存储在`People`工作表中的客户信息，以及存储在`Returns`工作表中的订单退货信息，并且可以从本章的GitHub存储库中快速下载[https://packt.link/14u86](https://packt.link/14u86)。在继续练习之前，请确保在你的系统上下载此文件。
- en: 'Perform the following steps to complete this exercise:'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 执行以下步骤以完成此练习：
- en: Under the `Connect` pane, select the `Microsoft Excel` option.
  id: totrans-16
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在`Connect`面板下，选择`Microsoft Excel`选项。
- en: '![Figure 2.2: Connecting to Microsoft Excel'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: '![图2.2：连接到Microsoft Excel'
- en: '](img/B16342_02_02.jpg)'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_02_02.jpg)'
- en: 'Figure 2.2: Connecting to Microsoft Excel'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.2：连接到Microsoft Excel
- en: 'This will open up the file menu where you can select the Excel file from the
    file explorer. Navigate to the location where you have saved this file locally
    and then select to open the `Sample-Superstore.xls` file. You will see the following
    screen once the file is loaded:'
  id: totrans-20
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 这将打开文件菜单，你可以从文件资源管理器中选择Excel文件。导航到你本地保存此文件的位置，然后选择打开`Sample-Superstore.xls`文件。文件加载后，你会看到以下屏幕：
- en: '![ Figure 2.3: File import screen'
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: '![图2.3：文件导入屏幕'
- en: '](img/B16342_02_03.jpg)'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_02_03.jpg)'
- en: 'Figure 2.3: File import screen'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.3：文件导入屏幕
- en: 'Hover over the table to get the `View data` option (as highlighted in the following
    figure) and preview the data:'
  id: totrans-24
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将鼠标悬停在表格上以获取`View data`选项（如图所示）并预览数据：
- en: '![Figure 2.4: View data for the underlying sheet'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: '![图2.4：查看底层工作表的数据'
- en: '](img/B16342_02_04.jpg)'
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_02_04.jpg)'
- en: 'Figure 2.4: View data for the underlying sheet'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.4：查看底层工作表的数据
- en: 'The following figure shows the data preview:'
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 以下图显示了数据预览：
- en: '![Figure 2.5: View Data window showing the data preview'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: '![图2.5：显示数据预览的查看数据窗口'
- en: '](img/B16342_02_05.jpg)'
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_02_05.jpg)'
- en: 'Figure 2.5: View Data window showing the data preview'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.5：显示数据预览的查看数据窗口
- en: Now, drag the `Orders` sheet onto the `Drag sheets here` area. This is also
    known as the canvas.
  id: totrans-32
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，将`Orders`工作表拖放到`Drag sheets here`区域。这也被称为画布。
- en: 'The sheet should now have been imported into Tableau. Preview the data, as
    shown in the following figure:'
  id: totrans-33
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，工作表应该已经导入到Tableau中。预览数据，如图所示：
- en: '![Figure 2.6: Data preview of the imported sheet'
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: '![图2.6：导入工作表的数据预览'
- en: '](img/B16342_02_06.jpg)'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: '![img/B16342_02_06.jpg]'
- en: 'Figure 2.6: Data preview of the imported sheet'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.6：导入工作表的数据预览
- en: You have thus connected and imported the data in Tableau.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，你已经连接并导入了Tableau中的数据。
- en: Hovering over `Sheet 1`, you can see the active `Go to Worksheet` option, which
    means that you can navigate to `Sheet 1` and start creating visualizations.
  id: totrans-38
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将鼠标悬停在`Sheet 1`上，你可以看到激活的`Go to Worksheet`选项，这意味着你可以导航到`Sheet 1`并开始创建可视化。
- en: '![Figure 2.7: Go to Worksheet popup'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: '![图2.7：转到工作表弹出窗口'
- en: '](img/B16342_02_07.jpg)'
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_02_07.jpg)'
- en: 'Figure 2.7: Go to Worksheet popup'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.7：转到工作表弹出窗口
- en: Once the data is imported, you can start the visualization development by clicking
    on that option, as you will see later in the course.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 数据导入后，你可以通过点击该选项开始可视化开发，正如你将在课程中看到的。
- en: In this exercise, you saw how you can connect to an Excel file. Tableau also
    allows you to connect to data that is stored on servers. In the next section,
    you will learn how this can be done.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个练习中，你看到了如何连接到Excel文件。Tableau还允许你连接到存储在服务器上的数据。在下一节中，你将学习如何做到这一点。
- en: Connecting to a Server Data Source
  id: totrans-44
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 连接到服务器数据源
- en: Here, you will be connecting with Microsoft SQL Server, available under the
    server-based data sources. Note that the concept of installing and maintaining
    server-based data sources is beyond the scope of this chapter. However, ideally,
    in a business project, data would mostly be stored on servers. For this reason,
    it is important to know how to connect to these data sources.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 这里，你将与服务器数据源中的Microsoft SQL Server连接。请注意，安装和维护基于服务器的数据源的概念超出了本章的范围。然而，理想情况下，在一个商业项目中，数据大多存储在服务器上。因此，了解如何连接到这些数据源非常重要。
- en: 'The following steps will help you connect to a server-based data source:'
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 以下步骤将帮助你连接到基于服务器的数据源：
- en: 'Under the `Connect` pane, select the `Microsoft SQL Server` option, as can
    be seen in the following figure:'
  id: totrans-47
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在“连接”面板下，选择“Microsoft SQL Server”选项，如图所示：
- en: '![Figure 2.8: Server connection input screen'
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: '![图2.8：服务器连接输入屏幕'
- en: '](img/B16342_02_08.jpg)'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_02_08.jpg)'
- en: 'Figure 2.8: Server connection input screen'
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.8：服务器连接输入屏幕
- en: Here, you need to enter the information required, such as the server name and
    the authentication method. These details would be available from your database administrator.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 这里，你需要输入所需的信息，例如服务器名称和认证方法。这些详细信息可以从你的数据库管理员那里获得。
- en: Click `Sign In`. You will get a similar preview screen as you saw in *Figure
    2.5*. All the steps afterward are the same as you do for an Excel-based connection.
  id: totrans-52
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击“登录”。你将获得与*图2.5*中看到的类似预览屏幕。之后的步骤与Excel连接时的步骤相同。
- en: Note
  id: totrans-53
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意
- en: One of the most commonly occurring issues here is that sometimes the drivers
    to connect to the data source are not installed. This can be easily resolved by
    downloading and installing the drivers from [https://www.tableau.com/support/drivers](https://www.tableau.com/support/drivers).
  id: totrans-54
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 这里最常见的问题之一是，有时连接到数据源的驱动程序没有安装。这可以通过从[https://www.tableau.com/support/drivers](https://www.tableau.com/support/drivers)下载和安装驱动程序来轻松解决。
- en: In this section, you connected to a server-based data source. The next section
    covers the different kinds of joins in Tableau to combine the data from multiple
    data sources.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，你连接到了基于服务器的数据源。下一节将介绍Tableau中不同类型的连接，以结合来自多个数据源的数据。
- en: Various Joins in Tableau
  id: totrans-56
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Tableau中的各种连接
- en: Quite often, the data that you're using will be stored as separate tables for
    efficiency purposes. There might be some fields that are common between tables
    and can be used to join the data sources together.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 很常见的情况是，你使用的数据将作为单独的表存储以提高效率。可能有一些字段在表中是共同的，可以用来连接数据源。
- en: For example, suppose you, as a bank loan manager, would like to evaluate the
    best-suited customer profiles for granting a loan. Here, based on the customer-provided
    information, such as salary details and work experience, you would also need to
    access their financial history information, such as previous loans, outstanding
    loans, or any defaults. This kind of information can be fetched from their Experian
    score using the customer PAN as common information between the various data sources.
    This is how joins are commonly used in a lot of daily scenarios. You will learn
    about these joins and the different types in Tableau.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，假设你是一名银行贷款经理，想要评估最适合贷款的客户档案。在这里，基于客户提供的资料，例如薪资详情和工作经验，你还需要获取他们的财务历史信息，如之前的贷款、未偿还贷款或任何违约情况。这类信息可以通过使用客户PAN作为不同数据源之间的共同信息，从他们的Experian评分中获取。这就是在许多日常场景中通常如何使用连接。你将在Tableau中学习这些连接及其不同类型。
- en: Different Types of Joins
  id: totrans-59
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 连接类型
- en: 'Tableau offers four types of joins, which are listed as follows:'
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: Tableau提供四种类型的连接，如下所示：
- en: '**Inner**: In an inner join between two tables, you can combine only the values
    that match among the two tables into the resulting table. For example, consider
    the following tables. When you join table A and table B using an inner join, only
    the common values will be a part of the resulting table:'
  id: totrans-61
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**内部**：在两个表之间的内部连接中，你只能将两个表中匹配的值组合到结果表中。例如，考虑以下表。当你使用内部连接将表A和表B连接起来时，只有公共值将作为结果表的一部分：'
- en: '![Figure 2.9: Inner Join Between Tables A and B'
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: '![图2.9：表A和表B之间的内部连接'
- en: '](img/B16342_02_09.jpg)'
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_02_09.jpg)'
- en: 'Figure 2.9: Inner Join Between Tables A and B'
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.9：表A和表B之间的内部连接
- en: '**Left**: A left join combines all the values from the left table along with
    only the matching values from the right table. If there are no matching values,
    those rows will contain null values in the resulting table. In the following example,
    when you join table A and table B using a left join, all the values from table
    A and only the common values of table B will be a part of the resulting table:'
  id: totrans-65
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**左连接**：左连接将左表的所有值与右表匹配的值结合起来。如果没有匹配的值，这些行将在结果表中包含空值。在以下示例中，当你使用左连接将表A和表B连接起来时，表A的所有值和表B的公共值将包含在结果表中：'
- en: '![Figure 2.10: Left Join Between Tables A and B'
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: '![图2.10：表A和表B的左连接'
- en: '](img/B16342_02_10.jpg)'
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片](img/B16342_02_10.jpg)'
- en: 'Figure 2.10: Left Join Between Tables A and B'
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.10：表A和表B的左连接
- en: '**Right**: This is the opposite of the left join. A right join combines all
    the values from the right table along with only the matching values from the left
    table. If there are no matching values, those rows will contain null values in
    the resulting table. Consider the following tables. When you join table A and
    table B using a right join, all the values from table B and only the common value
    from table A will be part of the resulting table:'
  id: totrans-69
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**右连接**：这是左连接的相反。右连接将右表的所有值与左表匹配的值结合起来。如果没有匹配的值，这些行将在结果表中包含空值。考虑以下表格。当你使用右连接将表A和表B连接起来时，表B的所有值和表A的公共值将包含在结果表中：'
- en: '![Figure 2.11: Right Join Between Tables A and B'
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: '![图2.11：表A和表B的右连接'
- en: '](img/B16342_02_11.jpg)'
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片](img/B16342_02_11.jpg)'
- en: 'Figure 2.11: Right Join Between Tables A and B'
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.11：表A和表B的右连接
- en: '**Full outer**: In a full outer join between two tables, you can combine all
    the values from the left and right tables into one resulting table. If values
    don''t match in any of the tables, those rows will contain null values in the
    resulting table.'
  id: totrans-73
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**全外连接**：在两个表的全外连接中，你可以将左表和右表的所有值合并到一个结果表中。如果任何表中的值不匹配，这些行将在结果表中包含空值。'
- en: 'Consider the following tables. Here, when you join table A and table B using
    an inner join, only the common values will be a part of the resulting table:'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 考虑以下表格。在这里，当你使用内连接将表A和表B连接起来时，只有公共值将包含在结果表中：
- en: '![Figure 2.12: Full Outer Join Between Tables A and B'
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: '![图2.12：表A和表B的全外连接'
- en: '](img/B16342_02_12.jpg)'
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片](img/B16342_02_12.jpg)'
- en: 'Figure 2.12: Full Outer Join Between Tables A and B'
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.12：表A和表B的全外连接
- en: '**Union**: In a union, you combine two or more tables with similar column structures
    into a single resulting table. Union is performed when instead of joining you
    just want to append the data below other data with similar columns. A very common
    example of union is when you have two tables containing similar columns but maintained
    separately in different years, for example, combining order information for multiple
    years into a consolidated dataset.'
  id: totrans-78
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**并集**：在并集中，你将具有相似列结构的两个或多个表合并成一个单一的结果表。并集是在你只想将数据追加到具有相似列的其他数据下方而不是进行连接时执行的。并集的一个非常常见的例子是当你有两个包含相似列但分别在不同年份维护的表时，例如，将多年订单信息合并到一个综合数据集中。'
- en: 'Consider the following tables, for example. Here, when you create a union of
    tables A and A1, you get a single table that will contain values for both A and
    A1:'
  id: totrans-79
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 考虑以下表格，例如。在这里，当你创建表A和A1的并集时，你会得到一个包含A和A1两个表值的单一表：
- en: '![Figure 2.13: Union Between Tables A and B'
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: '![图2.13：表A和表B的并集'
- en: '](img/B16342_02_13.jpg)'
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片](img/B16342_02_13.jpg)'
- en: 'Figure 2.13: Union Between Tables A and B'
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.13：表A和表B的并集
- en: You will learn more about these join types in detail in the following exercises.
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 你将在以下练习中详细了解这些连接类型。
- en: 'Exercise 2.02: Creating an Inner Join Dataset'
  id: totrans-84
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 练习2.02：创建内连接数据集
- en: As an analyst, you might come across scenarios in which you need to display
    the common records between two tables. This exercise aims to show how to join
    two different sheets into a single data source in Tableau.
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 作为一名分析师，你可能会遇到需要显示两个表之间公共记录的场景。本练习旨在展示如何在Tableau中将两个不同的工作表合并成一个单一的数据源。
- en: You will join the `Orders` table with the `People` table using an inner join.
    By doing so, you will be able to identify the customer records present in the
    `People` table along with the order information from the `Orders` table, which
    will help you to understand customers' buying preferences.
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 你将使用内连接将`Orders`表与`People`表连接起来。通过这样做，你将能够识别出`People`表中的客户记录以及`Orders`表中的订单信息，这将帮助你了解客户的购买偏好。
- en: 'Perform the following steps to complete this exercise:'
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 执行以下步骤以完成此练习：
- en: Load the `Sample – Superstore` dataset into your Tableau instance as you did
    in *Exercise 2.01*.
  id: totrans-88
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 按照与 *练习 2.01* 中相同的方式将 `Sample – Superstore` 数据集加载到您的 Tableau 实例中。
- en: 'Drag the `Orders` table first, followed by the `People` table, from the `Sheets`
    area to the `Drag Sheets here` area. Alternatively, to add these sheets, you can
    double-click on them, and they will be added automatically to the canvas area.
    Tableau will auto-join the two tables using an inner join, as shown in the following
    figure:'
  id: totrans-89
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 首先将 `Orders` 表从 `Sheets` 区域拖到 `Drag Sheets here` 区域，然后是 `People` 表。或者，要添加这些表，您可以双击它们，它们将自动添加到画布区域。Tableau
    将使用内连接自动连接这两个表，如图所示：
- en: '![Figure 2.14: Data joining using an inner join'
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 2.14：使用内连接进行数据连接'
- en: '](img/B16342_02_14.jpg)'
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片 B16342_02_14.jpg]'
- en: 'Figure 2.14: Data joining using an inner join'
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 图 2.14：使用内连接进行数据连接
- en: 'Click on the `Join` symbol to open the `Join` menu:'
  id: totrans-93
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击 `Join` 符号打开 `Join` 菜单：
- en: '![Figure 2.15: Inner join properties'
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 2.15：内连接属性'
- en: '](img/B16342_02_15.jpg)'
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片 B16342_02_15.jpg]'
- en: 'Figure 2.15: Inner join properties'
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 图 2.15：内连接属性
- en: 'Note the various ways to join data. By default, Tableau performs an inner join
    on the common field names:'
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 注意连接数据的不同方式。默认情况下，Tableau 在公共字段名称上执行内连接：
- en: '![Figure 2.16: Various join options'
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 2.16：各种连接选项'
- en: '](img/B16342_02_16.jpg)'
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片 B16342_02_16.jpg]'
- en: 'Figure 2.16: Various join options'
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 图 2.16：各种连接选项
- en: Note
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: 'These instructions and images are based on Tableau version 2020.1\. If you
    are using a later version of Tableau, such as 2021.4, this process may look quite
    different and even require an extra step. You can find additional guidance for
    this at the following URL: [https://help.tableau.com/v2021.4/pro/desktop/en-gb/datasource_relationships_learnmorepage.htm](https://help.tableau.com/v2021.4/pro/desktop/en-gb/datasource_relationships_learnmorepage.htm)'
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 这些说明和图像基于 Tableau 版本 2020.1。如果您使用的是 Tableau 的后续版本，例如 2021.4，此过程可能看起来相当不同，甚至可能需要额外步骤。您可以在以下
    URL 找到有关此内容的额外指导：[https://help.tableau.com/v2021.4/pro/desktop/en-gb/datasource_relationships_learnmorepage.htm](https://help.tableau.com/v2021.4/pro/desktop/en-gb/datasource_relationships_learnmorepage.htm)
- en: 'If there are no common names, select the columns manually to enable the join.
    Since you are joining the `Orders` and `People` tables, join on `Customer Name`
    from `Orders` and `Person` from `People`. First, de-select `Region`, which is
    auto-selected by Tableau. To do this, click on `Region` and select `Customer Name`
    from the dropdown, as you can see in the following figure:'
  id: totrans-103
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果没有公共名称，请手动选择列以启用连接。由于您正在连接 `Orders` 和 `People` 表，请在 `Orders` 中选择 `Customer
    Name` 列，在 `People` 中选择 `Person` 列进行连接。首先，取消选择 Tableau 自动选择的 `Region`，为此，请点击 `Region`
    并从下拉菜单中选择 `Customer Name`，如图所示：
- en: '![Figure 2.17: Changing the join column'
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 2.17：更改连接列'
- en: '](img/B16342_02_17.jpg)'
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片 B16342_02_17.jpg]'
- en: 'Figure 2.17: Changing the join column'
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 图 2.17：更改连接列
- en: '![Figure 2.18: Final result of the inner join'
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 2.18：内连接的最终结果'
- en: '](img/B16342_02_18.jpg)'
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片 B16342_02_18.jpg]'
- en: 'Figure 2.18: Final result of the inner join'
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 图 2.18：内连接的最终结果
- en: 'Repeat the same for the `People` table and select `Person` as the joining column.
    Your joined columns should be as follows:'
  id: totrans-110
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对 `People` 表重复相同的操作，并选择 `Person` 作为连接列。您的连接列应如下所示：
- en: '![Figure 2.19: Data preview of the Order and People tables'
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 2.19：订单和人员表的预览数据'
- en: '](img/B16342_02_19.jpg)'
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片 B16342_02_19.jpg]'
- en: 'Figure 2.19: Data preview of the Order and People tables'
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 图 2.19：订单和人员表的预览数据
- en: Now it's time to validate the results. This can be observed in the data grid
    screen in the bottom section.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 现在是验证结果的时候了。这可以在底部区域的网格屏幕中观察到。
- en: You can see that you get only `58` rows in the joined dataset. Here, only the
    values from the `Orders` table's `Customer Name` column that match with values
    from the `People` table's `Person` column will be returned in the final dataset.
    Since the `Person` table has only four values, only those values from the `Customer
    Name` column that match these four are returned from the `Orders` table.
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以看到连接数据集中只有 `58` 行。在这里，只有与 `People` 表的 `Person` 列匹配的 `Orders` 表的 `Customer
    Name` 列的值将返回到最终数据集中。由于 `Person` 表只有四个值，因此只有与这四个值匹配的 `Customer Name` 列的值将从 `Orders`
    表中返回。
- en: In this exercise, you used inner join and analyzed the results returned by using
    this join type. Next, you will learn about the left join type.
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 在此练习中，您使用了内连接并分析了使用此连接类型返回的结果。接下来，您将了解左连接类型。
- en: 'Exercise 2.03: Creating a Left Join Dataset'
  id: totrans-117
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 练习 2.03：创建左连接数据集
- en: 'In this exercise, you will join the `Orders` table with the `People` table
    in a left join. The objective of the left join is to verify how much customer
    information is present in the `People` table. This will help identify and update
    the `People` table so that you can expand the customer database, to drive better
    sales:'
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个练习中，你将使用左连接将`Orders`表与`People`表连接起来。左连接的目标是验证`People`表中存在多少客户信息。这将帮助你识别和更新`People`表，以便你可以扩展客户数据库，从而推动更好的销售：
- en: '![Figure 2.20: Join screen for the Orders and People tables'
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: '![图2.20：订单和人员表的连接界面'
- en: '](img/B16342_02_20.jpg)'
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片 B16342_02_20.jpg]'
- en: 'Figure 2.20: Join screen for the Orders and People tables'
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.20：订单和人员表的连接界面
- en: 'Repeat the same step from the previous exercise of dragging the `Orders` and
    `People` tables to the canvas. Once done, you should see the join options, as follows:'
  id: totrans-122
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 重复上一个练习中的步骤，将`Orders`和`People`表拖到画布上。完成后，你应该会看到以下连接选项：
- en: 'Change the join type to `Left`:'
  id: totrans-123
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将连接类型更改为`Left`：
- en: '![Figure 2.21: Selecting the Left join'
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: '![图2.21：选择左连接'
- en: '](img/B16342_02_21.jpg)'
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片 B16342_02_21.jpg]'
- en: 'Figure 2.21: Selecting the Left join'
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.21：选择左连接
- en: 'Now, in the data preview (as shown in the following figure), scroll toward
    the right side. You will see two columns from the `People` table, `Person` and
    `Region`. Use the `Sort` icon to sort the values, as highlighted in the following figure:'
  id: totrans-127
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，在数据预览（如图所示），向右滚动。你会看到来自`People`表的两个列，`Person`和`Region`。使用`排序`图标对值进行排序，如图所示：
- en: '![Figure 2.22: Analyzing the left join results'
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: '![图2.22：分析左连接结果'
- en: '](img/B16342_02_22.jpg)'
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片 B16342_02_22.jpg]'
- en: 'Figure 2.22: Analyzing the left join results'
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.22：分析左连接结果
- en: Scroll down to see what happens if the `Customer` names do not match any values
    in the `Person` column.
  id: totrans-131
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 滚动以查看如果`Customer`名称与`Person`列中的任何值不匹配会发生什么。
- en: '![Figure 2.23: Nulls in the join result'
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: '![图2.23：连接结果中的空值'
- en: '](img/B16342_02_23.jpg)'
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片 B16342_02_23.jpg]'
- en: 'Figure 2.23: Nulls in the join result'
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.23：连接结果中的空值
- en: You will observe that the rows where a match is not found are replaced by a
    `null` value, which means the `Person` table does not contain information for
    these customers. This means that you can add this customer information to the
    `People` table to improve the data quality.
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 你会观察到没有找到匹配的行会被替换为一个`null`值，这意味着`Person`表不包含这些客户的信息。这意味着你可以将此客户信息添加到`People`表中以提高数据质量。
- en: In this exercise, you learned how to perform a left join and how data is matched
    between the two tables. Next, you will learn about the right join type.
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个练习中，你学习了如何执行左连接以及两个表之间如何匹配数据。接下来，你将了解右连接类型。
- en: 'Exercise 2.04: Creating a Right Join Dataset'
  id: totrans-137
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 练习2.04：创建右连接数据集
- en: In this exercise, you will join the `Orders` table with the `People` table in
    a right join. Consider a scenario wherein the `People` table consists of all the
    customers who have previously bought your company's products, and you want to
    fetch a complete list of the products a customer has bought, using information
    from the `Orders` table. This will help you understand the buying habits of customers
    based on their past purchases.
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个练习中，你将使用右连接将`Orders`表与`People`表连接起来。考虑一个场景，其中`People`表包含所有之前购买过你公司产品的客户，你希望通过`Orders`表中的信息获取客户购买产品的完整列表。这将帮助你根据客户的过去购买了解他们的购买习惯。
- en: 'The steps to complete this exercise are as follows:'
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 完成此练习的步骤如下：
- en: 'Drag the `Orders` and `People` tables similar to how you did in the previous
    exercises so that you can see the following on your screen:'
  id: totrans-140
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将`Orders`和`People`表拖动到画布上，与上一个练习中的方法类似，以便你可以在屏幕上看到以下内容：
- en: '![Figure 2.24: Join screen for the Orders and People tables'
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: '![图2.24：订单和人员表的连接界面'
- en: '](img/B16342_02_24.jpg)'
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片 B16342_02_24.jpg]'
- en: 'Figure 2.24: Join screen for the Orders and People tables'
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.24：订单和人员表的连接界面
- en: 'Select the `Right` join, as shown in the following figure:'
  id: totrans-144
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择如图所示的`Right`连接：
- en: '![Figure 2.25: Selecting the Right join'
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: '![图2.25：选择右连接'
- en: '](img/B16342_02_25.jpg)'
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片 B16342_02_25.jpg]'
- en: 'Figure 2.25: Selecting the Right join'
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.25：选择右连接
- en: 'Now, in the data preview, scroll toward the right side. You will see the `Person`
    and `Region` columns from the `People` table. Use the `Sort` icon to sort the
    values, as highlighted in the following figure:'
  id: totrans-148
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，在数据预览中，向右滚动。你会看到来自`People`表的`Person`和`Region`列。使用`排序`图标对值进行排序，如图所示：
- en: '![Figure 2.26: Analyzing the right join results'
  id: totrans-149
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '![图2.26：分析右连接结果'
- en: '](img/B16342_02_26.jpg)'
  id: totrans-150
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![img/B16342_02_26.jpg]'
- en: 'Figure 2.26: Analyzing the right join results'
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.26：分析右连接结果
- en: You will observe that the rows from the `People` table contain information about
    customers with past orders. This can now help you to analyze what products a person
    tends to buy often, and accordingly, you can suggest similar products to them,
    for a better-targeted sales strategy.
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 你会观察到`People`表中的行包含有关有历史订单的顾客的信息。这现在可以帮助你分析一个人倾向于经常购买哪些产品，相应地，你可以向他们推荐类似的产品，以实现更精准的销售策略。
- en: In this exercise, you performed a right join on two tables and saw how to use
    the right join results to analyze data. Next, you will learn about a full outer
    join.
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个练习中，你在两个表上执行了右连接，并看到了如何使用右连接的结果来分析数据。接下来，你将了解全外连接。
- en: A full outer join would combine the results of both the joining tables into
    a single dataset. To do that in Tableau, you can use the join properties and change
    the join type to `Full Outer`.
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: 全外连接将合并两个连接表的查询结果到一个单一的数据集中。在Tableau中，你可以使用连接属性并将连接类型更改为`Full Outer`。
- en: '![Figure 2.27: Selecting the Full Outer join'
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: '![Figure 2.27: Selecting the Full Outer join'
- en: '](img/B16342_02_27.jpg)'
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: '![img/B16342_02_27.jpg]'
- en: 'Figure 2.27: Selecting the Full Outer join'
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.27：选择全外连接
- en: The next thing to cover is the union operation. In a union, the new table will
    be appended below the previous table in the final dataset. Usually, unions are
    used when you want to combine datasets with a common structure of columns. For
    example, order information for 2021 can be combined using a union with the order
    information for 2020 to get a unified dataset.
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来要介绍的是联合操作。在联合操作中，新表将在最终数据集中追加到前一个表的下方。通常，联合用于当你想要结合具有共同列结构的数据集时。例如，可以使用联合将2021年的订单信息与2020年的订单信息结合起来，以获得统一的数据集。
- en: In the next exercise, you will learn how to implement a union in Tableau.
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一个练习中，你将学习如何在Tableau中实现联合。
- en: 'Exercise 2.05: Creating a Combined Dataset Using Union'
  id: totrans-160
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 练习2.05：使用联合创建组合数据集
- en: Consider a scenario related to a large retailer such as Walmart or Amazon, operating
    in multiple regions. In such a case, it makes more sense to store the data at
    the regional level so that it can contain products customized to that specific
    region. If you were to compare how the different regions perform among each other,
    you would need to combine these different data sources into one. This is where
    the concept of a union comes into play.
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: 考虑一个与沃尔玛或亚马逊等在多个地区运营的大型零售商相关的场景。在这种情况下，在地区级别存储数据更有意义，以便它可以包含针对该特定地区的定制产品。如果你要比较不同地区之间的表现，你需要将这些不同的数据源合并到一个数据集中。这就是联合概念发挥作用的地方。
- en: 'In this exercise, you will use the `Orders` table, which is split by region.
    The files for different regions follow a similar column structure as the `Orders`
    table but are segregated into different sheets based on their regions, as you
    can see from the following figure:'
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个练习中，你将使用按地区划分的`Orders`表。不同地区的文件与`Orders`表具有相似的列结构，但根据地区被分到不同的工作表中，如下图所示：
- en: '![Figure 2.28: Input data for the Orders table preview stored as different
    tabs'
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: '![Figure 2.28: Input data for the Orders table preview stored as different
    tabs'
- en: '](img/B16342_02_28.jpg)'
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: '![img/B16342_02_28.jpg]'
- en: 'Figure 2.28: Input data for the Orders table preview stored as different tabs'
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.28：以不同标签存储的`Orders`表输入数据预览
- en: 'You have the data for two regions: `Central` and `West`. You can implement
    a union to combine these two regions into a single dataset, as outlined in the
    following steps:'
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 你有两个地区的相关数据：`Central`和`West`。你可以通过以下步骤实现联合，将这两个地区合并成一个单一的数据集：
- en: 'Save the files on your local machine. Load the `Union` Excel file using the
    `Connect` option from the location where the files are saved, as done for the
    previous exercises. Once the file is imported, you should see the following screen:'
  id: totrans-167
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在你的本地机器上保存文件。使用保存文件的路径中的`Connect`选项加载`Union` Excel文件，就像之前的练习一样。文件导入后，你应该会看到以下屏幕：
- en: '![Figure 2.29: Orders table for the Central and West regions'
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: '![Figure 2.29: Orders table for the Central and West regions'
- en: '](img/B16342_02_29.jpg)'
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: '![img/B16342_02_29.jpg]'
- en: 'Figure 2.29: Orders table for the Central and West regions'
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.29：中央和西部地区的`Orders`表
- en: 'Double-click on the `New Union` option to open the `Union` popup, as shown
    in the following figure:'
  id: totrans-171
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 双击`New Union`选项以打开`Union`弹出窗口，如下图所示：
- en: '![Figure 2.30: New Union popup'
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: '![Figure 2.30: New Union popup'
- en: '](img/B16342_02_30.jpg)'
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: '![img/B16342_02_30.jpg]'
- en: 'Figure 2.30: New Union popup'
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.30：新联合弹出窗口
- en: 'Drag the two order tables onto the `Union` popup, as follows:'
  id: totrans-175
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将两个订单表拖动到`联合`弹出窗口中，如下所示：
- en: '![Figure 2.31: Adding tables in a union'
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: '![图2.31：在联合中添加表]'
- en: '](img/B16342_02_31.jpg)'
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: '![img/B16342_02_31.jpg]'
- en: 'Figure 2.31: Adding tables in a union'
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.31：在联合中添加表
- en: Click on `OK` to add the union to the data grid.
  id: totrans-179
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击`确定`将联合添加到数据网格中。
- en: You can now preview the data in the bottom section. Tableau will combine the
    data from both tables into a single data source.
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: 你现在可以预览底部部分的数据。Tableau会将两个表中的数据合并为一个单一的数据源。
- en: '![Figure 2.32: Union data preview'
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: '![图2.32：联合数据预览]'
- en: '](img/B16342_02_32.jpg)'
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: '![img/B16342_02_32.jpg]'
- en: 'Figure 2.32: Union data preview'
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.32：联合数据预览
- en: Scroll to the right side of the data preview. You will see two additional columns—namely
    `Sheet` and `Table Name`. `Sheet` signifies which Excel file sheet this data belongs
    to and `Table Name` refers to the table names in Tableau. This can be used to
    quickly identify which columns come from which sheets and tables.
  id: totrans-184
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将数据预览向右滚动。你会看到两个额外的列——即`Sheet`和`Table Name`。`Sheet`表示这些数据属于哪个Excel文件的工作表，而`Table
    Name`指的是Tableau中的表名。这可以用来快速识别哪些列来自哪些工作表和表。
- en: '![Figure 2.33: Table identification columns in the union result'
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: '![图2.33：联合结果中的表识别列]'
- en: '](img/B16342_02_33.jpg)'
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: '![img/B16342_02_33.jpg]'
- en: 'Figure 2.33: Table identification columns in the union result'
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.33：联合结果中的表识别列
- en: In this exercise, you learned how to perform a union of multiple data sources.
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个练习中，你学习了如何执行多个数据源的联合。
- en: In all the preceding exercises, you joined on only two data sources. It is possible
    to add more than two data sources. You will just need to specify in the join connection
    how the tables join to each other.
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
  zh: 在所有前面的练习中，你只连接了两个数据源。你可以添加超过两个数据源。你只需在连接连接中指定表如何相互连接即可。
- en: '![Figure 2.34: Joining with more than two tables'
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: '![图2.34：使用两个以上表进行连接]'
- en: '](img/B16342_02_34.jpg)'
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: '![img/B16342_02_34.jpg]'
- en: 'Figure 2.34: Joining with more than two tables'
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.34：使用两个以上表进行连接
- en: The preceding figure shows an example join on the `Orders` table with the `People`
    and `Returns` tables. If there were a common field between the `Returns` and `People`
    tables, you could also join these two tables as per your requirements.
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: 前面的图示显示了在`Orders`表上与`People`和`Returns`表进行联合的示例。如果`Returns`和`People`表之间存在公共字段，你也可以根据你的要求将这两个表联合起来。
- en: This completes the various ways you can join multiple tables in Tableau and
    concludes the discussion on the various ways to combine data from multiple sources
    together. The following sections will deal with preparing your data for your desired task.
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
  zh: 这就完成了在Tableau中连接多个表的各种方法，并结束了关于将多个来源的数据组合在一起的各种方法的讨论。以下各节将处理准备你的数据以进行你所需任务的工作。
- en: Data Transformation in the Data Pane
  id: totrans-195
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 数据面板中的数据转换
- en: Once you finish combining the data, you may also need to make some data adjustments,
    such as renaming certain columns or limiting the data to use in your visualizations.
    These are some common examples of data transformation.
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦你完成数据的合并，你可能还需要进行一些数据调整，例如重命名某些列或限制用于你的可视化的数据。这些都是一些常见的数据转换示例。
- en: 'Data transformations are a key step in preparing data for effective visualization.
    In this section, you will learn about some commonly used ways of transforming
    data. In particular, you will learn about the following:'
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: 数据转换是准备数据以进行有效可视化的关键步骤。在本节中，你将了解一些常用的数据转换方法。特别是，你将了解以下内容：
- en: Data Interpreter
  id: totrans-198
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 数据解释器
- en: Renaming data sources
  id: totrans-199
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 重命名数据源
- en: Live and extract connections
  id: totrans-200
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 实时和提取连接
- en: Filters
  id: totrans-201
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 过滤器
- en: Data grid options
  id: totrans-202
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 数据网格选项
- en: Custom SQL
  id: totrans-203
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 自定义SQL
- en: The following sections will define these one by one.
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
  zh: 以下各节将逐一定义这些内容。
- en: Data Interpreter
  id: totrans-205
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 数据解释器
- en: Data Interpreter is an option available within Tableau that extracts only the
    actual rows and columns by removing titles, headers, and extra empty rows from
    the Excel data source.
  id: totrans-206
  prefs: []
  type: TYPE_NORMAL
  zh: 数据解释器是Tableau中可用的一项选项，通过删除标题、表头和额外的空行，仅提取Excel数据源的实际行和列。
- en: 'You may sometimes add extra rows describing what kind of data the sheet contains,
    or some empty columns to improve the readability of the sheet. Consider the following
    example. Suppose you add certain comments to your `Sample - Superstore` file,
    as follows:'
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
  zh: 你有时可以添加额外的行来描述工作表包含的数据类型，或者添加一些空列以提高工作表的可读性。考虑以下示例。假设你在`Sample - Superstore`文件中添加了某些注释，如下所示：
- en: '![Figure 2.35: Understanding Data Interpreter'
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: '![图2.35：理解数据解释器]'
- en: '](img/B16342_02_35.jpg)'
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: '![img/B16342_02_35.jpg]'
- en: 'Figure 2.35: Understanding Data Interpreter'
  id: totrans-210
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.35：理解数据解释器
- en: From a data visualization point of view, rows 1 to 3 are meaningless as they
    don't belong to the actual data and are simply headers. Tableau can automatically
    remove these rows by using Data Interpreter.
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: 从数据可视化的角度来看，第 1 到 3 行是无意义的，因为它们不属于实际数据，仅仅是标题。Tableau 可以通过使用数据解释器自动删除这些行。
- en: 'Data Interpreter can be enabled by selecting the `Use Data Interpreter` option.:'
  id: totrans-212
  prefs: []
  type: TYPE_NORMAL
  zh: 可以通过选择`使用数据解释器`选项来启用数据解释器：
- en: '![Figure 2.36: Enabling Data Interpreter'
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 2.36：启用数据解释器]'
- en: '](img/B16342_02_36.jpg)'
  id: totrans-214
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片 B16342_02_36.jpg]'
- en: 'Figure 2.36: Enabling Data Interpreter'
  id: totrans-215
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 2.36：启用数据解释器]'
- en: 'Once enabled, Data Interpreter will give you an option, `Review the results`.
    Clicking on `Review the results` will open up an Excel sheet of all the changes
    made by Data Interpreter, as can be seen in the following figure:'
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
  zh: 启用后，数据解释器将为您提供`查看结果`选项。单击`查看结果`将打开一个 Excel 表格，显示数据解释器所做的所有更改，如图所示：
- en: '![Figure 2.37: Reviewing the results of Data Interpreter'
  id: totrans-217
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 2.37：查看数据解释器的结果]'
- en: '](img/B16342_02_37.jpg)'
  id: totrans-218
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片 B16342_02_37.jpg]'
- en: 'Figure 2.37: Reviewing the results of Data Interpreter'
  id: totrans-219
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 2.37：查看数据解释器的结果]'
- en: Renaming the Data Source
  id: totrans-220
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 重命名数据源
- en: The data source can be renamed on the `Connect` screen just by clicking on it
    and entering the name of your choice.
  id: totrans-221
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以在`连接`屏幕上通过单击它并输入您选择的名字来重命名数据源。
- en: '![Figure 2.38: Renaming a data source'
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 2.38：重命名数据源]'
- en: '](img/B16342_02_38.jpg)'
  id: totrans-223
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片 B16342_02_38.jpg]'
- en: 'Figure 2.38: Renaming a data source'
  id: totrans-224
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 2.38：重命名数据源]'
- en: When working with data sources, you want to quickly identify the tables you
    are working with. Renaming tables allows you to give custom names so that it becomes
    easier to work with them.
  id: totrans-225
  prefs: []
  type: TYPE_NORMAL
  zh: 当处理数据源时，您希望快速识别您正在处理哪些表。重命名表允许您为它们提供自定义名称，这样就可以更容易地与它们一起工作。
- en: Live and Extract Connections
  id: totrans-226
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 实时和提取连接
- en: This is a very important concept for data visualization in Tableau. This option
    decides how the data is connected to the visualizations.
  id: totrans-227
  prefs: []
  type: TYPE_NORMAL
  zh: 这是 Tableau 数据可视化中的一个非常重要的概念。此选项决定了数据如何连接到可视化中。
- en: Live connections allow Tableau worksheets to be updated in real time based on
    any changes made in the underlying data sources. This may be a good solution when
    the data must be updated on a real-time basis, such as stock market data.
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
  zh: 实时连接允许 Tableau 工作表根据底层数据源中进行的任何更改实时更新。当数据必须实时更新时，例如股市数据，这可能是一个很好的解决方案。
- en: However, when developing the visualizations in a live connection, the database
    will be queried for any changes performed in the view related to the data. This
    may consume more time.
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，当在实时连接中开发可视化时，数据库将查询与数据相关的任何更改。这可能会消耗更多时间。
- en: '**Tableau Data Extracts** (**TDEs**), or **extracts**, are a compressed and
    optimized way to bring all the source data into Tableau''s memory. TDEs improve
    the efficiency of the data query, which tends to increase the speed of executions
    while working with the data in the visualizations and performing user interactive
    activities such as filtering and sorting over the data.'
  id: totrans-230
  prefs: []
  type: TYPE_NORMAL
  zh: '**Tableau 数据提取**（**TDEs**）或**提取**，是一种压缩和优化的方式，将所有源数据带入 Tableau 的内存中。TDEs 提高了数据查询的效率，这往往增加了在可视化中处理数据以及执行用户交互活动（如对数据进行过滤和排序）时的执行速度。'
- en: When developing the visualizations in an extract connection, the database is
    also extracted into Tableau's local memory. Thus, any visualization development
    will be much faster compared to a live connection.
  id: totrans-231
  prefs: []
  type: TYPE_NORMAL
  zh: 当在提取连接中开发可视化时，数据库也会提取到 Tableau 的本地内存中。因此，任何可视化开发都将比实时连接快得多。
- en: 'Exercise 2.06: Creating an Extract for Data'
  id: totrans-232
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 练习 2.06：创建数据提取
- en: 'In the preceding exercises, you connected to the data using a live connection.
    Now, you will create an extract for it. The following steps should be performed
    to create a data extract for the `Orders` table:'
  id: totrans-233
  prefs: []
  type: TYPE_NORMAL
  zh: 在前面的练习中，您使用实时连接连接到数据。现在，您将为其创建一个提取。以下步骤应执行以创建`Orders`表的数据库提取：
- en: Load the `Sample – Superstore` dataset in your Tableau instance as done in the
    previous exercises.
  id: totrans-234
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将`Sample – Superstore`数据集加载到您的 Tableau 实例中，就像之前的练习中所做的那样。
- en: Drag the `Orders` table to the canvas.
  id: totrans-235
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将`Orders`表拖到画布上。
- en: 'Choose the `Extract` option, as shown in the following figure:'
  id: totrans-236
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择以下图所示的`提取`选项：
- en: '![Figure 2.39: Creating an extract'
  id: totrans-237
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 2.39：创建提取]'
- en: '](img/B16342_02_39.jpg)'
  id: totrans-238
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片 B16342_02_39.jpg]'
- en: 'Figure 2.39: Creating an extract'
  id: totrans-239
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 2.39：创建提取]'
- en: 'Once done, click on `Sheet 1` at the bottom of the page to navigate to that sheet.![Figure
    2.40: Navigating to a worksheet'
  id: totrans-240
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 完成后，点击页面底部的“Sheet 1”导航到该工作表。![图2.40：导航到工作表
- en: '](img/B16342_02_40.jpg)'
  id: totrans-241
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![img/B16342_02_40.jpg](img/B16342_02_40.jpg)'
- en: 'Figure 2.40: Navigating to a worksheet'
  id: totrans-242
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.40：导航到工作表
- en: This will open a popup to save the extract locally. Select a destination of
    your choice to save the extract.
  id: totrans-243
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 这将打开一个弹出窗口以在本地保存提取。选择您选择的任何位置以保存提取。
- en: '![Figure 2.41: Extract creation and save'
  id: totrans-244
  prefs: []
  type: TYPE_NORMAL
  zh: '![图2.41：提取创建和保存'
- en: '](img/B16342_02_41.jpg)'
  id: totrans-245
  prefs: []
  type: TYPE_NORMAL
  zh: '![img/B16342_02_41.jpg](img/B16342_02_41.jpg)'
- en: 'Figure 2.41: Extract creation and save'
  id: totrans-246
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.41：提取创建和保存
- en: Clicking on `Save` will create the extract and save it at the specified location.
    There is also the `Edit` option, which can be used to edit the properties of the
    extract. You will study these in the next section.
  id: totrans-247
  prefs: []
  type: TYPE_NORMAL
  zh: 点击“保存”将创建提取并将其保存在指定的位置。还有一个“编辑”选项，可以用来编辑提取的属性。您将在下一节学习这些内容。
- en: 'Refresh your extracts using the `Edit` or `Refresh` option if your data changes,
    as shown in the following figure:'
  id: totrans-248
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果您的数据发生变化，请使用“编辑”或“刷新”选项刷新您的提取，如图所示：
- en: '![Figure 2.42: Extract Edit and Refresh options'
  id: totrans-249
  prefs: []
  type: TYPE_NORMAL
  zh: '![图2.42：提取编辑和刷新选项'
- en: '](img/B16342_02_42.jpg)'
  id: totrans-250
  prefs: []
  type: TYPE_NORMAL
  zh: '![img/B16342_02_42.jpg](img/B16342_02_42.jpg)'
- en: 'Figure 2.42: Extract Edit and Refresh options'
  id: totrans-251
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.42：提取编辑和刷新选项
- en: In this exercise, you created an extract using Tableau Desktop.
  id: totrans-252
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个练习中，您使用Tableau Desktop创建了一个提取。
- en: Extract Properties
  id: totrans-253
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 提取属性
- en: 'To access the extract properties, you can click on the `Edit` option next to
    `Extract`, as shown in *Figure 2.42*, to open the following window:'
  id: totrans-254
  prefs: []
  type: TYPE_NORMAL
  zh: 要访问提取属性，您可以点击“提取”旁边的“编辑”选项，如图2.42所示，以打开以下窗口：
- en: '![Figure 2.43: Extract edit properties'
  id: totrans-255
  prefs: []
  type: TYPE_NORMAL
  zh: '![图2.43：提取编辑属性'
- en: '](img/B16342_02_43.jpg)'
  id: totrans-256
  prefs: []
  type: TYPE_NORMAL
  zh: '![img/B16342_02_43.jpg](img/B16342_02_43.jpg)'
- en: 'Figure 2.43: Extract edit properties'
  id: totrans-257
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.43：提取编辑属性
- en: The following sections will describe this window and its fields in detail.
  id: totrans-258
  prefs: []
  type: TYPE_NORMAL
  zh: 以下章节将详细描述此窗口及其字段。
- en: The Data Storage field
  id: totrans-259
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 数据存储字段
- en: If you have multiple tables, the `Multiple tables` option will be enabled. For
    now, since you have a single table, the `Single table` option is enabled.
  id: totrans-260
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您有多个表，将启用“多个表”选项。目前，由于您只有一个表，所以“单个表”选项被启用。
- en: The Filters field
  id: totrans-261
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 筛选器字段
- en: You can restrict the data in the extract using filters. For example, suppose
    you want only the data for the `Central` and `East` regions; you can easily do
    that using the `Add…` option. Select `Region` as the column to filter and select
    the `Central` and `East` values to add them as the filter condition.
  id: totrans-262
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以使用筛选器限制提取中的数据。例如，假设您只想为“中央”和“东部”地区的数据；您可以使用“添加...”选项轻松做到这一点。选择“区域”作为筛选的列，并选择“中央”和“东部”值以将它们添加为筛选条件。
- en: '![Figure 2.44: Adding a filter condition'
  id: totrans-263
  prefs: []
  type: TYPE_NORMAL
  zh: '![图2.44：添加筛选条件'
- en: '](img/B16342_02_44.jpg)'
  id: totrans-264
  prefs: []
  type: TYPE_NORMAL
  zh: '![img/B16342_02_44.jpg](img/B16342_02_44.jpg)'
- en: 'Figure 2.44: Adding a filter condition'
  id: totrans-265
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.44：添加筛选条件
- en: 'As shown in the following figure, `Central` and `East` regions should be selected:'
  id: totrans-266
  prefs: []
  type: TYPE_NORMAL
  zh: 如以下图所示，应选择“中央”和“东部”地区：
- en: '![Figure 2.45: Selecting Central and East regions'
  id: totrans-267
  prefs: []
  type: TYPE_NORMAL
  zh: '![图2.45：选择中央和东部地区'
- en: '](img/B16342_02_45.jpg)'
  id: totrans-268
  prefs: []
  type: TYPE_NORMAL
  zh: '![img/B16342_02_45.jpg](img/B16342_02_45.jpg)'
- en: 'Figure 2.45: Selecting Central and East regions'
  id: totrans-269
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.45：选择中央和东部地区
- en: '![Figure 2.46: Creating extract filters using the Region column'
  id: totrans-270
  prefs: []
  type: TYPE_NORMAL
  zh: '![图2.46：使用区域列创建提取筛选器'
- en: '](img/B16342_02_46.jpg)'
  id: totrans-271
  prefs: []
  type: TYPE_NORMAL
  zh: '![img/B16342_02_46.jpg](img/B16342_02_46.jpg)'
- en: 'Figure 2.46: Creating extract filters using the Region column'
  id: totrans-272
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.46：使用区域列创建提取筛选器
- en: You will learn more about these filters as you progress through this chapter.
  id: totrans-273
  prefs: []
  type: TYPE_NORMAL
  zh: 随着您在本章的进展，您将了解更多关于这些筛选器的信息。
- en: The Aggregation Field
  id: totrans-274
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 聚合字段
- en: You can also change the granularity of the data using this option. If you have
    dates in the dataset on a `Day` level, you can roll them up or aggregate them
    to a higher level using a different option, such as `Month` or `Year`. You will
    learn more about aggregations later in the book.
  id: totrans-275
  prefs: []
  type: TYPE_NORMAL
  zh: 您也可以使用此选项更改数据的粒度。如果您数据集中的日期在“日”级别，您可以使用不同的选项，如“月”或“年”，将它们汇总或聚合到更高的级别。您将在本书后面的章节中了解更多关于聚合的内容。
- en: '![Figure 2.47: Transforming the data aggregation level'
  id: totrans-276
  prefs: []
  type: TYPE_NORMAL
  zh: '![图2.47：转换数据聚合级别'
- en: '](img/B16342_02_47.jpg)'
  id: totrans-277
  prefs: []
  type: TYPE_NORMAL
  zh: '![img/B16342_02_47.jpg](img/B16342_02_47.jpg)'
- en: 'Figure 2.47: Transforming the data aggregation level'
  id: totrans-278
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.47：转换数据聚合级别
- en: The Number of Rows Field
  id: totrans-279
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 行数字段
- en: Using this option, you can choose the number of rows the extract should contain.
    `All rows` will include all the rows, `Top` will include only the specified number
    of rows, and `Sample` will contain a sample of specified rows. This is useful
    when you are working on a very large dataset, but for development purposes, you
    just need a sample of the data.
  id: totrans-280
  prefs: []
  type: TYPE_NORMAL
  zh: 使用此选项，你可以选择提取应包含的行数。`所有行`将包括所有行，`顶部`将仅包括指定的行数，而`样本`将包含指定行数的样本。当你处理一个非常大的数据集时，这很有用，但在开发目的上，你只需要数据的样本。
- en: '![Figure 2.48: Sample selection using the number of rows'
  id: totrans-281
  prefs: []
  type: TYPE_NORMAL
  zh: '![图2.48：使用行数进行样本选择'
- en: '](img/B16342_02_48.jpg)'
  id: totrans-282
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_02_48.jpg)'
- en: 'Figure 2.48: Sample selection using the number of rows'
  id: totrans-283
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.48：使用行数进行样本选择
- en: On selecting `All rows`, you will also get an option called `Incremental refresh`.
    Instead of refreshing the data every day, you can use this option to specify which
    field can be used to identify new rows so that only the specified section of the
    data is refreshed. This option is helpful when you have a very large dataset that
    updates at regular intervals wherein the old data does not change.
  id: totrans-284
  prefs: []
  type: TYPE_NORMAL
  zh: 在选择`所有行`时，你还将获得一个名为`增量刷新`的选项。你不必每天刷新数据，可以使用此选项指定哪个字段可以用来识别新行，这样只有指定的数据部分会被刷新。当你的数据集非常大且定期更新，而旧数据不发生变化时，此选项非常有用。
- en: Consider the case of banking transactions. The bank will never modify the old
    data but would keep adding new data to maintain the historic data. In this case,
    an incremental refresh would be very helpful during extract refreshes.
  id: totrans-285
  prefs: []
  type: TYPE_NORMAL
  zh: 考虑银行交易的情况。银行永远不会修改旧数据，但会持续添加新数据以保持历史数据。在这种情况下，在提取刷新期间进行增量刷新将非常有帮助。
- en: '![Figure 2.49: Identifying the column for performing refresh'
  id: totrans-286
  prefs: []
  type: TYPE_NORMAL
  zh: '![图2.49：识别用于刷新的列'
- en: '](img/B16342_02_49.jpg)'
  id: totrans-287
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_02_49.jpg)'
- en: 'Figure 2.49: Identifying the column for performing refresh'
  id: totrans-288
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.49：识别用于刷新的列
- en: Now that you understand what values to add in these fields, you'll review what
    factors to determine when choosing the type of connection.
  id: totrans-289
  prefs: []
  type: TYPE_NORMAL
  zh: 现在你已经了解了在这些字段中应添加哪些值，接下来你将回顾选择连接类型时应考虑的因素。
- en: Which Connection Is Better – Live or Extract?
  id: totrans-290
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 哪种连接更好——实时还是提取？
- en: 'Ideally, in most projects, an extract is the ideal approach, but there may
    be a need to showcase live data as in the example you saw before. The following
    points should be considered before choosing an extract or a live connection:'
  id: totrans-291
  prefs: []
  type: TYPE_NORMAL
  zh: 理想情况下，在大多数项目中，提取数据是最佳方法，但可能需要展示实时数据，就像你之前看到的例子一样。在选择提取或实时连接之前，应考虑以下要点：
- en: '**Updated or delayed data**: If you have a requirement for which you need the
    most up-to-date information whenever you view the dashboard, you would need a
    live connection. Otherwise, if you are comfortable with some delay in the latest
    data, an extract is a better choice.'
  id: totrans-292
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**更新或延迟的数据**：如果你需要在查看仪表板时始终需要最新的信息，你需要一个实时连接。否则，如果你对最新数据的延迟感到满意，提取是一个更好的选择。'
- en: '**Data volume**: If your data volume is very large, it is ideal to use a data
    extract instead of a live connection as it might take a lot of time to develop
    dashboards on live connections.'
  id: totrans-293
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**数据量**：如果你的数据量非常大，使用数据提取而不是实时连接是理想的，因为可能需要花费很多时间在实时连接上开发仪表板。'
- en: With these points in mind, you can choose the right type of connection for your project.
  id: totrans-294
  prefs: []
  type: TYPE_NORMAL
  zh: 考虑到这些要点，你可以为你的项目选择正确的连接类型。
- en: Filters
  id: totrans-295
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 过滤器
- en: This option is similar to the `Extract Filter` property you learned about before.
    These filters are also known as data source filters because they filter data at
    the source. You will further study various filters later in the book.
  id: totrans-296
  prefs: []
  type: TYPE_NORMAL
  zh: 此选项类似于你之前了解到的`提取过滤器`属性。这些过滤器也被称为数据源过滤器，因为它们在数据源处过滤数据。你将在本书的后面进一步学习各种过滤器。
- en: Consider the example of a large retailer such as Amazon, where the data has
    a large volume. Suppose you want to analyze the data for a specific region. In
    this case, it is not prudent to pull the whole data in Tableau as it would make
    the dashboard slower, and also, you would not have any use for the data other
    than that for your target region.
  id: totrans-297
  prefs: []
  type: TYPE_NORMAL
  zh: 考虑像亚马逊这样的大型零售商的例子，其数据量很大。假设你想分析特定区域的数据。在这种情况下，将整个数据集拉入Tableau是不明智的，因为这会使仪表板变慢，而且除了你的目标区域之外，你不会对数据有任何用途。
- en: For such a case, you can use the `Data Source Filter` option. This would restrict
    the data at the source itself and only bring in the required data based on the
    filtering criterion specified.
  id: totrans-298
  prefs: []
  type: TYPE_NORMAL
  zh: 对于此类情况，您可以使用`数据源过滤`选项。这将限制数据源本身的数据，并根据指定的过滤标准仅引入所需的数据。
- en: 'Exercise 2.07: Adding a Region Filter on the Orders Table'
  id: totrans-299
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 练习 2.07：在订单表上添加区域过滤
- en: 'Consider that you want to add a `Region` filter on the `Orders` table, to bring
    the data for the `Central` and `East` regions only. You can do so by following
    these steps:'
  id: totrans-300
  prefs: []
  type: TYPE_NORMAL
  zh: 考虑到您想在`Orders`表上添加一个`Region`过滤条件，仅显示`Central`和`East`区域的数据。您可以通过以下步骤实现：
- en: Load the `Sample - Superstore` dataset in your Tableau instance.
  id: totrans-301
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在您的 Tableau 实例中加载`Sample - Superstore`数据集。
- en: Drag the `Orders` table onto the canvas.
  id: totrans-302
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将`Orders`表拖动到画布上。
- en: 'To add a filter, click on the `Filters` | `Add` option to open the popup:'
  id: totrans-303
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要添加过滤条件，请点击`过滤` | `添加`选项打开弹出窗口：
- en: '![Figure 2.50: Data source filter properties'
  id: totrans-304
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 2.50：数据源过滤属性]'
- en: '](img/B16342_02_50.jpg)'
  id: totrans-305
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片 B16342_02_50.jpg]'
- en: 'Figure 2.50: Data source filter properties'
  id: totrans-306
  prefs: []
  type: TYPE_NORMAL
  zh: 图 2.50：数据源过滤属性
- en: 'Click on `Add…` to open the columns list. Select `Region` as the column:'
  id: totrans-307
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击`添加...`打开列列表。选择`Region`作为列：
- en: '![Figure 2.51: Column filter selection'
  id: totrans-308
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 2.51：列过滤选择]'
- en: '](img/B16342_02_51.jpg)'
  id: totrans-309
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片 B16342_02_51.jpg]'
- en: 'Figure 2.51: Column filter selection'
  id: totrans-310
  prefs: []
  type: TYPE_NORMAL
  zh: 图 2.51：列过滤选择
- en: 'Select `Central` and `East` as the regions that will be kept in the data. Click
    `OK` to add the filter, as follows:'
  id: totrans-311
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择`Central`和`East`作为要保留在数据中的区域。点击`确定`添加过滤条件，如下所示：
- en: '![Figure 2.52: Selecting the filter values'
  id: totrans-312
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 2.52：选择过滤值]'
- en: '](img/B16342_02_52.jpg)'
  id: totrans-313
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片 B16342_02_52.jpg]'
- en: 'Figure 2.52: Selecting the filter values'
  id: totrans-314
  prefs: []
  type: TYPE_NORMAL
  zh: 图 2.52：选择过滤值
- en: You can similarly add more filters by clicking on the `Add…` option and repeating
    the previous steps.
  id: totrans-315
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以通过点击`添加...`选项并重复前面的步骤来添加更多过滤条件。
- en: 'You can also edit and remove the existing filters. To do that, select the filter
    you want to edit or remove and then select the required option, as shown in the
    following figure:'
  id: totrans-316
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您还可以编辑和删除现有的过滤条件。要这样做，选择您想要编辑或删除的过滤条件，然后选择所需的选项，如图所示：
- en: '![Figure 2.53: Filter preview'
  id: totrans-317
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 2.53：过滤预览]'
- en: '](img/B16342_02_53.jpg)'
  id: totrans-318
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片 B16342_02_53.jpg]'
- en: 'Figure 2.53: Filter preview'
  id: totrans-319
  prefs: []
  type: TYPE_NORMAL
  zh: 图 2.53：过滤预览
- en: Once you have added the filter, preview the data in the data grid. You will
    observe that you only have data for the `Central` and `East` regions, as expected.
  id: totrans-320
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一旦您添加了过滤条件，请在数据网格中预览数据。您将观察到您只有`Central`和`East`区域的数据，正如预期的那样。
- en: '![Figure 2.54: Data preview post filter application'
  id: totrans-321
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 2.54：数据预览后过滤应用]'
- en: '](img/B16342_02_54.jpg)'
  id: totrans-322
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片 B16342_02_54.jpg]'
- en: 'Figure 2.54: Data preview post filter application'
  id: totrans-323
  prefs: []
  type: TYPE_NORMAL
  zh: 图 2.54：数据预览后过滤应用
- en: In this exercise, you learned how to apply a filter and the various properties
    associated with a data source filter. In the next section, you will learn how
    to transform data using the data grid.
  id: totrans-324
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个练习中，您学习了如何应用过滤条件以及与数据源过滤条件相关的各种属性。在下一节中，您将学习如何使用数据网格进行数据转换。
- en: Data Grid Options
  id: totrans-325
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 数据网格选项
- en: The data grid allows you to preview data. You have been using it so far just
    to check the number of rows the data contains, but it also contains several other
    options to transform data before you start with the visualization development.
    In this section, you will learn about these options and how to use them to better
    understand the data transformations.
  id: totrans-326
  prefs: []
  type: TYPE_NORMAL
  zh: 数据网格允许您预览数据。到目前为止，您只是用它来检查数据包含的行数，但它还包含在开始可视化开发之前转换数据的其他选项。在本节中，您将了解这些选项以及如何使用它们来更好地理解数据转换。
- en: '**Data preview**: You can use this to preview the data. You can also select
    the number of rows to be displayed, by specifying the number in the box on the
    right, as can be seen in the following figure:'
  id: totrans-327
  prefs: []
  type: TYPE_NORMAL
  zh: '**数据预览**：您可以使用此功能预览数据。您还可以通过在右侧的框中指定数字来选择要显示的行数，如图所示：'
- en: '![Figure 2.55: Data preview toggle'
  id: totrans-328
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 2.55：数据预览切换]'
- en: '](img/B16342_02_55.jpg)'
  id: totrans-329
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片 B16342_02_55.jpg]'
- en: 'Figure 2.55: Data preview toggle'
  id: totrans-330
  prefs: []
  type: TYPE_NORMAL
  zh: 图 2.55：数据预览切换
- en: '**Metadata**: Metadata provides information about the source, such as the table
    name. Toggling to the metadata view, you can see all the metadata about the data.
    You can view the various columns, the table they come from, and the remote field
    name.'
  id: totrans-331
  prefs: []
  type: TYPE_NORMAL
  zh: '**元数据**：元数据提供了有关源的信息，例如表名。切换到元数据视图，您可以看到有关数据的所有元数据。您可以查看不同的列、它们来自的表以及远程字段名称。'
- en: If you rename a field here, the remote field name will show the original field
    name pulled from the data.
  id: totrans-332
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您在此处重命名字段，远程字段名称将显示从数据中提取的原始字段名称。
- en: '![Figure 2.56: Changing to the list view representation to show'
  id: totrans-333
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 2.56：更改为列表视图表示以显示'
- en: input data source metadata properties
  id: totrans-334
  prefs: []
  type: TYPE_NORMAL
  zh: 输入数据源元数据属性
- en: '](img/B16342_02_56.jpg)'
  id: totrans-335
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_02_56.jpg)'
- en: 'Figure 2.56: Changing to the list view representation to show input data source
    metadata properties'
  id: totrans-336
  prefs: []
  type: TYPE_NORMAL
  zh: 图 2.56：更改为列表视图表示以显示输入数据源元数据属性
- en: Note
  id: totrans-337
  prefs: []
  type: TYPE_NORMAL
  zh: 备注
- en: In Tableau version 2021.4, the metadata is automatically available beside the
    preview, and you will not have to choose between these options.
  id: totrans-338
  prefs: []
  type: TYPE_NORMAL
  zh: 在 Tableau 版本 2021.4 中，元数据将自动显示在预览旁边，您无需在这些选项之间进行选择。
- en: The `Sort fields` option will sort the data as per the option you select. You
    can try changing these options and observe how the data preview changes.
  id: totrans-339
  prefs: []
  type: TYPE_NORMAL
  zh: “排序字段”选项将根据您选择的选项对数据进行排序。您可以尝试更改这些选项，并观察数据预览如何变化。
- en: '![Figure 2.57: Sorting the data grid column values'
  id: totrans-340
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 2.57：排序数据网格列值'
- en: '](img/B16342_02_57.jpg)'
  id: totrans-341
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_02_57.jpg)'
- en: 'Figure 2.57: Sorting the data grid column values'
  id: totrans-342
  prefs: []
  type: TYPE_NORMAL
  zh: 图 2.57：排序数据网格列值
- en: Now, consider the following data transformation options.
  id: totrans-343
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，考虑以下数据转换选项。
- en: '`Abc` icon (see the following figure), you can select the required data type
    from the drop-down box for the column. A common example is the `Customer ID` field
    being stored as a number where you might want it to be a string:'
  id: totrans-344
  prefs: []
  type: TYPE_NORMAL
  zh: '`Abc` 图标（见下图），您可以从下拉框中选择列所需的数据类型。一个常见的例子是将“客户 ID”字段存储为数字，而您可能希望它是一个字符串：'
- en: '![Figure 2.58: Data type change options'
  id: totrans-345
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 2.58：数据类型更改选项'
- en: '](img/B16342_02_58.jpg)'
  id: totrans-346
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_02_58.jpg)'
- en: 'Figure 2.58: Data type change options'
  id: totrans-347
  prefs: []
  type: TYPE_NORMAL
  zh: 图 2.58：数据类型更改选项
- en: '**Data transformation**: When you click on the drop-down icon, as shown in
    the following figure, you can see the options to transform the data, such as creating
    calculated fields on existing columns and creating groups. All these options are
    also available after you load the data. These will be covered in detail later
    in the book:'
  id: totrans-348
  prefs: []
  type: TYPE_NORMAL
  zh: '**数据转换**：当您点击下图中所示的下拉图标时，您可以看到转换数据的选项，例如在现有列上创建计算字段和创建组。所有这些选项在加载数据后也都可用。这些内容将在本书的后续章节中详细说明：'
- en: '![Figure 2.59: Data transformation menu options'
  id: totrans-349
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 2.59：数据转换菜单选项'
- en: '](img/B16342_02_59.jpg)'
  id: totrans-350
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_02_59.jpg)'
- en: 'Figure 2.59: Data transformation menu options'
  id: totrans-351
  prefs: []
  type: TYPE_NORMAL
  zh: 图 2.59：数据转换菜单选项
- en: 'The `Rename` option allows you to rename the column. You can also hide a column
    if it''s not required in the data visualization. You can select the `Show hidden
    fields` checkbox to view any hidden columns. Hidden columns are grayed out in
    the view, as indicated in the following figure:'
  id: totrans-352
  prefs: []
  type: TYPE_NORMAL
  zh: “重命名”选项允许您重命名列。如果该列在数据可视化中不需要，您也可以隐藏它。您可以通过选择“显示隐藏字段”复选框来查看任何隐藏的列。隐藏的列在视图中将以灰色显示，如下图所示：
- en: '![Figure 2.60: Show hidden fields'
  id: totrans-353
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 2.60：显示隐藏字段'
- en: '](img/B16342_02_60.jpg)'
  id: totrans-354
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_02_60.jpg)'
- en: 'Figure 2.60: Show hidden fields'
  id: totrans-355
  prefs: []
  type: TYPE_NORMAL
  zh: 图 2.60：显示隐藏字段
- en: Hidden columns cannot be used in the visualization. If you want to use a column
    after hiding it, you need to first unhide the column to use it in the visualization.
    This can be done by clicking on the dropdown and selecting the `Unhide` option.
  id: totrans-356
  prefs: []
  type: TYPE_NORMAL
  zh: 隐藏的列不能用于可视化。如果您想隐藏列后使用该列，您需要首先取消隐藏列，以便在可视化中使用它。这可以通过点击下拉菜单并选择“取消隐藏”选项来完成。
- en: '![Figure 2.61: Hiding/unhiding columns from the input data source'
  id: totrans-357
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 2.61：从输入数据源隐藏/取消隐藏列'
- en: '](img/B16342_02_61.jpg)'
  id: totrans-358
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_02_61.jpg)'
- en: 'Figure 2.61: Hiding/unhiding columns from the input data source'
  id: totrans-359
  prefs: []
  type: TYPE_NORMAL
  zh: 图 2.61：从输入数据源隐藏/取消隐藏列
- en: '**Aliases**: Aliases are a very effective way to present data in the visualization
    with a different name.'
  id: totrans-360
  prefs: []
  type: TYPE_NORMAL
  zh: '**别名**：别名是呈现数据的一种非常有效的方法，可以在可视化中使用不同的名称。'
- en: 'Observe the `Ship Mode` column in the data preview. You can see that the word
    `Class` is repeated for the different `Ship Mode` values, and it does not add
    any value; so you can exclude this word from all the values. This can be done
    using the `Aliases` option, which will help you to display the values as a different
    name. To add aliases on the column, click on the dropdown and select `Aliases…`,
    as shown in the following figure:'
  id: totrans-361
  prefs: []
  type: TYPE_NORMAL
  zh: 观察数据预览中的“运输方式”列。您可以看到“类别”一词在不同的“运输方式”值中重复出现，并且它没有增加任何价值；因此，您可以从所有值中排除这个词。这可以通过使用“别名”选项来完成，这将帮助您以不同的名称显示值。要在列上添加别名，请点击下拉菜单并选择“别名...”，如下图所示：
- en: '![Figure 2.62: Setting a column value alias'
  id: totrans-362
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 2.62：设置列值别名'
- en: '](img/B16342_02_62.jpg)'
  id: totrans-363
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_02_62.jpg)'
- en: 'Figure 2.62: Setting a column value alias'
  id: totrans-364
  prefs: []
  type: TYPE_NORMAL
  zh: 图 2.62：设置列值别名
- en: This will open the popup to rename the values. Remove the word `Class`. Click
    on `OK` to add it to the data. You can also clear the aliases using the `Clear
    Aliases` option.
  id: totrans-365
  prefs: []
  type: TYPE_NORMAL
  zh: 这将打开弹出窗口以重命名值。删除单词“Class”。点击“确定”将其添加到数据中。您还可以使用“清除别名”选项清除别名。
- en: '![Figure 2.63: Edit Aliases properties'
  id: totrans-366
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 2.63：编辑别名属性'
- en: '](img/B16342_02_63.jpg)'
  id: totrans-367
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_02_63.jpg)'
- en: 'Figure 2.63: Edit Aliases properties'
  id: totrans-368
  prefs: []
  type: TYPE_NORMAL
  zh: 图 2.63：编辑别名属性
- en: You can use the `Show aliases` toggle to switch between the original names and
    the aliases. Aliases are generally used to rename null records to blank or columns
    containing long value names.
  id: totrans-369
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以使用“显示别名”切换按钮在原始名称和别名之间切换。别名通常用于将空记录重命名为空白或包含长值名称的列。
- en: '![Figure 2.64: Enabling aliases in the data preview using the Show aliases
    option'
  id: totrans-370
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 2.64：使用“显示别名”选项在数据预览中启用别名'
- en: '](img/B16342_02_64.jpg)'
  id: totrans-371
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_02_64.jpg)'
- en: 'Figure 2.64: Enabling aliases in the data preview using the Show aliases option'
  id: totrans-372
  prefs: []
  type: TYPE_NORMAL
  zh: 图 2.64：使用“显示别名”选项在数据预览中启用别名
- en: All these options are also accessible after you load the data in the worksheet.
  id: totrans-373
  prefs: []
  type: TYPE_NORMAL
  zh: 所有这些选项在您将数据加载到工作表中后也可用。
- en: In this view, you learned how to perform data transformations before pulling
    the data in the worksheets.
  id: totrans-374
  prefs: []
  type: TYPE_NORMAL
  zh: 在此视图中，您学习了如何在工作表中提取数据之前执行数据转换。
- en: In all the exercises previously, you just joined on two data sources. But it
    is also possible to add more than two data sources. You will just need to specify
    in the join connection how the tables join to each other.
  id: totrans-375
  prefs: []
  type: TYPE_NORMAL
  zh: 在之前的所有练习中，您只是连接了两个数据源。但也可以添加超过两个数据源。您只需在连接连接中指定表如何相互连接。
- en: This completes the various ways you can join multiple tables in Tableau. Next,
    you will learn about the custom SQL option.
  id: totrans-376
  prefs: []
  type: TYPE_NORMAL
  zh: 这就完成了您可以在 Tableau 中连接多个表的各种方式。接下来，您将学习有关自定义 SQL 选项的内容。
- en: Custom SQL
  id: totrans-377
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 自定义 SQL
- en: Custom SQL, as the name suggests, is used for writing custom SQL queries to
    pull only the selected columns based on the conditions applied instead of pulling
    the entire database. This option is not available with Excel and text files, so
    you might not see this option.
  id: totrans-378
  prefs: []
  type: TYPE_NORMAL
  zh: 如其名所示，自定义 SQL 用于编写自定义 SQL 查询，根据应用的条件仅提取所选列，而不是提取整个数据库。此选项在 Excel 和文本文件中不可用，因此您可能看不到此选项。
- en: This option will appear in the `Connect` pane once the database is connected.
    When you connect a database, you will see the `New Custom SQL` option below all
    the tables listed.
  id: totrans-379
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦连接到数据库，此选项将出现在“连接”面板中。当您连接数据库时，您将在所有列下面看到“新自定义 SQL”选项。
- en: '![Figure 2.65: New Custom SQL option'
  id: totrans-380
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 2.65：新的自定义 SQL 选项'
- en: '](img/B16342_02_65.jpg)'
  id: totrans-381
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_02_65.jpg)'
- en: 'Figure 2.65: New Custom SQL option'
  id: totrans-382
  prefs: []
  type: TYPE_NORMAL
  zh: 图 2.65：新的自定义 SQL 选项
- en: You can drag this option onto the canvas, type in your query, and click `OK`.
    Once done, Tableau will pull the required data based on the query specified.
  id: totrans-383
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以将此选项拖到画布上，输入您的查询，然后点击“确定”。完成后，Tableau 将根据指定的查询提取所需数据。
- en: Custom SQL can be used to reduce the size of data by adding only the required
    columns in the data source, adding a union across the tables, and recasting fields
    to join multiple data sources together.
  id: totrans-384
  prefs: []
  type: TYPE_NORMAL
  zh: 自定义 SQL 可以通过仅添加数据源中的所需列、在表中添加联合以及将字段重新铸造成连接多个数据源在一起来减少数据大小。
- en: Until now, you have learned about the various data transformation steps that
    can be performed before pulling the data in the worksheet. In the next section,
    you will learn about data blending, which is another way of joining the data but
    with a difference.
  id: totrans-385
  prefs: []
  type: TYPE_NORMAL
  zh: 到目前为止，您已经学习了在将数据拉入工作表之前可以执行的各种数据转换步骤。在下一节中，您将学习有关数据混合的内容，这是另一种连接数据的方式，但有所不同。
- en: Data Blending
  id: totrans-386
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 数据混合
- en: There might be times when the linking fields vary between the different worksheets.
    Also, if the data sources are too large, joining them with the conventional joins
    might be very time consuming. In that case, you can perform a data blend instead
    of joining the data.
  id: totrans-387
  prefs: []
  type: TYPE_NORMAL
  zh: 有时候，链接字段在不同工作表中可能不同。此外，如果数据源太大，使用传统连接可能会非常耗时。在这种情况下，您可以选择数据混合而不是连接数据。
- en: In data blending, you query the data between the two data sources and then combine
    the result at the aggregation level defined in the worksheet of the primary data
    source. The primary data source will be the one from which the first dimension
    or measure is added in the view. Also, the results would be similar to a left
    join since all the records from the primary data will appear in the worksheet.
  id: totrans-388
  prefs: []
  type: TYPE_NORMAL
  zh: 在数据混合中，您将在两个数据源之间查询数据，然后在主数据源工作表中定义的聚合级别上组合结果。主数据源将是第一个维度或度量值添加到视图中的数据源。此外，结果将与左连接相似，因为主数据源的所有记录都将出现在工作表中。
- en: 'Exercise 2.08: Creating a Data Blend Using the Orders and People Tables'
  id: totrans-389
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 练习2.08：使用Orders和People表创建数据混合
- en: 'In this exercise, you will learn how to create a data blend for the `Orders`
    table with the `People` table. The following steps will help you complete this
    exercise:'
  id: totrans-390
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个练习中，您将学习如何使用`People`表创建`Orders`表的数据混合。以下步骤将帮助您完成此练习：
- en: Load the `Sample – Superstore` dataset in your Tableau instance.
  id: totrans-391
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在您的Tableau实例中加载`Sample – Superstore`数据集。
- en: Connect to the `Orders` table and go to `Sheet 1`.
  id: totrans-392
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 连接到`Orders`表并转到`Sheet 1`。
- en: '![Figure 2.66: Adding the Orders table in Tableau'
  id: totrans-393
  prefs: []
  type: TYPE_NORMAL
  zh: '![图2.66：在Tableau中添加Orders表'
- en: '](img/B16342_02_66.jpg)'
  id: totrans-394
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_02_66.jpg)'
- en: 'Figure 2.66: Adding the Orders table in Tableau'
  id: totrans-395
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.66：在Tableau中添加Orders表
- en: 'In a data blend, create the linking at the worksheet level and not at the data
    source level. Inside the worksheet, you will be able to see the `Orders` table
    and its columns. Add a new data source, as follows (see the highlighted option):'
  id: totrans-396
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在数据混合中，在工作表级别创建链接，而不是在数据源级别。在工作表中，您将能够看到`Orders`表及其列。添加一个新的数据源，如下（见突出显示的选项）：
- en: '![Figure 2.67: Adding data option inside a worksheet'
  id: totrans-397
  prefs: []
  type: TYPE_NORMAL
  zh: '![图2.67：在工作表中添加数据选项'
- en: '](img/B16342_02_67.jpg)'
  id: totrans-398
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_02_67.jpg)'
- en: 'Figure 2.67: Adding data option inside a worksheet'
  id: totrans-399
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.67：在工作表中添加数据选项
- en: This should lead to the same menu that you get for connecting to a data source.
    Click on `Microsoft Excel`, navigate to the location of the `Sample – Superstore.xls`
    Excel file, and click on `Open` to open the `Connect` pane.
  id: totrans-400
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 这应该会引导到与连接数据源相同的菜单。点击`Microsoft Excel`，导航到`Sample – Superstore.xls` Excel文件的位置，然后点击`打开`以打开`连接`面板。
- en: '![Figure 2.68: Adding another data source in Tableau'
  id: totrans-401
  prefs: []
  type: TYPE_NORMAL
  zh: '![图2.68：在Tableau中添加另一个数据源'
- en: '](img/B16342_02_68.jpg)'
  id: totrans-402
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_02_68.jpg)'
- en: 'Figure 2.68: Adding another data source in Tableau'
  id: totrans-403
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.68：在Tableau中添加另一个数据源
- en: 'Now, drag the `People` table to the canvas and go to `Sheet 1` like before:'
  id: totrans-404
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，将`People`表拖到画布上，并像之前一样转到`Sheet 1`：
- en: '![Figure 2.69: Adding the People data to Tableau'
  id: totrans-405
  prefs: []
  type: TYPE_NORMAL
  zh: '![图2.69：将People数据添加到Tableau'
- en: '](img/B16342_02_69.jpg)'
  id: totrans-406
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_02_69.jpg)'
- en: 'Figure 2.69: Adding the People data to Tableau'
  id: totrans-407
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.69：将People数据添加到Tableau
- en: 'Now, you will be able to see the two data sources, as follows:'
  id: totrans-408
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，您将能够看到两个数据源，如下所示：
- en: '![Figure 2.70: Data sources listed inside the worksheet'
  id: totrans-409
  prefs: []
  type: TYPE_NORMAL
  zh: '![图2.70：工作表中列出的数据源'
- en: '](img/B16342_02_70.jpg)'
  id: totrans-410
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_02_70.jpg)'
- en: 'Figure 2.70: Data sources listed inside the worksheet'
  id: totrans-411
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.70：工作表中列出的数据源
- en: Add a relationship between these data sources to use them. To do that, click
    on `Data` | `Edit Relationships…` to open the popup.
  id: totrans-412
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在使用这些数据源之前，添加它们之间的关系。为此，请点击`数据` | `编辑关系…`以打开弹出窗口。
- en: Note
  id: totrans-413
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意
- en: If you are using a Tableau version later than 2020.1, this may be called `Edit
    Blend Relationships...` to differentiate between relationships made directly in
    the `Data Source` tab.
  id: totrans-414
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果您使用的是2020.1之后的Tableau版本，这可能被称为`编辑混合关系...`以区分在`数据源`选项卡中直接创建的关系。
- en: '![Figure 2.71: Edit data properties window'
  id: totrans-415
  prefs: []
  type: TYPE_NORMAL
  zh: '![图2.71：编辑数据属性窗口'
- en: '](img/B16342_02_71.jpg)'
  id: totrans-416
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_02_71.jpg)'
- en: 'Figure 2.71: Edit data properties window'
  id: totrans-417
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.71：编辑数据属性窗口
- en: 'Based on the field names, the relationship can be set to `Automatic` by default.
    To change it, click on `Custom` and add the relationship. Edit the relationship
    to `Customer Name` and `Person`, as highlighted in the following figure. Select
    `Region` and then `Edit…` before making the selections in the popup. Click `OK`
    to add the relationship:'
  id: totrans-418
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 根据字段名称，默认可以将关系设置为`自动`。要更改它，请点击`自定义`并添加关系。将关系编辑为`Customer Name`和`Person`，如图所示。选择`Region`然后点击`编辑…`在弹出窗口中进行选择。点击`确定`以添加关系：
- en: '![Figure 2.72: Selecting the matching columns between the two data sources'
  id: totrans-419
  prefs: []
  type: TYPE_NORMAL
  zh: '![图2.72：选择两个数据源之间的匹配列'
- en: '](img/B16342_02_72.jpg)'
  id: totrans-420
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_02_72.jpg)'
- en: 'Figure 2.72: Selecting the matching columns between the two data sources'
  id: totrans-421
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.72：选择两个数据源之间的匹配列
- en: Thus, you have successfully blended the two data sources and can visualize your
    data in the next exercise.
  id: totrans-422
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，你已经成功混合了两个数据源，可以在下一个练习中可视化你的数据。
- en: 'Exercise 2.09: Visualizing Data Created from a Data Blend'
  id: totrans-423
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 练习2.09：可视化数据混合创建的数据
- en: In the previous exercise, you learned how to perform data blending between two
    data sources. In this exercise, you will create a visualization on the blended
    data to understand the application of a data blend – again, you will continue
    using the `Orders` table and the `People` table for this purpose. Note that a
    blend will only be active if you use the fields from these two data sources; otherwise,
    it will remain inactive.
  id: totrans-424
  prefs: []
  type: TYPE_NORMAL
  zh: 在上一个练习中，你学习了如何在两个数据源之间执行数据混合。在这个练习中，你将在混合数据上创建一个可视化，以了解数据混合的应用——同样，你将继续使用`Orders`表和`People`表来完成此目的。请注意，只有当你使用这两个数据源的字段时，混合才会激活；否则，它将保持不活动状态。
- en: 'Perform the following steps to complete this exercise:'
  id: totrans-425
  prefs: []
  type: TYPE_NORMAL
  zh: 执行以下步骤以完成此练习：
- en: On the `Orders` data, click and drag `Customer Name` to `Rows`.
  id: totrans-426
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在`Orders`数据上，点击并拖动`Customer Name`到`行`。
- en: Note
  id: totrans-427
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意
- en: Tableau versions later than 2020.1 may give a warning at this step that the
    field may contain more than 1000 rows. If this is the case, select `Add all members`
    to proceed.
  id: totrans-428
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 2020.1版本之后的Tableau可能会在此步骤给出警告，表示字段可能包含超过1000行。如果是这种情况，请选择`添加所有成员`以继续。
- en: '![Figure 2.73: Adding the primary data source'
  id: totrans-429
  prefs: []
  type: TYPE_NORMAL
  zh: '![图2.73：添加主要数据源'
- en: '](img/B16342_02_73.jpg)'
  id: totrans-430
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_02_73.jpg)'
- en: 'Figure 2.73: Adding the primary data source'
  id: totrans-431
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.73：添加主要数据源
- en: This will now become your primary data source, indicated by the blue tick on
    the data source.
  id: totrans-432
  prefs: []
  type: TYPE_NORMAL
  zh: 这现在将成为你的主要数据源，数据源上的蓝色勾选标记表示。
- en: Repeat the step for the `People` data source.
  id: totrans-433
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为`People`数据源重复此步骤。
- en: '![Figure 2.74: Adding the secondary data source'
  id: totrans-434
  prefs: []
  type: TYPE_NORMAL
  zh: '![图2.74：添加次要数据源'
- en: '](img/B16342_02_74.jpg)'
  id: totrans-435
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_02_74.jpg)'
- en: 'Figure 2.74: Adding the secondary data source'
  id: totrans-436
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.74：添加次要数据源
- en: This will become your secondary data source, indicated by the orange tick on
    the data source. Also, notice the red linking icon that is used to link the two
    data sources.
  id: totrans-437
  prefs: []
  type: TYPE_NORMAL
  zh: 这将成为你的次要数据源，数据源上的橙色勾选标记表示。同时，请注意用于链接两个数据源的红色链接图标。
- en: '![Figure 2.75: Primary and secondary data source icons'
  id: totrans-438
  prefs: []
  type: TYPE_NORMAL
  zh: '![图2.75：主要和次要数据源图标'
- en: '](img/B16342_02_75.jpg)'
  id: totrans-439
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_02_75.jpg)'
- en: 'Figure 2.75: Primary and secondary data source icons'
  id: totrans-440
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.75：主要和次要数据源图标
- en: When you filter on `Person` for the four people that you have in the `People`
    data, you will see that you have linked these values between these data sources.
    Click on the `Person` column dropdown and then `Filter…`, uncheck the `Null` value,
    and click `OK` to add the filter.
  id: totrans-441
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当你为`People`数据中的四个人的`Person`进行过滤时，你会看到你已经在这些数据源之间链接了这些值。点击`Person`列的下拉菜单，然后点击`过滤…`，取消选择`空值`，然后点击`确定`以添加过滤器。
- en: '![Figure 2.76: Filtering to remove unmatched values'
  id: totrans-442
  prefs: []
  type: TYPE_NORMAL
  zh: '![图2.76：过滤以移除不匹配的值'
- en: '](img/B16342_02_76.jpg)'
  id: totrans-443
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_02_76.jpg)'
- en: 'Figure 2.76: Filtering to remove unmatched values'
  id: totrans-444
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.76：过滤以移除不匹配的值
- en: 'You will get the following output, which shows the customer name matching `Person`:'
  id: totrans-445
  prefs: []
  type: TYPE_NORMAL
  zh: 你将得到以下输出，它显示了与`Person`匹配的客户名称：
- en: '![Figure 2.77: Data blend output'
  id: totrans-446
  prefs: []
  type: TYPE_NORMAL
  zh: '![图2.77：数据混合输出'
- en: '](img/B16342_02_77.jpg)'
  id: totrans-447
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_02_77.jpg)'
- en: 'Figure 2.77: Data blend output'
  id: totrans-448
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.77：数据混合输出
- en: Using data blending, you can display data from various sources at multiple aggregation
    levels in different sheets. For instance, in one sheet, you can blend the data
    at the `Year` aggregation level, while in the other you can blend at the `Month` level.
  id: totrans-449
  prefs: []
  type: TYPE_NORMAL
  zh: 使用数据混合，你可以在不同的工作表中以不同的聚合级别显示来自多个数据源的数据。例如，在一个工作表中，你可以在`Year`聚合级别混合数据，而在另一个工作表中，你可以在`Month`级别混合。
- en: This is possible because, in a data blend, the data sources are not joined at
    the input source. This provides the flexibility to have large data sources and
    blend only in certain sheets where required. This can help make the dashboard
    render faster.
  id: totrans-450
  prefs: []
  type: TYPE_NORMAL
  zh: 这之所以可能，是因为在数据混合中，数据源在输入源处并未连接。这提供了灵活性，可以拥有大型数据源，并在需要时仅在某些工作表中混合。这有助于使仪表板渲染更快。
- en: Limitations of Data Blending
  id: totrans-451
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 数据混合的限制
- en: Data blending does not work with certain aggregation levels, such as `MEDIAN`
    and `COUNTD` (count distinct).
  id: totrans-452
  prefs: []
  type: TYPE_NORMAL
  zh: 数据混合不适用于某些聚合级别，例如`MEDIAN`和`COUNTD`（计数不同）。
- en: You cannot publish the blended data sources on Tableau Server directly. First,
    you need to publish the data sources individually on the server and then blend
    the published data sources in your Tableau Desktop instance. Publishing data sources
    means uploading your data and directly storing it on Tableau Server.
  id: totrans-453
  prefs: []
  type: TYPE_NORMAL
  zh: 您不能直接在 Tableau Server 上发布混合数据源。首先，您需要将数据源单独发布到服务器上，然后在您的 Tableau Desktop 实例中混合已发布的数据源。发布数据源意味着上传您的数据并将其直接存储在
    Tableau Server 上。
- en: Another limitation is that the data used from the secondary data source must
    be at a higher aggregation level compared to the primary data source. If the aggregation
    level is not correct, an asterisk (`*`) will appear in the visualizations, indicating
    a one-to-many join aggregation level. You can swap the data sources to resolve
    this error.
  id: totrans-454
  prefs: []
  type: TYPE_NORMAL
  zh: 另一个限制是，从二级数据源使用的数据必须在聚合级别上高于主数据源。如果聚合级别不正确，可视化中会出现星号 (`*`)，表示一对一连接的聚合级别。您可以通过交换数据源来解决这个问题。
- en: This concludes the theory sections of this lesson. Next, you will put all you
    have learned into practice in the following activities.
  id: totrans-455
  prefs: []
  type: TYPE_NORMAL
  zh: 这结束了本课的理论部分。接下来，您将在以下活动中将您所学的一切付诸实践。
- en: 'Activity 2.01: Identifying the Returned Orders'
  id: totrans-456
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 活动二.01：识别退货订单
- en: As an analyst, you may encounter a situation where you would like to assess
    business performance by sales. It is therefore important to understand how many
    orders are fulfilled and how many are returned. If certain products are being
    returned frequently, it is a point of investigation as it can have serious consequences
    on the business.
  id: totrans-457
  prefs: []
  type: TYPE_NORMAL
  zh: 作为分析师，您可能会遇到需要通过销售额来评估业务绩效的情况。因此，了解有多少订单已履行以及有多少订单已退货非常重要。如果某些产品被频繁退货，这是一个需要调查的点，因为它可能对业务产生严重影响。
- en: Usually, order information is kept separate from returns information. Hence,
    to bring this information together, you need to join the two data sources.
  id: totrans-458
  prefs: []
  type: TYPE_NORMAL
  zh: 通常，订单信息与退货信息分开保存。因此，为了将此信息合并在一起，您需要连接这两个数据源。
- en: For this activity, you will use the `Orders` and `Returns` tables from the `Sample
    - Superstore` Excel file. You are already aware of the `Orders` table.
  id: totrans-459
  prefs: []
  type: TYPE_NORMAL
  zh: 对于这个活动，您将使用来自 `Sample - Superstore` Excel 文件的 `Orders` 和 `Returns` 表。您已经熟悉了
    `Orders` 表。
- en: The `Returns` table consists of the `Order ID` and `Returned` columns. `Order
    ID` is the ID that would match with the `Orders` table. The `Returned` column
    indicates `Yes` for the order ID.
  id: totrans-460
  prefs: []
  type: TYPE_NORMAL
  zh: '`Returns` 表包含 `Order ID` 和 `Returned` 列。`Order ID` 是与 `Orders` 表匹配的 ID。`Returned`
    列表示订单 ID 的返回状态。'
- en: '![Figure 2.78: Returns sheet columns'
  id: totrans-461
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 2.78：退货单列](img/B16342_02_78.jpg)'
- en: '](img/B16342_02_78.jpg)'
  id: totrans-462
  prefs: []
  type: TYPE_NORMAL
  zh: '![img/B16342_02_78.jpg](img/B16342_02_78.jpg)'
- en: 'Figure 2.78: Returns sheet columns'
  id: totrans-463
  prefs: []
  type: TYPE_NORMAL
  zh: 图 2.78：退货单列
- en: The objective is to identify the returned orders after combining them with the
    main `Orders` table so that you may determine which orders were both fulfilled
    and returned.
  id: totrans-464
  prefs: []
  type: TYPE_NORMAL
  zh: 目标是在将它们与主 `Orders` 表结合后识别退货订单，以便您可以确定哪些订单既已履行又已退货。
- en: 'The steps are as follows:'
  id: totrans-465
  prefs: []
  type: TYPE_NORMAL
  zh: 步骤如下：
- en: Open the `Sample - Superstore` dataset in your Tableau instance.
  id: totrans-466
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在您的 Tableau 实例中打开 `Sample - Superstore` 数据集。
- en: Rename the data source to `Activity 1`.
  id: totrans-467
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将数据源重命名为 `Activity 1`。
- en: Drag the `Orders` table onto the canvas.
  id: totrans-468
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将 `Orders` 表拖放到画布上。
- en: Repeat the same steps for the `Returns` table.
  id: totrans-469
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对 `Returns` 表重复相同的步骤。
- en: You need to bring all the `Orders` and `Returns` table values into the combined
    dataset. Can you identify the correct join based on the requirement? Remember
    that for an order to be returned, it should always be completed first. What can
    be interpreted if you change the join types to left, right, or full outer in this
    case?
  id: totrans-470
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您需要将所有 `Orders` 和 `Returns` 表的值合并到合并数据集中。您能根据要求识别正确的连接吗？请记住，为了退货，订单应该始终先完成。如果您在这种情况下更改连接类型为左连接、右连接或全外连接，可以解释什么？
- en: Identify how many products were returned from the data grid. (An order can have
    multiple products clubbed in it.)
  id: totrans-471
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 识别数据网格中退回了多少产品。（一个订单可以包含多个组合的产品。）
- en: '**Final Output Expected:**'
  id: totrans-472
  prefs: []
  type: TYPE_NORMAL
  zh: '**预期最终输出：**'
- en: '![Figure 2.79: Choose the correct join'
  id: totrans-473
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 2.79：选择正确的连接](img/B16342_02_79.jpg)'
- en: '](img/B16342_02_79.jpg)'
  id: totrans-474
  prefs: []
  type: TYPE_NORMAL
  zh: '![img/B16342_02_79.jpg](img/B16342_02_79.jpg)'
- en: 'Figure 2.79: Choose the correct join'
  id: totrans-475
  prefs: []
  type: TYPE_NORMAL
  zh: 图 2.79：选择正确的连接
- en: In this activity, you strengthened your knowledge of various joins and their
    outputs. You also learned how to interpret the results by changing the join types.
  id: totrans-476
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个活动中，您加强了关于各种连接及其输出的知识。您还学习了如何通过更改连接类型来解释结果。
- en: Note
  id: totrans-477
  prefs: []
  type: TYPE_NORMAL
  zh: 备注
- en: 'The solution to this activity can be found here: [https://packt.link/CTCxk](https://packt.link/CTCxk).'
  id: totrans-478
  prefs: []
  type: TYPE_NORMAL
  zh: 该活动的解决方案可以在此找到：[https://packt.link/CTCxk](https://packt.link/CTCxk)。
- en: 'Activity 2.02: Preparing Data for Visualization'
  id: totrans-479
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 活动摘要 2.02：准备数据以进行可视化
- en: Now that you have joined the data, the next step is to make sure that the data
    is ready for visualization. This involves performing data transformation activities
    such as cleaning the data by removing the null values. You may also be required
    to rename certain columns or add aliases, split the columns, and so on.
  id: totrans-480
  prefs: []
  type: TYPE_NORMAL
  zh: 现在你已经连接了数据，下一步是确保数据为可视化做好准备。这涉及到执行数据转换活动，例如通过删除空值来清理数据。你可能还需要重命名某些列或添加别名，拆分列等。
- en: In this activity, you will perform some data transformation steps based on the
    left join output of the previous activity.
  id: totrans-481
  prefs: []
  type: TYPE_NORMAL
  zh: 在本活动中，你将根据前一个活动的左连接输出执行一些数据转换步骤。
- en: This activity will help you to strengthen the concepts of data transformation
    in Tableau. This is a very important process in any Tableau project. Hence, it
    becomes crucial that you are well experienced in doing these in Tableau.
  id: totrans-482
  prefs: []
  type: TYPE_NORMAL
  zh: 本活动将帮助你加强Tableau中数据转换的概念。这是任何Tableau项目中非常重要的一个过程。因此，你熟练掌握这些操作在Tableau中变得至关重要。
- en: The objective of this activity is to transform the data into a cleaned form
    for visualization. You need to first create an extract for this data source. Then
    you need to display the data only for the `Furniture` and `Office Supplies` categories.
    Is there a way to do this using the extract properties? You will also clean up
    the final data by changing any nulls to blanks. Let's also remove repeated terms
    such as `Class` from the `Ship Mode` column.
  id: totrans-483
  prefs: []
  type: TYPE_NORMAL
  zh: 本活动的目标是将数据转换成适合可视化的清洁形式。首先，你需要为此数据源创建一个提取。然后，你需要仅显示`家具`和`办公用品`类别中的数据。是否可以使用提取属性来完成此操作？你还将通过将任何空值更改为空格来清理最终数据。让我们也从`Ship
    Mode`列中删除重复的术语，如`Class`。
- en: Once done, your data should be ready for visualization.
  id: totrans-484
  prefs: []
  type: TYPE_NORMAL
  zh: 完成后，你的数据应该为可视化做好准备。
- en: 'Continuing from Activity 2.01, the following steps will help you complete this
    activity:'
  id: totrans-485
  prefs: []
  type: TYPE_NORMAL
  zh: 从活动2.01继续，以下步骤将帮助你完成此活动：
- en: Open the `Sample - Superstore` dataset in your Tableau instance.
  id: totrans-486
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在你的Tableau实例中打开`Sample - Superstore`数据集。
- en: Create a data extract for this data.
  id: totrans-487
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为此数据创建一个数据提取。
- en: Add a filter on the data to pull the `Furniture` and `Office Supplies` categories.
    Check the row count.
  id: totrans-488
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在数据上添加一个过滤器以提取`家具`和`办公用品`类别。检查行数。
- en: Transform the data by aliasing a few columns.
  id: totrans-489
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过别命名几个列来转换数据。
- en: Alias the null values from the columns of the `Returns` table to blanks.
  id: totrans-490
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将`Returns`表中的列的空值别名为空格。
- en: Remove the word `Class` from the `Ship Mode` column.
  id: totrans-491
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从`Ship Mode`列中删除单词`Class`。
- en: 'Once completed, you should get the following output:'
  id: totrans-492
  prefs: []
  type: TYPE_NORMAL
  zh: 完成后，你应该得到以下输出：
- en: '**Final Output Expected**:'
  id: totrans-493
  prefs: []
  type: TYPE_NORMAL
  zh: '**预期最终输出**：'
- en: '![Figure 2.80: Final output for the activity'
  id: totrans-494
  prefs: []
  type: TYPE_NORMAL
  zh: '![图2.80：活动的最终输出'
- en: '](img/B16342_02_80.jpg)'
  id: totrans-495
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_02_80.jpg)'
- en: 'Figure 2.80: Final output for the activity'
  id: totrans-496
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.80：活动的最终输出
- en: In this activity, you learned how to extract the data. You also added filters
    for the `Category` column to just pull the selected categories. Many times, you
    will work on projects that require the data to be segregated at the beginning,
    such as regional data. These filters help you to achieve exactly this. You also
    transformed the data using aliases, making it much cleaner by removing repeated
    words and nulls.
  id: totrans-497
  prefs: []
  type: TYPE_NORMAL
  zh: 在本活动中，你学习了如何提取数据。你还为`类别`列添加了过滤器，仅提取所选类别。很多时候，你将在需要从一开始就将数据分离的项目上工作，例如区域数据。这些过滤器帮助你实现这一点。你还通过别名转换了数据，通过删除重复的单词和空值使其变得更加干净。
- en: Note
  id: totrans-498
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: 'The solution to this activity can be found here: [https://packt.link/CTCxk](https://packt.link/CTCxk).'
  id: totrans-499
  prefs: []
  type: TYPE_NORMAL
  zh: 该活动的解决方案可以在以下链接找到：[https://packt.link/CTCxk](https://packt.link/CTCxk)。
- en: Summary
  id: totrans-500
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: In this chapter, you learned how to connect to various data sources, which is
    the foremost step in data analysis in Tableau. Next, you learned about the various
    join options that Tableau provides and data transformation options to optimize
    the data for the final visualization. Joining tables is one of the most common
    requirements in practical data analysis. For instance, if you have two tables
    for employee details and department details, to find the number of employees per
    department, you would use a join key to get the required information.
  id: totrans-501
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，你学习了如何连接各种数据源，这是在Tableau中进行数据分析的首要步骤。接下来，你了解了Tableau提供的各种连接选项和数据转换选项，以优化最终的可视化数据。在实践数据分析中，连接表是最常见的需求之一。例如，如果你有两个包含员工详情和部门详情的表，为了找到每个部门的员工数量，你会使用一个连接键来获取所需信息。
- en: You also learned about some advanced data joining options of blending and custom
    SQL. The key takeaway from this chapter is how to connect data most efficiently
    based on the requirements and also how to transform the data so that it becomes
    more suitable for the visualization activity. The next chapter continues with
    the topic of data preparation in Tableau Prep.
  id: totrans-502
  prefs: []
  type: TYPE_NORMAL
  zh: 你还学习了关于数据融合和自定义 SQL 的一些高级数据连接选项。本章的关键收获是如何根据需求最有效地连接数据，以及如何转换数据使其更适合可视化活动。下一章将继续在
    Tableau Prep 中探讨数据准备的话题。
