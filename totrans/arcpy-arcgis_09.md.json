["```py\nimport arcpy\nmxdPath = r'C:\\Projects\\MXDs\\Chapter9\\MapDocument1.mxd'\nmxdObject = arcpy.mapping.MapDocument(mxdPath)\ndataFrame = arcpy.mapping.ListDataFrames(mxdObject, \"Layers\")[0]\nlayersList = arcpy.mapping.ListLayers(mxdObject,\"\",dataFrame)\nprint layersList\n\n```", "```py\nlayersList = arcpy.mapping.ListLayers(mxdObject,\"\",dataFrame)\nbusStops = layersList[0]\nbusStops.definitionQuery = \"NAME = '71 IB' AND BUS_SIGNAG = 'Ferry Plaza'\"\n\n```", "```py\nimport arcpy\nbufferDist = 400\nmxdPath = r'C:\\Projects\\MXDs\\Chapter9\\MapDocument1.mxd'\nmxdObject = arcpy.mapping.MapDocument(mxdPath)\ndataFrame= arcpy.mapping.ListDataFrames(mxdObject, \"Layers\")[0]\nlayersList = arcpy.mapping.ListLayers(mxdObject,\"\",dataFrame)\nbusStops = layersList[0]\ndefQuery = \"NAME = '71 IB' AND BUS_SIGNAG = 'Ferry Plaza'\"\nbusStops.definitionQuery = defQuery\nidList =[]\nwith arcpy.da.SearchCursor(busStops,['OID@']) as cursor:\n for row in cursor:\n idList.append(row[0])\nfor oid in idList:\n newQuery = \"OBJECTID = {0}\".format(oid)\n print newQuery\n busStops.definitionQuery = newQuery\n with arcpy.da.SearchCursor(busStops,['SHAPE@','STOPID','NAME','BUS_SIGNAG','OID@','SHAPE@XY']) as cursor:\n for row in cursor:\n stopPointGeometry = row[0]\n stopBuffer = stopPointGeometry.buffer(bufferDist)\n\n```", "```py\nimport arcpy\nbufferDist = 400\nmxdPath = r'C:\\Projects\\MXDs\\Chapter9\\MapDocument1.mxd'\nmxdObject = arcpy.mapping.MapDocument(mxdPath)\ndataFrame = arcpy.mapping.ListDataFrames(mxdObject, \n \"Layers\")[0]\nlayersList = arcpy.mapping.ListLayers(mxdObject,\"\",dataFrame)\nbusStops = layersList[0]\ncensusBlocks = layersList[3]\nsql = \"NAME = '71 IB' AND BUS_SIGNAG = 'Ferry Plaza'\"\nwith arcpy.da.SearchCursor(busStops,['SHAPE@', 'STOPID', 'NAME', 'BUS_SIGNAG','OID@'],sql) as cursor: \n for row in cursor:\n bus Query = 'OBJECTID = {0}'.format(row[-1])\n busStops.definitionQuery = bus Query\n stopPointGeometry = row[0]\n stop Buffer = stopPointGeometry. Buffer(bufferDist)\n arcpy.SelectLayerByLocation_management(censusBlocks,'intersect',stopBuffer,\"\",\"NEW_SELECTION\")\n blockList = []\n with arcpy.da.SearchCursor(censusBlocks,\n ['OID@']) as bcursor:\n for brow in bcursor:\n blockList.append(brow[0])\n newQuery = 'OBJECTID IN ('for COUNTER, oid in enumerate(blockList):\n if COUNTER < len(blockList)-1:\n newQuery += str(oid) + ','\n else:\n newQuery += str(oid)+ ')'\n print newQuery\n\n```", "```py\nOBJECTID IN (910,1664,1812,1813,2725,6382)\n\n```", "```py\n censusBlocks.definitionQuery = newQuery\n dataFrame.extent = censusBlocks.getExtent()\n arcpy.SelectLayerByAttribute_management(censusBlocks,\n \"CLEAR_SELECTION\")\n\n```", "```py\ndataFrame.scale = dataFrame.scale * 1.1\narcpy.RefreshActiveView()\n\n```", "```py\n    arcpy.CopyFeatures_management(stopBuffer, r\"C:\\Projects\\Output\\400Buffer.shp\") \n    bufferLayer.replaceDataSource(r\"C:\\Projects\\Output\",\"SHAPEFILE_WORKSPACE\",\"400Buffer\")\n\n    ```", "```py\n arcpy.env.overwriteOutput = 1\n\n```", "```py\nimport arcpy\narcpy.env.overwriteOutput = 1\nbufferDist = 400\npdfFolder = r'C:\\Projects\\PDFs\\Chapter9\\Map_{0}'\nmxdPath = r'C:\\Projects\\MXDs\\Chapter9\\MapDocument1.mxd'\nmxdObject = arcpy.mapping.MapDocument(mxdPath)\ndataFrame = arcpy.mapping.ListDataFrames(mxdObject,\"Layers\")[0]\nelements = arcpy.mapping.ListLayoutElements(mxdObject)\nfor el in elements:\n if el.type ==\"TEXT_ELEMENT\":\n if el.text == 'Title Element':\n titleText = el\n elif el.text == 'Subtitle Element':\n subTitleText = el \nlayersList = arcpy.mapping.ListLayers(mxdObject,\n \"\",dataFrame)\n\nbusStops = layersList[0]\nbufferLayer = layersList[2]\ncensusBlocks = layersList[4]\nsql = \"NAME = '71 IB' AND BUS_SIGNAG = 'Ferry Plaza'\"\nwith arcpy.da.SearchCursor(busStops,['SHAPE@',\n 'STOPID',\n 'NAME',\n 'BUS_SIGNAG',\n 'OID@'],sql) as cursor: \n for row in cursor:\n busQuery = 'OBJECTID = {0}'.format(row[-1])\n busStops.definitionQuery = busQuery\n stopPointGeometry = row[0]\n stopBuffer = stopPointGeometry.buffer(bufferDist)\n arcpy.CopyFeatures_management(stopBuffer,r\"C:\\Projects\\Output\\400Buffer.shp\")\n bufferLayer.replaceDataSource(r\"C:\\Projects\\Output\",\n \"SHAPEFILE_WORKSPACE\",\n \"400Buffer\")\n arcpy.SelectLayerByLocation_management(censusBlocks,\n 'intersect',\n stopBuffer,\n \"\",\n \"NEW_SELECTION\")\n blockList = []\n with arcpy.da.SearchCursor(censusBlocks,\n ['OID@']) as bcursor:\n for brow in bcursor:\n blockList.append(brow[0])\n newQuery = 'OBJECTID IN ('\n for COUNTER, oid in enumerate(blockList):\n if COUNTER < len(blockList)-1:\n newQuery += str(oid) + ','\n else:\n newQuery += str(oid)+ ')'\n print newQuery\n censusBlocks.definitionQuery = newQuery\n dataFrame.extent = censusBlocks.getExtent()\n arcpy.SelectLayerByAttribute_management(censusBlocks,\n \"CLEAR_SELECTION\")\n dataFrame.scale = dataFrame.scale * 1.1\n arcpy.RefreshActiveView()\n subTitleText.text = \"Route {0}\".format(row[2])\n titleText.text = \"Bus Stop {0}\".format(row[1])\n outPath  = pdfFolder.format( str(row[1])) + '.pdf'\n print outPath\n arcpy.mapping.ExportToPDF(mxdObject,outPath)\n titleText.text = 'Title Element'\n subTitleText.text = 'Subtitle Element'\n censusBlocks.definitionQuery = ''\n busStops.definitionQuery = ''\n\n```"]