- en: Chapter 7. Answering Questions with Suitability Analysis
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'We live in a world full of various relationships that can be analyzed in functional,
    temporal, or spatial contexts. Spatial relationships are of particular interest
    when it comes to GIS, because here objects in space are represented in a way that
    facilitates explanations and analyses of their geographic relations. Suitability
    analysis is a fundamental part of GIS analysis that answers the question, "Where
    is the best place for something to be located?" In this chapter, you will be exposed
    to the fundamentals of suitability analysis through the search for the best place
    to live in. You will learn how to:'
  prefs: []
  type: TYPE_NORMAL
- en: interpret spatial relationships between objects
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: express these relationships through spatial data
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: analyze spatial data according to a set of predefined criteria
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: overlap layers and interpret the results
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Before starting with this chapter, some essentials of suitability analysis and
    types of spatial relationships between objects will be explained.
  prefs: []
  type: TYPE_NORMAL
- en: Basics of suitability analysis
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Suitability analysis is recognized as a multi-criteria decision support approach.
    In other words, its main aim is to divide the area of interest into two categories
    based on a set of predefined criteria: appropriate for some kind of use (living,
    building, conservation, and so on) and inappropriate. A general approach that
    is used for suitability assessment is multiple layer overlays that support multi-criteria
    decisions. Depending on the data that represents suitability criteria and overlaid,
    there are two basic approaches available:'
  prefs: []
  type: TYPE_NORMAL
- en: Suitability analysis with vector data. This primarily utilizes operations such
    as buffering and their sequential combination using vector overlay operations,
    such as clipping, intersection, and union.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Suitability analysis with raster data. This heavily relies on raster algebra,
    which is used to reclassify initial raster coverages and then combine them to
    produce binary or ranked suitability rasters. This approach is more flexible,
    as it makes it possible to produce multiple suitability classes and change the
    raster weight according to the importance of the factor it represents. As a result,
    the user is able to produce a compound result, but the workflow requires more
    effort connected to data preprocessing and consolidation decisions.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'The following table summarizes the main geoprocessing stages, advantages, and
    pitfalls of suitability assessment with vector and raster data:'
  prefs: []
  type: TYPE_NORMAL
- en: '|   | Vector data | Raster data |'
  prefs: []
  type: TYPE_TB
- en: '| --- | --- | --- |'
  prefs: []
  type: TYPE_TB
- en: '| **Main geoprocessing and analysis operations** |'
  prefs: []
  type: TYPE_TB
- en: Buffering
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Clip overlay
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Intersection overlay
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Union overlay
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '|'
  prefs: []
  type: TYPE_NORMAL
- en: Vector data rasterization
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Proximity raster creation
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Raster reclassification
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Raster algebra addition
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Raster algebra multiplication
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Raster algebra subtraction
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '|'
  prefs: []
  type: TYPE_NORMAL
- en: '| **Advantages** |'
  prefs: []
  type: TYPE_TB
- en: Workflow quickness
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Workflow simplicity
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Good representation of man-made features
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '|'
  prefs: []
  type: TYPE_NORMAL
- en: Simple data reclassification
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Good representation of continuous features
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Crisp and fuzzy classes are possible
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Possibility to weigh different coverages according to their importance
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Various assessments are possible, such as binary, ranked, and weighted
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '|'
  prefs: []
  type: TYPE_NORMAL
- en: '| **Limitations** |'
  prefs: []
  type: TYPE_TB
- en: Provide only crisp classes
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Usually provides binary (yes/no) assessments only
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '|'
  prefs: []
  type: TYPE_NORMAL
- en: Reclassification and ranking subjectivity
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Workflow complexity
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '|'
  prefs: []
  type: TYPE_NORMAL
- en: 'No matter what approach you will follow, the general suitability analysis workflow
    involves several common steps. We will now take a closer look at them to ensure
    better understanding of the suitability analysis system:'
  prefs: []
  type: TYPE_NORMAL
- en: '**Define the goal and objectives of your analysis**: The question to be studied
    is formulated in general, and its applied significance is determined, which will
    later become the set of suitability criteria. Some popular suitability applications
    include the following:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '**Agriculture**: The appropriateness of the area for cultivation of certain
    crops is assessed.'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Retail**: The area is assessed from a marketing prospective—whether it will
    attract new customers or buyers, or not. This type of analysis is in great demand
    when selecting preferable shopping locations.'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Renewable energy**: Assessing land suitability for locations of wind power
    or solar power stations is a remarkable trend in the field of geospatial planning
    for sustainability.'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Nature conservation**: Conservancy needs are prioritized using habitat suitability
    modeling, and the area is divided into locations that are more or less valuable
    for certain species'' survival and reproduction.'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Generally speaking, the primary application of suitability analysis is in the
    field of land use planning, aimed at reasonable prioritization of various types
    of human activities within limited space and natural resources.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '**Analyze the available data and define its relevance to the goals and objectives**:
    Data''s relevance to the goal and objectives is defined. Current data availability
    and future data requirements are analyzed, especially the knowledge of whether
    the current data derivatives can be used for analysis or not. For example, if
    we have to analyze suitability for agricultural needs, a DEM can be a great source.
    It provides not only basic information about the relief, but also some useful
    derivatives, such as slope and aspect. The main outcome of this stage is a list
    of primary data sources and their potential derivatives.'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '**Define the criteria of analysis**: This is the most important stage, where
    the objectives of analysis are described as clear numerical criteria based on
    relevant data. Descriptive objectives are translated into the language of GIS
    analysis. At this stage, various types of spatial relationships between objects
    are analyzed, and some of the most popular relationships include the following:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '**point-to-point relationships**:'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '"is within": All schools that are within a distance of 1 km from a living place'
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
- en: '"is nearest to": The primary school that is closest to a living place'
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Basics of suitability analysis](img/image00470.jpeg)'
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_IMG
- en: Example of the "is within" point-to-point relationship
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
- en: '**point-to-line relationships**:'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '"is nearest to": The street that is closest to a subway station entrance'
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Basics of suitability analysis](img/image00471.jpeg)'
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_IMG
- en: Example of the "nearest to" point-to-line relationship
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
- en: '**point-to-polygon relationships**:'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '"is contained in": All public schools within a certain community boundary'
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Basics of suitability analysis](img/image00472.jpeg)'
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_IMG
- en: Example of the "is contained in" point-to-polygon relationship
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
- en: '**line-to-line relationships**:'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '"crosses": Whether a particular trail crosses a road'
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
- en: '"is within": Find all trails that are within a distance of 1 km from a particular
    river'
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
- en: '"is connected to": Find all streets connected to a particular highway'
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
- en: '**line-to-polygon relationships**:'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '"intersects": Find all districts crossed by a cycleway'
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
- en: '"contains": Find all streets that are completely within a certain district'
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Basics of suitability analysis](img/image00473.jpeg)'
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_IMG
- en: Example of the "intersects" line-to-polygon relationship
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
- en: '**polygon-to-polygon** **relationships**:'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '"completely within": Find all districts that are completely within a hazard
    zone'
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
- en: '"is nearest to": Find the building that is nearest to a park'
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Basics of suitability analysis](img/image00474.jpeg)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: Example of the "completely within" polygon-to-polygon relationship
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '**Primarily analyze and prepare the data**: The data is analyzed according
    to the set of criteria defined in the previous stages. Common analysis operations
    involve selection by location, buffering, rasterization, proximity (raster distance),
    and so on. After all the necessary layers are ready, they should be prepared for
    overlay, which involves reprojection into a common coordinate reference system
    (if necessary), setting ranges for various ranks, and reclassification in the
    common ranking system. All the layers should contain values in uniform units,
    otherwise their overlay will be meaningless and hard to interpret.'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '**Overlay the data and interpret the results**: Previously prepared layers
    are combined into a single coverage based on a set of user-defined rules. Depending
    on the data available and the rules applied, the following suitability assessments
    are possible:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '**Binary suitability assessment**: All of the area is divided into appropriate
    and inappropriate categories. This is the simplest type of assessment that can
    be obtained from vector data overlay.'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Ranked suitability assessment**: Places are ranked from least appropriate
    to most appropriate based on the entire range of predefined criteria. This type
    of assessment can be derived from both vector and raster data. It lets you avoid
    simple yes/no assessments, which are not inherent to the real word. This advantage
    is counterbalanced by the subjectivity of data rankings and equal importance of
    various factors. Nevertheless, in the real world, their contribution to overall
    assessment can vary.'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Weighted suitability assessment**: This is similar to the previous type of
    assessment and has only one significant difference: various factors can be weighted
    differently according to their importance for a certain type of activity. This
    type of assessments relies on the raster algebra approach and is thought to be
    all-inclusive, but not without some subjectivity, especially when it comes to
    factor weighting and interpreting the final result.'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: In the following sections, we will go through all of these stages individually
    and perform a weighted suitability assessment for living, combining various data
    types from the training dataset.
  prefs: []
  type: TYPE_NORMAL
- en: Step 1 – define the goal and objectives of our analysis
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Throughout this tutorial, we will suppose that we are working on behalf of a
    young couple with a little child. They are looking for a perfect place to live
    in within a certain region of their interest. Our goal is to use the power of
    GIS-based suitability analysis methods and provide an objective and reliable answer
    to their question.
  prefs: []
  type: TYPE_NORMAL
- en: 'The goal of this analysis is to find areas that would be a good match for a
    young family with a child, given certain considerations. Many of their requirements
    are similar to those of a traditional housing estate development company. For
    example, proximity of subway stations, green zones, and public safety must be
    all taken into consideration. There are also some family-specific requirements
    that should be considered. As already mentioned, the family has a little baby,
    which means that we should take into account the existence of early childhood
    or elementary schools nearby. Also, they are keen on sports, and it would be great
    if the area they are going to live in has well-developed and active rest infrastructure.
    After this kind of review, we can formulate some more specific requirements and
    objectives:'
  prefs: []
  type: TYPE_NORMAL
- en: '**Safety**: The area should not be exposed to various natural and crime hazards'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Connectivity**: It should be well-connected to the city''s transport network'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Greenness and openness**: It should be close to parks or other green areas'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Educational potential**: Early childhood or elementary schools should be
    located in the neighborhood'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Active rest opportunities**: These include a cycling network and athletic
    facilities'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Cultural life**: Art galleries and museums can be recognized as general signs
    of cultural pulse beating'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Now that the main objectives and requirements have been clarified, we can proceed
    to the next step and study all of the available data to assess its relevance to
    our example.
  prefs: []
  type: TYPE_NORMAL
- en: Step 2 – analyze the available data and define its relevance
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'As soon as we have defined the basic requirements, we need to explore the data
    layers that are potentially useful and relevant for our analysis. The training
    dataset contains a large number of datasets, and the most relevant among them
    are listed in the following table:'
  prefs: []
  type: TYPE_NORMAL
- en: '| Requirement | Layer | Potential relevance |'
  prefs: []
  type: TYPE_TB
- en: '| --- | --- | --- |'
  prefs: []
  type: TYPE_TB
- en: '| Safety | `hurricane_evacuation_zones` | Hurricane evacuation zones are the
    areas of the city that may need to be evacuated due to life- and safety-related
    threats from a hurricane storm surge. |'
  prefs: []
  type: TYPE_TB
- en: '| `hurricane_inundation_zones` | Hurricane inundation zones are the areas of
    worst-case storm surge inundation. |'
  prefs: []
  type: TYPE_TB
- en: '| `noise_heatmap` | The raster created in the *Creating heat maps with the
    Heatmap plugin* section of [Chapter 5](part0043.xhtml#aid-190861 "Chapter 5. Answering
    Questions with Density Analysis"), *Answering Questions with Density Analysis*,
    that shows the spatial density of registered noise complaints might be useful
    for potential assessment for public safety. |'
  prefs: []
  type: TYPE_TB
- en: '| Connectivity | `subway_entrances` | Locations of subway entrances. |'
  prefs: []
  type: TYPE_TB
- en: '| Greenness and openness | `parks` | A layer containing open space features,
    such as courts, tracks, parks, and so on. |'
  prefs: []
  type: TYPE_TB
- en: '| `tree_density` | This is a raster layer created from the tree census data.
    |'
  prefs: []
  type: TYPE_TB
- en: '| Educational potential | `elementary_schools` | These are the point locations
    of schools based on the official addresses. This layer includes some basic information
    about the school, such as the name, address, type, and principal''s contact information.
    |'
  prefs: []
  type: TYPE_TB
- en: '| Active rest opportunities | `bike_routes` | Locations of bike lanes and routes
    throughout the city. |'
  prefs: []
  type: TYPE_TB
- en: '| `athletic_facilities` | This layer contains athletic facilities and some
    basic information about them, including primary sport type, surface, dimensions,
    and so on. |'
  prefs: []
  type: TYPE_TB
- en: '| Cultural life | `museumart` | Locations of museums and art galleries. |'
  prefs: []
  type: TYPE_TB
- en: These layers are primarily defined as most suitable for our analysis because
    they are directly related to the specified requirements, but most of them are
    represented as simple geometric primitives or density raster coverages that are
    difficult to be directly interpreted as suitability criteria. in the next stage,
    we will explore their main properties, including attributes, and will try to formulate
    specific and measurable criteria based on various types of spatial relationships
    between objects.
  prefs: []
  type: TYPE_NORMAL
- en: Step 3 – define the criteria of analysis
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'According to the description of `hurricane_evacuation_zones`, there are six
    zones, ranked in the attribute field zone by risk of storm surge impact, with
    zone `1` being the region most likely to be flooded. In the event of a hurricane
    or tropical storm, residents in these zones may be ordered to evacuate. Areas
    with a zone value of `X` are not in any evacuation zone. Areas with a zone value
    of `0` are any of the following: water, small piers, or uninhabited islands. For
    the purpose of analysis, this layer should be rasterized and ranked according
    to the risk of hurricane impact, with rank values descending from areas that are
    not in any evacuation zone to those most likely to be flooded.'
  prefs: []
  type: TYPE_NORMAL
- en: The `hurricane_inundation_zones` polygon layer contains information about the
    risk of storm surge inundation in the `category` attribute field, in which the
    value is the surge height in feet. Areas that are most likely to be inundated
    are assigned a value of `1`, and areas that are excluded from inundation modeling
    are assigned a value of `5`. This layer should be rasterized and ranked with the
    highest potential suitability values for excluded areas, and the lowest for the
    areas of the `1` category.
  prefs: []
  type: TYPE_NORMAL
- en: The `noise_heatmap` raster layer is a raster that should be ranked using several
    categories, with the lowest suitability values for the noisiest places and vice
    versa. A good thing here is that we don't need to rasterize this layer, as we
    did with the previous layers. At the same time, establishing the amount and ranges
    for the rankings brings subjectivity into our assessment. The `tree_density` layer,
    which is also a density raster, should be analyzed similarly.
  prefs: []
  type: TYPE_NORMAL
- en: The other selected layers should be analyzed first for their proximity. For
    this purpose, we will first rasterize them, then create continuous proximity rasters,
    and finally rank them under several categories according to the proximity values
    (the closer an object, the higher the suitability value). Again, in the case of
    user rankings, we will not be able to avoid some subjectivity in our assessments.
    Also, the final proximity rasters can be weighted according to their importance
    in the overall suitability assessment.
  prefs: []
  type: TYPE_NORMAL
- en: Step 4 – Analyze and prepare the data
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'There are three main approaches to primary data analysis. These depend on the
    initial data type and available attributes:'
  prefs: []
  type: TYPE_NORMAL
- en: '**Rasterizing and ranking categorized vector layers**: These are the layers
    that already contain all the necessary values, and at the preparation stage, all
    of them should be rasterized to the similar extent and resolution. Also, their
    categories should be ranked properly, with the highest values for the most suitable
    areas and vice versa. Examples of these layers are `hurricane_evacuation_zones`,
    `hurricane_inundation_zones`, and so on.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Ranking density rasters**: These are raster heat maps that should be converted
    from continuous coverages to categorized values where the highest value symbolizes
    the most appropriate area, and the lowest is related to the least suitable area.
    Examples of these layers are `noise_heatmap` and `tree_density`.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Generating and ranking proximity rasters**: This is the most tedious workflow.
    Vector layers should be rasterized first, and then proximity rasters should be
    created and ranked properly. This category encompasses the following vector layers:
    `subway_entrances`, `parks`, `public_schools`, `bike_routes`, `athletic_facilities`,
    and `museumart`.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Note that for the final output, we will always have ranked unique value rasters,
    with the highest values denoting the most suitable areas. Also, it is important
    that all output rasters share a common extent, which is necessary for their proper
    overlay with the raster calculator and overall suitability assessment.
  prefs: []
  type: TYPE_NORMAL
- en: In the upcoming sections, we will go through the previously mentioned workflows
    for the example of raster layers. As soon as you grasp the principle, you will
    be able to prepare other layers independently.
  prefs: []
  type: TYPE_NORMAL
- en: Rasterizing and ranking categorized vector layers
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: In this example, we will work on the `hurricane_evacuation_zones` layer. The
    attribute we are particularly interested in is `zone`. This is because by this
    attribute, areas are prioritized for evacuation. Areas with the lowest value,
    `1`, are the most likely to be evacuated, and vice versa. In this case, we can
    use these values directly to rank the raster. We have already done rasterization
    in [Chapter 6](part0047.xhtml#aid-1CQAE1 "Chapter 6. Answering Questions with
    Visibility Analysis"), *Answering Questions with Visibility Analysis*, in the
    *Step 1 – converting a buildings' vector layer to raster* section. This time,
    we will follow the same procedure.
  prefs: []
  type: TYPE_NORMAL
- en: 'One thing that prevents us from doing rasterization directly is that the attribute
    field that is used for rasterization should be numeric. If you check out the attribute
    field in the **Fields** section under **Properties**, you will see that the field
    zone has **Type QString**, and its values that contain numbers 1-6 and letters
    (X) are interpreted not as numbers but as sequences of symbols or strings. That''s
    why this field is unavailable for rasterization and should first be converted
    to numbers. This can be done easily with **Field calculator**:'
  prefs: []
  type: TYPE_NORMAL
- en: Open the attribute table of the layer using the right-click **Open Attribute
    Table** shortcut, or hit the relative button ![Rasterizing and ranking categorized
    vector layers](img/image00475.jpeg) from the **Attributes** toolbar. In the attribute
    table toolbar, either click on the **Open field calculator** button or use the
    *Ctrl* + *I* keyboard shortcut.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'First of all, we should get rid of the `X` value that cannot be interpreted
    as a number and cannot be converted to it. As we have only one line that contains
    the `X` value, we simply toggle editing mode by clicking on the ![Rasterizing
    and ranking categorized vector layers](img/image00476.jpeg) button in the attribute
    table toolbar. Double-click on the cell and manually enter the new value of `7`.
    If you have multiple values to change, you can use the following expression in
    **Field calculator** to change some zone field values: `CASE WHEN "zone" = ''X''
    THEN ''7'' ELSE "zone" END`.'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Click on the ![Rasterizing and ranking categorized vector layers](img/image00477.jpeg)
    button to open the **Field calculator** dialog window as shown in the following
    screenshot, and make the following adjustments:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Make sure that the **Create a new field** toggle is on.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Type the **Output field** name manually, for example, `rank`.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Select **Whole number (integer)** from the **Output field** type list, as we
    are going to use short integers for ranking.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Reduce **Output field width** to `1`. This is because the rank values don't
    exceed 10 and we don't want to create excess data by producing fields of length
    that exceed actual data values.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: In the **Expression** field, we need to type a function that will be used to
    create the values of a new field. In the **Functions** list, expand the **Conversions**
    item and double-click on the **toint** function. According to its description,
    it converts a string to an integer number. Nothing changes if a value cannot be
    converted to integer (for example, `123asd` is invalid). After double-clicking,
    the function will be added to the expression with an open bracket, after which
    you should type (or double-click to add an item from **Fields and Values**) the
    field name to be converted in double quotation marks, and close the brackets.
    In our case, the resulting expression will be `toint( "zone" )`.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: After you've clicked on the **OK** button, the new field will appear at the
    end of the table. Deactivate editing mode, confirm saving of the edits, and exit
    the attribute table window.![Rasterizing and ranking categorized vector layers](img/image00478.jpeg)
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'The layer is ready for rasterization. Open a dialog window by going to **Raster**
    | **Conversion** | **Rasterize (Vector to Raster)**. In this dialog window as
    shown in the following screenshot, adjust the following settings:'
  prefs: []
  type: TYPE_NORMAL
- en: From the **Input file (shapefile)** drop-down list, select `hurricane_evacuation_zones`.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: From the **Attribute** drop-down list, select `rank`.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'In **Output file for** **rasterized vectors (raster)**, click on the **Select**
    button. Navigate to your working directory, and type `hurricane_evacuation_zones.tif`
    as the new layer name. This message will be shown: **The output file doesn''t
    exist. You must set up the output size or resolution to create it.**. Click on
    **OK** and proceed to the next stage.'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'In the previous steps, you defined some major options. For convenience, we
    will create rasters in this tutorial with the same extent and resolution using
    `lidar_dem.tif` as a template. Click on the ![Rasterizing and ranking categorized
    vector layers](img/image00479.jpeg) button to make the `gdal_rasterize` command-line
    parameters editable. After modification, the line should look similar to the following
    example:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: This means that the output raster will contain rasterized values from the rank
    attribute field. Areas outside the layer polygons will be assigned a value of
    `0`, which will be interpreted as `nodata`. The output data type is a 16-bit unsigned
    integer.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Click on the **OK** button. The result of rasterization will appear in the **Layers**
    panel.![Rasterizing and ranking categorized vector layers](img/image00480.jpeg)
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'The `hurricane_inundation_zones` layer should be preprocessed in a similar
    way. The layer contains some `zone` numbers. These can be interpreted as the severity
    of inundation risk; that is, the higher the number, the lower the risk. This means
    that we can use these values directly for ranking. In the case of this layer,
    the `gdal_rasterize` command-line parameters will look as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: When combined, these layers can give a cumulative assessment of suitability
    based on risk's severity from natural hazards.
  prefs: []
  type: TYPE_NORMAL
- en: Ranking density rasters
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'In the case of density rasters, we can use the ready `noise_heatamp.tif` created
    in the *Creating heat maps with the Heatmap plugin* section of [Chapter 5](part0043.xhtml#aid-190861
    "Chapter 5. Answering Questions with Density Analysis"), *Answering Questions
    with Density Analysis*, and create the `tree_density.tif` layer ourselves. First,
    we will prepare a `noise_heatmap.tif` that is originally much larger by extent
    than the area of interest that we are working on in this chapter. To clip the
    raster layer go to **Raster** | **Extraction** | **Clipper**:'
  prefs: []
  type: TYPE_NORMAL
- en: From the **Input file (raster)** drop-down list select **noise-heatmap**, which
    is the raster to be clipped.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: In **Output file**, click on the **Select** button to set a path and name for
    the output file, for example, `noise_heatmap_clip.tif`.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'In the **Clipping mode** section, there are two possible modes:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '**Extent** is where you can enter the bounding box''s coordinates manually
    or by dragging the map canvas. Use this approach to set the extent for your output
    file. Just remember that the extent should exceed the boundaries of the area of
    interest set by the `zipcode_bound` shapefile.'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: If **Mask layer** is active, you can select a polygonal shapefile, and it will
    be used as a clipping boundary.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: After you have clicked on the **OK** button, the layer will be loaded into the
    map canvas.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Ranking density rasters](img/image00481.jpeg)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: 'The following steps should be done to assess its value range, divide it into
    categories, and rank them:'
  prefs: []
  type: TYPE_NORMAL
- en: Double-click on the `noise_heatmap_clip` layer to open the **Layer Properties**
    window. In this window, go to the **Metadata** section. Explore the **Properties**
    window in the lower part of the dialog until you find the **Band 1** highlighted
    line with basic raster statistics, as shown here:![Ranking density rasters](img/image00482.jpeg)
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'We will deal with the density raster, and its values are interpreted as the
    number of noise complaints per pixel area. This continuous surface should be divided
    into categories and they should be ranked according to the number of complaints.
    For this, a certain critical number of complaints should be set. There are no
    officially recognized limits and requirements, but we can interpret the mean dataset
    value as some critical number (it is slightly greater than 56, but we will use
    50 for convenience). Divide the values into categories and assign them the following
    ranks (the less the number of complaints, the better):'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '| Category | Value range | Suitability rank |'
  prefs:
  - PREF_IND
  type: TYPE_TB
- en: '| --- | --- | --- |'
  prefs:
  - PREF_IND
  type: TYPE_TB
- en: '| 1 | Less than 50 | 5 |'
  prefs:
  - PREF_IND
  type: TYPE_TB
- en: '| 2 | 50 to 100 | 4 |'
  prefs:
  - PREF_IND
  type: TYPE_TB
- en: '| 3 | 100 to 150 | 3 |'
  prefs:
  - PREF_IND
  type: TYPE_TB
- en: '| 4 | 150 to 200 | 2 |'
  prefs:
  - PREF_IND
  type: TYPE_TB
- en: '| 5 | Greater than 200 | 1 |'
  prefs:
  - PREF_IND
  type: TYPE_TB
- en: 'For the rankings, go to **Raster** | **Raster Calculator** and adjust the following
    options in its dialog window:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Enter the **Output layer** path and name, for example, `noise_ranked`
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Select the `noise_heatmap_clip @1` raster band and click on the **Current layer
    extent** button to make sure that the output layer will have the same resolution
    and extent
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: 'In the **Raster Calculator** expression window, enter the following expression:'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_PRE
- en: This expression means that every pixel that falls under a certain range given
    in brackets first assigned 1 value, and then it is ranked by a certain multiplier
    value, which is outside the brackets. After you click on the **OK** button, the
    reclassified raster will be loaded into the **Layers** panel.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Ranking density rasters](img/image00483.jpeg)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: 'Pay attention to this: due to ranking, the heat map was inverted; that is,
    the noisiest hotspots get the lowest ranks and the quietest places get the highest.'
  prefs: []
  type: TYPE_NORMAL
- en: In a similar way, we can create and rank heat maps for other point objects that
    are of interest in our suitability analysis, namely `trees` and `museumart`.
  prefs: []
  type: TYPE_NORMAL
- en: Generating and ranking proximity rasters
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'The workflow will be explained in the example of the `subway_entrances` point
    vector layer:'
  prefs: []
  type: TYPE_NORMAL
- en: 'First, the layer should be rasterized in a common way. The `gdal_rasterize`
    line will contain the following parameters:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE3]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: In the output layer, existing point locations will be marked by pixel values
    of `1`, while all other areas will be assigned the `nodata` values of `0`.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: 'Go to **Raster** | **Analysis** | **Proximity (Raster Distance)**. This dialog
    generates a raster proximity map that indicates the distance from the center of
    each pixel to the center of the nearest pixel identified as a target pixel. Target
    pixels are those pixels in the source raster for which the raster pixel value
    is in the set of target pixel values. If not specified, all nonzero pixels will
    be considered target pixels. In the dialog window, adjust the following parameters:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: From the **Input file** drop-down list, select the `subway_entrances` layer.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: In the **Output file**, click on the **Select** button and specify a path and
    a name for the output layer, for example, `subway_entances_proximity.tif`.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Make sure that the **Dist units** parameter is activated and set to **GEO**.
    In this case, the distances generated will be in georeferenced coordinates (feet).
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: 'The resulting parameters line will look like this:'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '[PRE4]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: Note
  prefs:
  - PREF_IND
  - PREF_H3
  type: TYPE_NORMAL
- en: To convert a vector to raster, we used a tool from the GDAL. It is called `gdal_proximity`.
    You can read an extensive synopsis of the `gdal_proximity` parameters and their
    values at [http://www.gdal.org/gdal_proximity.html](http://www.gdal.org/gdal_proximity.html).
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Generating and ranking proximity rasters](img/image00484.jpeg)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: 'The proximity raster should be divided into discrete categories and they should
    be ranked. For this operation, we will use **Raster Calculator**. The major problem
    here is to decide on the amount and properly select the proximity categories for
    ranking. The optimal decision depends on the so-called walking radius, that is,
    the distance that people are comfortable to walk up to. Generally, transport planners
    have observed that the walking distance that most people seem to cover comfortably—
    beyond which ridership falls drastically—is about 400 m (approximately 1300 feet).
    We will apply this 400 m rule to categorize the layer values (min as zero and
    max as 4988.71) into four categories, with the following ranks:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '| Category | Proximity values range (feet) | Suitability rank |'
  prefs:
  - PREF_IND
  type: TYPE_TB
- en: '| --- | --- | --- |'
  prefs:
  - PREF_IND
  type: TYPE_TB
- en: '| 1 | Less than 1,300 | 4 |'
  prefs:
  - PREF_IND
  type: TYPE_TB
- en: '| 2 | 1,300 to 2,600 | 3 |'
  prefs:
  - PREF_IND
  type: TYPE_TB
- en: '| 3 | 2,600 to 3,900 | 2 |'
  prefs:
  - PREF_IND
  type: TYPE_TB
- en: '| 4 | Greater than 3,900 | 1 |'
  prefs:
  - PREF_IND
  type: TYPE_TB
- en: 'Go to **Raster** | **Raster Calculator** and adjust the main options. Enter
    the following expression to generate a new `subway_entrances_proximity_ranks`
    raster:'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '[PRE5]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: 'In the following screenshot, you can see what continuous (on the left) and
    ranked (on the right) rasters may look like:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Generating and ranking proximity rasters](img/image00485.jpeg)'
  prefs: []
  type: TYPE_IMG
- en: In a similar way, you can preprocess other vector layers that should be analyzed
    from the proximity position, namely `parks`, `bike_routes`, `athletic_facilities`,
    and `elementary schools`. As a result, you will have a set of raster layers ranked
    with several categories according to the proximity of selected objects. The higher
    the rank, the closer the objects. As a general rule of thumb, apply the 400 m
    (or 1300 feet) value to rank the rasters properly.
  prefs: []
  type: TYPE_NORMAL
- en: Step 5 – overlay the data and interpret the results
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Now we have everything ready for overlaying the rasters and generating a cumulative
    suitability assessment. In the following table, you can see the full list of layers,
    weighted by their importance for general suitability. Weights are simple coefficients
    within a range of 0 to 1, and they are used to modify the rank properly.
  prefs: []
  type: TYPE_NORMAL
- en: '| No. | Raster layer name | Raster layer type | Rank min | Rank max | Weight
    coefficient | Max possible value = max rank * weight |'
  prefs: []
  type: TYPE_TB
- en: '| --- | --- | --- | --- | --- | --- | --- |'
  prefs: []
  type: TYPE_TB
- en: '| 1 | `athletic_facilities_proximity_ranks` | Proximity | 1 | 5 | 0.04 | 0.2
    |'
  prefs: []
  type: TYPE_TB
- en: '| 2 | `bike_routes_proximity_ranks` | Proximity | 1 | 3 | 0.06 | 0.18 |'
  prefs: []
  type: TYPE_TB
- en: '| 3 | `hurricane_evacuation_zones` | Zoning | 1 | 7 | 0.16 | 1.12 |'
  prefs: []
  type: TYPE_TB
- en: '| 4 | `hurricane_inundation_zones` | Zoning | 1 | 5 | 0.16 | 0.8 |'
  prefs: []
  type: TYPE_TB
- en: '| 5 | `Museumart_ranked` | Density | 1 | 4 | 0.05 | 0.2 |'
  prefs: []
  type: TYPE_TB
- en: '| 6 | `Noise_ranked` | Density | 1 | 5 | 0.13 | 0.65 |'
  prefs: []
  type: TYPE_TB
- en: '| 7 | `Parks_proximity_ranks` | Proximity | 1 | 3 | 0.12 | 0.36 |'
  prefs: []
  type: TYPE_TB
- en: '| 8 | `Schools_proximity_ranks` | Proximity | 1 | 4 | 0.15 | 0.6 |'
  prefs: []
  type: TYPE_TB
- en: '| 9 | `subway_entrances_proximity_ranks` | Proximity | 1 | 4 | 0.06 | 0.24
    |'
  prefs: []
  type: TYPE_TB
- en: '| 10 | `Tree_ranked` | Density | 1 | 4 | 0.07 | 0.28 |'
  prefs: []
  type: TYPE_TB
- en: '| Total | 10 | 44 | 1.0 | 4.63 |'
  prefs: []
  type: TYPE_TB
- en: 'The expression to be used for our assessment of suitability can be constructed
    by several steps:'
  prefs: []
  type: TYPE_NORMAL
- en: 'All the available factors that are represented by raster layers should be multiplied
    by their weight coefficients and summarized, like this: `(factor_1*weight + factor_2*weight
    + factor_3*weight + … factor_n*weight)`. This kind of assessment gives gross suitability,
    which is difficult for interpretation because the obtained values are not calculated
    relatively to the possible minimum and maximum.'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'For simplicity of interpretation, a gross suitability assessment can be divided
    into the sum of the maximum possible value. The extended formula will look like
    this: *(factor_1*weight + factor_2*weight + factor_3*weight + … factor_n*weight)
    / (factor_1_max*weight + factor_2_max*weight + factor_3_max*weight + … factor_n_max*weight)*.
    As a result, the output value range will be from 0 to 1, where the maximum suitability
    values are close to 1.'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Optionally, the result can be multiplied by 100\. Then the output values will
    be a percentage of suitability.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Go to **Raster** | **Raster Calculator** to perform an assessment:'
  prefs: []
  type: TYPE_NORMAL
- en: Set the path and name for **Output layer**
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Select a layer from the **Raster bands** list to set up **Current layer extent**,
    for example, `hurricane_inundataion`
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'In the **Expression** window, enter the following formula (if you are not sure
    about the values, check out the preceding table):'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE6]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: 'After you have clicked on the **OK** button, the resulting layer will be added
    to the map canvas. The suitability raster value''s range varies from 42 to 96
    percent. Thus, it can easily be classified and interpreted. Navigate to **Layer
    properties** | **Style** and adjust the rendering properties to those shown in
    the following screenshot:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Step 5 – overlay the data and interpret the results](img/image00486.jpeg)'
  prefs: []
  type: TYPE_IMG
- en: 'After applying these settings, the layer will look as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Step 5 – overlay the data and interpret the results](img/image00487.jpeg)'
  prefs: []
  type: TYPE_IMG
- en: We can use this raster as a basis for a primary visual suitability assessment
    of the area of our interest, or go further and combine it with other layers to
    identify the exact blocks that match best the entire range of suitability criteria.
  prefs: []
  type: TYPE_NORMAL
- en: 'In that case, we need to perform the inverse sequence of steps: select the
    most suitable areas, vectorize, and overlay the polygons of maximum suitability
    with residential living areas to identify the blocks and buildings that would
    be particularly suitable:'
  prefs: []
  type: TYPE_NORMAL
- en: 'The initial suitability raster should be categorized into only two classes
    by a limit of 90 percent suitability. Go to **Raster** | **Raster Calculator**
    and define the path and name for the output raster (for example `max_suitability`).
    In the **Expression** window, enter `"suitability, %@1" >= 90`. On the next page,
    you can see that the resulting layer contains only two classes: suitable (the
    value is 1; assigned to areas with suitability greater than or equal to 90 percent),
    and unsuitable (the value is 0).'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Now we need to vectorize these areas to be able to query vector layers with
    them. Open the **Polygonize (Raster to vector)** dialog window by going to **Raster**
    | **Conversion** and adjust the following parameters:![Step 5 – overlay the data
    and interpret the results](img/image00488.jpeg)
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Select `max_suitability` as the raster to be polygonized from **Input file (raster)**.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Provide the path and name of the output shapefile in **Output file for polygons
    (shapefile)**, for example, `max_suitability_polygons`.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Activate the **Field name** toggle and accept the default `DN` value. This option
    is responsible for creating and populating field with class values from the initial
    raster.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '![Step 5 – overlay the data and interpret the results](img/image00489.jpeg)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: 'After you click on the **OK** button, the resulting shapefile will be added
    to the **Layers** panel. Originally, the layer contains polygons of all classes,
    whereas we are interested only in class 1\. For the purpose of selecting and deleting
    unnecessary polygons, we will use the **Select features using an expression**
    option:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Open the `max_suitability` attribute table by clicking on the ![Step 5 – overlay
    the data and interpret the results](img/image00475.jpeg) button in the **Attribute**
    panel, or from the right-click **Open Attribute Table** layer shortcut.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: 'In the attribute table toolbar panel, click on the **Select features using
    an expression** button, ![Step 5 – overlay the data and interpret the results](img/image00490.jpeg),
    and enter the following expression: `"DN" = 0`. After clicking on **OK**, all
    the polygons that satisfy the condition will be highlighted in the attribute table
    and on the map canvas.'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: As we don't need these polygons for further analysis, we should delete them.
    In the attribute table toolbar panel, click on the ![Step 5 – overlay the data
    and interpret the results](img/image00476.jpeg) button to toggle editing mode,
    or use the *Ctrl* + *E* keyboard shortcut. Now we can execute **Delete selected
    features** using the ![Step 5 – overlay the data and interpret the results](img/image00491.jpeg)
    button, or just press *Del* from the keyboard.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: 'After deleting the unnecessary data, don''t forget to save your edits (using
    ![Step 5 – overlay the data and interpret the results](img/image00492.jpeg) or
    *Ctrl* + *S*) and deactivate editing mode. In the following screenshot, you can
    see that the layer contains only those polygons that encompass the maximum suitability
    values, which are set to 90 percent:'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '![Step 5 – overlay the data and interpret the results](img/image00493.jpeg)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: 'Now this layer can be used to overlay with other vector layers and analyze
    spatial relationships between objects, as was described in the *Basics of* *suitability
    analysis* section. For example, we can identify the zoning areas of primary residential
    living area that are of potential interest to us according to the suitability
    criteria:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Open a dialog window by going to **Vector** | **Research tools** | **Select
    by location**. In this dialog, you should first select the layer from which objects
    are to be selected—`residential_zoning` from the **Select features in:** drop-down
    list—like this:![Step 5 – overlay the data and interpret the results](img/image00494.jpeg)
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: the **that intersect features in:** drop-down list, select `max_suitability_polygons`,
    which will be used as a selector.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: 'There are several overlay selection options. Activate **Include input features
    that intersect the selection features**. Only those polygons that are within the
    query mask boundary or intersect it will be added to the selection. Click on the
    **OK** button. You will see the following result on the map canvas:'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '![Step 5 – overlay the data and interpret the results](img/image00495.jpeg)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: Similarly, you can try another type of query and identify the exact buildings
    that satisfy a suitability condition. In that case, the dialog window will look
    as follows:![Step 5 – overlay the data and interpret the results](img/image00496.jpeg)
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'After clicking on the **OK** button, you will see the following results on
    the map canvas:'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Step 5 – overlay the data and interpret the results](img/image00497.jpeg)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: Notice that this time, we have selected buildings that were completely within
    the maximum suitability areas. So, we are ready to provide a solid and specific
    answer to the question, "Which is the best place to live?"
  prefs: []
  type: TYPE_NORMAL
- en: Summary
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'In this chapter, you followed the entire path of spatial analysis, from raising
    questions to providing concrete answers, that is, finding a specific place and
    objects on a map. You explored some basics of suitability analysis and saw how
    it defines and interprets spatial relations between objects. Also, you explored
    a lot of operations related to data preprocessing: rasterization, reclassification,
    raster algebra performance, and so on. Finally, you reviewed spatial queries that
    are based on overlaying spatial objects and analyzing spatial relationships between
    them.'
  prefs: []
  type: TYPE_NORMAL
- en: Executing analysis operations step by step is good when you learn, but if you
    have a lot of data and limited time to provide the answer, then you should improve
    the performance of your analysis. This can be done with the QGIS Processing framework.
    It provides access to hundreds of geoprocessing tools (from the simplest to the
    most sophisticated).
  prefs: []
  type: TYPE_NORMAL
- en: In the next chapter, we will introduce QGIS Processing, and you will learn how
    to automate spatial analysis routines by creating your own chains of instruments
    (models).
  prefs: []
  type: TYPE_NORMAL
