<html><head></head><body>
  <div id="sbo-rt-content"><div class="chapter" title="Chapter 9. Listing and Describing GIS Data"><div class="titlepage"><div><div><h1 class="title"><a id="ch09"/>Chapter 9. Listing and Describing GIS Data</h1></div></div></div><p>In this chapter, we will cover the following recipes:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Working with the ArcPy list functions</li><li class="listitem" style="list-style-type: disc">Getting a list of fields in a feature class or table</li><li class="listitem" style="list-style-type: disc">Using the Describe() function to return descriptive information about a feature class</li><li class="listitem" style="list-style-type: disc">Using the Describe() function to return descriptive information about a raster image</li></ul></div><div class="section" title="Introduction"><div class="titlepage"><div><div><h1 class="title"><a id="ch09lvl1sec67"/>Introduction</h1></div></div></div><p>Python provides you with the ability to batch process data through scripting. This helps you automate workflows and to increase the efficiency of your data processing. For example, you may need to iterate through all datasets on disk and perform a specific action for each dataset. The first step is often to perform an initial gathering of data before proceeding to the main body of the geoprocessing task. This initial data gathering is often accomplished through the use of one or more list methods found in ArcPy. These lists are returned as true Python list objects. These list objects can then be iterated for further processing. ArcPy provides a number of functions that can be used to generate lists of data. These methods work on many different types of GIS data. In this chapter, we will examine the many functions provided by ArcPy to create lists of data. In <a class="link" href="ch02.html" title="Chapter 2. Managing Map Documents and Layers">Chapter 2</a>, <span class="emphasis"><em>Managing Map Documents and Layers</em></span>, we also covered a number of list functions. However, these functions were related to working with the <code class="literal">arcpy.mapping</code> module, and specifically, for working with map documents and layers. The list functions we cover in this chapter reside directly in ArcPy and are more generic in nature.</p><p>We will also cover the <code class="literal">Describe()</code> function to return a dynamic object that will contain property groups. These dynamically generated <code class="literal">Describe</code> objects contain property groups that are dependent on the type of data that has been described. For instance, when the <code class="literal">Describe()</code> function is run against a feature class, properties specific to a feature class will be returned. In addition to this, all data, regardless of the data type, acquires a set of generic properties, which we'll discuss shortly.</p></div></div></div>


  <div id="sbo-rt-content"><div class="section" title="Working with the ArcPy list functions"><div class="titlepage"><div><div><h1 class="title"><a id="ch09lvl1sec68"/>Working with the ArcPy list functions</h1></div></div></div><p>Getting a list of data is <a id="id530" class="indexterm"/>often the first step in a multistep geoprocessing operation. ArcPy provides many list functions that you can use to gather lists of information, whether they are feature classes, tables, workspaces, and so on. After gathering a list of data, you will often perform geoprocessing operations against the items in the list. For example, you might want to add a new field to all the feature classes in a file geodatabase. To do this, you'd first need to get a list of all the feature classes in the workspace. In this recipe, you'll learn how to use the list functions in ArcPy by working with the <code class="literal">ListFeatureClasses()</code> function. All the ArcPy list functions work in the same fashion.</p><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch09lvl2sec176"/>Getting ready</h2></div></div></div><p>ArcPy provides functions to get lists of fields, indexes, datasets, feature classes, files, rasters, tables, and more. All the list functions perform the same type of basic operations. The <code class="literal">ListFeatureClasses()</code> function can be used to generate a list of all feature classes in a<a id="id531" class="indexterm"/> workspace. The <code class="literal">ListFeatureClasses()</code> function has three optional arguments that can be passed into the function that will serve to limit the returned list. The first optional argument is a wildcard that can be used to limit the feature classes that are returned based on a name, and the second optional argument can be used to limit the feature classes that are returned based on a data type (such as point, line, polygon, and so on). The third optional parameter limits the returned feature classes by a feature dataset. In this recipe, you will learn how to use the <code class="literal">ListFeatureClasses()</code> function to return a list of feature classes. You'll also learn how to restrict the list that is returned.</p></div><div class="section" title="How to do it…"><div class="titlepage"><div><div><h2 class="title"><a id="ch09lvl2sec177"/>How to do it…</h2></div></div></div><p>Follow these steps to learn how to use the <code class="literal">ListFeatureClasses()</code> function to retrieve a list of the feature classes in a workspace:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Open <span class="strong"><strong>IDLE</strong></span> and create a new script window.</li><li class="listitem">Save the script as <code class="literal">C:\ArcpyBook\Ch9\ListFeatureClasses.py.</code></li><li class="listitem">Import the <code class="literal">arcpy</code> module:<div class="informalexample"><pre class="programlisting">import arcpy</pre></div></li><li class="listitem">Set the workspace:<div class="informalexample"><pre class="programlisting">arcpy.env.workspace = "C:/ArcpyBook/data/CityOfSanAntonio.gdb"</pre></div><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note10"/>Note</h3><p>You should always remember to set the workspace using the environment settings before calling any list function in a script developed with IDLE or any other Python development environment. If this isn't done, the list function would not know which dataset the list should be pulled from. If the script is run inside ArcMap, it returns the feature classes from the default geodatabase if you don't set the workspace.</p></div></div></li><li class="listitem">Call<a id="id532" class="indexterm"/> the <code class="literal">ListFeatureClasses()</code> function and assign the results to a variable called <code class="literal">fcList</code>:<div class="informalexample"><pre class="programlisting">fcList = arcpy.ListFeatureClasses()</pre></div></li><li class="listitem">Loop through<a id="id533" class="indexterm"/> each of the feature classes in <code class="literal">fcList</code> and print them to the screen:<div class="informalexample"><pre class="programlisting">for fc in fcList:
    print(fc)</pre></div></li><li class="listitem">You can check your work by examining the <code class="literal">C:\ArcpyBook\code\Ch9\ListFeatureClasses_Step1.py</code> solution file.</li><li class="listitem">Save and run the script. You should see this output.<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>Crimes2009</strong></span>
<span class="strong"><strong>CityBoundaries</strong></span>
<span class="strong"><strong>CrimesBySchoolDistrict</strong></span>
<span class="strong"><strong>SchoolDistricts</strong></span>
<span class="strong"><strong>BexarCountyBoundaries</strong></span>
<span class="strong"><strong>Texas_Counties_LowRes</strong></span>
</pre></div></li><li class="listitem">The list of feature classes returned by the <code class="literal">ListFeatureClasses()</code> function can be restricted through the use of a wildcard passed as the first parameter. The wildcard is used to restrict the contents of your list based on a name. For example, you may want to return only a list of feature classes that start with <code class="literal">C</code>. To accomplish this, you can use an asterisk along with a combination of characters. Update the <code class="literal">ListFeatureClasses()</code> function to include a wildcard that will find all feature classes that begin with an uppercase <code class="literal">C</code> and also have any number of characters:<div class="informalexample"><pre class="programlisting">fcList = arcpy.ListFeatureClasses("C*")</pre></div></li><li class="listitem">You can check your work by examining the <code class="literal">C:\ArcpyBook\code\Ch9\ListFeatureClasses_Step2.py</code> solution file.</li><li class="listitem">Save and run the script to see this output:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>Crimes2009</strong></span>
<span class="strong"><strong>CityBoundaries</strong></span>
<span class="strong"><strong>CrimesBySchoolDistrict</strong></span>
</pre></div></li><li class="listitem">In addition to<a id="id534" class="indexterm"/> using a wildcard to restrict the list <a id="id535" class="indexterm"/>returned by the <code class="literal">ListFeatureClasses()</code> function, a type restriction can also be applied, either in conjunction with the wildcard or by itself. For example, you could restrict the list of feature classes that are returned to contain only feature classes that begin with <code class="literal">C</code> and have a <code class="literal">polygon</code> data type. Update the <code class="literal">ListFeatureClasses()</code> function to include a wildcard that will find all feature classes that begin with an uppercase <code class="literal">C</code> and have a polygon data type:<div class="informalexample"><pre class="programlisting">fcs = arcpy.ListFeatureClasses("C*", "Polygon")</pre></div></li><li class="listitem">You can check your work by examining the <code class="literal">C:\ArcpyBook\code\Ch9\ListFeatureClasses_Step3.py</code> solution file.</li><li class="listitem">Save and run the script. You will see the following output:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>CityBoundaries</strong></span>
<span class="strong"><strong>CrimesBySchoolDistrict</strong></span>
</pre></div></li></ol></div></div><div class="section" title="How it works…"><div class="titlepage"><div><div><h2 class="title"><a id="ch09lvl2sec178"/>How it works…</h2></div></div></div><p>Before calling any list functions, you will need to set the workspace environment setting that sets the current workspace from which you will generate the list. The <code class="literal">ListFeatureClasses()</code> function can accept three optional parameters, which will limit the feature classes that are returned. The three optional parameters include a wild card, feature type, and feature dataset. In this recipe, we've applied two of the optional parameters including a wildcard and a feature type. Most of the other list functions work the same way. The parameter types will vary, but how you call the functions will essentially be the same.</p></div><div class="section" title="There's more…"><div class="titlepage"><div><div><h2 class="title"><a id="ch09lvl2sec179"/>There's more…</h2></div></div></div><p>Instead of returning a list of feature classes in a workspace, you may need to get a list of tables. The <code class="literal">ListTables()</code> function<a id="id536" class="indexterm"/> returns a list of standalone<a id="id537" class="indexterm"/> tables in a workspace. This list can be filtered by name or table type. Table types can include dBase, INFO, and ALL. All values in the list are of the <code class="literal">string</code> data type and contain table names. Other list functions include <code class="literal">ListFields()</code>, <code class="literal">ListRasters()</code>, <code class="literal">ListWorkspaces()</code>, <code class="literal">ListIndexes()</code>, <code class="literal">ListDatasets()</code>, <code class="literal">ListFiles()</code>, and <code class="literal">ListVersions()</code>.</p></div></div></div>


  <div id="sbo-rt-content"><div class="section" title="Getting a list of fields in a feature class or table"><div class="titlepage"><div><div><h1 class="title"><a id="ch09lvl1sec69"/>Getting a list of fields in a feature class or table</h1></div></div></div><p>Feature classes and tables contain one or more columns of attribute information. You can get a list of the fields in a feature class through the <code class="literal">ListFields()</code> function.</p><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch09lvl2sec180"/>Getting ready</h2></div></div></div><p>The <code class="literal">ListFields()</code> function <a id="id538" class="indexterm"/>returns a list containing individual <code class="literal">Field</code> objects for each field in a feature class or table. Some functions, such as <code class="literal">ListFields()</code> and <code class="literal">ListIndexes()</code>, require an input dataset to operate on. You can use a wildcard or field type to constrain the list that is returned. Each <code class="literal">Field</code> object contains various read-only properties including <code class="literal">Name</code>, <code class="literal">AliasName</code>, <code class="literal">Type</code>, <code class="literal">Length</code>, and others.</p></div><div class="section" title="How to do it…"><div class="titlepage"><div><div><h2 class="title"><a id="ch09lvl2sec181"/>How to do it…</h2></div></div></div><p>Follow these steps to learn how to return a list of fields<a id="id539" class="indexterm"/> in a <a id="id540" class="indexterm"/>feature class.</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Open <span class="strong"><strong>IDLE</strong></span> and create a new script window.</li><li class="listitem">Save the script as <code class="literal">C:\ArcpyBook\Ch9\ListOfFields.py</code>.</li><li class="listitem">Import the <code class="literal">arcpy</code> module:<div class="informalexample"><pre class="programlisting">import arcpy</pre></div></li><li class="listitem">Set the workspace:<div class="informalexample"><pre class="programlisting">arcpy.env.workspace = "C:/ArcpyBook/data/CityOfSanAntonio.gdb"</pre></div></li><li class="listitem">Call the <code class="literal">ListFields()</code> method on the <code class="literal">Burglary</code> feature class inside a try block:<div class="informalexample"><pre class="programlisting">try:
    fieldList = arcpy.ListFields("Burglary")</pre></div></li><li class="listitem">Loop through each of the fields in the list of fields and print out the name, type, and length. Make sure you indent as needed:<div class="informalexample"><pre class="programlisting">  for fld in fieldList:
    print("%s is a type of %s with a length of %i" % (fld.name, fld.type, fld.length))</pre></div></li><li class="listitem">Add the <code class="literal">Exception</code> block:<div class="informalexample"><pre class="programlisting">except Exception as e:
    print(e.message)</pre></div></li><li class="listitem">The entire script should appear as follows:<div class="informalexample"><pre class="programlisting">import arcpy

arcpy.env.workspace = "C:/ArcpyBook/data/CityOfSanAntonio.gdb"
try:
   fieldList = arcpy.ListFields("Burglary")
   for fld in fieldList:
   print("%s is a type of %s with a length of %i" % (fld.name, fld.type, fld.length))
except Exception as e:
    print(e.message)</pre></div></li><li class="listitem">You can<a id="id541" class="indexterm"/> check your work by examining <a id="id542" class="indexterm"/>the <code class="literal">C:\ArcpyBook\code\Ch9\ListOfFields.py</code> solution file.</li><li class="listitem">Save and run the script. You should see the following output:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>OBJECTID is a type of OID with a length of 4</strong></span>
<span class="strong"><strong>Shape is a type of Geometry with a length of 0</strong></span>
<span class="strong"><strong>CASE is a type of String with a length of 11</strong></span>
<span class="strong"><strong>LOCATION is a type of String with a length of 40</strong></span>
<span class="strong"><strong>DIST is a type of String with a length of 6</strong></span>
<span class="strong"><strong>SVCAREA is a type of String with a length of 7</strong></span>
<span class="strong"><strong>SPLITDT is a type of Date with a length of 8</strong></span>
<span class="strong"><strong>SPLITTM is a type of Date with a length of 8</strong></span>
<span class="strong"><strong>HR is a type of String with a length of 3</strong></span>
<span class="strong"><strong>DOW is a type of String with a length of 3</strong></span>
<span class="strong"><strong>SHIFT is a type of String with a length of 1</strong></span>
<span class="strong"><strong>OFFCODE is a type of String with a length of 10</strong></span>
<span class="strong"><strong>OFFDESC is a type of String with a length of 50</strong></span>
<span class="strong"><strong>ARCCODE is a type of String with a length of 10</strong></span>
<span class="strong"><strong>ARCCODE2 is a type of String with a length of 10</strong></span>
<span class="strong"><strong>ARCTYPE is a type of String with a length of 10</strong></span>
<span class="strong"><strong>XNAD83 is a type of Double with a length of 8</strong></span>
<span class="strong"><strong>YNAD83 is a type of Double with a length of 8</strong></span>
</pre></div></li></ol></div></div><div class="section" title="How it works…"><div class="titlepage"><div><div><h2 class="title"><a id="ch09lvl2sec182"/>How it works…</h2></div></div></div><p>The <code class="literal">ListFields()</code> function<a id="id543" class="indexterm"/> returns a<a id="id544" class="indexterm"/> list of fields from a feature class or a table. This function accepts one required parameter, which is a reference to the feature class or table the function should be executed against. You can limit the fields returned by using a wildcard or a field type. In this recipe, we only specified a feature class that indicates that all the fields will be returned. For each field returned, we printed the name, field type, and field length. As I mentioned earlier when discussing the <code class="literal">ListFeatureClasses()</code> function, <code class="literal">ListFields()</code> and all the other list functions are often called as the first step in a multistep process within a script. For example, you might want to update the population statistics contained <a id="id545" class="indexterm"/>within a <code class="literal">population</code> field for a census tract<a id="id546" class="indexterm"/> feature class. To do this, you could get a list of all the fields within a feature class, loop through this list by looking for a specific field name that contains information on the population, and then update the population information for each row. Alternatively, the <code class="literal">ListFields()</code> function accepts a wildcard as one of its parameters, so if you already know the name of the <code class="literal">population</code> field, you would pass this as the wildcard and only a single field will be returned.</p></div></div></div>


  <div id="sbo-rt-content"><div class="section" title="Using the Describe() function to return descriptive information about a feature class"><div class="titlepage"><div><div><h1 class="title"><a id="ch09lvl1sec70"/>Using the Describe() function to return descriptive information about a feature class</h1></div></div></div><p>All datasets contain<a id="id547" class="indexterm"/> information that is descriptive in nature. For example, a feature class has a name, shape type, spatial reference, and so on. This information can be valuable to your scripts when you are seeking specific information before continuing with further processing in the script. For example, you might want to perform a buffer only on <code class="literal">polyline</code> feature classes instead of points or polygons. Using the <code class="literal">Describe()</code> function, you can obtain basic descriptive information about any dataset. You can think of this information as metadata.</p><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch09lvl2sec183"/>Getting ready</h2></div></div></div><p>The <code class="literal">Describe()</code> function provides you with the ability to get basic information about datasets. These datasets could include feature classes, tables, ArcInfo coverages, layer files, workspaces, rasters, and so on. A <code class="literal">Describe</code> object is returned and contains specific properties, based on the data type being described. Properties on the <code class="literal">Describe</code> object are organized into property groups and all datasets fall into at least one property group. For example, performing <code class="literal">Describe()</code> against a geodatabase would return the <code class="literal">GDB FeatureClass</code>, <code class="literal">FeatureClass</code>, <code class="literal">Table</code>, and <code class="literal">Dataset</code> property groups. Each of these property groups contains specific properties that can be examined.</p><p>The <code class="literal">Describe()</code> function accepts a string parameter, which is a pointer to a datasource. In the following code example, we pass a feature class that is contained within a file geodatabase. The function returns a <code class="literal">Describe</code> object that contains a set of dynamic properties called <a id="id548" class="indexterm"/>
<span class="strong"><strong>property groups</strong></span>. We can then access these various properties as we have done in this case by simply printing out the properties using the print function:</p><div class="informalexample"><pre class="programlisting">arcpy.env.workspace = "c:/ArcpyBook/Ch9/CityOfSanAntonio.gdb"
desc = arcpy.Describe("Schools")
print("The feature type is: " + desc.featureType)
The feature type is: Simple
print("The shape type is: " + desc.shapeType)
The shape type is: Polygon
print("The name is: " + desc.name)
The name is: Schools
print("The path to the data is: " + desc.path)
The path to the data is: c:/ArcpyBook/Ch9/CityOfSanAntonio.gdb</pre></div><p>All datasets, regardless <a id="id549" class="indexterm"/>of their type, contain a default set of properties located on the <code class="literal">Describe</code> object. These are read-only properties. Some of the more commonly used properties include <code class="literal">dataType</code>, <code class="literal">catalogPath</code>, <code class="literal">name</code>, <code class="literal">path</code>, and <code class="literal">file</code>.</p><p>In this recipe, you will write a script that obtains descriptive information about a feature class using the <code class="literal">Describe()</code> function.</p></div><div class="section" title="How to do it…"><div class="titlepage"><div><div><h2 class="title"><a id="ch09lvl2sec184"/>How to do it…</h2></div></div></div><p>Follow these steps to learn how to obtain descriptive information about a feature class:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Open <span class="strong"><strong>IDLE</strong></span> and create a new script window.</li><li class="listitem">Save the script as <code class="literal">C:\ArcpyBook\Ch9\DescribeFeatureClass.py</code>.</li><li class="listitem">Import the <code class="literal">arcpy</code> module:<div class="informalexample"><pre class="programlisting">import arcpy</pre></div></li><li class="listitem">Set the workspace:<div class="informalexample"><pre class="programlisting">arcpy.env.workspace = "C:/ArcpyBook/data/CityOfSanAntonio.gdb"</pre></div></li><li class="listitem">Start a <code class="literal">try</code> block:<div class="informalexample"><pre class="programlisting">try:</pre></div></li><li class="listitem">Call the <code class="literal">Describe()</code> function on the <code class="literal">Burglary</code> feature class and print out the shape type:<div class="informalexample"><pre class="programlisting">descFC = arcpy.Describe("Burglary")
print("The shape type is: " + descFC.ShapeType)</pre></div></li><li class="listitem">Get a list of fields in the feature class and print out the name, type, and length of each:<div class="informalexample"><pre class="programlisting">flds = descFC.fields
for fld in flds:
    print("Field: " + fld.name)
    print("Type: " + fld.type
    print("Length: " + str(fld.length))</pre></div></li><li class="listitem">Get the geographic extent of the feature class and print out the coordinates that define the extent:<div class="informalexample"><pre class="programlisting">ext = descFC.extent
print("XMin: %f" % (ext.XMin))
print("YMin: %f" % (ext.YMin))
print("XMax: %f" % (ext.XMax))
print("YMax: %f" % (ext.YMax))</pre></div></li><li class="listitem">Add <a id="id550" class="indexterm"/>the <code class="literal">Exception</code> block:<div class="informalexample"><pre class="programlisting">except Exception as e:
    print(e.message)</pre></div></li><li class="listitem">The entire script should appear as follows:<div class="informalexample"><pre class="programlisting">import arcpy
arcpy.env.workspace = "c:/ArcpyBook/data/CityOfSanAntonio.gdb"
try:
    descFC = arcpy.Describe("Burglary")
    print("The shape type is: " + descFC.ShapeType)
    flds = descFC.fields
    for fld in flds:
        print("Field: " + fld.name)
        print("Type: " + fld.type)
        print("Length: " + str(fld.length))
    ext = descFC.extent
    print("XMin: %f" % (ext.XMin))
    print("YMin: %f" % (ext.YMin))
    print("XMax: %f" % (ext.XMax))
    print("YMax: %f" % (ext.YMax))
except:
    print(arcpy.GetMessages())</pre></div></li><li class="listitem">You can check your work by examining the <code class="literal">C:\ArcpyBook\code\Ch9\DescribeFeatureClass.py</code> solution file.</li><li class="listitem">Save and run the script. You should see the following output:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>The shape type is: Point</strong></span>
<span class="strong"><strong>Field: OBJECTID</strong></span>
<span class="strong"><strong>Type: OID</strong></span>
<span class="strong"><strong>Length: 4</strong></span>
<span class="strong"><strong>Field: Shape</strong></span>
<span class="strong"><strong>Type: Geometry</strong></span>
<span class="strong"><strong>Length: 0</strong></span>
<span class="strong"><strong>Field: CASE</strong></span>
<span class="strong"><strong>Type: String</strong></span>
<span class="strong"><strong>Length: 11</strong></span>
<span class="strong"><strong>Field: LOCATION</strong></span>
<span class="strong"><strong>Type: String</strong></span>
<span class="strong"><strong>Length: 40</strong></span>
<span class="strong"><strong>.....</strong></span>
<span class="strong"><strong>.....</strong></span>
<span class="strong"><strong>XMin: -103.518030</strong></span>
<span class="strong"><strong>YMin: -6.145758</strong></span>
<span class="strong"><strong>XMax: -98.243208</strong></span>
<span class="strong"><strong>YMax: 29.676404</strong></span>
</pre></div></li></ol></div></div><div class="section" title="How it works…"><div class="titlepage"><div><div><h2 class="title"><a id="ch09lvl2sec185"/>How it works…</h2></div></div></div><p>Performing<a id="id551" class="indexterm"/> a <code class="literal">Describe()</code> against a feature class, which we have done in this script, returns a <code class="literal">FeatureClass</code> property group along with access to the <code class="literal">Table</code> and <code class="literal">Dataset</code> property groups, respectively. In addition to returning a <code class="literal">FeatureClass</code> property group, you also have access to a <code class="literal">Table</code> properties group.</p><p>The <code class="literal">Table</code> property group is important primarily because it gives you access to the fields in a standalone table or feature class. You can also access any indexes on the table or feature class through this property group. The <code class="literal">Fields</code> property in <code class="literal">Table</code> Properties returns a Python list containing one <code class="literal">Field</code> object for each field in the feature class. Each field has a number of read-only properties including the <code class="literal">name</code>, <code class="literal">alias</code>, <code class="literal">length</code>, <code class="literal">type</code>, <code class="literal">scale</code>, <code class="literal">precision</code>, and so on. The most obviously useful properties are name and type. In this script, we printed out the field name, type, and length. Note the use of a Python <code class="literal">for</code> loop to process each <code class="literal">field</code> in the Python list.</p><p>Finally, we printed out the geographic extent of the layer through the use of the <code class="literal">Extent</code> object, returned by the extent property in the <code class="literal">Dataset</code> property group. The <code class="literal">Dataset</code> property group contains a number of useful properties. Perhaps, the most used properties include <code class="literal">extent</code> and <code class="literal">spatialReference</code>, as many geoprocessing tools and scripts require this information at some point during execution. You can also obtain the <code class="literal">datasetType</code> and versioning information along with several other properties.</p></div></div></div>


  <div id="sbo-rt-content"><div class="section" title="Using the Describe() function to return descriptive information about a raster image"><div class="titlepage"><div><div><h1 class="title"><a id="ch09lvl1sec71"/>Using the Describe() function to return descriptive information about a raster image</h1></div></div></div><p>Raster files also contain<a id="id552" class="indexterm"/> descriptive information that can be returned by the <code class="literal">Describe()</code> function.</p><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch09lvl2sec186"/>Getting ready</h2></div></div></div><p>A raster dataset can also be described through the use of the <code class="literal">Describe()</code> function. In this recipe, you will describe a raster dataset by returning its extent and spatial reference. The <code class="literal">Describe()</code> function contains a reference to the general purpose <code class="literal">Dataset</code> properties group and also contains a reference to the <code class="literal">SpatialReference</code> object for the dataset. The <code class="literal">SpatialReference</code> object can then be used to get detailed spatial reference information for the dataset.</p></div><div class="section" title="How to do it…"><div class="titlepage"><div><div><h2 class="title"><a id="ch09lvl2sec187"/>How to do it…</h2></div></div></div><p>Follow these steps to learn how to obtain descriptive information about a raster image file.</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Open <span class="strong"><strong>IDLE</strong></span> and create a new script window.</li><li class="listitem">Save the script as <code class="literal">C:\ArcpyBook\Ch9\DescribeRaster.py</code>.</li><li class="listitem">Import the <code class="literal">arcpy</code> module:<div class="informalexample"><pre class="programlisting">import arcpy</pre></div></li><li class="listitem">Set the workspace:<div class="informalexample"><pre class="programlisting">arcpy.env.workspace = "C:/ArcpyBook/data "</pre></div></li><li class="listitem">Start a <code class="literal">try</code> block:<div class="informalexample"><pre class="programlisting">try:</pre></div></li><li class="listitem">Call the <code class="literal">Describe()</code> function on a raster dataset:<div class="informalexample"><pre class="programlisting">descRaster = arcpy.Describe("AUSTIN_EAST_NW.sid")</pre></div></li><li class="listitem">Get the extent of the raster dataset and print it out:<div class="informalexample"><pre class="programlisting">ext = descRaster.extent
print("XMin: %f" % (ext.XMin))
print("YMin: %f" % (ext.YMin))
print("XMax: %f" % (ext.XMax))
print("YMax: %f" % (ext.YMax))</pre></div></li><li class="listitem">Get a reference to the <code class="literal">SpatialReference</code> object and print it out:<div class="informalexample"><pre class="programlisting">sr = descRaster.SpatialReference
print(sr.name)
print(sr.type)</pre></div></li><li class="listitem">Add the <code class="literal">Exception</code> block:<div class="informalexample"><pre class="programlisting">except Exception as e:
    print(e.message)</pre></div></li><li class="listitem">The entire script should appear as follows:<div class="informalexample"><pre class="programlisting">import arcpy
arcpy.env.workspace = "c:/ArcpyBook/data"
try:
    descRaster = arcpy.Describe("AUSTIN_EAST_NW.sid")
    ext = descRaster.extent
    print("XMin: %f" % (ext.XMin))
    print("YMin: %f" % (ext.YMin))
    print("XMax: %f" % (ext.XMax))
    print("YMax: %f" % (ext.YMax))

    sr = descRaster.SpatialReference
    print(sr.name)
    print(sr.type)
except Exception as e:
    print(e.message)</pre></div></li><li class="listitem">You can <a id="id553" class="indexterm"/>check your work by examining the <code class="literal">C:\ArcpyBook\code\Ch9\DescribeRaster.py</code> solution file.</li><li class="listitem">Save and run the script. You should see the following output:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>XMin: 3111134.862457</strong></span>
<span class="strong"><strong>YMin: 10086853.262238</strong></span>
<span class="strong"><strong>XMax: 3131385.723907</strong></span>
<span class="strong"><strong>YMax: 10110047.019228</strong></span>
<span class="strong"><strong>NAD83_Texas_Central</strong></span>
<span class="strong"><strong>Projected</strong></span>
</pre></div></li></ol></div></div><div class="section" title="How it works…"><div class="titlepage"><div><div><h2 class="title"><a id="ch09lvl2sec188"/>How it works…</h2></div></div></div><p>This recipe is very similar to previous recipes. The difference is that we're using the <code class="literal">Describe()</code> function against a raster dataset instead of a <code class="literal">vector</code> feature class. In both cases, we've returned the geographic extent of the datasets using the extent object. However, in the script, we've also obtained the <code class="literal">SpatialReference</code> object for the raster dataset and printed out information about this object including its name and type.</p></div></div></div>
</body></html>