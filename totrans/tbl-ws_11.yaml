- en: '11\. Tableau Interactivity: Part 1'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Overview
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
- en: This chapter will dive deep into the order of operations, filters, and sets
    and parameters in Tableau. We will also work through exercises on using groups
    and hierarchies in our views. Some of these features of Tableau give end users
    the ability to control the view. Finally, we will be discussing an activity that
    will utilize context filters, parameters, and sets on the World Indicator dataset
    to reinforce the skills you will gain in this chapter. By the end of this chapter,
    you will have gained the skills to create interactive reports, which give end
    users more control to slice and dice the data in the report.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
- en: Introduction
  id: totrans-3
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In this chapter, you will explore your options in creating reports/dashboards
    in Tableau, which allows you to arrange your data or report in a more comprehensible
    manner for your stakeholders/audience. Previous chapters have focused a lot on
    creating calculated fields, table calculations, and advanced calculations such
    as level of detail calculations. These types of calculations can help you go a
    long way in achieving desired results/views. However, you can also explore other
    ways of arranging, sorting, or grouping your data, adding another layer of interactivity
    to your reports, which in turn helps improve the ease of use of reports. This
    chapter will dive deeper into the order of operations, filters, and sets and parameters
    in Tableau from a conceptual as well as a practical perspective and discuss how
    to make the best use of these features in your reports/dashboards. In this chapter,
    you will review how to group data and hierarchy use cases and consider an interesting
    use case for parameters.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
- en: Grouping Data
  id: totrans-5
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'The grouping of data is useful when you want to simplify or stack multiple
    dimension rows/members into one bigger bucket. For example, say you are working
    on a report on the population of countries in the world, and the standard data
    does not contain a custom grouping of all the South Asian countries. When you
    decide to create a custom grouping of all the South Asian countries by grouping
    countries such as India, Pakistan, Nepal, Sri Lanka, and so on, you will notice
    that a new dimension is added in your `Data` pane:'
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 11.1: Sub-category group in the Sample - Superstore dataset'
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
- en: '](img/B16342_11_01.jpg)'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
- en: 'Figure 11.1: Sub-category group in the Sample - Superstore dataset'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
- en: 'As is often the case with Tableau features, you can achieve the same results
    in multiple ways. You can use either of the following methods to create a group:'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
- en: Create a group from the worksheet view.
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Create a group from the `Data` pane.
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: You'll practice the both of these options in the following exercise.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
- en: 'Exercise 11.01: Creating Groups'
  id: totrans-14
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'You are a retail analyst of XYZ group tasked to group multiple sub-categories
    so that it is easier for a sub-category manager to report on their KPIs of sales:'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
- en: Open the `Sample - Superstore` dataset in your Tableau instance.
  id: totrans-16
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Create a bar chart of `Sales` across `Category` and `Sub-Category` as shown here:'
  id: totrans-17
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个条形图，显示“销售”在“类别”和“子类别”之间的分布，如图所示：
- en: '![Figure 11.2: Sales by Subcategory view'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: '![图11.2：按子类别查看销售'
- en: '](img/B16342_11_02.jpg)'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_11_02.jpg)'
- en: 'Figure 11.2: Sales by Subcategory view'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.2：按子类别查看销售
- en: '**Creating a Group from the Worksheet View:**'
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: '**从工作表视图创建分组：**'
- en: 'Press *Ctrl* and select or press *Command*. Select the sub-category to select
    multiple `Sub-category` members in the view. Then, either right-click to group
    them or click on the group icon in the toolbar or within the tooltip as shown here:'
  id: totrans-22
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 按下*Ctrl*键并选择或按下*Command*键。在视图中选择子类别以选择多个“子类别”成员。然后，右键单击以分组它们或点击工具栏或在此处显示的工具提示中的分组图标：
- en: '![Figure 11.3: Adding groups'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: '![图11.3：添加分组'
- en: '](img/B16342_11_03.jpg)'
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_11_03.jpg)'
- en: 'Figure 11.3: Adding groups'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.3：添加分组
- en: As you can see, a new `Labels, Paper, Storage, and Supplies` sub-category grouping
    is created. You can also rename the sub-category grouping by right-clicking and
    changing the alias name to be more descriptive, such as *Desk Stationery* if you
    desire.
  id: totrans-26
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如您所见，已创建一个新的“标签、纸张、存储和用品”子类别分组。您也可以通过右键单击并更改别名来重命名子类别分组，使其更具描述性，例如如果您希望将其命名为*办公文具*。
- en: '![Figure 11.4: Naming groups'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: '![图11.4：命名分组'
- en: '](img/B16342_11_04.jpg)'
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_11_04.jpg)'
- en: 'Figure 11.4: Naming groups'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.4：命名分组
- en: '**Creating a Group from the Data Pane**'
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: '**从数据面板创建分组：**'
- en: 'In the previous steps, you used the worksheet view to create a group. Now you''ll
    create a separate group via the `Data` pane:'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 在前面的步骤中，您使用了工作表视图来创建分组。现在您将通过“数据”面板创建一个单独的分组：
- en: Create a new worksheet as you did in the steps above.
  id: totrans-32
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 按照上述步骤创建一个新的工作表。
- en: 'Create a bar chart of `Sales` across `Category` and `Sub-Category` as shown here:'
  id: totrans-33
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个条形图，显示“销售”在“类别”和“子类别”之间的分布，如图所示：
- en: '![Figure 11.5: Adding groups from the data pane'
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: '![图11.5：从数据面板添加分组'
- en: '](img/B16342_11_02.jpg)'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_11_02.jpg)'
- en: 'Figure 11.5: Adding groups from the data pane'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.5：从数据面板添加分组
- en: 'Right-click on the `Sub-Category` dimension in the `Data` pane and hover over
    `Create`. Click on `Group...` from the sub-menu as shown in the following screenshot:'
  id: totrans-37
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在“数据”面板中右键单击“子类别”维度，并将鼠标悬停在“创建”上。如图所示，从子菜单中点击“分组...”：
- en: '![Figure 11.6: Creating a group from the Data pane'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: '![图11.6：从数据面板创建分组'
- en: '](img/B16342_11_06.jpg)'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_11_06.jpg)'
- en: 'Figure 11.6: Creating a group from the Data pane'
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.6：从数据面板创建分组
- en: 'In the group pop-up window, change the field name to something more descriptive:
    `Papers Sub-Category(group)`.'
  id: totrans-41
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在分组弹出窗口中，将字段名称更改为更具描述性的名称：“纸张子类别（分组）”。
- en: 'Hold *Ctrl* or *Command* and multi-select the sub-categories that you want
    to group. In this case, group all paper related items in one group and click on
    the `Group` button:'
  id: totrans-42
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 按住*Ctrl*或*Command*键并多选您想要分组的子类别。在这种情况下，将所有与纸张相关的项目放在一个组中，然后点击“分组”按钮：
- en: '![Figure 11.7: Adding members to the group Paper Sub-Category'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: '![图11.7：向“纸张子类别”组添加成员'
- en: '](img/B16342_11_07.jpg)'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_11_07.jpg)'
- en: 'Figure 11.7: Adding members to the group Paper Sub-Category'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.7：向“纸张子类别”组添加成员
- en: Rename the selected items in the window to `Paper Items` for easier readability,
    as shown in the following screenshot. You can add or remove the items by dragging
    them in and out of the groups at your convenience.
  id: totrans-46
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将窗口中选定的项目重命名为“纸张项目”，以便更容易阅读，如图所示。您可以根据需要通过将项目拖入或拖出组来添加或删除项目。
- en: '![Figure 11.8: Editing a group'
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: '![图11.8：编辑分组'
- en: '](img/B16342_11_08.jpg)'
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_11_08.jpg)'
- en: 'Figure 11.8: Editing a group'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.8：编辑分组
- en: 'To check if your group is working the way you expect, drag the newly created
    group dimension `Paper Sub-Category(group)` to the `Rows` shelf and remove the
    `Category` as well as the `Sub-Category` dimensions from the view. You''ll notice
    the group that you created in the previous step:'
  id: totrans-50
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要检查您的分组是否按预期工作，将新创建的组维度“纸张子类别（分组）”拖到“行”架上，并从视图中删除“类别”以及“子类别”维度。您将注意到您在上一步骤中创建的组：
- en: '![Figure 11.9 The groups sub-category'
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: '![图11.9 子类别分组'
- en: '](img/B16342_11_09.jpg)'
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_11_09.jpg)'
- en: Figure 11.9 The groups sub-category
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.9 子类别分组
- en: 'In this exercise, you explored two ways of creating groups: via the worksheet
    view and the `Data` pane. With your completion of this task, sub-category managers
    now have a way of looking at their KPIs for multiple grouped sub-categories.'
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个练习中，您探索了创建分组的两种方法：通过工作表视图和“数据”面板。完成此任务后，子类别经理现在有了一种查看多个分组子类别KPI的方法。
- en: Note
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: If you want to edit the grouping now or in the future, right-click on the new
    group dimension that was created (the dimension with the *clip* icon) in the `Data`
    pane and click on `Edit Group`. In the `Edit Group` popup, you can drag and drop
    to remove members or add new members to the group.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您现在或将来想要编辑分组，请在“数据”面板中右键单击新创建的分组维度（带有 *clip* 图标的维度）并点击“编辑分组”。在“编辑分组”弹出窗口中，您可以通过拖放来删除成员或向组中添加新成员。
- en: Hierarchies
  id: totrans-57
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 层次结构
- en: 'Hierarchies are not specific to Tableau. As such, you have almost certainly
    used them previously, whether consciously or unconsciously. In a data context,
    when the relevant data is arranged logically based on its level of detail, it
    is called a `Sample - Superstore` dataset, you have already used hierarchies many
    times, including the `Location` hierarchy, which contains `Country/Region`, `State`,
    `City`, and `Postal Code`; the `Product` hierarchy consists of `Category`, `Sub-Category`,
    `Manufacturer`, and `Product Name`. Hierarchies grant you a comprehensive look
    into your data. For example, if you add the `State` dimension to your view, because
    of the hierarchies that were pre-created in your data, you can switch from state
    to city by clicking on the `+` icon in your shelf or go a level up by clicking
    the `-` sign as shown here:'
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 层次结构并不仅限于 Tableau。因此，您很可能之前已经使用过它们，无论是自觉还是不自觉。在数据环境中，当相关数据根据其详细程度逻辑排列时，它被称为“样本
    - 超级商店”数据集，您已经多次使用过层次结构，包括包含“国家/地区”、“州”、“城市”和“邮政编码”的“位置”层次结构；产品层次结构由“类别”、“子类别”、“制造商”和“产品名称”组成。层次结构使您能够全面了解您的数据。例如，如果您将“州”维度添加到您的视图中，由于您数据中预先创建的层次结构，您可以通过点击您的架上的“+”图标从州切换到城市，或者通过点击此处所示的“-”符号向上提升一个级别：
- en: '![Figure 11.10: Default hierarchies'
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 11.10：默认层次结构'
- en: '](img/B16342_11_10.jpg)'
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: '![img/B16342_11_10.jpg](img/B16342_11_10.jpg)'
- en: 'Figure 11.10: Default hierarchies'
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11.10：默认层次结构
- en: Take a look at how hierarchies can be created through the following short exercise.
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 通过以下简短练习看看层次结构是如何创建的。
- en: 'Exercise 11.02: Creating Hierarchies'
  id: totrans-63
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 练习 11.02：创建层次结构
- en: As an e-commerce analyst of emzon.com, the product catalog manager wants to
    add `Segment` to the `Product` hierarchy. You will have to initially remove the
    original `Product` hierarchy and later create a new `Product` hierarchy by combining
    one of the existing ones.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 作为 emzon.com 的电子商务分析师，产品目录经理希望将“段”添加到“产品”层次结构中。您将首先需要移除原始的“产品”层次结构，然后通过组合现有的一个来创建新的“产品”层次结构。
- en: Note
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: 'If you load the default `Sample - Superstore` dataset provided by Tableau in
    Tableau Desktop, you may notice that some fields are missing or new fields have
    been added. That is expected as Tableau constantly updates data files as per the
    requirements. If you want to avoid confusion, download the dataset from the official
    GitHub repository for this chapter, available here: [https://packt.link/eLmSX](https://packt.link/eLmSX).'
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您在 Tableau Desktop 中加载 Tableau 提供的默认“样本 - 超级商店”数据集，您可能会注意到一些字段缺失或添加了新字段。这是预期的，因为
    Tableau 会根据需求不断更新数据文件。如果您想避免混淆，请从本章的官方 GitHub 仓库下载数据集，链接如下：[https://packt.link/eLmSX](https://packt.link/eLmSX)。
- en: Open the `Sample - Superstore` dataset in your Tableau instance, if it is not
    already open.
  id: totrans-67
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在您的 Tableau 实例中打开“样本 - 超级商店”数据集，如果它尚未打开。
- en: Follow *Step 2* and *Step 3* below only if your version of data has a `Product`
    hierarchy inbuilt. If not, proceed to step 4 directly. Assuming in your `Data`
    pane you find a `Decision Tree` icon(as shown below) attached to `Product` dimension,
    the decision tree signifies that the dimension is a hierarchy and can be drilled
    down in your view.
  id: totrans-68
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 只有当您的数据版本中内置了“产品”层次结构时，才遵循以下 *步骤 2* 和 *步骤 3*。如果没有，请直接进入步骤 4。假设在您的“数据”面板中您找到一个（如图所示）附加到“产品”维度的“决策树”图标，决策树表示该维度是层次结构，可以在您的视图中进行下钻。
- en: '![Figure 11.11: The hierarchy icon'
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 11.11：层次结构图标'
- en: '](img/B16342_11_11.jpg)'
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: '![img/B16342_11_11.jpg](img/B16342_11_11.jpg)'
- en: 'Figure 11.11: The hierarchy icon'
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11.11：层次结构图标
- en: 'Navigate to the `Product` dimension in your `Dimensions` data pane and right-click
    the `Product` dimension. Then click on `Remove Hierarchy`:'
  id: totrans-72
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在您的“维度”数据面板中导航到“产品”维度，然后右键单击“产品”维度。然后点击“移除层次结构”：
- en: '![Figure 11.12: Removing the hierarchy'
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 11.12：移除层次结构'
- en: '](img/B16342_11_12.jpg)'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: '![img/B16342_11_12.jpg](img/B16342_11_12.jpg)'
- en: 'Figure 11.12: Removing the hierarchy'
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11.12：移除层次结构
- en: As soon as you remove the hierarchy, the `Decision Tree` icon is also removed
    and all the dimensions that were part of the hierarchy subsequently become their
    own dimensions. You will also be unable to drill them down as they are no longer
    logically arranged.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦删除层次结构，`决策树` 图标也会被删除，并且层次结构中曾是部分的维度随后成为它们自己的维度。你也将无法向下钻取，因为它们不再是逻辑上排列的。
- en: To re-construct the hierarchy that we just removed, multi-select dimensions
    by pressing *Ctrl* and selecting (for Windows) or *Command* and selecting (for
    Mac) all the dimensions that were a part of the product hierarchy. In this case,
    this will be `Category`, `Sub-Category`, `Manufacturer`, `Product name`, and `Segment`.
  id: totrans-77
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要重新构建我们刚刚删除的层次结构，请按住 *Ctrl* 并选择（对于 Windows）或 *Command* 并选择（对于 Mac）所有曾是产品层次结构一部分的维度。在这种情况下，这将包括
    `类别`、`子类别`、`制造商`、`产品名称` 和 `细分市场`。
- en: 'After selecting all the dimensions mentioned, right-click on any of the selected
    dimensions, hover over `Hierarchy`, click on `Create Hierarchy…`, and name the
    hierarchy `Product` as shown here:'
  id: totrans-78
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择所有提到的维度后，右键单击所选维度中的任何一个，将鼠标悬停在 `层次结构` 上，点击 `创建层次结构…`，并按此处所示命名层次结构为 `产品`：
- en: '![Figure 11.13: Creating a new hierarchy'
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 11.13：创建新的层次结构'
- en: '](img/B16342_11_13.jpg)'
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_11_13.jpg)'
- en: 'Figure 11.13: Creating a new hierarchy'
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11.13：创建新的层次结构
- en: 'Ideally, the order of multi-select in the previous steps should have allowed
    Tableau to select the level of your hierarchies. Unfortunately, Tableau levels
    them alphabetically, which is not the level you want:'
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 理想情况下，上一步骤中多选的顺序应该允许 Tableau 选择你的层次结构的层级。不幸的是，Tableau 按字母顺序对它们进行分级，这不是你想要的层级：
- en: '![Figure 11.14: The newly created hierarchy'
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 11.14：新创建的层次结构'
- en: '](img/B16342_11_14.jpg)'
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_11_14.jpg)'
- en: 'Figure 11.14: The newly created hierarchy'
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11.14：新创建的层次结构
- en: 'Before you create a hierarchy, you should have a good idea of the logical leveling
    of the hierarchy. In this case, these were `Category` | `Sub-Category` | `Manufacturer`
    | `Product name` | `Segment`. Drag your dimensions above or below depending on
    the level. For example, `Sub-Category` is below `Segment`, so drag `Sub-Category`
    above `Product Name` and `Manufacturer`:'
  id: totrans-86
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在创建层次结构之前，你应该对层次结构的逻辑层级有一个很好的了解。在这种情况下，这些是 `类别` | `子类别` | `制造商` | `产品名称` | `细分市场`。根据层级拖动你的维度到上方或下方。例如，`子类别`
    位于 `细分市场` 之下，所以将 `子类别` 拖动到 `产品名称` 和 `制造商` 之上：
- en: '![Figure 11.15: Dragging dimensions to change their logical order'
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 11.15：拖动维度以更改其逻辑顺序'
- en: '](img/B16342_11_15.jpg)'
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_11_15.jpg)'
- en: 'Figure 11.15: Dragging dimensions to change their logical order'
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11.15：拖动维度以更改其逻辑顺序
- en: Check if the hierarchy is working as expected. Drag the `Product` hierarchy
    to the `Rows` shelf and double-click on `Sales` to create a `Sales` report by
    `Product` hierarchy.
  id: totrans-90
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 检查层次结构是否按预期工作。将 `产品` 层次结构拖到 `行` 档中，并双击 `销售` 以通过 `产品` 层次结构创建 `销售` 报告。
- en: '![Figure 11.16: Final hierarchy'
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 11.16：最终层次结构'
- en: '](img/B16342_11_16.jpg)'
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_11_16.jpg)'
- en: 'Figure 11.16: Final hierarchy'
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11.16：最终层次结构
- en: Like groups, hierarchies can be useful when you can logically arrange relevant
    data points based on their level of detail or granularity. You just removed as
    well as re-created a `Product` hierarchy in this exercise.
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 与组一样，当你可以根据数据点的详细程度或粒度逻辑地排列相关数据点时，层次结构非常有用。在这个练习中，你不仅删除了，还重新创建了一个 `产品` 层次结构。
- en: 'Filters: The Heart and Soul of Tableau'
  id: totrans-95
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 过滤器：Tableau 的灵魂和核心
- en: If you want to differentiate yourself from a casual Tableau developer, understanding
    the order of operations and the order in which Tableau manipulates and filters
    data is critical. In other words, to be a true expert in Tableau, you need to
    be able to determine when and where data was filtered and pinpoint the reason
    when the view doesn't produce the data you expect.
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你想要与普通的 Tableau 开发者区分开来，理解操作顺序以及 Tableau 处理和过滤数据的方式至关重要。换句话说，要成为 Tableau 的真正专家，你需要能够确定数据何时何地被过滤，并在视图没有产生你预期的数据时找出原因。
- en: Think of the order of operations as the query pipeline. The order in which Tableau
    filters data is critical and Tableau follows a sequential order, as shown in the
    following chart.
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 将操作顺序视为查询管道。Tableau 过滤数据的方式至关重要，Tableau 遵循顺序，如下面的图表所示。
- en: '![Figure 11.17: Tableau table of operations'
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 11.17：Tableau 操作表'
- en: '](img/B16342_11_17.jpg)'
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_11_17.jpg)'
- en: 'Figure 11.17: Tableau table of operations'
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11.17：Tableau 操作表
- en: When you create business dashboards in Tableau, you will have multiple filters,
    table calculations, and calculated fields to work with. As is the case with most
    programs, execution follows a set order/operation priority. The order of operations
    is just that. In the chart above, `Extract Filters` has the highest priority,
    followed by `Data Source Filters` and `Context Filters`, and `Trend Lines, Reference
    Lines` has the lowest priority. In the following sub-sections, we will try to
    explain most of the filters with an exercise to demonstrate the importance of
    this.
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 当你在Tableau中创建业务仪表板时，你将需要处理多个过滤器、表格计算和计算字段。与大多数程序一样，执行遵循一定的顺序/操作优先级。操作顺序就是如此。在上面的图表中，`提取过滤器`具有最高优先级，其次是`数据源过滤器`和`上下文过滤器`，而`趋势线、参考线`具有最低优先级。在接下来的子节中，我们将通过练习尝试解释大多数过滤器，以展示其重要性。
- en: Data Source and Extract Filters
  id: totrans-102
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 数据源和提取过滤器
- en: Data Source and Extract filters are the first in the order of operations in
    Tableau and take place before you create your first view or when you are loading
    your data into the Tableau instance. This type of filtering is useful when you
    don't want to load all the data from your server/source file into the Tableau
    instance. See this in practice in the following exercise.
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 数据源和提取过滤器在Tableau的操作顺序中排在第一位，在创建第一个视图或加载数据到Tableau实例之前进行。这种过滤在你不希望将服务器/源文件中的所有数据加载到Tableau实例时非常有用。以下练习中将展示其实际应用。
- en: 'Exercise 11.03: Filtering Data Using Extract/Data Source Filters'
  id: totrans-104
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 练习11.03：使用提取/数据源过滤器过滤数据
- en: As an analyst, you want to load only a sub-region of data into your Tableau
    worksheet to lower the load on the dashboard and limit the amount of data being
    downloaded into the worksheet. Create a view of `Sales` by `State` for the `East`
    region only.
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 作为分析师，你希望只将数据子区域加载到你的Tableau工作表中，以降低仪表板的负载并限制下载到工作表中的数据量。只为`东部`地区创建一个按`州`划分的`销售`视图。
- en: Open the `Sample - Superstore` dataset in your Tableau instance if you don't
    have it open already.
  id: totrans-106
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果你还没有打开，请打开你的Tableau实例中的`Sample - Superstore`数据集。
- en: Before creating a sample view, double-click on `Data Source` at the bottom-left
    of your screen.
  id: totrans-107
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在屏幕左下角双击`数据源`以创建一个示例视图。
- en: '![Figure 11.18: Data pane view'
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: '![图11.18：数据面板视图'
- en: '](img/B16342_11_18.jpg)'
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_11_18.jpg)'
- en: 'Figure 11.18: Data pane view'
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.18：数据面板视图
- en: To import data for the `East` region only for your view, add that as a `Data
    Source Filter` here. On the `Data Source` page, click on `Add` in the `Filters`
    section at the top right of the view.
  id: totrans-111
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要仅为你视图中的`东部`地区导入数据，请在此处将其添加为`数据源过滤器`。在`数据源`页面上，点击视图右上角的`过滤器`部分中的`添加`。
- en: '![Figure 11.19: Data Source view'
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: '![图11.19：数据源视图'
- en: '](img/B16342_11_19.jpg)'
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_11_19.jpg)'
- en: 'Figure 11.19: Data Source view'
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.19：数据源视图
- en: 'In the `Edit Data Source Filters` window, click the `Add…` button, select `Region`,
    and click `OK`. Just select `East` from the list and click the `OK` button. Click
    the `OK` button again to close the dialog box:'
  id: totrans-115
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在`编辑数据源过滤器`窗口中，点击`添加…`按钮，选择`区域`，然后点击`确定`。只需从列表中选择`东部`并点击`确定`按钮。再次点击`确定`按钮以关闭对话框：
- en: '![Figure 11.20: Adding data source filters'
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: '![图11.20：添加数据源过滤器'
- en: '](img/B16342_11_20.jpg)'
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_11_20.jpg)'
- en: 'Figure 11.20: Adding data source filters'
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.20：添加数据源过滤器
- en: 'To confirm the working of the filters, create a new worksheet and review `Sales`
    by `State` from your data:'
  id: totrans-119
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为了确认过滤器的功能，创建一个新的工作表并审查你的数据中的`州`的`销售`：
- en: '![Figure 11.21: Data after adding a data source filter'
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: '![图11.21：添加数据源过滤器后的数据'
- en: '](img/B16342_11_21.jpg)'
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_11_21.jpg)'
- en: 'Figure 11.21: Data after adding a data source filter'
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.21：添加数据源过滤器后的数据
- en: You might not notice the difference in speed when loading any of the dimensions
    in your view because the data is not at gigabyte or terabyte scale. If you were
    working with large-scale data, utilizing data source filtering is one way to improve
    the speed and efficiency of your work.
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 由于数据不是千兆或兆字节规模，你可能不会注意到在加载数据视图中的任何维度时的速度差异。如果你正在处理大规模数据，利用数据源过滤是提高工作效率的一种方法。
- en: When the data source you are importing contains more data than your report/dashboard
    requires, you can utilize data source filters to improve the efficiency and reduce
    the load on Tableau views. In this exercise, your goal was to improve the performance
    of your dashboard, and by using data source filters, you were able to limit the
    amount of data being loaded in the worksheet.
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 当你导入的数据源包含比你报告/仪表板所需更多的数据时，你可以利用数据源过滤器来提高效率并减少对Tableau视图的负载。在这个练习中，你的目标是提高仪表板的性能，通过使用数据源过滤器，你能够限制工作表中加载的数据量。
- en: Filters Using Views
  id: totrans-125
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 使用视图的过滤器
- en: These types of filters resemble how you group dimensions using views. In this
    type of filtering, you manually select one or multiple data points in the view
    to include or exclude from the view. In the following exercise, you'll perform
    these simple steps to create a filter in this way.
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 这些类型的过滤器类似于你使用视图分组维度的方式。在这种过滤方式中，你手动选择视图中的一个或多个数据点以包含或排除。在接下来的练习中，你将执行以下简单步骤来以这种方式创建过滤器。
- en: 'Exercise 11.04: Creating Filters from the View'
  id: totrans-127
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 练习11.04：从视图中创建过滤器
- en: As an analyst, you have been given completely new data, and as part of the dashboard
    designing process, you want to do some **Exploratory Data Analysis** (**EDA**).
    Creating filters using the view can be a great way of filtering data as you see
    the data in the worksheet.
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 作为一名分析师，你已经获得了全新的数据，作为仪表板设计过程的一部分，你想要进行一些**探索性数据分析**（**EDA**）。使用视图创建过滤器可以是一种很好的过滤数据的方式，因为你可以在工作表中看到数据。
- en: 'Perform the following steps to complete this exercise:'
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 执行以下步骤来完成此练习：
- en: Open the `Sample - Superstore` dataset in your Tableau instance if you have
    not already done so.
  id: totrans-130
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果您还没有这样做，请在您的Tableau实例中打开`Sample - Superstore`数据集。
- en: 'Create a bar chart of `Sales` by `State`. Drag and drop `State` to the `Rows`
    shelf and `Sales` to the `Columns` shelf. You should end up with the following
    view:'
  id: totrans-131
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个按`State`划分的`Sales`条形图。将`State`拖放到`行`架中，将`Sales`拖放到`列`架中。你应该得到以下视图：
- en: '![Figure 11.22: Sales by State view'
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: '![图11.22：按州划分的销售视图'
- en: '](img/B16342_11_22.jpg)'
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: '![img/B16342_11_22.jpg]'
- en: 'Figure 11.22: Sales by State view'
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.22：按州划分的销售视图
- en: 'Manually select your states/data points to include/exclude from your view.
    Click and drag a region to exclude the top five states by sales as shown here:'
  id: totrans-135
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 手动选择你想要包含/排除的州/数据点。点击并拖动一个区域，如这里所示排除销售量前五的州：
- en: '![Figure 11.23: Dragging multiple data points to create a filter'
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: '![图11.23：拖动多个数据点创建过滤器'
- en: '](img/B16342_11_23.jpg)'
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: '![img/B16342_11_23.jpg]'
- en: 'Figure 11.23: Dragging multiple data points to create a filter'
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.23：拖动多个数据点创建过滤器
- en: 'If you hover your mouse over the selected region for a couple of seconds, a
    tooltip option pops up. From here, select `Keep Only` or `Exclude` for the selected
    states. You exclude these states, so click on `Exclude`:'
  id: totrans-139
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果你将鼠标悬停在所选区域上几秒钟，会出现一个工具提示选项。从这里，选择`仅保留`或`排除`所选州。你将排除这些州，因此点击`排除`：
- en: '![Figure 11.24: Include/exclude data points from the view'
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: '![图11.24：从视图中包含/排除数据点'
- en: '](img/B16342_11_24.jpg)'
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: '![img/B16342_11_24.jpg]'
- en: 'Figure 11.24: Include/exclude data points from the view'
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.24：从视图中包含/排除数据点
- en: 'A `State` dimension filter will be added to the `Filters` shelf. In the next
    sub-section, you are going to dive deep into how to best use the `Filters` shelf,
    so hold on to your questions at the moment. Here is the final output:'
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 将`State`维度的过滤器添加到`过滤器`架中。在下一小节中，你将深入了解如何最好地使用`过滤器`架，所以现在请暂时保留你的问题。以下是最终输出：
- en: '![Figure 11.25: Final output after creating the filter from the view'
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: '![图11.25：从视图中创建过滤器后的最终输出'
- en: '](img/B16342_11_25.jpg)'
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: '![img/B16342_11_25.jpg]'
- en: 'Figure 11.25: Final output after creating the filter from the view'
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.25：从视图中创建过滤器后的最终输出
- en: In this exercise, you practiced manually selecting or dragging and selecting
    a subset of the view to include/exclude from the view. Creating filters using
    the view can be incredibly helpful when you initially conduct EDA, which is what
    all analysts start with when creating a new dashboard. Next, we will dive deep
    into how to best utilize the `Filters` shelf.
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个练习中，你练习了手动选择或拖动选择视图的一个子集以包含/排除。使用视图创建过滤器在最初进行EDA时非常有帮助，这是所有分析师在创建新仪表板时开始的地方。接下来，我们将深入了解如何最好地利用`过滤器`架。
- en: Creating Filters Using the Filters Shelf
  id: totrans-148
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 使用过滤器架创建过滤器
- en: In previous sections, we looked at filtering data either at the data source
    level or using views, but the right way to utilize filters in Tableau is via the
    `Filters` shelf. In this section, we will discuss how to use the `Filters` shelf
    for filtering dimensions, measures, as well as dates. But first, we will dive
    deep into the options of the `Filter` dialog box, which opens up when you drag
    any of the mentioned data types.
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: 在前面的章节中，我们探讨了在数据源级别或使用视图进行数据过滤的方法，但正确利用Tableau中的过滤器是通过`过滤器`架来实现的。在本节中，我们将讨论如何使用`过滤器`架来过滤维度、度量以及日期。但首先，我们将深入了解当您拖动任何提到的数据类型时打开的`过滤器`对话框的选项。
- en: Dimension Filters Using the Filters Shelf
  id: totrans-150
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 使用过滤器架进行维度过滤
- en: 'Dimensions in Tableau are essentially categorical data. When filtering a dimension,
    you either include or exclude some part of this data from the view. The following
    dialog box opens up whenever you drag a dimension to the `Filters` shelf:'
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: Tableau中的维度本质上属于分类数据。当过滤维度时，您要么将数据的一部分包含在视图中，要么排除。以下对话框在您将维度拖到`过滤器`架时打开：
- en: '![Figure 11.26: Dragging a dimension to the Filters shelf'
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 11.26：将维度拖到过滤器架'
- en: '](img/B16342_11_26.jpg)'
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片 B16342_11_26.jpg](img/B16342_11_26.jpg)'
- en: 'Figure 11.26: Dragging a dimension to the Filters shelf'
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11.26：将维度拖到过滤器架
- en: 'The box has four tabs, as follows:'
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 该框有四个选项卡，如下所示：
- en: '`Sub-Category` on `Supplies` and `Tables`, you could manually select only two
    sub-categories to include, as shown below:'
  id: totrans-156
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在“供应”和“表格”上的`子类别`，你可以手动选择仅包含两个子类别，如下所示：
- en: '![Figure 11.27: Filters shelf General tab'
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 11.27：过滤器架常规选项卡'
- en: '](img/B16342_11_27.jpg)'
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片 B16342_11_27.jpg](img/B16342_11_27.jpg)'
- en: 'Figure 11.27: Filters shelf General tab'
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 11.27：过滤器架常规选项卡'
- en: '`Wildcard` tab is used to match a pattern of text to use the filter on. Say
    you had a column with thousands of URLs, which may or may not contain the term
    `football` in the URL. It would be quite tiring to use the `General` tab to manually
    select all the URLs that contain the term `football`, but using `Wildcard`, you
    can match the value by stating that the dimension either contains, starts with,
    ends with, or exactly matches the term `football` for your URL dimensions.'
  id: totrans-160
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`通配符`选项卡用于匹配用于过滤的文本模式。比如说，您有一个包含数千个URL的列，这些URL可能包含或不包含URL中的`football`术语。手动使用`常规`选项卡选择包含`football`术语的所有URL将非常耗时，但使用`通配符`，您可以通过指定维度是否包含、以`football`开头、以`football`结尾或完全匹配`football`术语来匹配值，从而匹配URL维度。'
- en: '![Figure 11.28: Filters shelf Wildcard tab'
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 11.28：过滤器架通配符选项卡'
- en: '](img/B16342_11_28.jpg)'
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片 B16342_11_28.jpg](img/B16342_11_28.jpg)'
- en: 'Figure 11.28: Filters shelf Wildcard tab'
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11.28：过滤器架通配符选项卡
- en: '`Condition` tab, you define rules or criteria for filtering the data. For example,
    you could also use the `Condition` tab to filter on those sub-categories that
    reported losses in your data. To do that, select `By field`, and in the dropdown,
    select `Profit` with `Sum` as aggregation and `< 0` as shown below:'
  id: totrans-164
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`条件`选项卡中，您定义用于过滤数据的规则或标准。例如，您还可以使用`条件`选项卡来过滤那些在您的数据中报告亏损的子类别。为此，选择`按字段`，然后在下拉菜单中选择`利润`，聚合为`Sum`，如下所示：
- en: '![Figure 11.29: Filters shelf Condition tab'
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 11.29：过滤器架条件选项卡'
- en: '](img/B16342_11_29.jpg)'
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片 B16342_11_29.jpg](img/B16342_11_29.jpg)'
- en: 'Figure 11.29: Filters shelf Condition tab'
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11.29：过滤器架条件选项卡
- en: '`Top` tab in the `Filter` box when you want to compute the `Top` or `Bottom`
    N members of the view depending on the measure you want to filter the view on.
    In this example, you know that the `Bottom` three sub-categories are the rows
    with losses, so you can create a `Bottom` filter using these details, as shown
    here:'
  id: totrans-168
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当您想要根据要过滤视图的度量计算`Top`或`Bottom` N个成员时，请使用`过滤器`框中的`Top`选项卡。在本例中，您知道`Bottom`三个子类别是亏损的行，因此您可以使用这些详细信息创建一个`Bottom`过滤器，如下所示：
- en: '![Figure 11.30: Filters shelf Top view'
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 11.30：过滤器架顶部视图'
- en: '](img/B16342_11_30.jpg)'
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片 B16342_11_30.jpg](img/B16342_11_30.jpg)'
- en: 'Figure 11.30: Filters shelf Top view'
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 11.30：过滤器架顶部视图'
- en: Next, you will utilize the `Filter` dialog box in an exercise.
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，您将在练习中使用`过滤器`对话框。
- en: 'Exercise 11.05: Dimension Filters Using the Filters Shelf'
  id: totrans-173
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 练习 11.05：使用过滤器架进行维度过滤
- en: The portfolio manager has been tasked with identifying a list of all sub-categories
    that are not making profit. You are tasked with creating a dynamic filter via
    the `Filters` shelf.
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: 投资组合经理的任务是确定所有不盈利的子类别的列表。你的任务是创建一个通过`过滤器`架的动态过滤器。
- en: 'Perform the following steps to complete this exercise:'
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: 完成此练习的步骤如下：
- en: Open the Sample - Superstore dataset in your Tableau instance if you don't have
    it open already.
  id: totrans-176
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果您还没有打开，请打开您的Tableau实例中的Sample - Superstore数据集。
- en: 'Create a `Profit` by `Sub-Category` bar chart and drag and drop `Sub-Category`
    to the `Rows` shelf and `Profit` to `Columns`. You should get the following view:'
  id: totrans-177
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个`按子类别计算利润`条形图，并将`子类别`拖放到`行`架，将`利润`拖放到`列`。您应该得到以下视图：
- en: '![Figure 11.31: Profit by Sub-Category view'
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: '![图11.31：按子类别计算利润视图'
- en: '](img/B16342_11_31.jpg)'
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片](img/B16342_11_31.jpg)'
- en: 'Figure 11.31: Profit by Sub-Category view'
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.31：按子类别计算利润视图
- en: Note that there are three sub-cat egories (`Supplies`, `Bookcases`, and `Tables`)
    where the superstore made a loss. You want to include them in your view and exclude
    all other sub-categories. You can obviously manually select the sub-categories
    from the view itself, but go ahead and use the `Filters` shelf here, as instructed
    in the next step.
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: 注意，有三个子类别（`供应品`、`书架`和`桌子`）在超市亏损。您希望将它们包含在您的视图中，并排除所有其他子类别。您显然可以从视图中手动选择子类别，但请按照下一步的说明使用`过滤器`架。
- en: Drag and drop `Sub-Category` from the `Data` pane to the `Filters` shelf and
    a `Filters [Sub-Category]` dialog box opens up.
  id: totrans-182
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将`子类别`从`数据`面板拖放到`过滤器`架，将打开一个`过滤器[子类别]`对话框。
- en: '![Figure 11.32: Only profitable sub-categories'
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: '![图11.32：仅显示盈利子类别'
- en: '](img/B16342_11_32.jpg)'
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片](img/B16342_11_32.jpg)'
- en: 'Figure 11.32: Only profitable sub-categories'
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.32：仅显示盈利子类别
- en: In the dialog box, click on the `Condition` tab, select `By Field`, and filter
    on all sub-categories with `[Profit] <0`. You will get a list of all the sub-categories
    that are making losses for the business. Click on `OK` to filter the data.
  id: totrans-186
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在对话框中，点击`条件`选项卡，选择`按字段`，并过滤所有 `[利润] <0` 的子类别。您将得到所有亏损子类别的列表。点击`确定`以过滤数据。
- en: 'You should get the following view showing a list of all sub-categories that
    are making losses:'
  id: totrans-187
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您应该得到以下视图，显示所有亏损子类别的列表：
- en: '![Figure 11.33: Only loss-making sub-categories'
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: '![图11.33：仅显示亏损子类别'
- en: '](img/B16342_11_33.jpg)'
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片](img/B16342_11_33.jpg)'
- en: 'Figure 11.33: Only loss-making sub-categories'
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.33：仅显示亏损子类别
- en: In your career as a data analyst, you will likely find yourself using the `Filters`
    shelf day in and day out as part of your job, making this an essential skill to
    have under your belt. In this exercise, you explored all the options Tableau has
    to offer in the `Filters` shelf for dimensions.
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: 在您作为数据分析师的职业生涯中，您可能会发现自己每天都会使用`过滤器`架作为您工作的一部分，这使得掌握这项技能变得至关重要。在这个练习中，您探索了Tableau在`过滤器`架中为维度提供的所有选项。
- en: Measure Filters Using the Filters Shelf
  id: totrans-192
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 使用过滤器架进行测量过滤器
- en: 'Measures are quantitative data, which means, unlike dimensions, filtering on
    measures involves selecting a range of numbers that you want to include/exclude
    from your view. Whenever you drag a `Measure` onto the `Filters` shelf, the `Filter`
    dialog box offers you four options to filter the `Measure` on. The following list
    will define these options in greater detail:'
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: 度量是定量数据，这意味着，与维度不同，对度量的过滤涉及选择您想要包含/排除在视图中的数值范围。每次您将`度量`拖放到`过滤器`架时，`过滤器`对话框都会为您提供四个选项来过滤`度量`。以下列表将更详细地定义这些选项：
- en: '**The Measure Filter Dialog Box**:'
  id: totrans-194
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**测量过滤器对话框**：'
- en: '![Figure 11.34: Range of values in the Filter window'
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: '![图11.34：过滤器窗口中的值范围'
- en: '](img/B16342_11_34.jpg)'
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片](img/B16342_11_34.jpg)'
- en: 'Figure 11.34: Range of values in the Filter window'
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.34：过滤器窗口中的值范围
- en: '`Range of values`, you specify the range of values you want to filter on. In
    this use case, you only want profitable sub-categories, so your range will be
    from zero to the maximum as shown in the next screenshot *(Figure 11.35)*.'
  id: totrans-198
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`值范围`，您指定要过滤的值范围。在这种情况下，您只想显示盈利子类别，因此您的范围将从零到最大值，如下一张截图（图11.35）所示。'
- en: '`At least`, you specify the minimum value and all values greater or equal to
    the minimum value will be included in your view. This can usually be used when
    you don''t have control over what the maximum for the column/data could be, and
    it is difficult to predict. In this use case, your minimum will be zero because
    you want only profitable sub-categories as shown here:'
  id: totrans-199
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`至少`，您指定最小值，所有大于或等于最小值的值都将包含在您的视图中。这通常在您无法控制列/数据的最大值时使用，并且难以预测。在这种情况下，您的最小值将是零，因为您只想显示此处所示的盈利子类别：'
- en: '![Figure 11.35: At least filter window'
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: '![图11.35：至少过滤器窗口'
- en: '](img/B16342_11_35.jpg)'
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片](img/B16342_11_35.jpg)'
- en: 'Figure 11.35: At least filter window'
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.35：至少过滤器窗口
- en: '`At most` is the opposite of `At least` and is used when you want to include
    all values that are less than or equal to the maximum specified. This can usually
    be used when you don''t have control over the minimum but know the maximum value
    that you want to be included in your view, which is exactly opposite to that of
    the `At least` tab. You cannot use `At most` for this use case identifying profitable
    sub-categories because all the negative values will also be included in the view,
    and you don''t have control over them if you use `At most`.'
  id: totrans-203
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: “最多”是“至少”的反义词，当您想包含所有小于或等于最大指定值的值时使用。这通常在您无法控制最小值但知道要包含在视图中的最大值时使用，这与“至少”选项卡正好相反。您不能使用“最多”来识别盈利的子类别，因为所有负值也会包含在视图中，如果您使用“最多”，您将无法控制它们。
- en: '**Special**: As the name suggests, this filter is only used when you want to
    include either null values, non values, or all values. This tab is rarely used,
    but depending on the data, it may be required.'
  id: totrans-204
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**特别说明**：正如其名所示，此筛选器仅在您想包含空值、非值或所有值时使用。此选项卡很少使用，但根据数据，可能需要使用。'
- en: 'Exercise 11.06: Measuring Filters Using the Filters Shelf'
  id: totrans-205
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 练习11.06：使用筛选面板测量筛选
- en: 'The portfolio manager liked the work you did creating a view of loss-making
    sub-categories. Now he wants you to create a similar view, but instead of loss-making
    sub-categories, he wants a profit-making view this time. You will utilize `Profit`
    as a filter to create the view in the following steps:'
  id: totrans-206
  prefs: []
  type: TYPE_NORMAL
  zh: 投资组合经理喜欢您创建的亏损子类别视图。现在他希望您创建一个类似的视图，但这次不是亏损子类别，而是希望创建一个盈利视图。您将在以下步骤中利用“利润”作为筛选器来创建视图：
- en: Open the `Sample - Superstore` dataset in your Tableau instance if you have
    not already done so.
  id: totrans-207
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果您还没有这样做，请在您的Tableau实例中打开“Sample - Superstore”数据集。
- en: 'Create a `Profit` by `Sub-Category` bar chart, and drag and drop `Sub-Category`
    to the `Rows` shelf and `Profit` to `Columns`. You should be at the following
    view:'
  id: totrans-208
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个按“子类别”的“利润”条形图，并将“子类别”拖放到“行”面板，将“利润”拖放到“列”。您应该看到以下视图：
- en: '![Figure 11.36: Profit by Sub-Category view'
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: '![图11.36：按子类别查看利润'
- en: '](img/B16342_11_36.jpg)'
  id: totrans-210
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_11_36.jpg)'
- en: 'Figure 11.36: Profit by Sub-Category view'
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.36：按子类别查看利润
- en: 'Drag `Profit` from the `Data` pane to the `Filters` shelf. The following dialog
    box opens up:'
  id: totrans-212
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将“利润”从“数据”面板拖放到“筛选”面板。以下对话框将打开：
- en: '![Figure 11.37: Measure Filter Field options'
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: '![图11.37：度量值筛选字段选项'
- en: '](img/B16342_11_37.jpg)'
  id: totrans-214
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_11_37.jpg)'
- en: 'Figure 11.37: Measure Filter Field options'
  id: totrans-215
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.37：度量值筛选字段选项
- en: In the `Filter Field [Profit]` dialog box, select the aggregation for your measures.
    In this case, select `Sum` as you want to look at the sum of the profit.
  id: totrans-216
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在“筛选字段[利润]”对话框中，选择您的度量的聚合方式。在这种情况下，选择“求和”，因为您想查看利润的总和。
- en: '`Range of values`, as well as `At least`, can be used for identifying profitable
    sub-categories. For this exercise, use `Range of values` to filter on profitable
    subcategories.'
  id: totrans-217
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: “值范围”以及“至少”都可以用于识别盈利的子类别。对于这个练习，请使用“值范围”来过滤盈利的子类别。
- en: '![Figure 11.38: Range of values for Measure'
  id: totrans-218
  prefs: []
  type: TYPE_NORMAL
  zh: '![图11.38：度量值的范围'
- en: '](img/B16342_11_38.jpg)'
  id: totrans-219
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_11_38.jpg)'
- en: 'Figure 11.38: Range of values for Measure'
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.38：度量值的范围
- en: 'Regardless of `Profit` option you decided to use, your final output should
    resemble the following:'
  id: totrans-221
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 无论您决定使用哪个“利润”选项，您的最终输出应该类似于以下内容：
- en: '![Figure 11.39: Measure filter final output'
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
  zh: '![图11.39：度量值筛选最终输出'
- en: '](img/B16342_11_39.jpg)'
  id: totrans-223
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_11_39.jpg)'
- en: 'Figure 11.39: Measure filter final output'
  id: totrans-224
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.39：度量值筛选最终输出
- en: In this exercise, you utilized the `Measure` data type as a filter for the first
    time and explored all Tableau's corresponding options for this in detail. You
    used `Profit` to filter on only profitable sub-categories.
  id: totrans-225
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个练习中，您第一次使用“度量”数据类型作为筛选器，并详细探讨了Tableau的相应选项。您使用“利润”来筛选仅盈利的子类别。
- en: In the next section, you will explore date filters using the `Filters` shelf.
  id: totrans-226
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一节中，您将探索使用“筛选”面板进行日期筛选。
- en: Date Filters Using the Filters Shelf
  id: totrans-227
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 使用筛选面板进行日期筛选
- en: Dates are neither qualitative data nor quantitative data out of the box. We
    can filter dates either by `Relative Date`, `Range of Dates`, or filtering by
    discrete dates. Let's explore each one of the options and how they differ from
    each other, and in the exercise after the explanation, walk through a specific
    use case.
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
  zh: 日期既不是定性数据也不是定量数据。我们可以通过“相对日期”、“日期范围”或离散日期进行日期筛选。让我们探索每个选项以及它们之间的区别，并在解释后的练习中，我们将通过一个具体用例进行操作。
- en: 'When you drag a `Date` dimension such as `Order Date` in your `Sample - Superstore`
    dataset, you are presented with the following window:'
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
  zh: 当您将“订单日期”等日期维度拖动到您的“Sample - Superstore”数据集中时，您将看到以下窗口：
- en: '![Figure 11.40: Date filter modal window'
  id: totrans-230
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 11.40：日期筛选模态窗口'
- en: '](img/B16342_11_40.jpg)'
  id: totrans-231
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片 B16342_11_40.jpg]'
- en: 'Figure 11.40: Date filter modal window'
  id: totrans-232
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11.40：日期筛选模态窗口
- en: '`Relative Dates` dialog box, select `Months`, click on `Last`, and enter `12`
    months as shown here:'
  id: totrans-233
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在“相对日期”对话框中，选择“月份”，点击“最后”，并输入“12”个月，如图所示：
- en: '![Figure 11.41: Filter by Relative dates'
  id: totrans-234
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 11.41：相对日期筛选'
- en: '](img/B16342_11_41.jpg)'
  id: totrans-235
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片 B16342_11_41.jpg]'
- en: 'Figure 11.41: Filter by Relative dates'
  id: totrans-236
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11.41：相对日期筛选
- en: Relative dates are defined from the date the view was opened. If the data source
    only has dates till December 2019 and you are opening this in July 2020, the view
    will only include dates from August 2019 to the maximum date that is present in
    the data, which in this case is December 2019\. Hence you will only see five months'
    worth of data. To change that, you can check `Anchor relative to` at the bottom
    left and enter the date as December 31, 2019, as shown here.
  id: totrans-237
  prefs: []
  type: TYPE_NORMAL
  zh: 相对日期从视图打开的日期开始定义。如果数据源只有到 2019 年 12 月的日期，而你是在 2020 年 7 月打开的，那么视图将只包括从 2019 年
    8 月到数据中存在的最大日期，在这个例子中是 2019 年 12 月。因此，你将只能看到五个月的数据。要更改这一点，你可以检查左下角的“相对于”并输入日期为
    2019 年 12 月 31 日，如图所示。
- en: '![Figure 11.42: Filter by Relative dates with an anchor date'
  id: totrans-238
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 11.42：带有锚定日期的相对日期筛选'
- en: '](img/B16342_11_42.jpg)'
  id: totrans-239
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片 B16342_11_42.jpg]'
- en: 'Figure 11.42: Filter by Relative dates with an anchor date'
  id: totrans-240
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11.42：带有锚定日期的相对日期筛选
- en: '**Filtering by range of dates**: You use this filter when you want your dates
    to have a fixed range. In this use case, you want 12 months of data relative to
    December 2019, so your range will be January 2019 to December 2019 as shown here:'
  id: totrans-241
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**按日期范围筛选**：当您想要日期具有固定范围时，您使用此筛选器。在这个用例中，您想要相对于 2019 年 12 月的 12 个月数据，因此您的范围将是
    2019 年 1 月到 2019 年 12 月，如图所示：'
- en: '![Figure 11.43: Filter by Range of dates'
  id: totrans-242
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 11.43：按日期范围筛选'
- en: '](img/B16342_11_43.jpg)'
  id: totrans-243
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片 B16342_11_43.jpg]'
- en: 'Figure 11.43: Filter by Range of dates'
  id: totrans-244
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11.43：按日期范围筛选
- en: '`Filter Field [Order Date]` dialog box, if you select discrete date values,
    you will filter on the entire date levels. For example, if you filter the discrete
    date on `Months` and select `January`, you will filter on `January` irrespective
    of the year. If you want to filter on a month and a year, select `Month / Year`
    from the `Filter Field` dialog box.'
  id: totrans-245
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在“筛选字段[订单日期]”对话框中，如果您选择离散日期值，您将筛选整个日期级别。例如，如果您在“月份”上筛选离散日期并选择“一月”，您将筛选“一月”，无论年份如何。如果您想按月份和年份筛选，请从“筛选字段”对话框中选择“月份/年份”。
- en: '![Figure 11.44: Filter by discrete dates'
  id: totrans-246
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 11.44：按离散日期筛选'
- en: '](img/B16342_11_44.jpg)'
  id: totrans-247
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片 B16342_11_44.jpg]'
- en: 'Figure 11.44: Filter by discrete dates'
  id: totrans-248
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11.44：按离散日期筛选
- en: '![Figure 11.45: Filter by discrete month'
  id: totrans-249
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 11.45：按离散月份筛选'
- en: '](img/B16342_11_45.jpg)'
  id: totrans-250
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片 B16342_11_45.jpg]'
- en: 'Figure 11.45: Filter by discrete month'
  id: totrans-251
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11.45：按离散月份筛选
- en: In the following exercise, you will use the `Date` dialog box and create a time-series
    view to showcase the use of the `Date` filter.
  id: totrans-252
  prefs: []
  type: TYPE_NORMAL
  zh: 在以下练习中，您将使用“日期”对话框并创建一个时间序列视图来展示“日期”筛选器的使用。
- en: 'Exercise 11.07: Creating Date Filters Using the Filters Shelf'
  id: totrans-253
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 练习 11.07：使用筛选器面板创建日期筛选器
- en: You are asked to create a time-series view of the sales of the last 12 months
    relative to the last updated date of the data. You will be using the `Sample -
    Superstore` dataset again in this exercise and utilizing relative dates, as well
    as anchoring relative to the options covered in the preceding section.
  id: totrans-254
  prefs: []
  type: TYPE_NORMAL
  zh: 您被要求创建一个相对于数据最后更新日期的最后 12 个月销售额的时间序列视图。您将再次使用“Sample - Superstore”数据集，并利用相对日期，以及在本节中介绍的对齐选项。
- en: 'Perform the following steps to complete this exercise:'
  id: totrans-255
  prefs: []
  type: TYPE_NORMAL
  zh: 执行以下步骤来完成此练习：
- en: Open the `Sample - Superstore` dataset in your Tableau instance if you have
    not already done so.
  id: totrans-256
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果尚未完成，请在您的 Tableau 实例中打开“Sample - Superstore”数据集。
- en: 'Create a line chart of `Sales` by continuous `Month(Order Date)` as shown here:'
  id: totrans-257
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个显示“销售额”随连续“订单日期”月份变化的折线图，如图所示：
- en: '![Figure 11.46: Time-series view after filtering on the last 12 months'
  id: totrans-258
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 11.46：筛选最后 12 个月后的时间序列视图'
- en: '](img/B16342_11_46.jpg)'
  id: totrans-259
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片 B16342_11_46.jpg]'
- en: 'Figure 11.46: Time-series view after filtering on the last 12 months'
  id: totrans-260
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11.46：筛选最后 12 个月后的时间序列视图
- en: You want the line chart to only show the last 12 months of data, so you will
    be using the `Filters` shelf to select only the last 12 months of data.
  id: totrans-261
  prefs: []
  type: TYPE_NORMAL
  zh: 您希望折线图只显示最后 12 个月的数据，因此您将使用“过滤器”面板来选择仅显示最后 12 个月的数据。
- en: Drag and drop `Order Date` to the `Filters` shelf. In the `Filter Field [Order
    Date]` dialog box, filter the dates either by `Relative Date`, `Range of Dates`,
    or filtering by discrete dates.
  id: totrans-262
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将“订单日期”拖放到“过滤器”面板中。在“过滤器字段[订单日期]”对话框中，通过“相对日期”、“日期范围”或离散日期过滤来过滤日期。
- en: '![Figure 11.47: Date filter window'
  id: totrans-263
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 11.47：日期过滤器窗口'
- en: '](img/B16342_11_47.jpg)'
  id: totrans-264
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_11_47.jpg)'
- en: 'Figure 11.47: Date filter window'
  id: totrans-265
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11.47：日期过滤器窗口
- en: For this exercise, you will filter by `Relative Date` since you want your view
    to be dynamically updated in the future too, to only show the last 12 months of
    data. Click on `Relative Date` in the preceding dialog box and on the next screen
    select `Months` and enter `12`.
  id: totrans-266
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对于这个练习，您将通过“相对日期”进行过滤，因为您希望您的视图在未来也能动态更新，只显示最后 12 个月的数据。在先前的对话框中单击“相对日期”，在下一屏幕中选择“月份”并输入“12”。
- en: '![Figure 11.48: Relative dates date filter'
  id: totrans-267
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 11.48：相对日期日期过滤器'
- en: '](img/B16342_11_48.jpg)'
  id: totrans-268
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_11_48.jpg)'
- en: 'Figure 11.48: Relative dates date filter'
  id: totrans-269
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11.48：相对日期日期过滤器
- en: This was discussed this in the `Note` section above. Since the `Sample – Superstore`
    dataset only has data till December 2019, and considering this book was written
    in July 2020, you will see only six checkmarks.
  id: totrans-270
  prefs: []
  type: TYPE_NORMAL
  zh: 这在上面的“注释”部分中已经讨论过。由于“样本 - 超级商店”数据集只有到 2019 年 12 月的数据，并且考虑到这本书是在 2020 年 7 月编写的，您将只看到六个勾选标记。
- en: 'To change that, make use of **Anchor relative to** and enter the date as December
    31, 2019, as shown here:'
  id: totrans-271
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要更改这一点，请使用“锚定相对到”并输入日期为 2019 年 12 月 31 日，如图所示：
- en: '![Figure 11.49: Relative dates with an anchor date'
  id: totrans-272
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 11.49：带有锚定日期的相对日期'
- en: '](img/B16342_11_49.jpg)'
  id: totrans-273
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_11_49.jpg)'
- en: 'Figure 11.49: Relative dates with an anchor date'
  id: totrans-274
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11.49：带有锚定日期的相对日期
- en: 'You achieved your goal of displaying the last 12 months'' trends from the last
    date in the data using `Relative dates` with `Anchor relative` to December 2019\.
    Here is what the final output should look like `(Month(Order Date)` has been added
    as a label in the `Marks` shelf for readability):'
  id: totrans-275
  prefs: []
  type: TYPE_NORMAL
  zh: 您通过使用“相对日期”和“锚定相对”到 2019 年 12 月实现了显示数据最后日期的 12 个月趋势的目标。以下是最终输出应该看起来像什么（在“标记”面板中添加了“(订单日期)”标签以提高可读性）：
- en: '![Figure 11.50: Time series to show the last 12 months relative to the anchor
    date'
  id: totrans-276
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 11.50：显示相对于锚定日期的最后 12 个月的时间序列'
- en: '](img/B16342_11_50.jpg)'
  id: totrans-277
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_11_50.jpg)'
- en: 'Figure 11.50: Time series to show the last 12 months relative to the anchor
    date'
  id: totrans-278
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11.50：显示相对于锚定日期的最后 12 个月的时间序列
- en: In this section, you were reviewed in relative detail the options that available
    for date filters and how to make the best use of them, and also how to make the
    best use of `Anchor relative to` and when to use it.
  id: totrans-279
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，您详细了解了可用的日期过滤器选项以及如何最好地使用它们，以及如何最好地使用“锚定相对到”以及何时使用它。
- en: In the next section, we will look at how you can give the end user of your report/dashboard
    the ability to filter the report as per their requirements.
  id: totrans-280
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一节中，我们将探讨如何让您的报告/仪表板的最终用户能够根据他们的需求过滤报告。
- en: Quick Filters
  id: totrans-281
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 快速过滤器
- en: Thus far, you have been using filters on your data as a developer without giving
    end users the ability to filter on a view. One of the many reasons why Tableau
    is a beloved tool across the developer as well as the end user community is because
    it allows even end users to control the flow of data in a view. This reduces the
    back-and-forth with developers because the end user can use the filters to change
    the data and get the insights they desire. This type of end user filter control
    is achieved with quick filters.
  id: totrans-282
  prefs: []
  type: TYPE_NORMAL
  zh: 到目前为止，您一直作为开发者使用过滤器，而没有给最终用户提供在视图中过滤的能力。Tableau 被开发者和最终用户社区所喜爱的许多原因之一是它允许最终用户控制视图中的数据流。这减少了与开发者的来回沟通，因为最终用户可以使用过滤器来更改数据并获得他们想要的见解。这种类型的最终用户过滤器控制是通过快速过滤器实现的。
- en: 'There are multiple ways of showing your quick filters. The major differences
    between them are as follows:'
  id: totrans-283
  prefs: []
  type: TYPE_NORMAL
  zh: 显示快速过滤器有多种方式。它们之间的主要区别如下：
- en: '![Figure 11.51: Quick filter types'
  id: totrans-284
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 11.51：快速过滤器类型'
- en: '](img/B16342_11_51.jpg)'
  id: totrans-285
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_11_51.jpg)'
- en: 'Figure 11.51: Quick filter types'
  id: totrans-286
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11.51：快速过滤器类型
- en: Each quick filter has a specific purpose and is widely used across pretty much
    every dashboard you will ever build. In the following exercise, you'll explore
    a specific example and review the exact steps to add quick filters to your view.
  id: totrans-287
  prefs: []
  type: TYPE_NORMAL
  zh: 每个快速过滤器都有特定的用途，并且在几乎每个你将构建的仪表板中都得到广泛应用。在接下来的练习中，你将探索一个具体的例子，并回顾添加快速过滤器到你的视图的确切步骤。
- en: 'Exercise 11.8: Creating Quick Filters'
  id: totrans-288
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 练习11.8：创建快速过滤器
- en: Create a simple view of `Sales` by `State` and use `Region` as a quick filter,
    as regional managers will use the dashboard to filter on their specific dashboard.
    Use the `Sample - Superstore` dataset once again to complete this exercise.
  id: totrans-289
  prefs: []
  type: TYPE_NORMAL
  zh: 创建一个简单的`销售`按`州`视图，并使用`区域`作为快速过滤器，因为区域经理将使用仪表板来过滤他们特定的仪表板。再次使用`Sample - Superstore`数据集来完成此练习。
- en: 'Perform the following steps:'
  id: totrans-290
  prefs: []
  type: TYPE_NORMAL
  zh: 执行以下步骤：
- en: Open the `Sample - Superstore` dataset in your Tableau instance if you don't
    have it open already.
  id: totrans-291
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果你的Tableau实例中尚未打开，请打开`Sample - Superstore`数据集。
- en: You are going to create a cross table of `Sales` by `State` and use `Region`
    as a quick filter, but first you need to build the view.
  id: totrans-292
  prefs: []
  type: TYPE_NORMAL
  zh: 你将创建一个`销售`按`州`的交叉表，并使用`区域`作为快速过滤器，但首先你需要构建视图。
- en: 'Drag and drop `State` to the `Rows` shelf and, next, double-click on `Sales`
    to create the table of `Sales` by `State`. We will now add `Region` as a filter
    in our `Filters` shelf by selecting all values:'
  id: totrans-293
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将`State`拖放到`Rows`架，然后双击`Sales`以创建`销售`按`州`的表格。我们现在将通过选择所有值将`Region`添加到`Filters`架中的过滤器：
- en: '![Figure 11.52: Sales by State view'
  id: totrans-294
  prefs: []
  type: TYPE_NORMAL
  zh: '![图11.52：按州销售视图'
- en: '](img/B16342_11_52.jpg)'
  id: totrans-295
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_11_52.jpg)'
- en: 'Figure 11.52: Sales by State view'
  id: totrans-296
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.52：按州销售视图
- en: 'Click the down-arrow or simply right-click the `Region` dimension in your `Filters`
    shelf and select `Show Filter`:'
  id: totrans-297
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击下拉箭头或简单地右键单击`Filters`架上的`区域`维度，然后选择`显示过滤器`：
- en: '![Figure 11.53: Show Filter step'
  id: totrans-298
  prefs: []
  type: TYPE_NORMAL
  zh: '![图11.53：显示过滤器步骤'
- en: '](img/B16342_11_53.jpg)'
  id: totrans-299
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_11_53.jpg)'
- en: 'Figure 11.53: Show Filter step'
  id: totrans-300
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.53：显示过滤器步骤
- en: 'Drag the `Region` quick filter from the right-hand side to the left-hand side
    just below the `Marks` shelf for ease of use. Tableau automatically created `Multiple
    Values (list)` as a quick filter. If you hover over and click on the arrow in
    the `Region` quick filter as shown here, you get the following options:'
  id: totrans-301
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将`Region`快速过滤器从右侧拖放到左侧，位于`Marks`架下方，以便于使用。Tableau自动创建了一个`Multiple Values (list)`作为快速过滤器。如果你悬停在`Region`快速过滤器上的箭头上并单击，如图所示，你会得到以下选项：
- en: '![Figure 11.54: Quick filter type options'
  id: totrans-302
  prefs: []
  type: TYPE_NORMAL
  zh: '![图11.54：快速过滤器类型选项'
- en: '](img/B16342_11_54.jpg)'
  id: totrans-303
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_11_54.jpg)'
- en: 'Figure 11.54: Quick filter type options'
  id: totrans-304
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.54：快速过滤器类型选项
- en: 'As a recap of all the quick filter types in Tableau, review the following:'
  id: totrans-305
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 作为对Tableau中所有快速过滤器类型的回顾，请查看以下内容：
- en: '![Figure 11.55: Quick filter types (review)'
  id: totrans-306
  prefs: []
  type: TYPE_NORMAL
  zh: '![图11.55：快速过滤器类型（回顾）'
- en: '](img/B16342_11_55.jpg)'
  id: totrans-307
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_11_55.jpg)'
- en: 'Figure 11.55: Quick filter types (review)'
  id: totrans-308
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.55：快速过滤器类型（回顾）
- en: 'In this use case, you want your end users to control the region that they want
    to view so that they are able to view one region or all regions at once. To do
    this, select `Single Value (list)`, change the quick filter type from `Multiple
    Values (list)` to `Single Value (list)`, keeping `Show "All" Value` from the `Customize`
    option checkmarked as shown here:'
  id: totrans-309
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在这个用例中，你希望你的最终用户能够控制他们想要查看的区域，以便他们能够一次性查看一个或所有区域。为此，选择`单个值（列表）`，将快速过滤器类型从`多个值（列表）`更改为`单个值（列表）`，并保持`自定义`选项中的`显示“所有”值`复选框选中，如图所示：
- en: '![Figure 11.56: Quick filter Customize option'
  id: totrans-310
  prefs: []
  type: TYPE_NORMAL
  zh: '![图11.56：快速过滤器自定义选项'
- en: '](img/B16342_11_56.jpg)'
  id: totrans-311
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_11_56.jpg)'
- en: 'Figure 11.56: Quick filter Customize option'
  id: totrans-312
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.56：快速过滤器自定义选项
- en: 'Select `East` for `Region` in our quick filter and the final output should
    resemble the following view:'
  id: totrans-313
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在我们的快速过滤器中，将`区域`设置为`East`，最终输出应类似于以下视图：
- en: '![Figure 11.57: Final output after adding a quick filter'
  id: totrans-314
  prefs: []
  type: TYPE_NORMAL
  zh: '![图11.57：添加快速过滤器后的最终输出'
- en: '](img/B16342_11_57.jpg)'
  id: totrans-315
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_11_57.jpg)'
- en: 'Figure 11.57: Final output after adding a quick filter'
  id: totrans-316
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.57：添加快速过滤器后的最终输出
- en: Quick filters are why Tableau is such a powerful tool even for end users. In
    this section, you have learned the major differences between the types of quick
    filters and the best use cases for them. You then created `Sales` by `State` and
    used `Region` as a quick filter.
  id: totrans-317
  prefs: []
  type: TYPE_NORMAL
  zh: 快速过滤器是Tableau成为如此强大工具的原因，即使对于最终用户也是如此。在本节中，你学习了快速过滤器类型之间的主要区别以及它们最佳的使用案例。然后你创建了按`州`的`销售`，并使用`区域`作为快速过滤器。
- en: Applying Filters across Multiple Sheets/Multiple Data Sources or an Entire Data
    Source
  id: totrans-318
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 在多个工作表/多个数据源或整个数据源上应用过滤器
- en: When you add a filter to your view, it only applies to your current view. But
    there will be times when you want to apply the same filter across multiple selected,
    using the same or a related data source if there is a relationship between primary
    and secondary data. This section will examine the difference between each of these
    options and when to use them.
  id: totrans-319
  prefs: []
  type: TYPE_NORMAL
  zh: 当您向视图中添加过滤器时，它仅适用于您当前视图。但有时您可能想要在多个选定的、使用相同或相关数据源（如果存在主次数据源之间的关系）的工作表中应用相同的过滤器。本节将探讨每个选项之间的差异以及何时使用它们。
- en: '![Figure 11.58: Apply to Worksheets options'
  id: totrans-320
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 11.58：应用到工作表选项]'
- en: '](img/B16342_11_58.jpg)'
  id: totrans-321
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片 B16342_11_58.jpg]'
- en: 'Figure 11.58: Apply to Worksheets options'
  id: totrans-322
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 11.58：应用到工作表选项]'
- en: 'Applying a filter to `Only This Worksheet`: Here the filter(s) added to the
    worksheet is only applied to the worksheet to which the filter was added.'
  id: totrans-323
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将过滤器应用于“仅此工作表”：在此，添加到工作表的过滤器仅应用于添加过滤器的那个工作表。
- en: 'Applying a filter to `Selected Worksheets...`: If you want your filters to
    be applied across multiple worksheets or even all of your worksheets, this option
    comes in handy. In the previous section, you created the `Region` filter. Say
    you want to use the same filter across a couple of other worksheets that are part
    of the Tableau workbook. You can do that as shown here:'
  id: totrans-324
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将过滤器应用于“所选工作表...”：如果您想要在多个工作表或所有工作表中应用过滤器，此选项非常有用。在上一个部分中，您创建了“区域”过滤器。假设您想在属于Tableau工作簿的其他几个工作表中使用相同的过滤器。您可以按照以下方式操作：
- en: '![Figure 11.59: Apply a filter to the selected worksheets'
  id: totrans-325
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 11.59：应用到所选工作表的过滤器]'
- en: '](img/B16342_11_59.jpg)'
  id: totrans-326
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片 B16342_11_59.jpg]'
- en: 'Figure 11.59: Apply a filter to the selected worksheets'
  id: totrans-327
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 11.59：应用到所选工作表的过滤器]'
- en: 'Applying a filter to `All Using This Data Source`: If you want to filter all
    worksheets that use the same `Sample - Superstore` dataset using the `Region`
    dimension, use this option. You can achieve the same result by selecting all worksheets
    in the `Selected Worksheets` option if the workbook only contains one data source.'
  id: totrans-328
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将过滤器应用于“所有使用此数据源”：如果您想使用“区域”维度过滤所有使用相同“样本 - 超市”数据集的工作表，请使用此选项。如果工作簿只包含一个数据源，您也可以通过在“所选工作表”选项中选择所有工作表来实现相同的结果。
- en: 'Applying a filter to `All Using Related Data Sources`: Choose this option when
    you want to use the filter from the current worksheet across multiple data sources.
    This feature was released in 2016, and when Tableau announced this feature release,
    the company mentioned that it was one of the most asked for features of all time.'
  id: totrans-329
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将过滤器应用于“所有使用相关数据源”：当您想要在多个数据源中使用当前工作表中的过滤器时，请选择此选项。此功能于2016年发布，当Tableau宣布此功能发布时，公司提到这是有史以来最受欢迎的功能之一。
- en: This option only works when you create a relationship between a current or primary
    data source and a secondary data source. You do that by navigating to `Data` in
    the menu bar, then clicking on `Edit Relationships`. If Tableau does not automatically
    create some relationships between the data sources, you can create a custom relationship
    depending on the use case.
  id: totrans-330
  prefs: []
  type: TYPE_NORMAL
  zh: 此选项仅在您在当前或主数据源与次级数据源之间创建关系时才有效。您可以通过在菜单栏中导航到“数据”，然后点击“编辑关系”来完成此操作。如果Tableau没有自动在数据源之间创建一些关系，您可以根据用例创建自定义关系。
- en: '`Custom Relationship` comes in handy when the names of the common columns across
    the data sources don''t match. Once you are able to create the relationship, you
    can select `All using Related Data Sources` for its magic to work. This option
    comes in handy when you are data blending, which was discussed in previous chapters.'
  id: totrans-331
  prefs: []
  type: TYPE_NORMAL
  zh: 当数据源中公共列的名称不匹配时，“自定义关系”非常有用。一旦您能够创建关系，您就可以选择“所有使用相关数据源”以使其魔法生效。当您进行数据混合时，这非常有用，这在之前的章节中已有讨论。
- en: Context Filters
  id: totrans-332
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 上下文过滤器
- en: When you add multiple filters into your Tableau view, each of these filters
    is calculated independently of the others. So, if you have two quick filters such
    as `Category` and `Sub-Category` in your view, when you select/deselect a filter,
    Tableau uses all of its data to show you the view.
  id: totrans-333
  prefs: []
  type: TYPE_NORMAL
  zh: 当您在Tableau视图中添加多个过滤器时，每个过滤器都是独立于其他过滤器进行计算的。因此，如果您在视图中有两个快速过滤器，如“类别”和“子类别”，当您选择/取消选择过滤器时，Tableau会使用所有数据来显示视图。
- en: If you want to limit the calculation across the whole data source and improve
    the performance of your report/dashboard (more on this in the exercise that follows),
    you'll want to use context filters. These help Tableau understand the context
    of the data and limit the amount of data filtering/loading that happens whenever
    you change a filter in your view.
  id: totrans-334
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你想要限制整个数据源的计算并提高报告/仪表板的性能（更多内容将在接下来的练习中介绍），你将想要使用上下文过滤器。这些过滤器有助于Tableau理解数据的上下文，并限制每次你在视图中更改过滤器时发生的数据过滤/加载量。
- en: In the Tableau order of operations, `Context Filters` has third priority. So
    when you set a filter as a context filter, you are essentially creating *one*
    independent filter and all other filters that are not context filters become dependent
    filters. This is because those other quick filters will process only the data
    that is first passed through the context filter.
  id: totrans-335
  prefs: []
  type: TYPE_NORMAL
  zh: 在Tableau的操作顺序中，“上下文过滤器”具有第三优先级。因此，当你设置一个过滤器为上下文过滤器时，你实际上是在创建一个独立的过滤器，而所有其他不是上下文过滤器的过滤器都成为依赖过滤器。这是因为其他快速过滤器只会处理首先通过上下文过滤器过滤的数据。
- en: '![Figure 11.60: Tableau order of operations'
  id: totrans-336
  prefs: []
  type: TYPE_NORMAL
  zh: '![图11.60：Tableau操作顺序'
- en: '](img/B16342_11_60.jpg)'
  id: totrans-337
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_11_60.jpg)'
- en: 'Figure 11.60: Tableau order of operations'
  id: totrans-338
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.60：Tableau操作顺序
- en: An example of this in practice is detailed below.
  id: totrans-339
  prefs: []
  type: TYPE_NORMAL
  zh: 实际中的例子将在下面详细说明。
- en: 'Exercise 11.09: Creating and Using Context Filters'
  id: totrans-340
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 练习11.09：创建和使用上下文过滤器
- en: In this exercise, you will create and use context filters in an example use
    case with the `Sample – Superstore` dataset to see why mastering the Tableau order
    of operations is so beneficial.
  id: totrans-341
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个练习中，你将创建并使用上下文过滤器，通过使用“样本 - 超市”数据集的示例用例来了解为什么掌握Tableau的操作顺序如此有益。
- en: Open the `Sample - Superstore` dataset in your Tableau instance if you don't
    have it open already.
  id: totrans-342
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果你还没有打开，请打开你的Tableau实例中的“样本 - 超市”数据集。
- en: 'Create a `Sales` by `Sub-Category` bar chart view, sort it descending by `Sales`,
    and add `Category` to the `Filters` shelf and show it as a quick filter. You should
    have the following view:'
  id: totrans-343
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个按“子类别”排序的“销售额”条形图视图，按“销售额”降序排序，并将“类别”添加到“过滤器”架中，以快速过滤的形式显示。你应该有如下视图：
- en: '![Figure 11.61: Sales by Sub-Category view'
  id: totrans-344
  prefs: []
  type: TYPE_NORMAL
  zh: '![图11.61：按子类别查看销售额'
- en: '](img/B16342_11_61.jpg)'
  id: totrans-345
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_11_61.jpg)'
- en: 'Figure 11.61: Sales by Sub-Category view'
  id: totrans-346
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.61：按子类别查看销售额
- en: 'To show only the top five sub-categories by sales, add the sub-category in
    the `Filters` shelf, and using the `Top` tab, filter on the top five sub-categories
    by `Sum` of `Sales` as shown here:![Figure 11.62: Top N filter view'
  id: totrans-347
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要仅显示按销售额排名前五的子类别，请将子类别添加到“过滤器”架中，并使用“顶部”选项卡，通过“销售额”的“总和”来过滤前五个子类别，如图所示：![图11.62：Top
    N过滤器视图
- en: '](img/B16342_11_62.jpg)'
  id: totrans-348
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/B16342_11_62.jpg)'
- en: 'Figure 11.62: Top N filter view'
  id: totrans-349
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.62：Top N过滤器视图
- en: Note that all the top five sub-categories in the view. However, if you start
    de-selecting some of the `Category` quick filters, you will notice that only some
    of the top five sub-categories remain in the view.
  id: totrans-350
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 注意，视图中显示的所有前五个子类别。然而，如果你开始取消选择一些“类别”快速过滤器，你会注意到只有一些前五个子类别仍然在视图中。
- en: '![Figure 11.63: Need for context filters'
  id: totrans-351
  prefs: []
  type: TYPE_NORMAL
  zh: '![图11.63：上下文过滤器的必要性'
- en: '](img/B16342_11_63.jpg)'
  id: totrans-352
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_11_63.jpg)'
- en: 'Figure 11.63: Need for context filters'
  id: totrans-353
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.63：上下文过滤器的必要性
- en: The reason this happens (as you can see in the following figure) is that top
    N gets filtered first in Tableau operations before dimension filtering is applied
    to the view. Therefore, when you use the top N filter, Tableau has already calculated
    the top N for the dimension in the view; and when you use a secondary dimension
    for filtering, it gets filtered on the top N data and not the whole dataset.
  id: totrans-354
  prefs: []
  type: TYPE_NORMAL
  zh: 这种情况发生的原因（如你可以在以下图中看到）是，在Tableau的操作中，首先对前N进行过滤，然后再将维度过滤应用于视图。因此，当你使用前N过滤器时，Tableau已经计算了视图中的维度的前N；当你使用次级维度进行过滤时，它是在前N数据上过滤，而不是整个数据集。
- en: '![Figure 11.64: Sectional view of the Tableau order of operations'
  id: totrans-355
  prefs: []
  type: TYPE_NORMAL
  zh: '![图11.64：Tableau操作顺序的分区视图'
- en: '](img/B16342_11_64.jpg)'
  id: totrans-356
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_11_64.jpg)'
- en: 'Figure 11.64: Sectional view of the Tableau order of operations'
  id: totrans-357
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.64：Tableau操作顺序的分区视图
- en: Use context filters to counter this since, in the order of operations, these
    are executed before top N filters, as seen in the preceding figure.
  id: totrans-358
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用上下文过滤器来应对这种情况，因为在操作顺序中，这些是在前N过滤器之前执行的，如前图所示。
- en: Note
  id: totrans-359
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 备注
- en: 'Major benefits of context filters are as follows:'
  id: totrans-360
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 上下文过滤器的重大好处如下：
- en: '`TEMP` table with the context and subsequent filters in the order of operations
    after the context filter references the `TEMP` table for calculating. Say you
    have a Customer Order database with 100 million rows, and you want to only look
    at customers in California, which is 18 million rows. By using a context filter
    on `State`, you are limiting the querying of your whole dataset so that only a
    subset of the California data will be used for calculating all subsequent filters.
    This is extremely useful.'
  id: totrans-361
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '`TEMP`表在上下文过滤器引用`TEMP`表进行计算后的操作顺序和后续过滤器。假设你有一个包含1亿行的客户订单数据库，你只想查看加利福尼亚的客户，这是1800万行。通过在`State`上使用上下文过滤器，你正在限制整个数据集的查询，以便只使用加利福尼亚数据的一个子集来计算所有后续过滤器。这非常有用。'
- en: '**Top N Filters**: As discussed above, if your view has top N filters, utilizing
    a context filter is highly recommended so that the filter works in the desired
    way of showing all the top N irrespective of the secondary filter selected!'
  id: totrans-362
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**Top N过滤器**：如上所述，如果你的视图中具有Top N过滤器，强烈建议使用上下文过滤器，以确保过滤器按预期的方式工作，显示所有Top N，而不考虑选定的二级过滤器！'
- en: 'To fix this issue, change your `Category` filter type to a context filter by
    right-clicking on `Category` and selecting `Add to Context` as shown here:'
  id: totrans-363
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要解决这个问题，通过右键单击`Category`并选择“添加到上下文”来将你的`Category`过滤器类型更改为上下文过滤器，如图所示：
- en: '![Figure 11.65: How to add a filter to context'
  id: totrans-364
  prefs: []
  type: TYPE_NORMAL
  zh: '![图11.65：如何将过滤器添加到上下文'
- en: '](img/B16342_11_65.jpg)'
  id: totrans-365
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_11_65.jpg)'
- en: 'Figure 11.65: How to add a filter to context'
  id: totrans-366
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.65：如何将过滤器添加到上下文
- en: 'If your filter in the `Filters` shelf turns into a gray dimension, the filter
    is being used as a context filter. Verify that the context filter is working as
    expected:'
  id: totrans-367
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果你在“过滤器”架上的过滤器变成了灰色维度，那么过滤器正在被用作上下文过滤器。验证上下文过滤器是否按预期工作：
- en: '![Figure 11.66: View after making Category a context dependent filter'
  id: totrans-368
  prefs: []
  type: TYPE_NORMAL
  zh: '![图11.66：将“Category”设置为上下文相关过滤器后的视图'
- en: '](img/B16342_11_66.jpg)'
  id: totrans-369
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_11_66.jpg)'
- en: 'Figure 11.66: View after making Category a context dependent filter'
  id: totrans-370
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.66：将“Category”设置为上下文相关过滤器后的视图
- en: As expected, after using `Category` as a context filter, the changes in `Category`
    quick filters are appropriately reflected in the view. `Category` becomes the
    dependent filter, where the top five sub-categories' filters become the independent
    filters that process the data that is passed through the context filter. It is
    now showing the top five sub-categories while using `Category` in context.
  id: totrans-371
  prefs: []
  type: TYPE_NORMAL
  zh: 如预期的那样，使用`Category`作为上下文过滤器后，`Category`快速过滤器中的更改在视图中得到了适当的反映。`Category`成为依赖过滤器，其中前五个子类别的过滤器成为独立过滤器，处理通过上下文过滤器传递的数据。现在它正在使用上下文中的`Category`显示前五个子类别。
- en: In this exercise, you explored why context filters are important and how the
    order of operations dictates how data is presented in the view. The context filter
    in this exercise was `Category`, which became the dependent variable, and the
    top N sub-category became the independent variable in our case.
  id: totrans-372
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个练习中，你探索了上下文过滤器的重要性以及操作顺序如何决定数据在视图中呈现的方式。在这个练习中，上下文过滤器是`Category`，它成为了因变量，而在我们的案例中，前N个子类别成为了自变量。
- en: Sets
  id: totrans-373
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 集合
- en: Sets are custom-created fields used to define a subset of data based on pre-defined
    conditions or rules.
  id: totrans-374
  prefs: []
  type: TYPE_NORMAL
  zh: 集合是自定义创建的字段，用于根据预定义的条件或规则定义数据的一个子集。
- en: 'Think of sets as custom segments that are always binary: a data point is either
    in or out of the segment depending on whether the data point meets the criteria
    defined. Sets are created on dimensions, though your conditions can include measures
    if required. Sets can either be static or dynamic, and you can also combine multiple
    sets into one set in Tableau, which can be pretty useful, as you will learn from
    the following exercises. A set is identified in the `Data` pane by the field with
    a *Venn diagram* icon as shown here:'
  id: totrans-375
  prefs: []
  type: TYPE_NORMAL
  zh: 将集合想象成始终是二元的自定义段：数据点要么在段内，要么在段外，这取决于数据点是否符合定义的标准。集合是在维度上创建的，尽管如果需要，你的条件可以包括度量。集合可以是静态的或动态的，你还可以在Tableau中将多个集合组合成一个集合，这将会非常实用，你将在接下来的练习中了解到。集合在`数据`面板中通过带有*维恩图*图标的字段来识别，如图所示：
- en: '![Figure 11.67: Venn diagram icon'
  id: totrans-376
  prefs: []
  type: TYPE_NORMAL
  zh: '![图11.67：维恩图图标'
- en: '](img/B16342_11_67.jpg)'
  id: totrans-377
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_11_67.jpg)'
- en: 'Figure 11.67: Venn diagram icon'
  id: totrans-378
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.67：维恩图图标
- en: Static Sets
  id: totrans-379
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 静态集
- en: As mentioned in the preceding section, sets can be either dynamic or static.
    In static sets, you define the set rules and create a fixed subset of the data,
    where the members of the set are not updated if the underlying data is updated
    with new data. For example, you create a Top City set manually, selecting New
    York, San Francisco, Mumbai, and London. The set members won't be changed even
    when new data is added or deleted. It's a static set. Dynamic sets can help counter
    this, but you will learn about dynamic sets in later exercises.
  id: totrans-380
  prefs: []
  type: TYPE_NORMAL
  zh: 如前所述，集合可以是动态的或静态的。在静态集合中，你定义集合规则并创建数据的一个固定子集，其中如果底层数据用新数据更新，集合成员不会更新。例如，你手动创建一个Top
    City集合，选择纽约、旧金山、孟买和伦敦。即使添加或删除了新数据，集合成员也不会改变。这是一个静态集合。动态集合可以帮助解决这个问题，但你将在后面的练习中学习动态集合。
- en: 'Exercise 11.10: Creating Static Sets'
  id: totrans-381
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 练习11.10：创建静态集合
- en: In this exercise, you will create a view of the `Sample - Superstore` dataset
    where all products that contain `Envelope` as part of their name are grouped together
    as `In` while everything else is grouped as `Out`.
  id: totrans-382
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个练习中，你将创建一个`Sample - Superstore`数据集的视图，其中所有名称中包含`Envelope`的产品都被分组为`In`，而其他所有内容都被分组为`Out`。
- en: 'Perform the following steps:'
  id: totrans-383
  prefs: []
  type: TYPE_NORMAL
  zh: 执行以下步骤：
- en: Open the `Sample - Superstore` dataset in your Tableau instance if you don't
    have it open already.
  id: totrans-384
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果你还没有打开，请在你的Tableau实例中打开`Sample - Superstore`数据集。
- en: 'Create a view of `Sales` and `Profit` by `Product Name`. Drag and drop `Product
    Name` to `Rows` and double-click `Sales` and `Profit` to get the following view:'
  id: totrans-385
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个按`产品名称`的`销售`和`利润`视图。将`产品名称`拖放到`行`中，双击`销售`和`利润`以获取以下视图：
- en: '![Figure 11.68: Profit and Sales by Product Name'
  id: totrans-386
  prefs: []
  type: TYPE_NORMAL
  zh: '![图11.68：按产品名称的利润和销售额](img/B16342_11_68.jpg)'
- en: '](img/B16342_11_68.jpg)'
  id: totrans-387
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_11_70.jpg)'
- en: 'Figure 11.68: Profit and Sales by Product Name'
  id: totrans-388
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.68：按产品名称的利润和销售额
- en: 'Navigate to `Product Name` in the `Data` pane and right-click on it. Click
    `Create` | `Set...` as shown here:'
  id: totrans-389
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在`数据`面板中导航到`产品名称`，右键单击它。点击`创建`|`集合...`，如图所示：
- en: '![Figure 11.69: How to create a set'
  id: totrans-390
  prefs: []
  type: TYPE_NORMAL
  zh: '![图11.69：如何创建一个集合](img/B16342_11_69.jpg)'
- en: '](img/B16342_11_69.jpg)'
  id: totrans-391
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_11_69.jpg)'
- en: 'Figure 11.69: How to create a set'
  id: totrans-392
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.69：如何创建一个集合
- en: In the `Create Set` dialog box, you will notice there are three tabs (`General`,
    `Condition`, and `Top`), which are pretty similar to those of filters if you remember
    from the previous section.
  id: totrans-393
  prefs: []
  type: TYPE_NORMAL
  zh: 在`创建集合`对话框中，你会注意到有三个选项卡（`常规`、`条件`和`顶部`），如果你还记得上一节中的过滤器，它们非常相似。
- en: 'Create a set for any product that has `Envelope` as part of its `Product Name`.
    Select the `Select From List` radio button, search for `Envelope`, and press the
    `All` button to select the list of all the products that contain `Envelope` as
    part of their name. Then, name your set `Envelope Product Set`, as shown below:'
  id: totrans-394
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为任何名称中包含`Envelope`的产品创建一个集合。选择`从列表中选择`单选按钮，搜索`Envelope`，然后按`全部`按钮选择包含`Envelope`的所有产品的列表。然后，将你的集合命名为`Envelope
    Product Set`，如下所示：
- en: Note
  id: totrans-395
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意
- en: The text search is not case-sensitive and, when you search text, it will search
    across the complete string and not find an exact match. Here, you searched for
    `Envelope` but your selected list also contains products with `Envelopes` in the
    name.
  id: totrans-396
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 文本搜索不区分大小写，当你搜索文本时，它会搜索整个字符串，而不是找到完全匹配的。在这里，你搜索了`Envelope`，但你的选择列表中也包含名称中包含`Envelopes`的产品。
- en: '![Figure 11.70: Manually adding members to the set'
  id: totrans-397
  prefs: []
  type: TYPE_NORMAL
  zh: '![图11.70：手动向集合中添加成员](img/B16342_11_68.jpg)'
- en: '](img/B16342_11_70.jpg)'
  id: totrans-398
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_11_70.jpg)'
- en: 'Figure 11.70: Manually adding members to the set'
  id: totrans-399
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.70：手动添加集合成员
- en: Before you click on the `OK` button, look at the `Summary` section in the `Create
    Set` dialog box and note that your set contains 48 out of 1,850 values. As mentioned
    previously, this way of manually selecting items for set creation is static, where
    the set members won't get updated if new records/rows are added to the data at
    a later date. You will see how to overcome this limitation in the next exercise.
  id: totrans-400
  prefs: []
  type: TYPE_NORMAL
  zh: 在你点击`确定`按钮之前，查看`创建集合`对话框中的`摘要`部分，并注意你的集合包含1,850个值中的48个。如前所述，这种手动选择项目进行集合创建的方式是静态的，如果稍后数据中添加了新的记录/行，集合成员将不会更新。你将在下一个练习中看到如何克服这种限制。
- en: Save the set by clicking on the `OK` button.
  id: totrans-401
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过点击`确定`按钮保存集合。
- en: Check whether the set is working as desired. Drag `Envelope Product Set` to
    the `Rows` shelf. Consider the `In`/`Out` set here. If a product name meets the
    criteria that you set, that product will be `In` the set; and if the product does
    not meet the requirements, that product will be `Out`.
  id: totrans-402
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 检查集合是否按预期工作。将“信封产品集合”拖放到“行”板中。考虑这里的“在”/“不在”集合。如果一个产品名称符合你设置的准则，那么该产品将“在”集合中；如果产品不符合要求，那么该产品将“不在”。
- en: '![Figure 11.71: In/Out set view'
  id: totrans-403
  prefs: []
  type: TYPE_NORMAL
  zh: '![图11.71：在/不在集合视图'
- en: '](img/B16342_11_71.jpg)'
  id: totrans-404
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_11_71.jpg)'
- en: 'Figure 11.71: In/Out set view'
  id: totrans-405
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.71：在/不在集合视图
- en: 'Instead of `In`/`Out`, display the actual product name by right-clicking on
    `Envelope Product Set` and selecting `Show Members in Set`:'
  id: totrans-406
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过在“信封产品集合”上右键单击并选择“显示集合中的成员”来显示实际的“产品名称”而不是“在”/“不在”：
- en: '![Figure 11.72: How to show members in a set'
  id: totrans-407
  prefs: []
  type: TYPE_NORMAL
  zh: '![图11.72：如何在集合中显示成员'
- en: '](img/B16342_11_72.jpg)'
  id: totrans-408
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_11_72.jpg)'
- en: 'Figure 11.72: How to show members in a set'
  id: totrans-409
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.72：如何在集合中显示成员
- en: In this exercise, you encounterd sets for the first time and observed how static
    sets are used on dashboards. You also learned to show/hide members from a set
    and what the `Summary` tab in the `Create Set` dialog box means.
  id: totrans-410
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个练习中，你第一次遇到了集合，并观察了静态集合在仪表板上的使用情况。你还学会了如何从集合中显示/隐藏成员，以及“创建集合”对话框中的“摘要”标签代表什么。
- en: The next section will review dynamic sets and how they can overcome the shortcomings
    of static ones.
  id: totrans-411
  prefs: []
  type: TYPE_NORMAL
  zh: 下一节将回顾动态集合以及它们如何克服静态集合的不足。
- en: Dynamic Sets
  id: totrans-412
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 动态集合
- en: In this section, you will learn why dynamic sets are preferred over static sets.
    You'll also practice using the two remaining tabs from the `Create Set` dialog
    box you encountered in the previous section. Dynamic sets use logic to dynamically
    update the members of the set, which means when the data changes, the set will
    be re-computed and the `In`/`Out` members can be added/deleted depending on the computation.
  id: totrans-413
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，你将了解为什么动态集合比静态集合更受欢迎。你还将练习使用上一节中遇到的“创建集合”对话框中的剩余两个标签。动态集合使用逻辑动态更新集合的成员，这意味着当数据发生变化时，集合将被重新计算，并且可以根据计算结果添加/删除“在”/“不在”成员。
- en: 'Exercise 11.11: Creating Dynamic Sets'
  id: totrans-414
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 练习11.11：创建动态集合
- en: Though previous sets that you created were good, but the product manager responsible
    for all `Envelope` products has asked you to create a dynamic view of the groupings
    as he wants to update the `In`/`Out` groups whenever a new product name is added
    or deleted. You will be using the same view that you created in the previous exercise
    and extending that view to add dynamic sets.
  id: totrans-415
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管你之前创建的集合很好，但负责所有“信封”产品的产品经理要求你创建一个分组动态视图，因为他希望在添加或删除新产品名称时更新“在”/“不在”组。你将使用之前练习中创建的相同视图，并将其扩展以添加动态集合。
- en: 'Perform the following steps:'
  id: totrans-416
  prefs: []
  type: TYPE_NORMAL
  zh: 执行以下步骤：
- en: Open the `Sample - Superstore` dataset in your Tableau instance if you have
    not already done so.
  id: totrans-417
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果您还没有这样做，请在您的Tableau实例中打开“Sample - Superstore”数据集。
- en: 'Create a view of `Sales` and `Profit` by `Product Name`. Drag and drop `Product
    Name` to `Rows` and double-click `Sales` and `Profit` to get the following view:'
  id: totrans-418
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个按“产品名称”显示“销售额”和“利润”的视图。将“产品名称”拖放到“行”中，双击“销售额”和“利润”以获取以下视图：
- en: '![Figure 11.73: Profit and Sales by Product Name'
  id: totrans-419
  prefs: []
  type: TYPE_NORMAL
  zh: '![图11.73：按产品名称显示的利润和销售额'
- en: '](img/B16342_11_73.jpg)'
  id: totrans-420
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_11_73.jpg)'
- en: 'Figure 11.73: Profit and Sales by Product Name'
  id: totrans-421
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.73：按产品名称显示的利润和销售额
- en: Navigate to `Product Name` in the `Data` pane and right-click on it. Click on
    `Create` | `Set...`.
  id: totrans-422
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在“数据”面板中导航到“产品名称”，然后右键单击它。点击“创建”|“集合...”。
- en: 'Expand your previous set criteria. You want the top five profitable envelope
    product names that had more than $100 in sales. For this, use both the `Condition`
    and the `Top` tabs. Create the condition for at least $100 of sales first, as
    shown here:'
  id: totrans-423
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 扩展您之前的集合标准。您想要的是销售额超过100美元的前五个盈利的包装产品名称。为此，使用“条件”和“顶部”标签。首先创建至少100美元销售额的条件，如图所示：
- en: '![Figure 11.74: Conditional set definition'
  id: totrans-424
  prefs: []
  type: TYPE_NORMAL
  zh: '![图11.74：条件集合定义'
- en: '](img/B16342_11_74.jpg)'
  id: totrans-425
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_11_74.jpg)'
- en: 'Figure 11.74: Conditional set definition'
  id: totrans-426
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.74：条件集合定义
- en: 'Add the criteria of top five profitable `Envelope` products in the `Top` tab,
    as shown here:'
  id: totrans-427
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在“顶部”标签中添加前五个盈利的“信封”产品的标准，如图所示：
- en: '![Figure 11.75: Dynamic set definition'
  id: totrans-428
  prefs: []
  type: TYPE_NORMAL
  zh: '![图11.75：动态集合定义'
- en: '](img/B16342_11_75.jpg)'
  id: totrans-429
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_11_75.jpg)'
- en: 'Figure 11.75: Dynamic set definition'
  id: totrans-430
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.75：动态集合定义
- en: 'You have not yet filtered for `Envelope` as you did for your static set, but
    if you use the same `General` tab to filter the `Envelope` products, your set
    won''t be updated when new data is added. To ensure your future data is considered
    for the set, use the `Condition` tab and write a calculated formula to do this
    dynamically. Then, de-select `By field` and use `By formula` and write the following
    formula:'
  id: totrans-431
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE0]'
  id: totrans-432
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE0]'
- en: '![Figure 11.76: Formula-based conditional set'
  id: totrans-433
  prefs: []
  type: TYPE_NORMAL
- en: '](img/B16342_11_76.jpg)'
  id: totrans-434
  prefs: []
  type: TYPE_NORMAL
- en: 'Figure 11.76: Formula-based conditional set'
  id: totrans-435
  prefs: []
  type: TYPE_NORMAL
- en: Note
  id: totrans-436
  prefs: []
  type: TYPE_NORMAL
- en: You had to use `MIN` for `Product Name` because you cannot mix aggregate and
    non-aggregate in the calculated field without using aggregation for a non-aggregate
    dimension, as explained in previous chapters.
  id: totrans-437
  prefs: []
  type: TYPE_NORMAL
- en: 'Before you do the spot check and saving the set, review the `Summary` section
    of the dialog box:'
  id: totrans-438
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Figure 11.77: Summary box of sets'
  id: totrans-439
  prefs: []
  type: TYPE_NORMAL
- en: '](img/B16342_11_77.jpg)'
  id: totrans-440
  prefs: []
  type: TYPE_NORMAL
- en: 'Figure 11.77: Summary box of sets'
  id: totrans-441
  prefs: []
  type: TYPE_NORMAL
- en: In the `Summary` section, your selection says `0` because you have not manually
    selected anything. `Condition` is the formula you used in your `Condition` tab,
    and `Limit` is the criteria in the `Top` tab.
  id: totrans-442
  prefs: []
  type: TYPE_NORMAL
- en: 'Drag both sets you created in the last two exercises to your `Rows` shelf:
    You have the top five rows by profit in `Top 5 Profitable Envelope Product`, as
    seen. These five products are also part of the static set because these product
    names include `Envelope`.'
  id: totrans-443
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Figure 11.78: Final output for dynamic sets'
  id: totrans-444
  prefs: []
  type: TYPE_NORMAL
- en: '](img/B16342_11_78.jpg)'
  id: totrans-445
  prefs: []
  type: TYPE_NORMAL
- en: 'Figure 11.78: Final output for dynamic sets'
  id: totrans-446
  prefs: []
  type: TYPE_NORMAL
- en: With this exercise, you are now able to create a non-static set that can update
    the set members depending on the changes made to the dataset or when new data
    is added or deleted from the set. Dynamic sets are usually preferred over static
    sets because they allow you to ensure new data is populated in sets in the future
    when you are not actively working on the dashboard.
  id: totrans-447
  prefs: []
  type: TYPE_NORMAL
- en: Adding Members to the Set
  id: totrans-448
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: In both the previous sections, you created sets from scratch. In this section,
    we will address those cases in which you want to add more conditions to your set
    definition to add new members or delete them. Adding members to the set is more
    often done when stakeholders want to update the condition of the underlying set
    or the developer wants to experiment with complicated conditional logic.
  id: totrans-449
  prefs: []
  type: TYPE_NORMAL
- en: The following exercise will guide through how to complete this task.
  id: totrans-450
  prefs: []
  type: TYPE_NORMAL
- en: 'Exercise 11.12: Adding Members to the Set'
  id: totrans-451
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: For the `Envelope Product Set` you created in the previous section, the product
    manager wants you to add a specific product to the set since they cannot add that
    product `IN` the set from their view and that product is not part of the top N
    sales or profit. As the dashboard developer, you are tasked with adding that specific
    product to the set.
  id: totrans-452
  prefs: []
  type: TYPE_NORMAL
- en: 'Perform the following steps:'
  id: totrans-453
  prefs: []
  type: TYPE_NORMAL
- en: 'You will be reusing the view that you created in the previous exercise, but
    to demonstrate the workings of adding members to the set, remove `Envelope Product
    Set` from the view. Your view should now look as follows:'
  id: totrans-454
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Figure 11.79: Adding members to the set'
  id: totrans-455
  prefs: []
  type: TYPE_NORMAL
- en: '](img/B16342_11_79.jpg)'
  id: totrans-456
  prefs: []
  type: TYPE_NORMAL
- en: 'Figure 11.79: Adding members to the set'
  id: totrans-457
  prefs: []
  type: TYPE_NORMAL
- en: 'To add members to the set, select the product name/row of data that you want
    to include in your view, and left-click the row to get the following:'
  id: totrans-458
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Figure 11.80: Include/exclude members from the set'
  id: totrans-459
  prefs: []
  type: TYPE_NORMAL
- en: '](img/B16342_11_80.jpg)'
  id: totrans-460
  prefs: []
  type: TYPE_NORMAL
- en: 'Figure 11.80: Include/exclude members from the set'
  id: totrans-461
  prefs: []
  type: TYPE_NORMAL
- en: 'Click on the *Venn diagram* icon in the options panel and select `Add to Top
    5 Profitable Envelop Product (Sample – Superstore)` as shown in the following
    screenshot:'
  id: totrans-462
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Figure 11.81: Adding the product to the set'
  id: totrans-463
  prefs: []
  type: TYPE_NORMAL
- en: '](img/B16342_11_81.jpg)'
  id: totrans-464
  prefs: []
  type: TYPE_NORMAL
- en: 'Figure 11.81: Adding the product to the set'
  id: totrans-465
  prefs: []
  type: TYPE_NORMAL
- en: 'As soon as you do that, the row `3M Polarizing Task Lamp with Clamp Arm, Light
    Gray` is moved from the `Out` set to the `In` set as shown here:'
  id: totrans-466
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Figure 11.82: The product was added to the set'
  id: totrans-467
  prefs: []
  type: TYPE_NORMAL
- en: '](img/B16342_11_82.jpg)'
  id: totrans-468
  prefs: []
  type: TYPE_NORMAL
- en: 'Figure 11.82: The product was added to the set'
  id: totrans-469
  prefs: []
  type: TYPE_NORMAL
- en: 'You would follow a similar process if you want to remove a data row from the
    set. Instead of adding, remove from the set options as shown here:'
  id: totrans-470
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Figure 11.83: Removing a member from the set'
  id: totrans-471
  prefs: []
  type: TYPE_NORMAL
- en: '](img/B16342_11_83.jpg)'
  id: totrans-472
  prefs: []
  type: TYPE_NORMAL
- en: 'Figure 11.83: Removing a member from the set'
  id: totrans-473
  prefs: []
  type: TYPE_NORMAL
- en: Adding members to a set is pretty straightforward and can be incredibly helpful
    when you want to manually update the member set without editing the actual definition
    of the set.
  id: totrans-474
  prefs: []
  type: TYPE_NORMAL
- en: Combined Sets
  id: totrans-475
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: You have now created both static and dynamic sets. Individually, these sets
    work well, but you can also extend Tableau functionality by combining multiple
    sets to create a combined set. Using combined sets, you can perform additional
    analysis and compare and contrast multiple sets. When you create a combined set,
    you create an altogether new set that contains a combination of either all members
    from both sets, some members that exist in both sets, or a member from one specific
    set.
  id: totrans-476
  prefs: []
  type: TYPE_NORMAL
- en: Complete the following exercise to see this in practice.
  id: totrans-477
  prefs: []
  type: TYPE_NORMAL
- en: 'Exercise 11.13: How to Create Combined Sets'
  id: totrans-478
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'Your regional manager wants you to create a view of states that are both in
    `Top 20 States by Profits` as well as `Top 20 States by Sales`. You will utilize
    combined sets for this, which will be created from two individual sets you''ll
    make first: `Top 20 States by Profits` and `Top 20 States by Sales`.'
  id: totrans-479
  prefs: []
  type: TYPE_NORMAL
- en: 'Perform the following steps to complete this exercise:'
  id: totrans-480
  prefs: []
  type: TYPE_NORMAL
- en: Open the `Sample - Superstore` dataset in your Tableau instance if you don't
    have it open already.
  id: totrans-481
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '**Set 1: Top 20 States by Profits**:'
  id: totrans-482
  prefs: []
  type: TYPE_NORMAL
- en: 'Create your first set with `Top 20 [States] by [Profits]` as shown here:'
  id: totrans-483
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Figure 11.84: Creating the set'
  id: totrans-484
  prefs: []
  type: TYPE_NORMAL
- en: '](img/B16342_11_84.jpg)'
  id: totrans-485
  prefs: []
  type: TYPE_NORMAL
- en: 'Figure 11.84: Creating the set'
  id: totrans-486
  prefs: []
  type: TYPE_NORMAL
- en: 'Name the set `Top 20 States by Profits`, select the `Top` tab from the window,
    and select `By field` and `Top 20 by Profit Sum` as shown below:'
  id: totrans-487
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Figure 11.85: Top N members for the set'
  id: totrans-488
  prefs: []
  type: TYPE_NORMAL
- en: '](img/B16342_11_85.jpg)'
  id: totrans-489
  prefs: []
  type: TYPE_NORMAL
- en: 'Figure 11.85: Top N members for the set'
  id: totrans-490
  prefs: []
  type: TYPE_NORMAL
- en: '**Set 2: Top 20 States by Sales**:'
  id: totrans-491
  prefs: []
  type: TYPE_NORMAL
- en: 'Similarly, create your second set with `Top 20 [States] by [Sales]` as shown
    here:'
  id: totrans-492
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Figure 11.86: Top N members for the set -2!'
  id: totrans-493
  prefs: []
  type: TYPE_NORMAL
- en: '](img/B16342_11_86.jpg)'
  id: totrans-494
  prefs: []
  type: TYPE_NORMAL
- en: 'Figure 11.86: Top N members for the set -2!'
  id: totrans-495
  prefs: []
  type: TYPE_NORMAL
- en: 'Create a view by dragging `State` to the `Rows` shelf and adding `Profits`
    and `Sales` to the view as shown here:'
  id: totrans-496
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Figure 11.87: Profit and Sales by State view'
  id: totrans-497
  prefs: []
  type: TYPE_NORMAL
- en: '](img/B16342_11_87.jpg)'
  id: totrans-498
  prefs: []
  type: TYPE_NORMAL
- en: 'Figure 11.87: Profit and Sales by State view'
  id: totrans-499
  prefs: []
  type: TYPE_NORMAL
- en: 'Add both `Top 20 States by Profits` and `Top 20 States by Sales` to your view
    in `Rows` as shown here:'
  id: totrans-500
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Figure 11.88: Two sets view'
  id: totrans-501
  prefs: []
  type: TYPE_NORMAL
- en: '](img/B16342_11_88.jpg)'
  id: totrans-502
  prefs: []
  type: TYPE_NORMAL
- en: 'Figure 11.88: Two sets view'
  id: totrans-503
  prefs: []
  type: TYPE_NORMAL
- en: The goal is to create a combined set from which you can get a list of all the
    states that are part of the top 20 by both profits and sales. For this, you want
    all `In` members of both of the sets you just created.
  id: totrans-504
  prefs: []
  type: TYPE_NORMAL
- en: 'Press *Command* + multi-select both the sets for Mac or *Ctrl* + multi-select
    both the sets for Windows and click on `Create Combined Set...`:'
  id: totrans-505
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Figure 11.89: Creating a combined set'
  id: totrans-506
  prefs: []
  type: TYPE_NORMAL
- en: '](img/B16342_11_89.jpg)'
  id: totrans-507
  prefs: []
  type: TYPE_NORMAL
- en: 'Figure 11.89: Creating a combined set'
  id: totrans-508
  prefs: []
  type: TYPE_NORMAL
- en: 'In the `Create Set` modal window, name your new set `States of Top 20 Sales
    and Profits`. You can also change the sets that you want to be part of the combined
    sets from the dropdown. There are four options for members in your combined sets,
    which are pretty self-explanatory. You want a list of all the states that are
    part of both the top 20 states by sales as well as profits, so use `Shared members
    in both sets` as shown here:'
  id: totrans-509
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Figure 11.90: Combined set definition'
  id: totrans-510
  prefs: []
  type: TYPE_NORMAL
- en: '](img/B16342_11_90.jpg)'
  id: totrans-511
  prefs: []
  type: TYPE_NORMAL
- en: 'Figure 11.90: Combined set definition'
  id: totrans-512
  prefs: []
  type: TYPE_NORMAL
- en: Previous steps noted that you want your combined sets to contain all `In` members
    from both sets. In the following screenshots, you'll observe that the combined
    set has all the same states as the intersection of two individual sets.
  id: totrans-513
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 11.91: In combined set view'
  id: totrans-514
  prefs: []
  type: TYPE_NORMAL
- en: '](img/B16342_11_91.jpg)'
  id: totrans-515
  prefs: []
  type: TYPE_NORMAL
- en: 'Figure 11.91: In combined set view'
  id: totrans-516
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 11.92: States in the top 20 of both profits and sales'
  id: totrans-517
  prefs: []
  type: TYPE_NORMAL
- en: '](img/B16342_11_92.jpg)'
  id: totrans-518
  prefs: []
  type: TYPE_NORMAL
- en: 'Figure 11.92: States in the top 20 of both profits and sales'
  id: totrans-519
  prefs: []
  type: TYPE_NORMAL
- en: 'The final output will be as follows:'
  id: totrans-520
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 11.93: Combined Sets final output!'
  id: totrans-521
  prefs: []
  type: TYPE_NORMAL
- en: '](img/B16342_11_93.jpg)'
  id: totrans-522
  prefs: []
  type: TYPE_NORMAL
- en: 'Figure 11.93: Combined Sets final output!'
  id: totrans-523
  prefs: []
  type: TYPE_NORMAL
- en: In this final section on sets, you learned how to use combined sets by walking
    through an example. The next will explore parameters.
  id: totrans-524
  prefs: []
  type: TYPE_NORMAL
- en: Parameters
  id: totrans-525
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Parameters are like variables/placeholders in Tableau, which give the end user
    the ability to control the view or data that is shown as part of the report. They
    allow you to customize your view, adding interactivity as well as flexibility
    to the workbook. Parameters are used to replacing a constant value from the view
    with more variable/dynamic values, which are controlled by the end user. They
    can take any data type: strings, integers, floats, dates, or any varchars. They
    can easily be confused with filters but the major difference between parameters
    and filters is that, with filters, the data gets filtered from the view so that
    it only shows for the filtered values, whereas with parameters, the variables
    only act as a reference. Parameters control the value of the variable created
    instead of filtering on the data.'
  id: totrans-526
  prefs: []
  type: TYPE_NORMAL
  zh: 参数在Tableau中类似于变量/占位符，它赋予了最终用户控制视图或报告中显示的数据的能力。它们允许你自定义视图，为工作簿添加交互性和灵活性。参数用于将视图中的常量值替换为更多变量/动态值，这些值由最终用户控制。它们可以接受任何数据类型：字符串、整数、浮点数、日期或任何varchars。它们很容易与过滤器混淆，但参数与过滤器的主要区别在于，使用过滤器时，数据从视图中过滤掉，因此只显示过滤值，而使用参数时，变量仅作为参考。参数控制变量的值，而不是在数据上过滤。
- en: 'To use parameters in the view, there are four steps that you need to perform:'
  id: totrans-527
  prefs: []
  type: TYPE_NORMAL
  zh: 要在视图中使用参数，你需要执行以下四个步骤：
- en: Create the parameters based on the requirements.
  id: totrans-528
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 根据需求创建参数。
- en: Show the parameter control to the end user, as we do for sets/filters.
  id: totrans-529
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 向最终用户展示参数控制，就像我们对集合/过滤器所做的那样。
- en: Use the parameters either in the calculated field, filters, or reference lines.
  id: totrans-530
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 可以在计算字段、过滤器或参考线上使用这些参数。
- en: Use the calculated field, filters, and reference lines in the view.
  id: totrans-531
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在视图中使用计算字段、过滤器和参考线。
- en: 'Exercise 11.14: Standard Parameters'
  id: totrans-532
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 练习11.14：标准参数
- en: In this exercise, you'll create and use standard parameters. To observe the
    true essence of Tableau and parameters, you will create a more advanced view that
    allows your end users to select the dimensions as well as the measures that they
    want to see in the view.
  id: totrans-533
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个练习中，你将创建并使用标准参数。为了观察Tableau和参数的真正本质，你将创建一个更高级的视图，允许你的最终用户选择他们想要在视图中看到的维度以及度量。
- en: 'In previous chapters, you have given users the ability to filter data, create
    groups, and create sets on pre-selected dimensions and measures, but you have
    not yet given users the ability to select/change the dimensions/measures as per
    their requirements. But there are many instances when stakeholders want the exact
    same view with different measures/dimensions. So, instead of creating 4-6 different
    views with different dimensions/measures combinations, letting users choose their
    own measures and dimensions is a more efficient way of handling the request while
    limiting clutter. This is the final view you are aiming for:'
  id: totrans-534
  prefs: []
  type: TYPE_NORMAL
  zh: 在前面的章节中，你已经赋予了用户过滤数据、创建分组以及在预选的维度和度量上创建集合的能力，但你还没有赋予用户根据他们的需求选择/更改维度/度量的能力。但是，有许多情况下利益相关者希望看到完全相同的视图，但度量/维度不同。因此，与其创建4-6个具有不同维度/度量组合的不同视图，不如让用户选择他们自己的度量维度，这是一种更有效处理请求的同时减少混乱的方法。这就是你最终要达到的视图：
- en: '![Figure 11.94: Final output for parameters'
  id: totrans-535
  prefs: []
  type: TYPE_NORMAL
  zh: '![图11.94：参数的最终输出'
- en: '](img/B16342_11_94.jpg)'
  id: totrans-536
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_11_94.jpg)'
- en: 'Figure 11.94: Final output for parameters'
  id: totrans-537
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.94：参数的最终输出
- en: 'Perform the following steps to complete this exercise:'
  id: totrans-538
  prefs: []
  type: TYPE_NORMAL
  zh: 执行以下步骤来完成此练习：
- en: Open the `Sample - Superstore` dataset in your Tableau instance if you have
    not already done so.
  id: totrans-539
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果你还没有这样做，请打开你的Tableau实例中的`Sample - Superstore`数据集。
- en: In this example, you will create a continuous line graph for the measure, selected
    by the end user, by quarter. As mentioned earlier, you want to give end users
    the ability to change the measures or dimensions.
  id: totrans-540
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个例子中，你将通过季度创建一个由最终用户选择的度量值的连续线图。如前所述，你希望赋予最终用户更改度量或维度的能力。
- en: 'There are four steps to using parameters. The first step is to *create a parameter*.
    Do this by either clicking on the arrow in the `Dimensions` pane and clicking
    on `Create Parameter...`, as shown in the following screenshot, or else right-clicking
    anywhere in the `Parameters` shelf and clicking on `Create Parameter...`:'
  id: totrans-541
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用参数有四个步骤。第一步是**创建一个参数**。你可以通过在`维度`面板中点击箭头并点击`创建参数...`，如图下截图所示，或者右键单击`参数`面板中的任何位置并点击`创建参数...`来完成此操作：
- en: '![Figure 11.95: Creating a parameter'
  id: totrans-542
  prefs: []
  type: TYPE_NORMAL
  zh: '![图11.95：创建参数'
- en: '](img/B16342_11_95.jpg)'
  id: totrans-543
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_11_95.jpg)'
- en: 'Figure 11.95: Creating a parameter'
  id: totrans-544
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.95：创建参数
- en: 'You will be creating two parameters in this exercise: one for selecting `Measures`
    and one for selecting `Dimensions`.'
  id: totrans-545
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个练习中，您将创建两个参数：一个用于选择“度量”，另一个用于选择“维度”。
- en: 'First, create a parameter for selecting `Measures`. In the `Edit Parameter`
    modal window, you have a choice of six data types: `Float`, `Integer`, `String`,
    `Boolean`, `Date`, or `Date & Time`. Since your parameter contains text, use `String`
    as the data type. For the `Allowable values` option, instead of all values, use
    `List` so that you can define the options available to the end user selecting
    the measure.'
  id: totrans-546
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 首先，创建一个用于选择“度量”的参数。在“编辑参数”模态窗口中，您有六个数据类型可供选择：`Float`、`Integer`、`String`、`Boolean`、`Date`或`Date
    & Time`。由于您的参数包含文本，请使用`String`作为数据类型。对于“允许的值”选项，而不是所有值，请使用“列表”，这样您就可以定义最终用户选择度量的可用选项。
- en: '![Figure 11.96: Data type options in parameter creation'
  id: totrans-547
  prefs: []
  type: TYPE_NORMAL
  zh: '![图11.96：参数创建中的数据类型选项'
- en: '](img/B16342_11_96.jpg)'
  id: totrans-548
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_11_96.jpg)'
- en: 'Figure 11.96: Data type options in parameter creation'
  id: totrans-549
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.96：参数创建中的数据类型选项
- en: When you select `List` for `Allowable values`, you are presented with `List
    of values` options. You then have to define your list, which will be the measure
    names that your users can select.
  id: totrans-550
  prefs: []
  type: TYPE_NORMAL
  zh: 当您为“允许的值”选择“列表”时，您将看到“值列表”选项。然后您必须定义您的列表，这将包含用户可以选择的度量名称。
- en: 'Manually add `Sales`, `Profit`, `Discount`, and `Quantity` to `List of values`.
    Your `Create Parameter` window should look something like this:'
  id: totrans-551
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 手动将“销售额”、“利润”、“折扣”和“数量”添加到“值列表”。您的创建参数窗口应类似于以下内容：
- en: '![Figure 11.97: Adding measure options for the parameter'
  id: totrans-552
  prefs: []
  type: TYPE_NORMAL
  zh: '![图11.97：为参数添加度量选项'
- en: '](img/B16342_11_97.jpg)'
  id: totrans-553
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_11_97.jpg)'
- en: 'Figure 11.97: Adding measure options for the parameter'
  id: totrans-554
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.97：为参数添加度量选项
- en: 'Repeat the same steps for `Select Your Dimension`. The `Create Parameter` modal
    window should look something like the following:'
  id: totrans-555
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对“选择维度”重复相同的步骤。创建参数的模态窗口应类似于以下内容：
- en: '![Figure 11.98: Adding a dimension option for the parameter'
  id: totrans-556
  prefs: []
  type: TYPE_NORMAL
  zh: '![图11.98：为参数添加维度选项'
- en: '](img/B16342_11_98.jpg)'
  id: totrans-557
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_11_98.jpg)'
- en: 'Figure 11.98: Adding a dimension option for the parameter'
  id: totrans-558
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.98：为参数添加维度选项
- en: The next step is to use the created parameter in a calculated field. By default,
    parameters don't control anything unless you use the parameter either as part
    of a calculated field, reference lines, or filters. You will be using the calculated
    field to use the parameter, which acts as a placeholder substitution for dynamically
    populating the calculated field with the end user's selected measure/dimension.
  id: totrans-559
  prefs: []
  type: TYPE_NORMAL
  zh: 下一步是将创建的参数用于计算字段。默认情况下，除非您将参数用作计算字段、参考线或过滤器的一部分，否则参数不会控制任何内容。您将使用计算字段来使用参数，该参数作为占位符，用于动态填充计算字段，以包含最终用户选择的度量/维度。
- en: Create a calculated field now, named `Measure Parameter`.
  id: totrans-560
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在创建一个名为“度量参数”的计算字段。
- en: '![Figure 11.99: Creating a calculated field'
  id: totrans-561
  prefs: []
  type: TYPE_NORMAL
  zh: '![图11.99：创建计算字段'
- en: '](img/B16342_11_99.jpg)'
  id: totrans-562
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_11_99.jpg)'
- en: 'Figure 11.99: Creating a calculated field'
  id: totrans-563
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.99：创建计算字段
- en: 'Use the `CASE` statement so that if the user selects `Sales` measures in the
    parameter, your calculated field should show `SUM(Sales)` in the view. If the
    user selects `Profit` measures in the parameter, your calculated field should
    show `SUM(Profit)` in the view and so on. Here is the formula for the calculated
    field:'
  id: totrans-564
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用`CASE`语句，以便如果用户在参数中选择“销售额”度量，您的计算字段应在视图中显示`SUM(Sales)`。如果用户在参数中选择“利润”度量，您的计算字段应在视图中显示`SUM(Profit)`，依此类推。以下是计算字段的公式：
- en: '[PRE1]'
  id: totrans-565
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE1]'
- en: '![Figure 11.100: Case statement calculated field for the measure parameter'
  id: totrans-566
  prefs: []
  type: TYPE_NORMAL
  zh: '![图11.100：度量参数的`CASE`语句计算字段'
- en: '](img/B16342_11_100.jpg)'
  id: totrans-567
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_11_100.jpg)'
- en: 'Figure 11.100: Case statement calculated field for the measure parameter'
  id: totrans-568
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.100：度量参数的`CASE`语句计算字段
- en: 'Repeat the same step for the `Dimension Parameter` calculated field with the
    following `CASE` statement:'
  id: totrans-569
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对计算字段“维度参数”重复相同的步骤，使用以下`CASE`语句：
- en: '[PRE2]'
  id: totrans-570
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE2]'
- en: '![Figure 11.101: Case statement calculated field for Dimension Parameter'
  id: totrans-571
  prefs: []
  type: TYPE_NORMAL
  zh: '![图11.101：维度参数的`CASE`语句计算字段'
- en: '](img/B16342_11_101.jpg)'
  id: totrans-572
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_11_101.jpg)'
- en: 'Figure 11.101: Case statement calculated field for Dimension Parameter'
  id: totrans-573
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.101：维度参数的`CASE`语句计算字段
- en: 'The next step is to create a view with calculated fields as well as using two
    of our parameters: Drag `Dimension Parameter` as well as `Measure Parameter` to
    the `Rows` shelf. Next, drag `Order Date` to `Columns` and change the date dimension
    to `Continuous` date by quarter. The view that you see is pre-selected based on
    the *current value* that you selected when creating the parameter. You had `Sales`
    for the `{Select Your Measure}` parameter and `Segment` for the `{Select Your
    Dimension}` parameter. So, your current view is the quarterly trend of `Sales`
    by `Segment`.'
  id: totrans-574
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Figure 11.102: Parameter view with default parameters selected'
  id: totrans-575
  prefs: []
  type: TYPE_NORMAL
- en: '](img/B16342_11_102.jpg)'
  id: totrans-576
  prefs: []
  type: TYPE_NORMAL
- en: 'Figure 11.102: Parameter view with default parameters selected'
  id: totrans-577
  prefs: []
  type: TYPE_NORMAL
- en: 'The final step is to allow your end users to control the measure as well as
    the dimension in the view. Right-click on the parameter that you created and click
    on `Show Parameter Control`. Repeat the step for the other parameter:'
  id: totrans-578
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Figure 11.103: Show Parameter Control'
  id: totrans-579
  prefs: []
  type: TYPE_NORMAL
- en: '](img/B16342_11_103.jpg)'
  id: totrans-580
  prefs: []
  type: TYPE_NORMAL
- en: 'Figure 11.103: Show Parameter Control'
  id: totrans-581
  prefs: []
  type: TYPE_NORMAL
- en: 'Add the parameter control to your view, so that the end users have the ability
    to choose the dimension/measure of their choice. Here are two views with a different
    combination of dimensions and measures:'
  id: totrans-582
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '**Profit by Category**:'
  id: totrans-583
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 11.104 Profit by Category parametric view'
  id: totrans-584
  prefs: []
  type: TYPE_NORMAL
- en: '](img/B16342_11_104.jpg)'
  id: totrans-585
  prefs: []
  type: TYPE_NORMAL
- en: Figure 11.104 Profit by Category parametric view
  id: totrans-586
  prefs: []
  type: TYPE_NORMAL
- en: '**Quantity by Segment**:'
  id: totrans-587
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 11.105: Quantity by Segment parametric view'
  id: totrans-588
  prefs: []
  type: TYPE_NORMAL
- en: '](img/B16342_11_105.jpg)'
  id: totrans-589
  prefs: []
  type: TYPE_NORMAL
- en: 'Figure 11.105: Quantity by Segment parametric view'
  id: totrans-590
  prefs: []
  type: TYPE_NORMAL
- en: 'As an end user, it can be confusing to look at different combinations because
    the line graph or graph view does not show which dimension/measure is part of
    the view. Though you have the dropdowns, to make it easier for end users, you
    can also include the callout in your title by creating a dynamic title that is
    updated along with the dimension in the view. Edit the title by double-clicking
    on the worksheet title and that opens up the `Edit Title` window as shown here:'
  id: totrans-591
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 11.106: Editing the title'
  id: totrans-592
  prefs: []
  type: TYPE_NORMAL
- en: '](img/B16342_11_106.jpg)'
  id: totrans-593
  prefs: []
  type: TYPE_NORMAL
- en: 'Figure 11.106: Editing the title'
  id: totrans-594
  prefs: []
  type: TYPE_NORMAL
- en: 'The preceding formula uses dynamic variables. In particular, `<Parameters.Select
    Your Dimension>` is dynamic such that, when you change the parameter from the
    dropdown in the worksheet, the title will be automatically updated. You don''t
    have to type the exact variable; you can insert these variables by clicking on
    `Insert` in the top right-hand corner of the window as shown here:'
  id: totrans-595
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 11.107: Inserting a dynamic variable in the title'
  id: totrans-596
  prefs: []
  type: TYPE_NORMAL
- en: '](img/B16342_11_107.jpg)'
  id: totrans-597
  prefs: []
  type: TYPE_NORMAL
- en: 'Figure 11.107: Inserting a dynamic variable in the title'
  id: totrans-598
  prefs: []
  type: TYPE_NORMAL
- en: 'Here is the final output that you aimed for:'
  id: totrans-599
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 11.108: Parameter final view with parameter control'
  id: totrans-600
  prefs: []
  type: TYPE_NORMAL
- en: '](img/B16342_11_108.jpg)'
  id: totrans-601
  prefs: []
  type: TYPE_NORMAL
- en: 'Figure 11.108: Parameter final view with parameter control'
  id: totrans-602
  prefs: []
  type: TYPE_NORMAL
- en: In this exercise, you learned what parameters are and how to use them in combination
    with calculated fields to create a dynamic worksheet where the end users have
    complete control over which dimension/measures they want the report view to be
    part of. The skills imparted in this section will go a long way toward growing
    your advanced knowledge and expertise in Tableau.
  id: totrans-603
  prefs: []
  type: TYPE_NORMAL
- en: Dynamic Parameters
  id: totrans-604
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'Dynamic parameters was one of the most requested features in the Tableau Community
    forum, and the Tableau developers shipped the feature in the Tableau 2020.1 version
    in February 2020\. Prior to Tableau version 2020.1, standard parameters had a
    specific limitation: When the data was updated with new entries (specifically
    dates), the parameters list/members were not updated. This meant that Tableau
    authors had to manually refresh the parameter list every time the data source
    was updated, which, depending on the frequency of the updates, could be very time-consuming.
    Dynamic parameters overcame that. With these, you can also allow your parameters
    to automatically choose the most recent date, which wasn''t possible previously.
    Let''s explore how this works with the help of an exercise.'
  id: totrans-605
  prefs: []
  type: TYPE_NORMAL
- en: 'Exercise 11.15: Dynamic Parameters'
  id: totrans-606
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: In this exercise, you will be using new dummy data to see what parameters looked
    like in previous versions of Tableau (2019.4 or earlier). You'll then follow the
    steps outlined below to use the new parameters to automatically update the parameter
    list as and when the data source is updated.
  id: totrans-607
  prefs: []
  type: TYPE_NORMAL
- en: Note
  id: totrans-608
  prefs: []
  type: TYPE_NORMAL
- en: A screenshot of the previous version of Tableau has been included; however,
    you might not have that option. The goal is to communicate the point about static
    versus dynamic parameters, so you don't need to have two versions of Tableau installed.
    This exercise will stick with Tableau 2020.1 or later versions.
  id: totrans-609
  prefs: []
  type: TYPE_NORMAL
- en: 'Perform the following steps to complete this exercise:'
  id: totrans-610
  prefs: []
  type: TYPE_NORMAL
- en: '`DynamicParameters.csv` file in Tableau. Create a parameter, and set `Data
    type` as `Date` and `Allowable values` as `List`, and instead of manually adding
    these dates, use `Add from Field` and the `Date` column to pre-populate the list
    of values as shown here:'
  id: totrans-611
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Figure 11.109: Dynamic parameters – adding from a field'
  id: totrans-612
  prefs: []
  type: TYPE_NORMAL
- en: '](img/B16342_11_109.jpg)'
  id: totrans-613
  prefs: []
  type: TYPE_NORMAL
- en: 'Figure 11.109: Dynamic parameters – adding from a field'
  id: totrans-614
  prefs: []
  type: TYPE_NORMAL
- en: This method, as discussed previously, is pretty static. If new data is added
    with new dates, the parameter won't automatically pre-populate `List of Values`
    to include the new dates as part of the updated data source, which was a limitation
    in previous versions of Tableau.
  id: totrans-615
  prefs: []
  type: TYPE_NORMAL
- en: '`DynamicParameters.csv` file in Tableau, create a parameter, and set `Data
    type` as `Date` and `Allowable values` as `List`. Note that, as soon as you select
    `List`, unlike previous versions of Tableau, Tableau 2020.1 has two options:'
  id: totrans-616
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '`Fixed`: This is where you can pre-populate the list from a field as you did
    in the previous old date parameter.'
  id: totrans-617
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '`When Workbook Opens`: This is dynamic option wherein the list will be pre-populated
    from the `Date` field, but instead of a fixed list, the list will get updated
    whenever new data is updated/added.'
  id: totrans-618
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`When Workbook Opens`：这是一个动态选项，其中列表将预先从 `Date` 字段填充，但列表将根据新数据的更新/添加而更新。'
- en: '![Figure 11.110: Dynamic parameters in Tableau 2020.1 and above'
  id: totrans-619
  prefs: []
  type: TYPE_NORMAL
  zh: '![Figure 11.110: Tableau 2020.1 及以上版本的动态参数'
- en: '](img/B16342_11_110.jpg)'
  id: totrans-620
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_11_110.jpg)'
- en: 'Figure 11.110: Dynamic parameters in Tableau 2020.1 and above'
  id: totrans-621
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11.110：Tableau 2020.1 及以上版本的动态参数
- en: 'In the preceding screenshot, the last date is 5/2/2020\. Open the `DynamicParameters.csv`
    spreadsheet in a tool of your choice (non-Tableau) and add a new row, `Date: 5/3/2020
    and Sales: 80`. Save the file as shown here:'
  id: totrans-622
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '在前面的屏幕截图中，最后日期是 5/2/2020。使用您选择的工具（非 Tableau）打开 `DynamicParameters.csv` 电子表格，并添加一行，`Date:
    5/3/2020 and Sales: 80`。按照以下所示保存文件：'
- en: '![Figure 11.111: CSV data from DynamicParameters.csv'
  id: totrans-623
  prefs: []
  type: TYPE_NORMAL
  zh: '![Figure 11.111: DynamicParameters.csv 的 CSV 数据'
- en: '](img/B16342_11_111.jpg)'
  id: totrans-624
  prefs: []
  type: TYPE_NORMAL
  zh: '![img/B16342_11_111.jpg]'
- en: 'Figure 11.111: CSV data from DynamicParameters.csv'
  id: totrans-625
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11.111：DynamicParameters.csv 的 CSV 数据
- en: To check whether the new date was added or not, close your Tableau workbook
    (make sure you save it first, though). Then, re-open the workbook and edit `New
    Date Parameter` to confirm whether the new date was appended to the list of values
    in the parameter. As you can see from the following screenshot, May 3, 2020, was
    automatically added to the list of values in the parameter.
  id: totrans-626
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要检查是否添加了新日期，请关闭您的 Tableau 工作簿（确保首先保存它）。然后，重新打开工作簿并编辑 `New Date Parameter` 以确认新日期是否已附加到参数的值列表中。如以下屏幕截图所示，2020
    年 5 月 3 日已自动添加到参数的值列表中。
- en: '![Figure 11.112: Dynamic parameters using When workbook opens'
  id: totrans-627
  prefs: []
  type: TYPE_NORMAL
  zh: '![Figure 11.112: 使用当工作簿打开时的动态参数'
- en: '](img/B16342_11_112.jpg)'
  id: totrans-628
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16342_11_112.jpg)'
- en: 'Figure 11.112: Dynamic parameters using When workbook opens'
  id: totrans-629
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11.112：使用当工作簿打开时的动态参数
- en: In this exercise, you reviewed the major differences between dynamic parameters
    and static parameters and saw how dynamic parameters automatically update the
    list of allowable values alongside the data source update.
  id: totrans-630
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个练习中，你回顾了动态参数和静态参数的主要区别，并看到了动态参数如何自动更新允许值列表，以与数据源更新同步。
- en: In the last section of this chapter, you will put all you have learned about
    Tableau's advanced interactivity features into practice with a real-world scenario.
  id: totrans-631
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章的最后部分，你将把你在 Tableau 的高级交互功能中学到的所有知识应用到实际场景中。
- en: 'Activity 11.01: Top N Countries Using Parameters, Sets, and Filters'
  id: totrans-632
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 活动 11.01：使用参数、集合和过滤器的前 N 个国家
- en: As part of the annual hackathon in the company, each team is required to utilize
    the World Indicators dataset to showcase the top 5 countries according to certain
    metrics. You decide to show the top N countries by energy usage and also give
    end users the ability to change the N from 5 to 10, 15, or 20 for ease of use.
    You will create an interactive view of the World Indicators dataset using sets,
    context filters, and parameters in this activity.
  id: totrans-633
  prefs: []
  type: TYPE_NORMAL
  zh: 作为公司年度黑客马拉松的一部分，每个团队都需要利用 World Indicators 数据集来展示根据某些指标排名前 5 的国家。你决定通过能源使用情况展示前
    N 个国家，并允许最终用户将 N 从 5 改变为 10、15 或 20 以便于使用。你将在本活动中使用集合、上下文过滤器和参数创建 World Indicators
    数据集的交互视图。
- en: By the end of this activity, you will have created an interesting view by utilizing
    all the major topics covered in this chapter, with a special focus on context
    filters and end user interactivity.
  id: totrans-634
  prefs: []
  type: TYPE_NORMAL
  zh: 在本活动的结束时，你将通过利用本章涵盖的所有主要主题来创建一个有趣的视图，特别关注上下文过滤器和最终用户交互性。
- en: Connect to the `WorldIndicators.hyper` dataset downloaded from the project/book
    folder in Tableau.
  id: totrans-635
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 连接到从项目/书籍文件夹中下载的 `WorldIndicators.hyper` 数据集。
- en: Create a bar chart of `Country/Region` by `Energy Usage`.
  id: totrans-636
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个按 `Energy Usage` 的 `Country/Region` 的条形图。
- en: Create a `Top N Countries` parameter with 5, 10, 15, and 20 as list values.
  id: totrans-637
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个具有 5、10、15 和 20 作为列表值的 `Top N Countries` 参数。
- en: Create a set called `Top N by Energy Usage` and use the `Top N Countries` parameter
    for user interactivity.
  id: totrans-638
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个名为 `Top N by Energy Usage` 的集合，并使用 `Top N Countries` 参数实现用户交互性。
- en: Drag the `Top N by Energy Usage` set to the `Color` `Marks` shelf.
  id: totrans-639
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将 `Top N by Energy Usage` 集合拖动到 `Color` `Marks` 面板上。
- en: Show `Year[Year]` as a single drop-down filter.
  id: totrans-640
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将 `Year[Year]` 显示为单个下拉过滤器。
- en: 'Make sure the `Year` filter updates the list of *top N countries* by their
    energy usage. **Hint**: context filters.'
  id: totrans-641
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确保更新 `Year` 过滤器以根据能源使用情况更新 `top N countries` 的列表。**提示**：上下文过滤器。
- en: Make the title dynamic, so when the `Top N Countries` parameter and the `Year`
    filter are updated, the title should appropriately reflect the changes. For example,
    if the user selects the top 10 countries for the year 2010, the title should be
    *Top 10 countries by their energy usage for the year 2010*.
  id: totrans-642
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使标题动态化，以便当“Top N Countries”参数和“Year”过滤器更新时，标题应相应地反映这些变化。例如，如果用户选择了2010年的前10个国家，标题应该是*2010年能源使用量前10个国家*。
- en: 'The final expected output is as follows:'
  id: totrans-643
  prefs: []
  type: TYPE_NORMAL
  zh: 最终预期输出如下：
- en: '![Figure 11.113: Activity final output'
  id: totrans-644
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 11.113：活动最终输出]'
- en: '](img/B16342_11_113.jpg)'
  id: totrans-645
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片 B16342_11_113.jpg]'
- en: 'Figure 11.113: Activity final output'
  id: totrans-646
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 11.113：活动最终输出]'
- en: Note
  id: totrans-647
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: 'The solution to this activity can be found here: [https://packt.link/CTCxk](https://packt.link/CTCxk).'
  id: totrans-648
  prefs: []
  type: TYPE_NORMAL
  zh: 本活动的解决方案可在此处找到：[https://packt.link/CTCxk](https://packt.link/CTCxk)。
- en: Summary
  id: totrans-649
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: This chapter considered a number of advanced interactivity features in Tableau.
    We looked closely at the order of operations in Tableau, which is one of the most
    important concepts to master in Tableau if we want to create an efficient report
    for our stakeholders. We also discussed filters, sets, groups, and hierarchies,
    covered filters in depth, explored the difference between dimensions, measures,
    and date filters, and practiced using data source filters, which can be a great
    way to limit the data being loaded in your view.
  id: totrans-650
  prefs: []
  type: TYPE_NORMAL
  zh: 本章探讨了 Tableau 中的许多高级交互功能。我们仔细研究了 Tableau 中的操作顺序，这是掌握 Tableau 的最重要概念之一，如果我们想为我们的利益相关者创建一个高效的报告。我们还讨论了过滤器、集合、分组和层次结构，深入探讨了过滤器，探讨了维度、度量日期过滤器之间的区别，并练习了使用数据源过滤器，这可以是一种限制加载到您视图中的数据的好方法。
- en: 'Regarding sets, we reviewed static, dynamic, and combined sets, using the *Envelope*
    example to demo the concepts. In the section on parameters, we also defined the
    difference between static and dynamic parameters and learned one of the advanced
    use cases of parameters: dimension/measure swapping, which you can use to give
    end users the ability to choose the dimension/measures that they want to include
    in the view.'
  id: totrans-651
  prefs: []
  type: TYPE_NORMAL
  zh: 关于集合，我们回顾了静态、动态和组合集合，使用“*Envelope*”示例来演示这些概念。在参数部分，我们还定义了静态和动态参数之间的区别，并学习了参数的一个高级用例：维度/度量交换，您可以使用它来给最终用户提供选择他们想要包含在视图中的维度/度量的能力。
- en: We wrapped up the chapter by working through an activity utilizing the World
    Indicators dataset. Here, you created a complex view using sets, context filters,
    and parameters, which in a way resembled a real-world scenario that you might
    face in your data job.
  id: totrans-652
  prefs: []
  type: TYPE_NORMAL
  zh: 我们通过使用世界指标数据集的活动来结束本章。在这里，您使用集合、上下文过滤器和参数创建了一个复杂视图，这在某种程度上类似于您在数据工作中可能遇到的真实场景。
- en: This concludes the print copy of this book, but it is not the end of your journey.
    Visit [https://packt.link/SHQ4H](https://packt.link/SHQ4H) for a further three
    chapters, covering such topics as tips and tools for increased interactivity (Part
    2 of this lesson), dashboard distribution, and even a case study regarding the
    utilization of multiple data sources and the practical implementation of all the
    skills you learned throughout the course of this book.
  id: totrans-653
  prefs: []
  type: TYPE_NORMAL
  zh: 这本书的印刷版到此结束，但这并不是你旅程的终点。访问 [https://packt.link/SHQ4H](https://packt.link/SHQ4H)
    以获取接下来的三个章节，涵盖如增加交互性的技巧和工具（本课程的第二部分）、仪表板分发，甚至有关利用多个数据源和本书学习过程中所学技能的实际应用的案例研究。
